"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-pages-browser_node_modules_stagewise_toolbar-react_dist_index_js"],{

/***/ "(app-pages-browser)/./node_modules/@stagewise/toolbar-react/dist/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/@stagewise/toolbar-react/dist/index.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StagewiseToolbar: () => (/* binding */ StagewiseToolbar)\n/* harmony export */ });\n/* harmony import */ var _stagewise_toolbar__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stagewise/toolbar */ \"(app-pages-browser)/./node_modules/@stagewise/toolbar/dist/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n\n\nfunction StagewiseToolbar({ config }) {\n  const isLoaded = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    if (isLoaded.current) return;\n    isLoaded.current = true;\n    (0,_stagewise_toolbar__WEBPACK_IMPORTED_MODULE_0__.initToolbar)(config);\n  }, [config]);\n  return null;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhZ2V3aXNlL3Rvb2xiYXItcmVhY3QvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBaUQ7QUFDUDtBQUMxQyw0QkFBNEIsUUFBUTtBQUNwQyxtQkFBbUIsNkNBQU07QUFDekIsRUFBRSxnREFBUztBQUNYO0FBQ0E7QUFDQSxJQUFJLCtEQUFXO0FBQ2YsR0FBRztBQUNIO0FBQ0E7QUFHRSIsInNvdXJjZXMiOlsiL1VzZXJzL2RhdXJlbnpodW51c3Nvdi9mcm9udGVuZC9ub2RlX21vZHVsZXMvQHN0YWdld2lzZS90b29sYmFyLXJlYWN0L2Rpc3QvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaW5pdFRvb2xiYXIgfSBmcm9tIFwiQHN0YWdld2lzZS90b29sYmFyXCI7XG5pbXBvcnQgeyB1c2VSZWYsIHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gU3RhZ2V3aXNlVG9vbGJhcih7IGNvbmZpZyB9KSB7XG4gIGNvbnN0IGlzTG9hZGVkID0gdXNlUmVmKGZhbHNlKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNMb2FkZWQuY3VycmVudCkgcmV0dXJuO1xuICAgIGlzTG9hZGVkLmN1cnJlbnQgPSB0cnVlO1xuICAgIGluaXRUb29sYmFyKGNvbmZpZyk7XG4gIH0sIFtjb25maWddKTtcbiAgcmV0dXJuIG51bGw7XG59XG5leHBvcnQge1xuICBTdGFnZXdpc2VUb29sYmFyXG59O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stagewise/toolbar-react/dist/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stagewise/toolbar/dist/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/@stagewise/toolbar/dist/index.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initToolbar: () => (/* binding */ initToolbar)\n/* harmony export */ });\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\");\nvar n$4, l$4, u$a, i$8, r$5, o$9, e$5, f$9, c$7, s$9, a$b, h$6, p$4 = {}, y$7 = [], v$3 = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i, w$5 = Array.isArray;\nfunction d$5(n2, l2) {\n  for (var u2 in l2) n2[u2] = l2[u2];\n  return n2;\n}\nfunction g$4(n2) {\n  n2 && n2.parentNode && n2.parentNode.removeChild(n2);\n}\nfunction _$4(l2, u2, t2) {\n  var i2, r2, o3, e2 = {};\n  for (o3 in u2) \"key\" == o3 ? i2 = u2[o3] : \"ref\" == o3 ? r2 = u2[o3] : e2[o3] = u2[o3];\n  if (arguments.length > 2 && (e2.children = arguments.length > 3 ? n$4.call(arguments, 2) : t2), \"function\" == typeof l2 && null != l2.defaultProps) for (o3 in l2.defaultProps) null == e2[o3] && (e2[o3] = l2.defaultProps[o3]);\n  return m$6(l2, e2, i2, r2, null);\n}\nfunction m$6(n2, t2, i2, r2, o3) {\n  var e2 = { type: n2, props: t2, key: i2, ref: r2, __k: null, __: null, __b: 0, __e: null, __c: null, constructor: void 0, __v: null == o3 ? ++u$a : o3, __i: -1, __u: 0 };\n  return null == o3 && null != l$4.vnode && l$4.vnode(e2), e2;\n}\nfunction b$5() {\n  return { current: null };\n}\nfunction k$3(n2) {\n  return n2.children;\n}\nfunction x$5(n2, l2) {\n  this.props = n2, this.context = l2;\n}\nfunction S$5(n2, l2) {\n  if (null == l2) return n2.__ ? S$5(n2.__, n2.__i + 1) : null;\n  for (var u2; l2 < n2.__k.length; l2++) if (null != (u2 = n2.__k[l2]) && null != u2.__e) return u2.__e;\n  return \"function\" == typeof n2.type ? S$5(n2) : null;\n}\nfunction C$5(n2) {\n  var l2, u2;\n  if (null != (n2 = n2.__) && null != n2.__c) {\n    for (n2.__e = n2.__c.base = null, l2 = 0; l2 < n2.__k.length; l2++) if (null != (u2 = n2.__k[l2]) && null != u2.__e) {\n      n2.__e = n2.__c.base = u2.__e;\n      break;\n    }\n    return C$5(n2);\n  }\n}\nfunction M$4(n2) {\n  (!n2.__d && (n2.__d = true) && i$8.push(n2) && !$$2.__r++ || r$5 != l$4.debounceRendering) && ((r$5 = l$4.debounceRendering) || o$9)($$2);\n}\nfunction $$2() {\n  for (var n2, u2, t2, r2, o3, f2, c2, s2 = 1; i$8.length; ) i$8.length > s2 && i$8.sort(e$5), n2 = i$8.shift(), s2 = i$8.length, n2.__d && (t2 = void 0, o3 = (r2 = (u2 = n2).__v).__e, f2 = [], c2 = [], u2.__P && ((t2 = d$5({}, r2)).__v = r2.__v + 1, l$4.vnode && l$4.vnode(t2), O$3(u2.__P, t2, r2, u2.__n, u2.__P.namespaceURI, 32 & r2.__u ? [o3] : null, f2, null == o3 ? S$5(r2) : o3, !!(32 & r2.__u), c2), t2.__v = r2.__v, t2.__.__k[t2.__i] = t2, z$3(f2, t2, c2), t2.__e != o3 && C$5(t2)));\n  $$2.__r = 0;\n}\nfunction I$4(n2, l2, u2, t2, i2, r2, o3, e2, f2, c2, s2) {\n  var a3, h2, v2, w2, d2, g2, _2 = t2 && t2.__k || y$7, m2 = l2.length;\n  for (f2 = P$6(u2, l2, _2, f2, m2), a3 = 0; a3 < m2; a3++) null != (v2 = u2.__k[a3]) && (h2 = -1 == v2.__i ? p$4 : _2[v2.__i] || p$4, v2.__i = a3, g2 = O$3(n2, v2, h2, i2, r2, o3, e2, f2, c2, s2), w2 = v2.__e, v2.ref && h2.ref != v2.ref && (h2.ref && q$4(h2.ref, null, v2), s2.push(v2.ref, v2.__c || w2, v2)), null == d2 && null != w2 && (d2 = w2), 4 & v2.__u || h2.__k === v2.__k ? f2 = A$4(v2, f2, n2) : \"function\" == typeof v2.type && void 0 !== g2 ? f2 = g2 : w2 && (f2 = w2.nextSibling), v2.__u &= -7);\n  return u2.__e = d2, f2;\n}\nfunction P$6(n2, l2, u2, t2, i2) {\n  var r2, o3, e2, f2, c2, s2 = u2.length, a3 = s2, h2 = 0;\n  for (n2.__k = new Array(i2), r2 = 0; r2 < i2; r2++) null != (o3 = l2[r2]) && \"boolean\" != typeof o3 && \"function\" != typeof o3 ? (f2 = r2 + h2, (o3 = n2.__k[r2] = \"string\" == typeof o3 || \"number\" == typeof o3 || \"bigint\" == typeof o3 || o3.constructor == String ? m$6(null, o3, null, null, null) : w$5(o3) ? m$6(k$3, { children: o3 }, null, null, null) : null == o3.constructor && o3.__b > 0 ? m$6(o3.type, o3.props, o3.key, o3.ref ? o3.ref : null, o3.__v) : o3).__ = n2, o3.__b = n2.__b + 1, e2 = null, -1 != (c2 = o3.__i = L$4(o3, u2, f2, a3)) && (a3--, (e2 = u2[c2]) && (e2.__u |= 2)), null == e2 || null == e2.__v ? (-1 == c2 && (i2 > s2 ? h2-- : i2 < s2 && h2++), \"function\" != typeof o3.type && (o3.__u |= 4)) : c2 != f2 && (c2 == f2 - 1 ? h2-- : c2 == f2 + 1 ? h2++ : (c2 > f2 ? h2-- : h2++, o3.__u |= 4))) : n2.__k[r2] = null;\n  if (a3) for (r2 = 0; r2 < s2; r2++) null != (e2 = u2[r2]) && 0 == (2 & e2.__u) && (e2.__e == t2 && (t2 = S$5(e2)), B$3(e2, e2));\n  return t2;\n}\nfunction A$4(n2, l2, u2) {\n  var t2, i2;\n  if (\"function\" == typeof n2.type) {\n    for (t2 = n2.__k, i2 = 0; t2 && i2 < t2.length; i2++) t2[i2] && (t2[i2].__ = n2, l2 = A$4(t2[i2], l2, u2));\n    return l2;\n  }\n  n2.__e != l2 && (l2 && n2.type && !u2.contains(l2) && (l2 = S$5(n2)), u2.insertBefore(n2.__e, l2 || null), l2 = n2.__e);\n  do {\n    l2 = l2 && l2.nextSibling;\n  } while (null != l2 && 8 == l2.nodeType);\n  return l2;\n}\nfunction H$6(n2, l2) {\n  return l2 = l2 || [], null == n2 || \"boolean\" == typeof n2 || (w$5(n2) ? n2.some(function(n3) {\n    H$6(n3, l2);\n  }) : l2.push(n2)), l2;\n}\nfunction L$4(n2, l2, u2, t2) {\n  var i2, r2, o3 = n2.key, e2 = n2.type, f2 = l2[u2];\n  if (null === f2 && null == n2.key || f2 && o3 == f2.key && e2 == f2.type && 0 == (2 & f2.__u)) return u2;\n  if (t2 > (null != f2 && 0 == (2 & f2.__u) ? 1 : 0)) for (i2 = u2 - 1, r2 = u2 + 1; i2 >= 0 || r2 < l2.length; ) {\n    if (i2 >= 0) {\n      if ((f2 = l2[i2]) && 0 == (2 & f2.__u) && o3 == f2.key && e2 == f2.type) return i2;\n      i2--;\n    }\n    if (r2 < l2.length) {\n      if ((f2 = l2[r2]) && 0 == (2 & f2.__u) && o3 == f2.key && e2 == f2.type) return r2;\n      r2++;\n    }\n  }\n  return -1;\n}\nfunction T$6(n2, l2, u2) {\n  \"-\" == l2[0] ? n2.setProperty(l2, null == u2 ? \"\" : u2) : n2[l2] = null == u2 ? \"\" : \"number\" != typeof u2 || v$3.test(l2) ? u2 : u2 + \"px\";\n}\nfunction j$5(n2, l2, u2, t2, i2) {\n  var r2;\n  n: if (\"style\" == l2) if (\"string\" == typeof u2) n2.style.cssText = u2;\n  else {\n    if (\"string\" == typeof t2 && (n2.style.cssText = t2 = \"\"), t2) for (l2 in t2) u2 && l2 in u2 || T$6(n2.style, l2, \"\");\n    if (u2) for (l2 in u2) t2 && u2[l2] == t2[l2] || T$6(n2.style, l2, u2[l2]);\n  }\n  else if (\"o\" == l2[0] && \"n\" == l2[1]) r2 = l2 != (l2 = l2.replace(f$9, \"$1\")), l2 = l2.toLowerCase() in n2 || \"onFocusOut\" == l2 || \"onFocusIn\" == l2 ? l2.toLowerCase().slice(2) : l2.slice(2), n2.l || (n2.l = {}), n2.l[l2 + r2] = u2, u2 ? t2 ? u2.u = t2.u : (u2.u = c$7, n2.addEventListener(l2, r2 ? a$b : s$9, r2)) : n2.removeEventListener(l2, r2 ? a$b : s$9, r2);\n  else {\n    if (\"http://www.w3.org/2000/svg\" == i2) l2 = l2.replace(/xlink(H|:h)/, \"h\").replace(/sName$/, \"s\");\n    else if (\"width\" != l2 && \"height\" != l2 && \"href\" != l2 && \"list\" != l2 && \"form\" != l2 && \"tabIndex\" != l2 && \"download\" != l2 && \"rowSpan\" != l2 && \"colSpan\" != l2 && \"role\" != l2 && \"popover\" != l2 && l2 in n2) try {\n      n2[l2] = null == u2 ? \"\" : u2;\n      break n;\n    } catch (n3) {\n    }\n    \"function\" == typeof u2 || (null == u2 || false === u2 && \"-\" != l2[4] ? n2.removeAttribute(l2) : n2.setAttribute(l2, \"popover\" == l2 && 1 == u2 ? \"\" : u2));\n  }\n}\nfunction F$6(n2) {\n  return function(u2) {\n    if (this.l) {\n      var t2 = this.l[u2.type + n2];\n      if (null == u2.t) u2.t = c$7++;\n      else if (u2.t < t2.u) return;\n      return t2(l$4.event ? l$4.event(u2) : u2);\n    }\n  };\n}\nfunction O$3(n2, u2, t2, i2, r2, o3, e2, f2, c2, s2) {\n  var a3, h2, p2, y2, v2, _2, m2, b2, S2, C2, M2, $2, P2, A2, H2, L2, T2, j2 = u2.type;\n  if (null != u2.constructor) return null;\n  128 & t2.__u && (c2 = !!(32 & t2.__u), o3 = [f2 = u2.__e = t2.__e]), (a3 = l$4.__b) && a3(u2);\n  n: if (\"function\" == typeof j2) try {\n    if (b2 = u2.props, S2 = \"prototype\" in j2 && j2.prototype.render, C2 = (a3 = j2.contextType) && i2[a3.__c], M2 = a3 ? C2 ? C2.props.value : a3.__ : i2, t2.__c ? m2 = (h2 = u2.__c = t2.__c).__ = h2.__E : (S2 ? u2.__c = h2 = new j2(b2, M2) : (u2.__c = h2 = new x$5(b2, M2), h2.constructor = j2, h2.render = D$3), C2 && C2.sub(h2), h2.props = b2, h2.state || (h2.state = {}), h2.context = M2, h2.__n = i2, p2 = h2.__d = true, h2.__h = [], h2._sb = []), S2 && null == h2.__s && (h2.__s = h2.state), S2 && null != j2.getDerivedStateFromProps && (h2.__s == h2.state && (h2.__s = d$5({}, h2.__s)), d$5(h2.__s, j2.getDerivedStateFromProps(b2, h2.__s))), y2 = h2.props, v2 = h2.state, h2.__v = u2, p2) S2 && null == j2.getDerivedStateFromProps && null != h2.componentWillMount && h2.componentWillMount(), S2 && null != h2.componentDidMount && h2.__h.push(h2.componentDidMount);\n    else {\n      if (S2 && null == j2.getDerivedStateFromProps && b2 !== y2 && null != h2.componentWillReceiveProps && h2.componentWillReceiveProps(b2, M2), !h2.__e && null != h2.shouldComponentUpdate && false === h2.shouldComponentUpdate(b2, h2.__s, M2) || u2.__v == t2.__v) {\n        for (u2.__v != t2.__v && (h2.props = b2, h2.state = h2.__s, h2.__d = false), u2.__e = t2.__e, u2.__k = t2.__k, u2.__k.some(function(n3) {\n          n3 && (n3.__ = u2);\n        }), $2 = 0; $2 < h2._sb.length; $2++) h2.__h.push(h2._sb[$2]);\n        h2._sb = [], h2.__h.length && e2.push(h2);\n        break n;\n      }\n      null != h2.componentWillUpdate && h2.componentWillUpdate(b2, h2.__s, M2), S2 && null != h2.componentDidUpdate && h2.__h.push(function() {\n        h2.componentDidUpdate(y2, v2, _2);\n      });\n    }\n    if (h2.context = M2, h2.props = b2, h2.__P = n2, h2.__e = false, P2 = l$4.__r, A2 = 0, S2) {\n      for (h2.state = h2.__s, h2.__d = false, P2 && P2(u2), a3 = h2.render(h2.props, h2.state, h2.context), H2 = 0; H2 < h2._sb.length; H2++) h2.__h.push(h2._sb[H2]);\n      h2._sb = [];\n    } else do {\n      h2.__d = false, P2 && P2(u2), a3 = h2.render(h2.props, h2.state, h2.context), h2.state = h2.__s;\n    } while (h2.__d && ++A2 < 25);\n    h2.state = h2.__s, null != h2.getChildContext && (i2 = d$5(d$5({}, i2), h2.getChildContext())), S2 && !p2 && null != h2.getSnapshotBeforeUpdate && (_2 = h2.getSnapshotBeforeUpdate(y2, v2)), L2 = a3, null != a3 && a3.type === k$3 && null == a3.key && (L2 = N$2(a3.props.children)), f2 = I$4(n2, w$5(L2) ? L2 : [L2], u2, t2, i2, r2, o3, e2, f2, c2, s2), h2.base = u2.__e, u2.__u &= -161, h2.__h.length && e2.push(h2), m2 && (h2.__E = h2.__ = null);\n  } catch (n3) {\n    if (u2.__v = null, c2 || null != o3) if (n3.then) {\n      for (u2.__u |= c2 ? 160 : 128; f2 && 8 == f2.nodeType && f2.nextSibling; ) f2 = f2.nextSibling;\n      o3[o3.indexOf(f2)] = null, u2.__e = f2;\n    } else for (T2 = o3.length; T2--; ) g$4(o3[T2]);\n    else u2.__e = t2.__e, u2.__k = t2.__k;\n    l$4.__e(n3, u2, t2);\n  }\n  else null == o3 && u2.__v == t2.__v ? (u2.__k = t2.__k, u2.__e = t2.__e) : f2 = u2.__e = V$2(t2.__e, u2, t2, i2, r2, o3, e2, c2, s2);\n  return (a3 = l$4.diffed) && a3(u2), 128 & u2.__u ? void 0 : f2;\n}\nfunction z$3(n2, u2, t2) {\n  for (var i2 = 0; i2 < t2.length; i2++) q$4(t2[i2], t2[++i2], t2[++i2]);\n  l$4.__c && l$4.__c(u2, n2), n2.some(function(u3) {\n    try {\n      n2 = u3.__h, u3.__h = [], n2.some(function(n3) {\n        n3.call(u3);\n      });\n    } catch (n3) {\n      l$4.__e(n3, u3.__v);\n    }\n  });\n}\nfunction N$2(n2) {\n  return \"object\" != typeof n2 || null == n2 || n2.__b && n2.__b > 0 ? n2 : w$5(n2) ? n2.map(N$2) : d$5({}, n2);\n}\nfunction V$2(u2, t2, i2, r2, o3, e2, f2, c2, s2) {\n  var a3, h2, y2, v2, d2, _2, m2, b2 = i2.props, k2 = t2.props, x2 = t2.type;\n  if (\"svg\" == x2 ? o3 = \"http://www.w3.org/2000/svg\" : \"math\" == x2 ? o3 = \"http://www.w3.org/1998/Math/MathML\" : o3 || (o3 = \"http://www.w3.org/1999/xhtml\"), null != e2) {\n    for (a3 = 0; a3 < e2.length; a3++) if ((d2 = e2[a3]) && \"setAttribute\" in d2 == !!x2 && (x2 ? d2.localName == x2 : 3 == d2.nodeType)) {\n      u2 = d2, e2[a3] = null;\n      break;\n    }\n  }\n  if (null == u2) {\n    if (null == x2) return document.createTextNode(k2);\n    u2 = document.createElementNS(o3, x2, k2.is && k2), c2 && (l$4.__m && l$4.__m(t2, e2), c2 = false), e2 = null;\n  }\n  if (null == x2) b2 === k2 || c2 && u2.data == k2 || (u2.data = k2);\n  else {\n    if (e2 = e2 && n$4.call(u2.childNodes), b2 = i2.props || p$4, !c2 && null != e2) for (b2 = {}, a3 = 0; a3 < u2.attributes.length; a3++) b2[(d2 = u2.attributes[a3]).name] = d2.value;\n    for (a3 in b2) if (d2 = b2[a3], \"children\" == a3) ;\n    else if (\"dangerouslySetInnerHTML\" == a3) y2 = d2;\n    else if (!(a3 in k2)) {\n      if (\"value\" == a3 && \"defaultValue\" in k2 || \"checked\" == a3 && \"defaultChecked\" in k2) continue;\n      j$5(u2, a3, null, d2, o3);\n    }\n    for (a3 in k2) d2 = k2[a3], \"children\" == a3 ? v2 = d2 : \"dangerouslySetInnerHTML\" == a3 ? h2 = d2 : \"value\" == a3 ? _2 = d2 : \"checked\" == a3 ? m2 = d2 : c2 && \"function\" != typeof d2 || b2[a3] === d2 || j$5(u2, a3, d2, b2[a3], o3);\n    if (h2) c2 || y2 && (h2.__html == y2.__html || h2.__html == u2.innerHTML) || (u2.innerHTML = h2.__html), t2.__k = [];\n    else if (y2 && (u2.innerHTML = \"\"), I$4(\"template\" == t2.type ? u2.content : u2, w$5(v2) ? v2 : [v2], t2, i2, r2, \"foreignObject\" == x2 ? \"http://www.w3.org/1999/xhtml\" : o3, e2, f2, e2 ? e2[0] : i2.__k && S$5(i2, 0), c2, s2), null != e2) for (a3 = e2.length; a3--; ) g$4(e2[a3]);\n    c2 || (a3 = \"value\", \"progress\" == x2 && null == _2 ? u2.removeAttribute(\"value\") : null != _2 && (_2 !== u2[a3] || \"progress\" == x2 && !_2 || \"option\" == x2 && _2 != b2[a3]) && j$5(u2, a3, _2, b2[a3], o3), a3 = \"checked\", null != m2 && m2 != u2[a3] && j$5(u2, a3, m2, b2[a3], o3));\n  }\n  return u2;\n}\nfunction q$4(n2, u2, t2) {\n  try {\n    if (\"function\" == typeof n2) {\n      var i2 = \"function\" == typeof n2.__u;\n      i2 && n2.__u(), i2 && null == u2 || (n2.__u = n2(u2));\n    } else n2.current = u2;\n  } catch (n3) {\n    l$4.__e(n3, t2);\n  }\n}\nfunction B$3(n2, u2, t2) {\n  var i2, r2;\n  if (l$4.unmount && l$4.unmount(n2), (i2 = n2.ref) && (i2.current && i2.current != n2.__e || q$4(i2, null, u2)), null != (i2 = n2.__c)) {\n    if (i2.componentWillUnmount) try {\n      i2.componentWillUnmount();\n    } catch (n3) {\n      l$4.__e(n3, u2);\n    }\n    i2.base = i2.__P = null;\n  }\n  if (i2 = n2.__k) for (r2 = 0; r2 < i2.length; r2++) i2[r2] && B$3(i2[r2], u2, t2 || \"function\" != typeof n2.type);\n  t2 || g$4(n2.__e), n2.__c = n2.__ = n2.__e = void 0;\n}\nfunction D$3(n2, l2, u2) {\n  return this.constructor(n2, u2);\n}\nfunction E$3(u2, t2, i2) {\n  var r2, o3, e2, f2;\n  t2 == document && (t2 = document.documentElement), l$4.__ && l$4.__(u2, t2), o3 = (r2 = \"function\" == typeof i2) ? null : i2 && i2.__k || t2.__k, e2 = [], f2 = [], O$3(t2, u2 = (!r2 && i2 || t2).__k = _$4(k$3, null, [u2]), o3 || p$4, p$4, t2.namespaceURI, !r2 && i2 ? [i2] : o3 ? null : t2.firstChild ? n$4.call(t2.childNodes) : null, e2, !r2 && i2 ? i2 : o3 ? o3.__e : t2.firstChild, r2, f2), z$3(e2, u2, f2);\n}\nfunction G$3(n2, l2) {\n  E$3(n2, l2, G$3);\n}\nfunction J$4(l2, u2, t2) {\n  var i2, r2, o3, e2, f2 = d$5({}, l2.props);\n  for (o3 in l2.type && l2.type.defaultProps && (e2 = l2.type.defaultProps), u2) \"key\" == o3 ? i2 = u2[o3] : \"ref\" == o3 ? r2 = u2[o3] : f2[o3] = null == u2[o3] && null != e2 ? e2[o3] : u2[o3];\n  return arguments.length > 2 && (f2.children = arguments.length > 3 ? n$4.call(arguments, 2) : t2), m$6(l2.type, f2, i2 || l2.key, r2 || l2.ref, null);\n}\nfunction K$3(n2) {\n  function l2(n3) {\n    var u2, t2;\n    return this.getChildContext || (u2 = /* @__PURE__ */ new Set(), (t2 = {})[l2.__c] = this, this.getChildContext = function() {\n      return t2;\n    }, this.componentWillUnmount = function() {\n      u2 = null;\n    }, this.shouldComponentUpdate = function(n4) {\n      this.props.value != n4.value && u2.forEach(function(n5) {\n        n5.__e = true, M$4(n5);\n      });\n    }, this.sub = function(n4) {\n      u2.add(n4);\n      var l3 = n4.componentWillUnmount;\n      n4.componentWillUnmount = function() {\n        u2 && u2.delete(n4), l3 && l3.call(n4);\n      };\n    }), n3.children;\n  }\n  return l2.__c = \"__cC\" + h$6++, l2.__ = n2, l2.Provider = l2.__l = (l2.Consumer = function(n3, l3) {\n    return n3.children(l3);\n  }).contextType = l2, l2;\n}\nn$4 = y$7.slice, l$4 = { __e: function(n2, l2, u2, t2) {\n  for (var i2, r2, o3; l2 = l2.__; ) if ((i2 = l2.__c) && !i2.__) try {\n    if ((r2 = i2.constructor) && null != r2.getDerivedStateFromError && (i2.setState(r2.getDerivedStateFromError(n2)), o3 = i2.__d), null != i2.componentDidCatch && (i2.componentDidCatch(n2, t2 || {}), o3 = i2.__d), o3) return i2.__E = i2;\n  } catch (l3) {\n    n2 = l3;\n  }\n  throw n2;\n} }, u$a = 0, x$5.prototype.setState = function(n2, l2) {\n  var u2;\n  u2 = null != this.__s && this.__s != this.state ? this.__s : this.__s = d$5({}, this.state), \"function\" == typeof n2 && (n2 = n2(d$5({}, u2), this.props)), n2 && d$5(u2, n2), null != n2 && this.__v && (l2 && this._sb.push(l2), M$4(this));\n}, x$5.prototype.forceUpdate = function(n2) {\n  this.__v && (this.__e = true, n2 && this.__h.push(n2), M$4(this));\n}, x$5.prototype.render = k$3, i$8 = [], o$9 = \"function\" == typeof Promise ? Promise.prototype.then.bind(Promise.resolve()) : setTimeout, e$5 = function(n2, l2) {\n  return n2.__v.__b - l2.__v.__b;\n}, $$2.__r = 0, f$9 = /(PointerCapture)$|Capture$/i, c$7 = 0, s$9 = F$6(false), a$b = F$6(true), h$6 = 0;\nconst appStyle = '/*! tailwindcss v4.1.5 | MIT License | https://tailwindcss.com */\\n@layer properties{@supports ((-webkit-hyphens:none) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){stagewise-companion-anchor *,stagewise-companion-anchor :before,stagewise-companion-anchor :after,stagewise-companion-anchor ::backdrop{--tw-rotate-x:initial;--tw-rotate-y:initial;--tw-rotate-z:initial;--tw-skew-x:initial;--tw-skew-y:initial;--tw-border-style:solid;--tw-gradient-position:initial;--tw-gradient-from:#0000;--tw-gradient-via:#0000;--tw-gradient-to:#0000;--tw-gradient-stops:initial;--tw-gradient-via-stops:initial;--tw-gradient-from-position:0%;--tw-gradient-via-position:50%;--tw-gradient-to-position:100%;--tw-font-weight:initial;--tw-shadow:0 0 #0000;--tw-shadow-color:initial;--tw-shadow-alpha:100%;--tw-inset-shadow:0 0 #0000;--tw-inset-shadow-color:initial;--tw-inset-shadow-alpha:100%;--tw-ring-color:initial;--tw-ring-shadow:0 0 #0000;--tw-inset-ring-color:initial;--tw-inset-ring-shadow:0 0 #0000;--tw-ring-inset:initial;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-offset-shadow:0 0 #0000;--tw-blur:initial;--tw-brightness:initial;--tw-contrast:initial;--tw-grayscale:initial;--tw-hue-rotate:initial;--tw-invert:initial;--tw-opacity:initial;--tw-saturate:initial;--tw-sepia:initial;--tw-drop-shadow:initial;--tw-drop-shadow-color:initial;--tw-drop-shadow-alpha:100%;--tw-drop-shadow-size:initial;--tw-backdrop-blur:initial;--tw-backdrop-brightness:initial;--tw-backdrop-contrast:initial;--tw-backdrop-grayscale:initial;--tw-backdrop-hue-rotate:initial;--tw-backdrop-invert:initial;--tw-backdrop-opacity:initial;--tw-backdrop-saturate:initial;--tw-backdrop-sepia:initial;--tw-duration:initial}}}@layer theme{stagewise-companion-anchor,stagewise-companion-anchor{--font-sans:ui-sans-serif,system-ui,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",\"Noto Color Emoji\";--font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,\"Liberation Mono\",\"Courier New\",monospace;--color-red-600:oklch(57.7% .245 27.325);--color-green-600:oklch(62.7% .194 149.214);--color-teal-500:oklch(70.4% .14 182.503);--color-blue-500:oklch(62.3% .214 259.815);--color-blue-600:oklch(54.6% .245 262.881);--color-indigo-700:oklch(45.7% .24 277.023);--color-indigo-950:oklch(25.7% .09 281.288);--color-rose-600:oklch(58.6% .253 17.585);--color-zinc-50:oklch(98.5% 0 0);--color-zinc-100:oklch(96.7% .001 286.375);--color-zinc-500:oklch(55.2% .016 285.938);--color-zinc-600:oklch(44.2% .017 285.786);--color-zinc-700:oklch(37% .013 285.805);--color-zinc-900:oklch(21% .006 285.885);--color-zinc-950:oklch(14.1% .005 285.823);--color-black:#000;--color-white:#fff;--spacing:.25rem;--container-sm:24rem;--text-xs:.75rem;--text-xs--line-height:calc(1/.75);--text-sm:.875rem;--text-sm--line-height:calc(1.25/.875);--text-base:1rem;--text-base--line-height:calc(1.5/1);--font-weight-normal:400;--font-weight-semibold:600;--font-weight-bold:700;--radius-md:.375rem;--radius-lg:.5rem;--radius-xl:.75rem;--radius-2xl:1rem;--radius-3xl:1.5rem;--drop-shadow-xs:0 1px 1px #0000000d;--drop-shadow-md:0 3px 3px #0000001f;--drop-shadow-xl:0 9px 7px #0000001a;--animate-pulse:pulse 2s cubic-bezier(.4,0,.6,1)infinite;--blur-xs:4px;--blur-sm:8px;--blur-md:12px;--blur-lg:16px;--default-transition-duration:.15s;--default-transition-timing-function:cubic-bezier(.4,0,.2,1);--default-font-family:var(--font-sans);--default-mono-font-family:var(--font-mono);--color-background:var(--color-white);--color-foreground:var(--color-zinc-950);--color-muted-foreground:var(--color-zinc-700);--color-border:var(--color-zinc-500)}}@layer base{stagewise-companion-anchor *,stagewise-companion-anchor :after,stagewise-companion-anchor :before,stagewise-companion-anchor ::backdrop{box-sizing:border-box;border:0 solid;margin:0;padding:0}stagewise-companion-anchor ::file-selector-button{box-sizing:border-box;border:0 solid;margin:0;padding:0}:where(stagewise-companion-anchor),stagewise-companion-anchor{-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;line-height:1.5;font-family:var(--default-font-family,ui-sans-serif,system-ui,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",\"Noto Color Emoji\");font-feature-settings:var(--default-font-feature-settings,normal);font-variation-settings:var(--default-font-variation-settings,normal);-webkit-tap-highlight-color:transparent}stagewise-companion-anchor hr{height:0;color:inherit;border-top-width:1px}stagewise-companion-anchor abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}stagewise-companion-anchor h1,stagewise-companion-anchor h2,stagewise-companion-anchor h3,stagewise-companion-anchor h4,stagewise-companion-anchor h5,stagewise-companion-anchor h6{font-size:inherit;font-weight:inherit}stagewise-companion-anchor a{color:inherit;-webkit-text-decoration:inherit;-webkit-text-decoration:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}stagewise-companion-anchor b,stagewise-companion-anchor strong{font-weight:bolder}stagewise-companion-anchor code,stagewise-companion-anchor kbd,stagewise-companion-anchor samp,stagewise-companion-anchor pre{font-family:var(--default-mono-font-family,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,\"Liberation Mono\",\"Courier New\",monospace);font-feature-settings:var(--default-mono-font-feature-settings,normal);font-variation-settings:var(--default-mono-font-variation-settings,normal);font-size:1em}stagewise-companion-anchor small{font-size:80%}stagewise-companion-anchor sub,stagewise-companion-anchor sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}stagewise-companion-anchor sub{bottom:-.25em}stagewise-companion-anchor sup{top:-.5em}stagewise-companion-anchor table{text-indent:0;border-color:inherit;border-collapse:collapse}stagewise-companion-anchor :-moz-focusring{outline:auto}stagewise-companion-anchor progress{vertical-align:baseline}stagewise-companion-anchor summary{display:list-item}stagewise-companion-anchor ol,stagewise-companion-anchor ul,stagewise-companion-anchor menu{list-style:none}stagewise-companion-anchor img,stagewise-companion-anchor svg,stagewise-companion-anchor video,stagewise-companion-anchor canvas,stagewise-companion-anchor audio,stagewise-companion-anchor iframe,stagewise-companion-anchor embed,stagewise-companion-anchor object{vertical-align:middle;display:block}stagewise-companion-anchor img,stagewise-companion-anchor video{max-width:100%;height:auto}stagewise-companion-anchor button,stagewise-companion-anchor input,stagewise-companion-anchor select,stagewise-companion-anchor optgroup,stagewise-companion-anchor textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}stagewise-companion-anchor ::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}stagewise-companion-anchor :where(select:is([multiple],[size])) optgroup{font-weight:bolder}stagewise-companion-anchor :where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}stagewise-companion-anchor ::file-selector-button{margin-inline-end:4px}stagewise-companion-anchor ::-moz-placeholder{opacity:1}stagewise-companion-anchor ::placeholder{opacity:1}@supports (not (-webkit-appearance:-apple-pay-button)) or (contain-intrinsic-size:1px){stagewise-companion-anchor ::-moz-placeholder{color:currentColor}stagewise-companion-anchor ::placeholder{color:currentColor}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor ::-moz-placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}stagewise-companion-anchor ::placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}}}stagewise-companion-anchor textarea{resize:vertical}stagewise-companion-anchor ::-webkit-search-decoration{-webkit-appearance:none}stagewise-companion-anchor ::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}stagewise-companion-anchor ::-webkit-datetime-edit{display:inline-flex}stagewise-companion-anchor ::-webkit-datetime-edit-fields-wrapper{padding:0}stagewise-companion-anchor ::-webkit-datetime-edit{padding-block:0}stagewise-companion-anchor ::-webkit-datetime-edit-year-field{padding-block:0}stagewise-companion-anchor ::-webkit-datetime-edit-month-field{padding-block:0}stagewise-companion-anchor ::-webkit-datetime-edit-day-field{padding-block:0}stagewise-companion-anchor ::-webkit-datetime-edit-hour-field{padding-block:0}stagewise-companion-anchor ::-webkit-datetime-edit-minute-field{padding-block:0}stagewise-companion-anchor ::-webkit-datetime-edit-second-field{padding-block:0}stagewise-companion-anchor ::-webkit-datetime-edit-millisecond-field{padding-block:0}stagewise-companion-anchor ::-webkit-datetime-edit-meridiem-field{padding-block:0}stagewise-companion-anchor :-moz-ui-invalid{box-shadow:none}stagewise-companion-anchor button,stagewise-companion-anchor input:where([type=button],[type=reset],[type=submit]){-webkit-appearance:button;-moz-appearance:button;appearance:button}stagewise-companion-anchor ::file-selector-button{-webkit-appearance:button;-moz-appearance:button;appearance:button}stagewise-companion-anchor ::-webkit-inner-spin-button{height:auto}stagewise-companion-anchor ::-webkit-outer-spin-button{height:auto}stagewise-companion-anchor [hidden]:where(:not([hidden=until-found])){display:none!important}stagewise-companion-anchor stagewise-companion-anchor *{min-width:0;min-height:0;position:relative}}@layer components;@layer utilities{stagewise-companion-anchor .pointer-events-auto{pointer-events:auto!important}stagewise-companion-anchor .pointer-events-none{pointer-events:none!important}stagewise-companion-anchor .visible{visibility:visible!important}stagewise-companion-anchor .absolute{position:absolute!important}stagewise-companion-anchor .fixed{position:fixed!important}stagewise-companion-anchor .relative{position:relative!important}stagewise-companion-anchor .inset-0{inset:calc(var(--spacing)*0)!important}stagewise-companion-anchor .inset-4{inset:calc(var(--spacing)*4)!important}stagewise-companion-anchor .top-0{top:calc(var(--spacing)*0)!important}stagewise-companion-anchor .top-1\\\\/2{top:50%!important}stagewise-companion-anchor .top-\\\\[-20\\\\%\\\\]{top:-20%!important}stagewise-companion-anchor .top-\\\\[25\\\\%\\\\]{top:25%!important}stagewise-companion-anchor .-right-1{right:calc(var(--spacing)*-1)!important}stagewise-companion-anchor .right-0{right:calc(var(--spacing)*0)!important}stagewise-companion-anchor .right-1\\\\/2{right:50%!important}stagewise-companion-anchor .right-2{right:calc(var(--spacing)*2)!important}stagewise-companion-anchor .-bottom-0\\\\.5{bottom:calc(var(--spacing)*-.5)!important}stagewise-companion-anchor .bottom-1\\\\/2{bottom:50%!important}stagewise-companion-anchor .bottom-3{bottom:calc(var(--spacing)*3)!important}stagewise-companion-anchor .left-0{left:calc(var(--spacing)*0)!important}stagewise-companion-anchor .left-1\\\\/2{left:50%!important}stagewise-companion-anchor .left-3{left:calc(var(--spacing)*3)!important}stagewise-companion-anchor .left-\\\\[-10\\\\%\\\\]{left:-10%!important}stagewise-companion-anchor .left-\\\\[25\\\\%\\\\]{left:25%!important}stagewise-companion-anchor .z-50{z-index:50!important}stagewise-companion-anchor .container{width:100%!important}@media (min-width:40rem){stagewise-companion-anchor .container{max-width:40rem!important}}@media (min-width:48rem){stagewise-companion-anchor .container{max-width:48rem!important}}@media (min-width:64rem){stagewise-companion-anchor .container{max-width:64rem!important}}@media (min-width:80rem){stagewise-companion-anchor .container{max-width:80rem!important}}@media (min-width:96rem){stagewise-companion-anchor .container{max-width:96rem!important}}stagewise-companion-anchor .block{display:block!important}stagewise-companion-anchor .contents{display:contents!important}stagewise-companion-anchor .flex{display:flex!important}stagewise-companion-anchor .hidden{display:none!important}stagewise-companion-anchor .inline{display:inline!important}stagewise-companion-anchor .aspect-square{aspect-ratio:1!important}stagewise-companion-anchor .size-0{width:calc(var(--spacing)*0)!important;height:calc(var(--spacing)*0)!important}stagewise-companion-anchor .size-1\\\\.5{width:calc(var(--spacing)*1.5)!important;height:calc(var(--spacing)*1.5)!important}stagewise-companion-anchor .size-2\\\\/3{width:66.6667%!important;height:66.6667%!important}stagewise-companion-anchor .size-3{width:calc(var(--spacing)*3)!important;height:calc(var(--spacing)*3)!important}stagewise-companion-anchor .size-4{width:calc(var(--spacing)*4)!important;height:calc(var(--spacing)*4)!important}stagewise-companion-anchor .size-5{width:calc(var(--spacing)*5)!important;height:calc(var(--spacing)*5)!important}stagewise-companion-anchor .size-6{width:calc(var(--spacing)*6)!important;height:calc(var(--spacing)*6)!important}stagewise-companion-anchor .size-8{width:calc(var(--spacing)*8)!important;height:calc(var(--spacing)*8)!important}stagewise-companion-anchor .size-9\\\\/12{width:75%!important;height:75%!important}stagewise-companion-anchor .size-12{width:calc(var(--spacing)*12)!important;height:calc(var(--spacing)*12)!important}stagewise-companion-anchor .size-\\\\[120\\\\%\\\\]{width:120%!important;height:120%!important}stagewise-companion-anchor .size-full{width:100%!important;height:100%!important}stagewise-companion-anchor .h-4{height:calc(var(--spacing)*4)!important}stagewise-companion-anchor .h-5{height:calc(var(--spacing)*5)!important}stagewise-companion-anchor .h-6{height:calc(var(--spacing)*6)!important}stagewise-companion-anchor .h-8{height:calc(var(--spacing)*8)!important}stagewise-companion-anchor .h-\\\\[4\\\\.5em\\\\]{height:4.5em!important}stagewise-companion-anchor .h-\\\\[50\\\\%\\\\]{height:50%!important}stagewise-companion-anchor .h-\\\\[120\\\\%\\\\]{height:120%!important}stagewise-companion-anchor .h-auto{height:auto!important}stagewise-companion-anchor .h-fit{height:-moz-fit-content!important;height:fit-content!important}stagewise-companion-anchor .h-full{height:100%!important}stagewise-companion-anchor .h-screen{height:100vh!important}stagewise-companion-anchor .max-h-\\\\[50vh\\\\]{max-height:50vh!important}stagewise-companion-anchor .max-h-full{max-height:100%!important}stagewise-companion-anchor .w-0{width:calc(var(--spacing)*0)!important}stagewise-companion-anchor .w-6{width:calc(var(--spacing)*6)!important}stagewise-companion-anchor .w-80{width:calc(var(--spacing)*80)!important}stagewise-companion-anchor .w-96{width:calc(var(--spacing)*96)!important}stagewise-companion-anchor .w-\\\\[50\\\\%\\\\]{width:50%!important}stagewise-companion-anchor .w-fit{width:-moz-fit-content!important;width:fit-content!important}stagewise-companion-anchor .w-full{width:100%!important}stagewise-companion-anchor .w-max{width:-moz-max-content!important;width:max-content!important}stagewise-companion-anchor .w-screen{width:100vw!important}stagewise-companion-anchor .max-w-8{max-width:calc(var(--spacing)*8)!important}stagewise-companion-anchor .max-w-48{max-width:calc(var(--spacing)*48)!important}stagewise-companion-anchor .max-w-90{max-width:calc(var(--spacing)*90)!important}stagewise-companion-anchor .max-w-\\\\[80\\\\%\\\\]{max-width:80%!important}stagewise-companion-anchor .max-w-\\\\[80vw\\\\]{max-width:80vw!important}stagewise-companion-anchor .max-w-sm{max-width:var(--container-sm)!important}stagewise-companion-anchor .min-w-4{min-width:calc(var(--spacing)*4)!important}stagewise-companion-anchor .min-w-24{min-width:calc(var(--spacing)*24)!important}stagewise-companion-anchor .flex-1{flex:1!important}stagewise-companion-anchor .flex-shrink-0,stagewise-companion-anchor .shrink-0{flex-shrink:0!important}stagewise-companion-anchor .origin-center{transform-origin:50%!important}stagewise-companion-anchor .transform{transform:var(--tw-rotate-x,)var(--tw-rotate-y,)var(--tw-rotate-z,)var(--tw-skew-x,)var(--tw-skew-y,)!important}stagewise-companion-anchor .animate-pulse{animation:var(--animate-pulse)!important}stagewise-companion-anchor .cursor-grab{cursor:grab!important}stagewise-companion-anchor .cursor-pointer{cursor:pointer!important}stagewise-companion-anchor .resize{resize:both!important}stagewise-companion-anchor .resize-none{resize:none!important}stagewise-companion-anchor .snap-start{scroll-snap-align:start!important}stagewise-companion-anchor .flex-col{flex-direction:column!important}stagewise-companion-anchor .flex-row{flex-direction:row!important}stagewise-companion-anchor .items-center{align-items:center!important}stagewise-companion-anchor .items-end{align-items:flex-end!important}stagewise-companion-anchor .items-start{align-items:flex-start!important}stagewise-companion-anchor .items-stretch{align-items:stretch!important}stagewise-companion-anchor .justify-between{justify-content:space-between!important}stagewise-companion-anchor .justify-center{justify-content:center!important}stagewise-companion-anchor .justify-end{justify-content:flex-end!important}stagewise-companion-anchor .justify-start{justify-content:flex-start!important}stagewise-companion-anchor .gap-1{gap:calc(var(--spacing)*1)!important}stagewise-companion-anchor .gap-2{gap:calc(var(--spacing)*2)!important}stagewise-companion-anchor .gap-3{gap:calc(var(--spacing)*3)!important}stagewise-companion-anchor .truncate{text-overflow:ellipsis!important;white-space:nowrap!important;overflow:hidden!important}stagewise-companion-anchor .overflow-hidden{overflow:hidden!important}stagewise-companion-anchor .overflow-visible{overflow:visible!important}stagewise-companion-anchor .overflow-x-auto{overflow-x:auto!important}stagewise-companion-anchor .overflow-x-hidden{overflow-x:hidden!important}stagewise-companion-anchor .overflow-y-auto{overflow-y:auto!important}stagewise-companion-anchor .overflow-y-visible{overflow-y:visible!important}stagewise-companion-anchor .rounded{border-radius:.25rem!important}stagewise-companion-anchor .rounded-2xl{border-radius:var(--radius-2xl)!important}stagewise-companion-anchor .rounded-3xl{border-radius:var(--radius-3xl)!important}stagewise-companion-anchor .rounded-full{border-radius:3.40282e38px!important}stagewise-companion-anchor .rounded-lg{border-radius:var(--radius-lg)!important}stagewise-companion-anchor .rounded-md{border-radius:var(--radius-md)!important}stagewise-companion-anchor .rounded-xl{border-radius:var(--radius-xl)!important}stagewise-companion-anchor .rounded-t-3xl{border-top-left-radius:var(--radius-3xl)!important;border-top-right-radius:var(--radius-3xl)!important}stagewise-companion-anchor .border{border-style:var(--tw-border-style)!important;border-width:1px!important}stagewise-companion-anchor .border-2{border-style:var(--tw-border-style)!important;border-width:2px!important}stagewise-companion-anchor .border-x{border-inline-style:var(--tw-border-style)!important;border-inline-width:1px!important}stagewise-companion-anchor .border-t{border-top-style:var(--tw-border-style)!important;border-top-width:1px!important}stagewise-companion-anchor .border-r{border-right-style:var(--tw-border-style)!important;border-right-width:1px!important}stagewise-companion-anchor .border-solid{--tw-border-style:solid!important;border-style:solid!important}stagewise-companion-anchor .border-blue-600\\\\/80{border-color:#155dfccc!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .border-blue-600\\\\/80{border-color:color-mix(in oklab,var(--color-blue-600)80%,transparent)!important}}stagewise-companion-anchor .border-border\\\\/10{border-color:#71717b1a!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .border-border\\\\/10{border-color:color-mix(in oklab,var(--color-border)10%,transparent)!important}}stagewise-companion-anchor .border-border\\\\/20{border-color:#71717b33!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .border-border\\\\/20{border-color:color-mix(in oklab,var(--color-border)20%,transparent)!important}}stagewise-companion-anchor .border-border\\\\/30{border-color:#71717b4d!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .border-border\\\\/30{border-color:color-mix(in oklab,var(--color-border)30%,transparent)!important}}stagewise-companion-anchor .border-green-600\\\\/80{border-color:#00a544cc!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .border-green-600\\\\/80{border-color:color-mix(in oklab,var(--color-green-600)80%,transparent)!important}}stagewise-companion-anchor .border-r-border\\\\/30{border-right-color:#71717b4d!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .border-r-border\\\\/30{border-right-color:color-mix(in oklab,var(--color-border)30%,transparent)!important}}stagewise-companion-anchor .border-l-transparent{border-left-color:#0000!important}stagewise-companion-anchor .bg-background\\\\/40{background-color:#fff6!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .bg-background\\\\/40{background-color:color-mix(in oklab,var(--color-background)40%,transparent)!important}}stagewise-companion-anchor .bg-background\\\\/60{background-color:#fff9!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .bg-background\\\\/60{background-color:color-mix(in oklab,var(--color-background)60%,transparent)!important}}stagewise-companion-anchor .bg-blue-600{background-color:var(--color-blue-600)!important}stagewise-companion-anchor .bg-blue-600\\\\/20{background-color:#155dfc33!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .bg-blue-600\\\\/20{background-color:color-mix(in oklab,var(--color-blue-600)20%,transparent)!important}}stagewise-companion-anchor .bg-green-600\\\\/5{background-color:#00a5440d!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .bg-green-600\\\\/5{background-color:color-mix(in oklab,var(--color-green-600)5%,transparent)!important}}stagewise-companion-anchor .bg-rose-600{background-color:var(--color-rose-600)!important}stagewise-companion-anchor .bg-transparent{background-color:#0000!important}stagewise-companion-anchor .bg-white\\\\/60{background-color:#fff9!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .bg-white\\\\/60{background-color:color-mix(in oklab,var(--color-white)60%,transparent)!important}}stagewise-companion-anchor .bg-zinc-50\\\\/80{background-color:#fafafacc!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .bg-zinc-50\\\\/80{background-color:color-mix(in oklab,var(--color-zinc-50)80%,transparent)!important}}stagewise-companion-anchor .bg-zinc-500{background-color:var(--color-zinc-500)!important}stagewise-companion-anchor .bg-zinc-500\\\\/10{background-color:#71717b1a!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .bg-zinc-500\\\\/10{background-color:color-mix(in oklab,var(--color-zinc-500)10%,transparent)!important}}stagewise-companion-anchor .bg-zinc-600{background-color:var(--color-zinc-600)!important}stagewise-companion-anchor .bg-zinc-950\\\\/5{background-color:#09090b0d!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .bg-zinc-950\\\\/5{background-color:color-mix(in oklab,var(--color-zinc-950)5%,transparent)!important}}stagewise-companion-anchor .bg-gradient-to-tr{--tw-gradient-position:to top right in oklab!important;background-image:linear-gradient(var(--tw-gradient-stops))!important}stagewise-companion-anchor .bg-\\\\[radial-gradient\\\\(circle\\\\,rgba\\\\(55\\\\,48\\\\,163\\\\,0\\\\)_55\\\\%\\\\,rgba\\\\(55\\\\,48\\\\,163\\\\,0\\\\.35\\\\)_73\\\\%\\\\)\\\\]{background-image:radial-gradient(circle,#3730a300 55%,#3730a359 73%)!important}stagewise-companion-anchor .bg-\\\\[radial-gradient\\\\(circle\\\\,rgba\\\\(219\\\\,39\\\\,119\\\\,0\\\\.2\\\\)_0\\\\%\\\\,rgba\\\\(219\\\\,39\\\\,119\\\\,0\\\\)_100\\\\%\\\\)\\\\]{background-image:radial-gradient(circle,#db277733 0%,#db277700 100%)!important}stagewise-companion-anchor .bg-\\\\[radial-gradient\\\\(circle\\\\,rgba\\\\(255\\\\,255\\\\,255\\\\,0\\\\)_60\\\\%\\\\,rgba\\\\(255\\\\,255\\\\,255\\\\,0\\\\.2\\\\)_70\\\\%\\\\)\\\\]{background-image:radial-gradient(circle,#fff0 60%,#fff3 70%)!important}stagewise-companion-anchor .from-indigo-700{--tw-gradient-from:var(--color-indigo-700)!important;--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))!important}stagewise-companion-anchor .via-blue-500{--tw-gradient-via:var(--color-blue-500)!important;--tw-gradient-via-stops:var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-via)var(--tw-gradient-via-position),var(--tw-gradient-to)var(--tw-gradient-to-position)!important;--tw-gradient-stops:var(--tw-gradient-via-stops)!important}stagewise-companion-anchor .to-teal-500{--tw-gradient-to:var(--color-teal-500)!important;--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))!important}stagewise-companion-anchor .fill-current{fill:currentColor!important}stagewise-companion-anchor .fill-white{fill:var(--color-white)!important}stagewise-companion-anchor .fill-zinc-500\\\\/50{fill:#71717b80!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .fill-zinc-500\\\\/50{fill:color-mix(in oklab,var(--color-zinc-500)50%,transparent)!important}}stagewise-companion-anchor .fill-zinc-950{fill:var(--color-zinc-950)!important}stagewise-companion-anchor .stroke-black\\\\/30{stroke:#0000004d!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .stroke-black\\\\/30{stroke:color-mix(in oklab,var(--color-black)30%,transparent)!important}}stagewise-companion-anchor .stroke-none{stroke:none!important}stagewise-companion-anchor .stroke-1{stroke-width:1px!important}stagewise-companion-anchor .p-0{padding:calc(var(--spacing)*0)!important}stagewise-companion-anchor .p-0\\\\.5{padding:calc(var(--spacing)*.5)!important}stagewise-companion-anchor .p-1{padding:calc(var(--spacing)*1)!important}stagewise-companion-anchor .p-1\\\\.5{padding:calc(var(--spacing)*1.5)!important}stagewise-companion-anchor .p-2{padding:calc(var(--spacing)*2)!important}stagewise-companion-anchor .p-3{padding:calc(var(--spacing)*3)!important}stagewise-companion-anchor .px-0\\\\.5{padding-inline:calc(var(--spacing)*.5)!important}stagewise-companion-anchor .px-1{padding-inline:calc(var(--spacing)*1)!important}stagewise-companion-anchor .px-2{padding-inline:calc(var(--spacing)*2)!important}stagewise-companion-anchor .px-3{padding-inline:calc(var(--spacing)*3)!important}stagewise-companion-anchor .py-0{padding-block:calc(var(--spacing)*0)!important}stagewise-companion-anchor .py-1{padding-block:calc(var(--spacing)*1)!important}stagewise-companion-anchor .pt-2{padding-top:calc(var(--spacing)*2)!important}stagewise-companion-anchor .pr-6{padding-right:calc(var(--spacing)*6)!important}stagewise-companion-anchor .pb-0{padding-bottom:calc(var(--spacing)*0)!important}stagewise-companion-anchor .pb-2{padding-bottom:calc(var(--spacing)*2)!important}stagewise-companion-anchor .pl-2{padding-left:calc(var(--spacing)*2)!important}stagewise-companion-anchor .text-base{font-size:var(--text-base)!important;line-height:var(--tw-leading,var(--text-base--line-height))!important}stagewise-companion-anchor .text-sm{font-size:var(--text-sm)!important;line-height:var(--tw-leading,var(--text-sm--line-height))!important}stagewise-companion-anchor .text-xs{font-size:var(--text-xs)!important;line-height:var(--tw-leading,var(--text-xs--line-height))!important}stagewise-companion-anchor .font-bold{--tw-font-weight:var(--font-weight-bold)!important;font-weight:var(--font-weight-bold)!important}stagewise-companion-anchor .font-normal{--tw-font-weight:var(--font-weight-normal)!important;font-weight:var(--font-weight-normal)!important}stagewise-companion-anchor .font-semibold{--tw-font-weight:var(--font-weight-semibold)!important;font-weight:var(--font-weight-semibold)!important}stagewise-companion-anchor .text-border\\\\/60{color:#71717b99!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .text-border\\\\/60{color:color-mix(in oklab,var(--color-border)60%,transparent)!important}}stagewise-companion-anchor .text-foreground{color:var(--color-foreground)!important}stagewise-companion-anchor .text-muted-foreground{color:var(--color-muted-foreground)!important}stagewise-companion-anchor .text-muted-foreground\\\\/30{color:#3f3f464d!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .text-muted-foreground\\\\/30{color:color-mix(in oklab,var(--color-muted-foreground)30%,transparent)!important}}stagewise-companion-anchor .text-transparent{color:#0000!important}stagewise-companion-anchor .text-white{color:var(--color-white)!important}stagewise-companion-anchor .text-zinc-50{color:var(--color-zinc-50)!important}stagewise-companion-anchor .text-zinc-950{color:var(--color-zinc-950)!important}stagewise-companion-anchor .text-zinc-950\\\\/50{color:#09090b80!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .text-zinc-950\\\\/50{color:color-mix(in oklab,var(--color-zinc-950)50%,transparent)!important}}stagewise-companion-anchor .opacity-20{opacity:.2!important}stagewise-companion-anchor .opacity-50{opacity:.5!important}stagewise-companion-anchor .opacity-80{opacity:.8!important}stagewise-companion-anchor .opacity-100{opacity:1!important}stagewise-companion-anchor .shadow{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a)!important;box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)!important}stagewise-companion-anchor .shadow-inner{--tw-shadow:inset 0 2px 4px 0 var(--tw-shadow-color,#0000000d)!important;box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)!important}stagewise-companion-anchor .shadow-lg{--tw-shadow:0 10px 15px -3px var(--tw-shadow-color,#0000001a),0 4px 6px -4px var(--tw-shadow-color,#0000001a)!important;box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)!important}stagewise-companion-anchor .shadow-sm{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a)!important;box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)!important}stagewise-companion-anchor .ring-2{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor)!important;box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)!important}stagewise-companion-anchor .shadow-black\\\\/50{--tw-shadow-color:#00000080!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .shadow-black\\\\/50{--tw-shadow-color:color-mix(in oklab,color-mix(in oklab,var(--color-black)50%,transparent)var(--tw-shadow-alpha),transparent)!important}}stagewise-companion-anchor .shadow-blue-600\\\\/50{--tw-shadow-color:#155dfc80!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .shadow-blue-600\\\\/50{--tw-shadow-color:color-mix(in oklab,color-mix(in oklab,var(--color-blue-600)50%,transparent)var(--tw-shadow-alpha),transparent)!important}}stagewise-companion-anchor .ring-blue-600{--tw-ring-color:var(--color-blue-600)!important}stagewise-companion-anchor .blur{--tw-blur:blur(8px)!important;filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)!important}stagewise-companion-anchor .drop-shadow-md{--tw-drop-shadow-size:drop-shadow(0 3px 3px var(--tw-drop-shadow-color,#0000001f))!important;--tw-drop-shadow:drop-shadow(var(--drop-shadow-md))!important;filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)!important}stagewise-companion-anchor .drop-shadow-xl{--tw-drop-shadow-size:drop-shadow(0 9px 7px var(--tw-drop-shadow-color,#0000001a))!important;--tw-drop-shadow:drop-shadow(var(--drop-shadow-xl))!important;filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)!important}stagewise-companion-anchor .drop-shadow-xs{--tw-drop-shadow-size:drop-shadow(0 1px 1px var(--tw-drop-shadow-color,#0000000d))!important;--tw-drop-shadow:drop-shadow(var(--drop-shadow-xs))!important;filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)!important}stagewise-companion-anchor .drop-shadow-black{--tw-drop-shadow-color:#000!important;--tw-drop-shadow:var(--tw-drop-shadow-size)!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .drop-shadow-black{--tw-drop-shadow-color:color-mix(in oklab,var(--color-black)var(--tw-drop-shadow-alpha),transparent)!important}}stagewise-companion-anchor .drop-shadow-indigo-950{--tw-drop-shadow-color:oklch(25.7% .09 281.288)!important;--tw-drop-shadow:var(--tw-drop-shadow-size)!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .drop-shadow-indigo-950{--tw-drop-shadow-color:color-mix(in oklab,var(--color-indigo-950)var(--tw-drop-shadow-alpha),transparent)!important}}stagewise-companion-anchor .filter{filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)!important}stagewise-companion-anchor .backdrop-blur-lg{--tw-backdrop-blur:blur(var(--blur-lg))!important;-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)!important;backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)!important}stagewise-companion-anchor .backdrop-blur-md{--tw-backdrop-blur:blur(var(--blur-md))!important;-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)!important;backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)!important}stagewise-companion-anchor .backdrop-blur-xs{--tw-backdrop-blur:blur(var(--blur-xs))!important;-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)!important;backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)!important}stagewise-companion-anchor .backdrop-saturate-150{--tw-backdrop-saturate:saturate(150%)!important;-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)!important;backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)!important}stagewise-companion-anchor .transition{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to,opacity,box-shadow,transform,translate,scale,rotate,filter,-webkit-backdrop-filter,backdrop-filter,display,visibility,content-visibility,overlay,pointer-events!important;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function))!important;transition-duration:var(--tw-duration,var(--default-transition-duration))!important}stagewise-companion-anchor .transition-all{transition-property:all!important;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function))!important;transition-duration:var(--tw-duration,var(--default-transition-duration))!important}stagewise-companion-anchor .transition-colors{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to!important;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function))!important;transition-duration:var(--tw-duration,var(--default-transition-duration))!important}stagewise-companion-anchor .duration-0{--tw-duration:0s!important;transition-duration:0s!important}stagewise-companion-anchor .duration-100{--tw-duration:.1s!important;transition-duration:.1s!important}stagewise-companion-anchor .duration-150{--tw-duration:.15s!important;transition-duration:.15s!important}stagewise-companion-anchor .duration-500{--tw-duration:.5s!important;transition-duration:.5s!important}stagewise-companion-anchor .outline-none{--tw-outline-style:none!important;outline-style:none!important}stagewise-companion-anchor .select-none{-webkit-user-select:none!important;-moz-user-select:none!important;user-select:none!important}stagewise-companion-anchor .placeholder\\\\:text-zinc-950\\\\/50::-moz-placeholder{color:#09090b80!important}stagewise-companion-anchor .placeholder\\\\:text-zinc-950\\\\/50::placeholder{color:#09090b80!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .placeholder\\\\:text-zinc-950\\\\/50::-moz-placeholder{color:color-mix(in oklab,var(--color-zinc-950)50%,transparent)!important}stagewise-companion-anchor .placeholder\\\\:text-zinc-950\\\\/50::placeholder{color:color-mix(in oklab,var(--color-zinc-950)50%,transparent)!important}}stagewise-companion-anchor .placeholder\\\\:text-zinc-950\\\\/70::-moz-placeholder{color:#09090bb3!important}stagewise-companion-anchor .placeholder\\\\:text-zinc-950\\\\/70::placeholder{color:#09090bb3!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .placeholder\\\\:text-zinc-950\\\\/70::-moz-placeholder{color:color-mix(in oklab,var(--color-zinc-950)70%,transparent)!important}stagewise-companion-anchor .placeholder\\\\:text-zinc-950\\\\/70::placeholder{color:color-mix(in oklab,var(--color-zinc-950)70%,transparent)!important}}stagewise-companion-anchor .first\\\\:border-none:first-child{--tw-border-style:none!important;border-style:none!important}stagewise-companion-anchor .first\\\\:pl-0:first-child{padding-left:calc(var(--spacing)*0)!important}stagewise-companion-anchor .last\\\\:border-r-transparent:last-child{border-right-color:#0000!important}stagewise-companion-anchor .last\\\\:pr-0:last-child{padding-right:calc(var(--spacing)*0)!important}@media (hover:hover){stagewise-companion-anchor .hover\\\\:border-red-600\\\\/80:hover{border-color:#e40014cc!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .hover\\\\:border-red-600\\\\/80:hover{border-color:color-mix(in oklab,var(--color-red-600)80%,transparent)!important}}stagewise-companion-anchor .hover\\\\:bg-red-600\\\\/20:hover{background-color:#e4001433!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .hover\\\\:bg-red-600\\\\/20:hover{background-color:color-mix(in oklab,var(--color-red-600)20%,transparent)!important}}stagewise-companion-anchor .hover\\\\:bg-zinc-950\\\\/5:hover{background-color:#09090b0d!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .hover\\\\:bg-zinc-950\\\\/5:hover{background-color:color-mix(in oklab,var(--color-zinc-950)5%,transparent)!important}}stagewise-companion-anchor .hover\\\\:bg-zinc-950\\\\/10:hover{background-color:#09090b1a!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .hover\\\\:bg-zinc-950\\\\/10:hover{background-color:color-mix(in oklab,var(--color-zinc-950)10%,transparent)!important}}stagewise-companion-anchor .hover\\\\:text-muted-foreground:hover{color:var(--color-muted-foreground)!important}stagewise-companion-anchor .hover\\\\:text-white:hover{color:var(--color-white)!important}stagewise-companion-anchor .hover\\\\:opacity-100:hover{opacity:1!important}stagewise-companion-anchor .hover\\\\:shadow-lg:hover{--tw-shadow:0 10px 15px -3px var(--tw-shadow-color,#0000001a),0 4px 6px -4px var(--tw-shadow-color,#0000001a)!important;box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)!important}stagewise-companion-anchor .hover\\\\:backdrop-blur-sm:hover{--tw-backdrop-blur:blur(var(--blur-sm))!important;-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)!important;backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)!important}}stagewise-companion-anchor .focus\\\\:cursor-grabbing:focus{cursor:grabbing!important}stagewise-companion-anchor .focus\\\\:text-zinc-900:focus{color:var(--color-zinc-900)!important}stagewise-companion-anchor .focus\\\\:outline-none:focus,stagewise-companion-anchor .data-focus\\\\:outline-none[data-focus]{--tw-outline-style:none!important;outline-style:none!important}}stagewise-companion-anchor stagewise-companion-anchor{all:initial;interpolate-size:allow-keywords;transform:translate(0);color:var(--color-zinc-950)!important;letter-spacing:normal!important;text-rendering:auto!important;font-family:Inter,Noto Color Emoji,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,SF Compact,SF Pro,Helvetica Neue,sans-serif!important;font-weight:400!important;line-height:normal!important}@supports (font-variation-settings:normal){stagewise-companion-anchor stagewise-companion-anchor{font-optical-sizing:auto!important;font-family:InterVariable,Noto Color Emoji,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,SF Compact,SF Pro,Helvetica Neue,sans-serif!important}}stagewise-companion-anchor #headlessui-portal-root{z-index:50!important;width:100vw!important;height:100vh!important;position:fixed!important}stagewise-companion-anchor #headlessui-portal-root>*{pointer-events:auto!important}@property --tw-rotate-x{syntax:\"*\";inherits:false}@property --tw-rotate-y{syntax:\"*\";inherits:false}@property --tw-rotate-z{syntax:\"*\";inherits:false}@property --tw-skew-x{syntax:\"*\";inherits:false}@property --tw-skew-y{syntax:\"*\";inherits:false}@property --tw-border-style{syntax:\"*\";inherits:false;initial-value:solid}@property --tw-gradient-position{syntax:\"*\";inherits:false}@property --tw-gradient-from{syntax:\"<color>\";inherits:false;initial-value:#0000}@property --tw-gradient-via{syntax:\"<color>\";inherits:false;initial-value:#0000}@property --tw-gradient-to{syntax:\"<color>\";inherits:false;initial-value:#0000}@property --tw-gradient-stops{syntax:\"*\";inherits:false}@property --tw-gradient-via-stops{syntax:\"*\";inherits:false}@property --tw-gradient-from-position{syntax:\"<length-percentage>\";inherits:false;initial-value:0%}@property --tw-gradient-via-position{syntax:\"<length-percentage>\";inherits:false;initial-value:50%}@property --tw-gradient-to-position{syntax:\"<length-percentage>\";inherits:false;initial-value:100%}@property --tw-font-weight{syntax:\"*\";inherits:false}@property --tw-shadow{syntax:\"*\";inherits:false;initial-value:0 0 #0000}@property --tw-shadow-color{syntax:\"*\";inherits:false}@property --tw-shadow-alpha{syntax:\"<percentage>\";inherits:false;initial-value:100%}@property --tw-inset-shadow{syntax:\"*\";inherits:false;initial-value:0 0 #0000}@property --tw-inset-shadow-color{syntax:\"*\";inherits:false}@property --tw-inset-shadow-alpha{syntax:\"<percentage>\";inherits:false;initial-value:100%}@property --tw-ring-color{syntax:\"*\";inherits:false}@property --tw-ring-shadow{syntax:\"*\";inherits:false;initial-value:0 0 #0000}@property --tw-inset-ring-color{syntax:\"*\";inherits:false}@property --tw-inset-ring-shadow{syntax:\"*\";inherits:false;initial-value:0 0 #0000}@property --tw-ring-inset{syntax:\"*\";inherits:false}@property --tw-ring-offset-width{syntax:\"<length>\";inherits:false;initial-value:0}@property --tw-ring-offset-color{syntax:\"*\";inherits:false;initial-value:#fff}@property --tw-ring-offset-shadow{syntax:\"*\";inherits:false;initial-value:0 0 #0000}@property --tw-blur{syntax:\"*\";inherits:false}@property --tw-brightness{syntax:\"*\";inherits:false}@property --tw-contrast{syntax:\"*\";inherits:false}@property --tw-grayscale{syntax:\"*\";inherits:false}@property --tw-hue-rotate{syntax:\"*\";inherits:false}@property --tw-invert{syntax:\"*\";inherits:false}@property --tw-opacity{syntax:\"*\";inherits:false}@property --tw-saturate{syntax:\"*\";inherits:false}@property --tw-sepia{syntax:\"*\";inherits:false}@property --tw-drop-shadow{syntax:\"*\";inherits:false}@property --tw-drop-shadow-color{syntax:\"*\";inherits:false}@property --tw-drop-shadow-alpha{syntax:\"<percentage>\";inherits:false;initial-value:100%}@property --tw-drop-shadow-size{syntax:\"*\";inherits:false}@property --tw-backdrop-blur{syntax:\"*\";inherits:false}@property --tw-backdrop-brightness{syntax:\"*\";inherits:false}@property --tw-backdrop-contrast{syntax:\"*\";inherits:false}@property --tw-backdrop-grayscale{syntax:\"*\";inherits:false}@property --tw-backdrop-hue-rotate{syntax:\"*\";inherits:false}@property --tw-backdrop-invert{syntax:\"*\";inherits:false}@property --tw-backdrop-opacity{syntax:\"*\";inherits:false}@property --tw-backdrop-saturate{syntax:\"*\";inherits:false}@property --tw-backdrop-sepia{syntax:\"*\";inherits:false}@property --tw-duration{syntax:\"*\";inherits:false}@keyframes pulse{50%{opacity:.5}}\\n';\nvar f$8 = 0;\nfunction u$9(e2, t2, n2, o3, i2, u2) {\n  t2 || (t2 = {});\n  var a3, c2, p2 = t2;\n  if (\"ref\" in p2) for (c2 in p2 = {}, t2) \"ref\" == c2 ? a3 = t2[c2] : p2[c2] = t2[c2];\n  var l2 = { type: e2, props: p2, key: n2, ref: a3, __k: null, __: null, __b: 0, __e: null, __c: null, constructor: void 0, __v: --f$8, __i: -1, __u: 0, __source: i2, __self: u2 };\n  if (\"function\" == typeof e2 && (a3 = e2.defaultProps)) for (c2 in a3) void 0 === p2[c2] && (p2[c2] = a3[c2]);\n  return l$4.vnode && l$4.vnode(l2), l2;\n}\nvar t$5, r$4, u$8, i$7, o$8 = 0, f$7 = [], c$6 = l$4, e$4 = c$6.__b, a$a = c$6.__r, v$2 = c$6.diffed, l$3 = c$6.__c, m$5 = c$6.unmount, s$8 = c$6.__;\nfunction p$3(n2, t2) {\n  c$6.__h && c$6.__h(r$4, n2, o$8 || t2), o$8 = 0;\n  var u2 = r$4.__H || (r$4.__H = { __: [], __h: [] });\n  return n2 >= u2.__.length && u2.__.push({}), u2.__[n2];\n}\nfunction d$4(n2) {\n  return o$8 = 1, h$5(D$2, n2);\n}\nfunction h$5(n2, u2, i2) {\n  var o3 = p$3(t$5++, 2);\n  if (o3.t = n2, !o3.__c && (o3.__ = [i2 ? i2(u2) : D$2(void 0, u2), function(n3) {\n    var t2 = o3.__N ? o3.__N[0] : o3.__[0], r2 = o3.t(t2, n3);\n    t2 !== r2 && (o3.__N = [r2, o3.__[1]], o3.__c.setState({}));\n  }], o3.__c = r$4, !r$4.__f)) {\n    var f2 = function(n3, t2, r2) {\n      if (!o3.__c.__H) return true;\n      var u3 = o3.__c.__H.__.filter(function(n4) {\n        return !!n4.__c;\n      });\n      if (u3.every(function(n4) {\n        return !n4.__N;\n      })) return !c2 || c2.call(this, n3, t2, r2);\n      var i3 = o3.__c.props !== n3;\n      return u3.forEach(function(n4) {\n        if (n4.__N) {\n          var t3 = n4.__[0];\n          n4.__ = n4.__N, n4.__N = void 0, t3 !== n4.__[0] && (i3 = true);\n        }\n      }), c2 && c2.call(this, n3, t2, r2) || i3;\n    };\n    r$4.__f = true;\n    var c2 = r$4.shouldComponentUpdate, e2 = r$4.componentWillUpdate;\n    r$4.componentWillUpdate = function(n3, t2, r2) {\n      if (this.__e) {\n        var u3 = c2;\n        c2 = void 0, f2(n3, t2, r2), c2 = u3;\n      }\n      e2 && e2.call(this, n3, t2, r2);\n    }, r$4.shouldComponentUpdate = f2;\n  }\n  return o3.__N || o3.__;\n}\nfunction y$6(n2, u2) {\n  var i2 = p$3(t$5++, 3);\n  !c$6.__s && C$4(i2.__H, u2) && (i2.__ = n2, i2.u = u2, r$4.__H.__h.push(i2));\n}\nfunction _$3(n2, u2) {\n  var i2 = p$3(t$5++, 4);\n  !c$6.__s && C$4(i2.__H, u2) && (i2.__ = n2, i2.u = u2, r$4.__h.push(i2));\n}\nfunction A$3(n2) {\n  return o$8 = 5, T$5(function() {\n    return { current: n2 };\n  }, []);\n}\nfunction F$5(n2, t2, r2) {\n  o$8 = 6, _$3(function() {\n    if (\"function\" == typeof n2) {\n      var r3 = n2(t2());\n      return function() {\n        n2(null), r3 && \"function\" == typeof r3 && r3();\n      };\n    }\n    if (n2) return n2.current = t2(), function() {\n      return n2.current = null;\n    };\n  }, null == r2 ? r2 : r2.concat(n2));\n}\nfunction T$5(n2, r2) {\n  var u2 = p$3(t$5++, 7);\n  return C$4(u2.__H, r2) && (u2.__ = n2(), u2.__H = r2, u2.__h = n2), u2.__;\n}\nfunction q$3(n2, t2) {\n  return o$8 = 8, T$5(function() {\n    return n2;\n  }, t2);\n}\nfunction x$4(n2) {\n  var u2 = r$4.context[n2.__c], i2 = p$3(t$5++, 9);\n  return i2.c = n2, u2 ? (null == i2.__ && (i2.__ = true, u2.sub(r$4)), u2.props.value) : n2.__;\n}\nfunction P$5(n2, t2) {\n  c$6.useDebugValue && c$6.useDebugValue(t2 ? t2(n2) : n2);\n}\nfunction b$4(n2) {\n  var u2 = p$3(t$5++, 10), i2 = d$4();\n  return u2.__ = n2, r$4.componentDidCatch || (r$4.componentDidCatch = function(n3, t2) {\n    u2.__ && u2.__(n3, t2), i2[1](n3);\n  }), [i2[0], function() {\n    i2[1](void 0);\n  }];\n}\nfunction g$3() {\n  var n2 = p$3(t$5++, 11);\n  if (!n2.__) {\n    for (var u2 = r$4.__v; null !== u2 && !u2.__m && null !== u2.__; ) u2 = u2.__;\n    var i2 = u2.__m || (u2.__m = [0, 0]);\n    n2.__ = \"P\" + i2[0] + \"-\" + i2[1]++;\n  }\n  return n2.__;\n}\nfunction j$4() {\n  for (var n2; n2 = f$7.shift(); ) if (n2.__P && n2.__H) try {\n    n2.__H.__h.forEach(z$2), n2.__H.__h.forEach(B$2), n2.__H.__h = [];\n  } catch (t2) {\n    n2.__H.__h = [], c$6.__e(t2, n2.__v);\n  }\n}\nc$6.__b = function(n2) {\n  r$4 = null, e$4 && e$4(n2);\n}, c$6.__ = function(n2, t2) {\n  n2 && t2.__k && t2.__k.__m && (n2.__m = t2.__k.__m), s$8 && s$8(n2, t2);\n}, c$6.__r = function(n2) {\n  a$a && a$a(n2), t$5 = 0;\n  var i2 = (r$4 = n2.__c).__H;\n  i2 && (u$8 === r$4 ? (i2.__h = [], r$4.__h = [], i2.__.forEach(function(n3) {\n    n3.__N && (n3.__ = n3.__N), n3.u = n3.__N = void 0;\n  })) : (i2.__h.forEach(z$2), i2.__h.forEach(B$2), i2.__h = [], t$5 = 0)), u$8 = r$4;\n}, c$6.diffed = function(n2) {\n  v$2 && v$2(n2);\n  var t2 = n2.__c;\n  t2 && t2.__H && (t2.__H.__h.length && (1 !== f$7.push(t2) && i$7 === c$6.requestAnimationFrame || ((i$7 = c$6.requestAnimationFrame) || w$4)(j$4)), t2.__H.__.forEach(function(n3) {\n    n3.u && (n3.__H = n3.u), n3.u = void 0;\n  })), u$8 = r$4 = null;\n}, c$6.__c = function(n2, t2) {\n  t2.some(function(n3) {\n    try {\n      n3.__h.forEach(z$2), n3.__h = n3.__h.filter(function(n4) {\n        return !n4.__ || B$2(n4);\n      });\n    } catch (r2) {\n      t2.some(function(n4) {\n        n4.__h && (n4.__h = []);\n      }), t2 = [], c$6.__e(r2, n3.__v);\n    }\n  }), l$3 && l$3(n2, t2);\n}, c$6.unmount = function(n2) {\n  m$5 && m$5(n2);\n  var t2, r2 = n2.__c;\n  r2 && r2.__H && (r2.__H.__.forEach(function(n3) {\n    try {\n      z$2(n3);\n    } catch (n4) {\n      t2 = n4;\n    }\n  }), r2.__H = void 0, t2 && c$6.__e(t2, r2.__v));\n};\nvar k$2 = \"function\" == typeof requestAnimationFrame;\nfunction w$4(n2) {\n  var t2, r2 = function() {\n    clearTimeout(u2), k$2 && cancelAnimationFrame(t2), setTimeout(n2);\n  }, u2 = setTimeout(r2, 100);\n  k$2 && (t2 = requestAnimationFrame(r2));\n}\nfunction z$2(n2) {\n  var t2 = r$4, u2 = n2.__c;\n  \"function\" == typeof u2 && (n2.__c = void 0, u2()), r$4 = t2;\n}\nfunction B$2(n2) {\n  var t2 = r$4;\n  n2.__c = n2.__(), r$4 = t2;\n}\nfunction C$4(n2, t2) {\n  return !n2 || n2.length !== t2.length || t2.some(function(t3, r2) {\n    return t3 !== n2[r2];\n  });\n}\nfunction D$2(n2, t2) {\n  return \"function\" == typeof t2 ? t2(n2) : t2;\n}\nconst PluginContext = K$3([]);\nfunction PluginProvider({\n  children,\n  plugins\n}) {\n  return /* @__PURE__ */ u$9(PluginContext.Provider, { value: plugins, children });\n}\nfunction usePlugins() {\n  const plugin = x$4(PluginContext);\n  if (!plugin) return [];\n  return plugin;\n}\nfunction g$2(n2, t2) {\n  for (var e2 in t2) n2[e2] = t2[e2];\n  return n2;\n}\nfunction E$2(n2, t2) {\n  for (var e2 in n2) if (\"__source\" !== e2 && !(e2 in t2)) return true;\n  for (var r2 in t2) if (\"__source\" !== r2 && n2[r2] !== t2[r2]) return true;\n  return false;\n}\nfunction C$3(n2, t2) {\n  var e2 = t2(), r2 = d$4({ t: { __: e2, u: t2 } }), u2 = r2[0].t, o3 = r2[1];\n  return _$3(function() {\n    u2.__ = e2, u2.u = t2, x$3(u2) && o3({ t: u2 });\n  }, [n2, e2, t2]), y$6(function() {\n    return x$3(u2) && o3({ t: u2 }), n2(function() {\n      x$3(u2) && o3({ t: u2 });\n    });\n  }, [n2]), e2;\n}\nfunction x$3(n2) {\n  var t2, e2, r2 = n2.u, u2 = n2.__;\n  try {\n    var o3 = r2();\n    return !((t2 = u2) === (e2 = o3) && (0 !== t2 || 1 / t2 == 1 / e2) || t2 != t2 && e2 != e2);\n  } catch (n3) {\n    return true;\n  }\n}\nfunction R$3(n2) {\n  n2();\n}\nfunction w$3(n2) {\n  return n2;\n}\nfunction k$1() {\n  return [false, R$3];\n}\nvar I$3 = _$3;\nfunction N$1(n2, t2) {\n  this.props = n2, this.context = t2;\n}\nfunction M$3(n2, e2) {\n  function r2(n3) {\n    var t2 = this.props.ref, r3 = t2 == n3.ref;\n    return !r3 && t2 && (t2.call ? t2(null) : t2.current = null), e2 ? !e2(this.props, n3) || !r3 : E$2(this.props, n3);\n  }\n  function u2(e3) {\n    return this.shouldComponentUpdate = r2, _$4(n2, e3);\n  }\n  return u2.displayName = \"Memo(\" + (n2.displayName || n2.name) + \")\", u2.prototype.isReactComponent = true, u2.__f = true, u2;\n}\n(N$1.prototype = new x$5()).isPureReactComponent = true, N$1.prototype.shouldComponentUpdate = function(n2, t2) {\n  return E$2(this.props, n2) || E$2(this.state, t2);\n};\nvar T$4 = l$4.__b;\nl$4.__b = function(n2) {\n  n2.type && n2.type.__f && n2.ref && (n2.props.ref = n2.ref, n2.ref = null), T$4 && T$4(n2);\n};\nvar A$2 = \"undefined\" != typeof Symbol && Symbol.for && Symbol.for(\"react.forward_ref\") || 3911;\nfunction D$1(n2) {\n  function t2(t3) {\n    var e2 = g$2({}, t3);\n    return delete e2.ref, n2(e2, t3.ref || null);\n  }\n  return t2.$$typeof = A$2, t2.render = t2, t2.prototype.isReactComponent = t2.__f = true, t2.displayName = \"ForwardRef(\" + (n2.displayName || n2.name) + \")\", t2;\n}\nvar L$3 = function(n2, t2) {\n  return null == n2 ? null : H$6(H$6(n2).map(t2));\n}, O$2 = { map: L$3, forEach: L$3, count: function(n2) {\n  return n2 ? H$6(n2).length : 0;\n}, only: function(n2) {\n  var t2 = H$6(n2);\n  if (1 !== t2.length) throw \"Children.only\";\n  return t2[0];\n}, toArray: H$6 }, F$4 = l$4.__e;\nl$4.__e = function(n2, t2, e2, r2) {\n  if (n2.then) {\n    for (var u2, o3 = t2; o3 = o3.__; ) if ((u2 = o3.__c) && u2.__c) return null == t2.__e && (t2.__e = e2.__e, t2.__k = e2.__k), u2.__c(n2, t2);\n  }\n  F$4(n2, t2, e2, r2);\n};\nvar U$3 = l$4.unmount;\nfunction V$1(n2, t2, e2) {\n  return n2 && (n2.__c && n2.__c.__H && (n2.__c.__H.__.forEach(function(n3) {\n    \"function\" == typeof n3.__c && n3.__c();\n  }), n2.__c.__H = null), null != (n2 = g$2({}, n2)).__c && (n2.__c.__P === e2 && (n2.__c.__P = t2), n2.__c.__e = true, n2.__c = null), n2.__k = n2.__k && n2.__k.map(function(n3) {\n    return V$1(n3, t2, e2);\n  })), n2;\n}\nfunction W(n2, t2, e2) {\n  return n2 && e2 && (n2.__v = null, n2.__k = n2.__k && n2.__k.map(function(n3) {\n    return W(n3, t2, e2);\n  }), n2.__c && n2.__c.__P === t2 && (n2.__e && e2.appendChild(n2.__e), n2.__c.__e = true, n2.__c.__P = e2)), n2;\n}\nfunction P$4() {\n  this.__u = 0, this.o = null, this.__b = null;\n}\nfunction j$3(n2) {\n  var t2 = n2.__.__c;\n  return t2 && t2.__a && t2.__a(n2);\n}\nfunction z$1(n2) {\n  var e2, r2, u2;\n  function o3(o4) {\n    if (e2 || (e2 = n2()).then(function(n3) {\n      r2 = n3.default || n3;\n    }, function(n3) {\n      u2 = n3;\n    }), u2) throw u2;\n    if (!r2) throw e2;\n    return _$4(r2, o4);\n  }\n  return o3.displayName = \"Lazy\", o3.__f = true, o3;\n}\nfunction B$1() {\n  this.i = null, this.l = null;\n}\nl$4.unmount = function(n2) {\n  var t2 = n2.__c;\n  t2 && t2.__R && t2.__R(), t2 && 32 & n2.__u && (n2.type = null), U$3 && U$3(n2);\n}, (P$4.prototype = new x$5()).__c = function(n2, t2) {\n  var e2 = t2.__c, r2 = this;\n  null == r2.o && (r2.o = []), r2.o.push(e2);\n  var u2 = j$3(r2.__v), o3 = false, i2 = function() {\n    o3 || (o3 = true, e2.__R = null, u2 ? u2(l2) : l2());\n  };\n  e2.__R = i2;\n  var l2 = function() {\n    if (!--r2.__u) {\n      if (r2.state.__a) {\n        var n3 = r2.state.__a;\n        r2.__v.__k[0] = W(n3, n3.__c.__P, n3.__c.__O);\n      }\n      var t3;\n      for (r2.setState({ __a: r2.__b = null }); t3 = r2.o.pop(); ) t3.forceUpdate();\n    }\n  };\n  r2.__u++ || 32 & t2.__u || r2.setState({ __a: r2.__b = r2.__v.__k[0] }), n2.then(i2, i2);\n}, P$4.prototype.componentWillUnmount = function() {\n  this.o = [];\n}, P$4.prototype.render = function(n2, e2) {\n  if (this.__b) {\n    if (this.__v.__k) {\n      var r2 = document.createElement(\"div\"), o3 = this.__v.__k[0].__c;\n      this.__v.__k[0] = V$1(this.__b, r2, o3.__O = o3.__P);\n    }\n    this.__b = null;\n  }\n  var i2 = e2.__a && _$4(k$3, null, n2.fallback);\n  return i2 && (i2.__u &= -33), [_$4(k$3, null, e2.__a ? null : n2.children), i2];\n};\nvar H$5 = function(n2, t2, e2) {\n  if (++e2[1] === e2[0] && n2.l.delete(t2), n2.props.revealOrder && (\"t\" !== n2.props.revealOrder[0] || !n2.l.size)) for (e2 = n2.i; e2; ) {\n    for (; e2.length > 3; ) e2.pop()();\n    if (e2[1] < e2[0]) break;\n    n2.i = e2 = e2[2];\n  }\n};\nfunction Z(n2) {\n  return this.getChildContext = function() {\n    return n2.context;\n  }, n2.children;\n}\nfunction Y(n2) {\n  var e2 = this, r2 = n2.h;\n  if (e2.componentWillUnmount = function() {\n    E$3(null, e2.v), e2.v = null, e2.h = null;\n  }, e2.h && e2.h !== r2 && e2.componentWillUnmount(), !e2.v) {\n    for (var u2 = e2.__v; null !== u2 && !u2.__m && null !== u2.__; ) u2 = u2.__;\n    e2.h = r2, e2.v = { nodeType: 1, parentNode: r2, childNodes: [], __k: { __m: u2.__m }, contains: function() {\n      return true;\n    }, appendChild: function(n3) {\n      this.childNodes.push(n3), e2.h.appendChild(n3);\n    }, insertBefore: function(n3, t2) {\n      this.childNodes.push(n3), e2.h.insertBefore(n3, t2);\n    }, removeChild: function(n3) {\n      this.childNodes.splice(this.childNodes.indexOf(n3) >>> 1, 1), e2.h.removeChild(n3);\n    } };\n  }\n  E$3(_$4(Z, { context: e2.context }, n2.__v), e2.v);\n}\nfunction $$1(n2, e2) {\n  var r2 = _$4(Y, { __v: n2, h: e2 });\n  return r2.containerInfo = e2, r2;\n}\n(B$1.prototype = new x$5()).__a = function(n2) {\n  var t2 = this, e2 = j$3(t2.__v), r2 = t2.l.get(n2);\n  return r2[0]++, function(u2) {\n    var o3 = function() {\n      t2.props.revealOrder ? (r2.push(u2), H$5(t2, n2, r2)) : u2();\n    };\n    e2 ? e2(o3) : o3();\n  };\n}, B$1.prototype.render = function(n2) {\n  this.i = null, this.l = /* @__PURE__ */ new Map();\n  var t2 = H$6(n2.children);\n  n2.revealOrder && \"b\" === n2.revealOrder[0] && t2.reverse();\n  for (var e2 = t2.length; e2--; ) this.l.set(t2[e2], this.i = [1, 0, this.i]);\n  return n2.children;\n}, B$1.prototype.componentDidUpdate = B$1.prototype.componentDidMount = function() {\n  var n2 = this;\n  this.l.forEach(function(t2, e2) {\n    H$5(n2, e2, t2);\n  });\n};\nvar q$2 = \"undefined\" != typeof Symbol && Symbol.for && Symbol.for(\"react.element\") || 60103, G$2 = /^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/, J$3 = /^on(Ani|Tra|Tou|BeforeInp|Compo)/, K$2 = /[A-Z0-9]/g, Q = \"undefined\" != typeof document, X$1 = function(n2) {\n  return (\"undefined\" != typeof Symbol && \"symbol\" == typeof Symbol() ? /fil|che|rad/ : /fil|che|ra/).test(n2);\n};\nfunction nn(n2, t2, e2) {\n  return null == t2.__k && (t2.textContent = \"\"), E$3(n2, t2), \"function\" == typeof e2 && e2(), n2 ? n2.__c : null;\n}\nfunction tn(n2, t2, e2) {\n  return G$3(n2, t2), \"function\" == typeof e2 && e2(), n2 ? n2.__c : null;\n}\nx$5.prototype.isReactComponent = {}, [\"componentWillMount\", \"componentWillReceiveProps\", \"componentWillUpdate\"].forEach(function(t2) {\n  Object.defineProperty(x$5.prototype, t2, { configurable: true, get: function() {\n    return this[\"UNSAFE_\" + t2];\n  }, set: function(n2) {\n    Object.defineProperty(this, t2, { configurable: true, writable: true, value: n2 });\n  } });\n});\nvar en = l$4.event;\nfunction rn() {\n}\nfunction un() {\n  return this.cancelBubble;\n}\nfunction on() {\n  return this.defaultPrevented;\n}\nl$4.event = function(n2) {\n  return en && (n2 = en(n2)), n2.persist = rn, n2.isPropagationStopped = un, n2.isDefaultPrevented = on, n2.nativeEvent = n2;\n};\nvar ln, cn$1 = { enumerable: false, configurable: true, get: function() {\n  return this.class;\n} }, fn = l$4.vnode;\nl$4.vnode = function(n2) {\n  \"string\" == typeof n2.type && function(n3) {\n    var t2 = n3.props, e2 = n3.type, u2 = {}, o3 = -1 === e2.indexOf(\"-\");\n    for (var i2 in t2) {\n      var l2 = t2[i2];\n      if (!(\"value\" === i2 && \"defaultValue\" in t2 && null == l2 || Q && \"children\" === i2 && \"noscript\" === e2 || \"class\" === i2 || \"className\" === i2)) {\n        var c2 = i2.toLowerCase();\n        \"defaultValue\" === i2 && \"value\" in t2 && null == t2.value ? i2 = \"value\" : \"download\" === i2 && true === l2 ? l2 = \"\" : \"translate\" === c2 && \"no\" === l2 ? l2 = false : \"o\" === c2[0] && \"n\" === c2[1] ? \"ondoubleclick\" === c2 ? i2 = \"ondblclick\" : \"onchange\" !== c2 || \"input\" !== e2 && \"textarea\" !== e2 || X$1(t2.type) ? \"onfocus\" === c2 ? i2 = \"onfocusin\" : \"onblur\" === c2 ? i2 = \"onfocusout\" : J$3.test(i2) && (i2 = c2) : c2 = i2 = \"oninput\" : o3 && G$2.test(i2) ? i2 = i2.replace(K$2, \"-$&\").toLowerCase() : null === l2 && (l2 = void 0), \"oninput\" === c2 && u2[i2 = c2] && (i2 = \"oninputCapture\"), u2[i2] = l2;\n      }\n    }\n    \"select\" == e2 && u2.multiple && Array.isArray(u2.value) && (u2.value = H$6(t2.children).forEach(function(n4) {\n      n4.props.selected = -1 != u2.value.indexOf(n4.props.value);\n    })), \"select\" == e2 && null != u2.defaultValue && (u2.value = H$6(t2.children).forEach(function(n4) {\n      n4.props.selected = u2.multiple ? -1 != u2.defaultValue.indexOf(n4.props.value) : u2.defaultValue == n4.props.value;\n    })), t2.class && !t2.className ? (u2.class = t2.class, Object.defineProperty(u2, \"className\", cn$1)) : (t2.className && !t2.class || t2.class && t2.className) && (u2.class = u2.className = t2.className), n3.props = u2;\n  }(n2), n2.$$typeof = q$2, fn && fn(n2);\n};\nvar an = l$4.__r;\nl$4.__r = function(n2) {\n  an && an(n2), ln = n2.__c;\n};\nvar sn = l$4.diffed;\nl$4.diffed = function(n2) {\n  sn && sn(n2);\n  var t2 = n2.props, e2 = n2.__e;\n  null != e2 && \"textarea\" === n2.type && \"value\" in t2 && t2.value !== e2.value && (e2.value = null == t2.value ? \"\" : t2.value), ln = null;\n};\nvar hn = { ReactCurrentDispatcher: { current: { readContext: function(n2) {\n  return ln.__n[n2.__c].props.value;\n}, useCallback: q$3, useContext: x$4, useDebugValue: P$5, useDeferredValue: w$3, useEffect: y$6, useId: g$3, useImperativeHandle: F$5, useInsertionEffect: I$3, useLayoutEffect: _$3, useMemo: T$5, useReducer: h$5, useRef: A$3, useState: d$4, useSyncExternalStore: C$3, useTransition: k$1 } } }, vn = \"18.3.1\";\nfunction dn(n2) {\n  return _$4.bind(null, n2);\n}\nfunction mn(n2) {\n  return !!n2 && n2.$$typeof === q$2;\n}\nfunction pn(n2) {\n  return mn(n2) && n2.type === k$3;\n}\nfunction yn(n2) {\n  return !!n2 && !!n2.displayName && (\"string\" == typeof n2.displayName || n2.displayName instanceof String) && n2.displayName.startsWith(\"Memo(\");\n}\nfunction _n(n2) {\n  return mn(n2) ? J$4.apply(null, arguments) : n2;\n}\nfunction bn(n2) {\n  return !!n2.__k && (E$3(null, n2), true);\n}\nfunction Sn(n2) {\n  return n2 && (n2.base || 1 === n2.nodeType && n2) || null;\n}\nvar gn = function(n2, t2) {\n  return n2(t2);\n}, En = function(n2, t2) {\n  return n2(t2);\n}, Cn = k$3, xn = mn, Rn = { useState: d$4, useId: g$3, useReducer: h$5, useEffect: y$6, useLayoutEffect: _$3, useInsertionEffect: I$3, useTransition: k$1, useDeferredValue: w$3, useSyncExternalStore: C$3, startTransition: R$3, useRef: A$3, useImperativeHandle: F$5, useMemo: T$5, useCallback: q$3, useContext: x$4, useDebugValue: P$5, version: \"18.3.1\", Children: O$2, render: nn, hydrate: tn, unmountComponentAtNode: bn, createPortal: $$1, createElement: _$4, createContext: K$3, createFactory: dn, cloneElement: _n, createRef: b$5, Fragment: k$3, isValidElement: mn, isElement: xn, isFragment: pn, isMemo: yn, findDOMNode: Sn, Component: x$5, PureComponent: N$1, memo: M$3, forwardRef: D$1, flushSync: En, unstable_batchedUpdates: gn, StrictMode: Cn, Suspense: P$4, SuspenseList: B$1, lazy: z$1, __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED: hn };\nconst t$4 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  Children: O$2,\n  Component: x$5,\n  Fragment: k$3,\n  PureComponent: N$1,\n  StrictMode: Cn,\n  Suspense: P$4,\n  SuspenseList: B$1,\n  __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED: hn,\n  cloneElement: _n,\n  createContext: K$3,\n  createElement: _$4,\n  createFactory: dn,\n  createPortal: $$1,\n  createRef: b$5,\n  default: Rn,\n  findDOMNode: Sn,\n  flushSync: En,\n  forwardRef: D$1,\n  hydrate: tn,\n  isElement: xn,\n  isFragment: pn,\n  isMemo: yn,\n  isValidElement: mn,\n  lazy: z$1,\n  memo: M$3,\n  render: nn,\n  startTransition: R$3,\n  unmountComponentAtNode: bn,\n  unstable_batchedUpdates: gn,\n  useCallback: q$3,\n  useContext: x$4,\n  useDebugValue: P$5,\n  useDeferredValue: w$3,\n  useEffect: y$6,\n  useErrorBoundary: b$4,\n  useId: g$3,\n  useImperativeHandle: F$5,\n  useInsertionEffect: I$3,\n  useLayoutEffect: _$3,\n  useMemo: T$5,\n  useReducer: h$5,\n  useRef: A$3,\n  useState: d$4,\n  useSyncExternalStore: C$3,\n  useTransition: k$1,\n  version: vn\n}, Symbol.toStringTag, { value: \"Module\" }));\nvar __require = /* @__PURE__ */ ((x2) => typeof require !== \"undefined\" ? require : typeof Proxy !== \"undefined\" ? new Proxy(x2, {\n  get: (a3, b2) => (typeof require !== \"undefined\" ? require : a3)[b2]\n}) : x2)(function(x2) {\n  if (typeof require !== \"undefined\") return require.apply(this, arguments);\n  throw Error('Dynamic require of \"' + x2 + '\" is not supported');\n});\nvar DEFAULT_OPTIONS = {\n  maxReconnectAttempts: 5,\n  reconnectDelay: 1e3,\n  requestTimeout: 3e4\n  // Extended timeout for longer operations\n};\nvar WebSocketRpcBridge = class {\n  constructor(options = {}) {\n    this.ws = null;\n    this.pendingRequests = /* @__PURE__ */ new Map();\n    this.reconnectAttempts = 0;\n    this.methods = {};\n    this.isIntentionalClose = false;\n    this.options = { ...DEFAULT_OPTIONS, ...options };\n  }\n  /**\n   * Register RPC method handlers\n   * @param methodHandlers Object containing method handlers\n   */\n  register(methodHandlers) {\n    Object.entries(methodHandlers).forEach(([methodName, handler]) => {\n      this.methods[methodName] = { handler };\n    });\n  }\n  /**\n   * Generic method to call a remote procedure with support for streaming updates\n   * @param method Method name to call\n   * @param payload Request payload\n   * @param onUpdate Optional callback for progress updates\n   * @returns Promise resolving with the response\n   */\n  callMethod(method, payload, onUpdate) {\n    if (!this.ws) {\n      throw new Error(\"WebSocket is not connected\");\n    }\n    const id = crypto.randomUUID();\n    const requestMessage = {\n      id,\n      messageType: \"request\",\n      method,\n      payload\n    };\n    return new Promise((resolve, reject) => {\n      var _a;\n      const timeout = setTimeout(() => {\n        this.pendingRequests.delete(id);\n        reject(new Error(`Request timed out: ${method}`));\n      }, this.options.requestTimeout);\n      this.pendingRequests.set(id, { resolve, reject, timeout, onUpdate });\n      (_a = this.ws) == null ? void 0 : _a.send(JSON.stringify(requestMessage));\n    });\n  }\n  /**\n   * Sets up WebSocket event handlers\n   * @param ws WebSocket instance\n   */\n  setupWebSocketHandlers(ws) {\n    ws.onmessage = (event) => {\n      try {\n        const message = JSON.parse(event.data);\n        this.handleMessage(message);\n      } catch (error2) {\n        console.error(\"Error handling WebSocket message:\", error2);\n      }\n    };\n    ws.onclose = () => {\n      console.log(\"WebSocket disconnected\");\n      this.handleDisconnect();\n    };\n    ws.onerror = (event) => {\n      console.error(\"WebSocket error:\", event);\n    };\n  }\n  /**\n   * Handles incoming WebSocket messages\n   * @param message The message to handle\n   */\n  handleMessage(message) {\n    const { messageType, id } = message;\n    switch (messageType) {\n      case \"request\":\n        this.handleRequest(message);\n        break;\n      case \"response\":\n        this.handleResponse(id, message.payload);\n        break;\n      case \"update\":\n        this.handleUpdate(id, message.payload);\n        break;\n      case \"error\":\n        this.handleError(id, message.error.message);\n        break;\n      default:\n        console.warn(`Unknown message type: ${messageType}`);\n    }\n  }\n  /**\n   * Handle incoming requests by invoking the registered method\n   * @param message Request message\n   */\n  async handleRequest(message) {\n    const { id, method, payload } = message;\n    if (!method) {\n      this.sendError(id, \"Method name is required\");\n      return;\n    }\n    const methodDef = this.methods[method];\n    if (!methodDef) {\n      this.sendError(id, `Method not found: ${method}`);\n      return;\n    }\n    try {\n      const sendUpdate = (update) => {\n        this.sendUpdate(id, method, update);\n      };\n      const result = await methodDef.handler(payload, sendUpdate);\n      this.sendResponse(id, method, result);\n    } catch (error2) {\n      this.sendError(\n        id,\n        error2 instanceof Error ? error2.message : String(error2)\n      );\n    }\n  }\n  /**\n   * Handle response messages by resolving the pending request\n   * @param id Request ID\n   * @param payload Response payload\n   */\n  handleResponse(id, payload) {\n    const pendingRequest = this.pendingRequests.get(id);\n    if (!pendingRequest) {\n      console.warn(`Received response for unknown request ID: ${id}`);\n      return;\n    }\n    clearTimeout(pendingRequest.timeout);\n    this.pendingRequests.delete(id);\n    pendingRequest.resolve(payload);\n  }\n  /**\n   * Handle update messages by calling the update callback\n   * @param id Request ID\n   * @param payload Update payload\n   */\n  handleUpdate(id, payload) {\n    const pendingRequest = this.pendingRequests.get(id);\n    if (!pendingRequest || !pendingRequest.onUpdate) {\n      console.warn(`Received update for unknown request ID: ${id}`);\n      return;\n    }\n    pendingRequest.onUpdate(payload);\n  }\n  /**\n   * Handle error messages by rejecting the pending request\n   * @param id Request ID\n   * @param error Error message\n   */\n  handleError(id, error2) {\n    const pendingRequest = this.pendingRequests.get(id);\n    if (!pendingRequest) {\n      console.warn(`Received error for unknown request ID: ${id}`);\n      return;\n    }\n    clearTimeout(pendingRequest.timeout);\n    this.pendingRequests.delete(id);\n    pendingRequest.reject(new Error(error2));\n  }\n  /**\n   * Send a response message\n   * @param id Request ID\n   * @param method Method name\n   * @param payload Response payload\n   */\n  sendResponse(id, method, payload) {\n    if (!this.ws) {\n      throw new Error(\"WebSocket is not connected\");\n    }\n    const responseMessage = {\n      id,\n      messageType: \"response\",\n      method,\n      payload\n    };\n    this.ws.send(JSON.stringify(responseMessage));\n  }\n  /**\n   * Send an update message for streaming\n   * @param id Request ID\n   * @param method Method name\n   * @param payload Update payload\n   */\n  sendUpdate(id, method, payload) {\n    if (!this.ws) {\n      throw new Error(\"WebSocket is not connected\");\n    }\n    const updateMessage = {\n      id,\n      messageType: \"update\",\n      method,\n      payload\n    };\n    this.ws.send(JSON.stringify(updateMessage));\n  }\n  /**\n   * Send an error message\n   * @param id Request ID\n   * @param errorMessage Error message\n   */\n  sendError(id, errorMessage) {\n    if (!this.ws) {\n      throw new Error(\"WebSocket is not connected\");\n    }\n    const errorResponse = {\n      id,\n      messageType: \"error\",\n      error: {\n        message: errorMessage\n      }\n    };\n    this.ws.send(JSON.stringify(errorResponse));\n  }\n  /**\n   * Handle disconnection by attempting to reconnect\n   */\n  handleDisconnect() {\n    if (this.isIntentionalClose) {\n      console.log(\n        \"WebSocket closed intentionally, not attempting to reconnect\"\n      );\n      this.clearPendingRequests(new Error(\"Connection closed by user\"));\n      return;\n    }\n    if (this.reconnectAttempts < this.options.maxReconnectAttempts) {\n      this.reconnectAttempts++;\n      console.log(\n        `Attempting to reconnect (${this.reconnectAttempts}/${this.options.maxReconnectAttempts})...`\n      );\n      setTimeout(\n        () => this.reconnect(),\n        this.options.reconnectDelay * this.reconnectAttempts\n      );\n    } else {\n      console.error(\"Max reconnection attempts reached\");\n      this.clearPendingRequests(new Error(\"Connection closed\"));\n    }\n  }\n  /**\n   * Clear all pending requests with an error\n   * @param error Error to reject with\n   */\n  clearPendingRequests(error2) {\n    this.pendingRequests.forEach(({ reject }) => {\n      reject(error2);\n    });\n    this.pendingRequests.clear();\n  }\n  /**\n   * Close the WebSocket connection\n   * @returns Promise that resolves when the connection is closed\n   */\n  async close() {\n    this.isIntentionalClose = true;\n    if (this.ws) {\n      this.ws.close();\n      this.ws = null;\n    }\n    this.clearPendingRequests(new Error(\"Connection closed by user\"));\n  }\n};\ntypeof window !== \"undefined\" ? window.WebSocket : __require(\"ws\").WebSocket;\nfunction createBridgeContract(contract2) {\n  return contract2;\n}\nfunction validateWithZod(schema, data, context, silent = false) {\n  const result = schema.safeParse(data);\n  if (!result.success) {\n    const error2 = new Error(\n      `Validation failed for ${context}: ${result.error.message}`\n    );\n    if (silent) {\n      console.error(error2);\n      return data;\n    }\n    throw error2;\n  }\n  return result.data;\n}\nvar WebSocketImpl2 = typeof window !== \"undefined\" ? window.WebSocket : __require(\"ws\").WebSocket;\nvar ZodTypedBridge = class {\n  constructor(bridge, contract2) {\n    this.bridge = bridge;\n    this.contract = contract2;\n    this.call = new Proxy({}, {\n      get: (target, prop) => {\n        return (request, options) => {\n          return this.callMethod(prop, request, options);\n        };\n      }\n    });\n  }\n  async callMethod(method, request, options) {\n    const methodContract = this.contract.consumes[method];\n    if (!methodContract) {\n      throw new Error(`Method ${String(method)} not found in contract`);\n    }\n    const validatedRequest = validateWithZod(\n      methodContract.request,\n      request,\n      `request for method ${String(method)}`\n    );\n    const onUpdate = (options == null ? void 0 : options.onUpdate) && methodContract.update ? (update) => {\n      var _a;\n      if (!methodContract.update) return;\n      try {\n        const validatedUpdate = validateWithZod(\n          methodContract.update,\n          update,\n          `update for method ${String(method)}`,\n          true\n          // silently log validation errors\n        );\n        (_a = options.onUpdate) == null ? void 0 : _a.call(options, validatedUpdate);\n      } catch (error2) {\n        console.error(\"Update validation failed:\", error2);\n      }\n    } : void 0;\n    const response = await this.bridge.callMethod(\n      method,\n      validatedRequest,\n      onUpdate\n    );\n    return validateWithZod(\n      methodContract.response,\n      response,\n      `response for method ${String(method)}`\n    );\n  }\n  register(implementations) {\n    const wrappedImplementations = {};\n    for (const [method, implementation] of Object.entries(implementations)) {\n      const methodContract = this.contract.serves[method];\n      if (!methodContract) {\n        throw new Error(`Method ${method} not found in contract`);\n      }\n      wrappedImplementations[method] = async (request, sendUpdate) => {\n        const validatedRequest = validateWithZod(\n          methodContract.request,\n          request,\n          `request for method ${method}`\n        );\n        const wrappedSendUpdate = methodContract.update && sendUpdate ? (update) => {\n          if (!methodContract.update) return;\n          try {\n            const validatedUpdate = validateWithZod(\n              methodContract.update,\n              update,\n              `update for method ${method}`,\n              true\n              // silently log validation errors\n            );\n            sendUpdate(validatedUpdate);\n          } catch (error2) {\n            console.error(\"Update validation failed:\", error2);\n          }\n        } : void 0;\n        const response = await implementation(validatedRequest, {\n          sendUpdate: wrappedSendUpdate\n        });\n        return validateWithZod(\n          methodContract.response,\n          response,\n          `response for method ${method}`\n        );\n      };\n    }\n    this.bridge.register(wrappedImplementations);\n  }\n  async close() {\n    await this.bridge.close();\n  }\n};\nvar ClientBridge = class extends WebSocketRpcBridge {\n  constructor(url, options) {\n    super(options);\n    this.reconnectTimer = null;\n    this.url = url;\n  }\n  call(method, payload, onUpdate) {\n    return this.callMethod(method, payload, onUpdate);\n  }\n  reconnect() {\n    if (this.reconnectTimer) {\n      clearTimeout(this.reconnectTimer);\n    }\n    this.reconnectTimer = setTimeout(async () => {\n      try {\n        await this.connect();\n      } catch (error2) {\n        this.reconnect();\n      }\n    }, this.options.reconnectDelay);\n  }\n  connect() {\n    return new Promise((resolve, reject) => {\n      try {\n        const ws = new WebSocketImpl2(this.url);\n        ws.onopen = () => {\n          this.ws = ws;\n          this.setupWebSocketHandlers(ws);\n          resolve();\n        };\n        ws.onerror = () => {\n          reject(new Error(\"Failed to connect to WebSocket server\"));\n        };\n      } catch (error2) {\n        reject(error2);\n      }\n    });\n  }\n};\nvar ZodClient = class extends ZodTypedBridge {\n  constructor(url, contract2, options) {\n    super(new ClientBridge(url, options), {\n      serves: contract2.client || {},\n      consumes: contract2.server || {}\n    });\n  }\n  connect() {\n    return this.bridge.connect();\n  }\n};\nfunction createSRPCClientBridge(url, contract2, options) {\n  return new ZodClient(url, contract2, options);\n}\nvar util;\n(function(util2) {\n  util2.assertEqual = (val) => val;\n  function assertIs(_arg) {\n  }\n  util2.assertIs = assertIs;\n  function assertNever(_x) {\n    throw new Error();\n  }\n  util2.assertNever = assertNever;\n  util2.arrayToEnum = (items) => {\n    const obj = {};\n    for (const item of items) {\n      obj[item] = item;\n    }\n    return obj;\n  };\n  util2.getValidEnumValues = (obj) => {\n    const validKeys = util2.objectKeys(obj).filter((k2) => typeof obj[obj[k2]] !== \"number\");\n    const filtered = {};\n    for (const k2 of validKeys) {\n      filtered[k2] = obj[k2];\n    }\n    return util2.objectValues(filtered);\n  };\n  util2.objectValues = (obj) => {\n    return util2.objectKeys(obj).map(function(e2) {\n      return obj[e2];\n    });\n  };\n  util2.objectKeys = typeof Object.keys === \"function\" ? (obj) => Object.keys(obj) : (object) => {\n    const keys = [];\n    for (const key in object) {\n      if (Object.prototype.hasOwnProperty.call(object, key)) {\n        keys.push(key);\n      }\n    }\n    return keys;\n  };\n  util2.find = (arr, checker) => {\n    for (const item of arr) {\n      if (checker(item))\n        return item;\n    }\n    return void 0;\n  };\n  util2.isInteger = typeof Number.isInteger === \"function\" ? (val) => Number.isInteger(val) : (val) => typeof val === \"number\" && isFinite(val) && Math.floor(val) === val;\n  function joinValues(array, separator = \" | \") {\n    return array.map((val) => typeof val === \"string\" ? `'${val}'` : val).join(separator);\n  }\n  util2.joinValues = joinValues;\n  util2.jsonStringifyReplacer = (_2, value) => {\n    if (typeof value === \"bigint\") {\n      return value.toString();\n    }\n    return value;\n  };\n})(util || (util = {}));\nvar objectUtil;\n(function(objectUtil2) {\n  objectUtil2.mergeShapes = (first, second) => {\n    return {\n      ...first,\n      ...second\n      // second overwrites first\n    };\n  };\n})(objectUtil || (objectUtil = {}));\nconst ZodParsedType = util.arrayToEnum([\n  \"string\",\n  \"nan\",\n  \"number\",\n  \"integer\",\n  \"float\",\n  \"boolean\",\n  \"date\",\n  \"bigint\",\n  \"symbol\",\n  \"function\",\n  \"undefined\",\n  \"null\",\n  \"array\",\n  \"object\",\n  \"unknown\",\n  \"promise\",\n  \"void\",\n  \"never\",\n  \"map\",\n  \"set\"\n]);\nconst getParsedType = (data) => {\n  const t2 = typeof data;\n  switch (t2) {\n    case \"undefined\":\n      return ZodParsedType.undefined;\n    case \"string\":\n      return ZodParsedType.string;\n    case \"number\":\n      return isNaN(data) ? ZodParsedType.nan : ZodParsedType.number;\n    case \"boolean\":\n      return ZodParsedType.boolean;\n    case \"function\":\n      return ZodParsedType.function;\n    case \"bigint\":\n      return ZodParsedType.bigint;\n    case \"symbol\":\n      return ZodParsedType.symbol;\n    case \"object\":\n      if (Array.isArray(data)) {\n        return ZodParsedType.array;\n      }\n      if (data === null) {\n        return ZodParsedType.null;\n      }\n      if (data.then && typeof data.then === \"function\" && data.catch && typeof data.catch === \"function\") {\n        return ZodParsedType.promise;\n      }\n      if (typeof Map !== \"undefined\" && data instanceof Map) {\n        return ZodParsedType.map;\n      }\n      if (typeof Set !== \"undefined\" && data instanceof Set) {\n        return ZodParsedType.set;\n      }\n      if (typeof Date !== \"undefined\" && data instanceof Date) {\n        return ZodParsedType.date;\n      }\n      return ZodParsedType.object;\n    default:\n      return ZodParsedType.unknown;\n  }\n};\nconst ZodIssueCode = util.arrayToEnum([\n  \"invalid_type\",\n  \"invalid_literal\",\n  \"custom\",\n  \"invalid_union\",\n  \"invalid_union_discriminator\",\n  \"invalid_enum_value\",\n  \"unrecognized_keys\",\n  \"invalid_arguments\",\n  \"invalid_return_type\",\n  \"invalid_date\",\n  \"invalid_string\",\n  \"too_small\",\n  \"too_big\",\n  \"invalid_intersection_types\",\n  \"not_multiple_of\",\n  \"not_finite\"\n]);\nconst quotelessJson = (obj) => {\n  const json = JSON.stringify(obj, null, 2);\n  return json.replace(/\"([^\"]+)\":/g, \"$1:\");\n};\nclass ZodError extends Error {\n  get errors() {\n    return this.issues;\n  }\n  constructor(issues) {\n    super();\n    this.issues = [];\n    this.addIssue = (sub) => {\n      this.issues = [...this.issues, sub];\n    };\n    this.addIssues = (subs = []) => {\n      this.issues = [...this.issues, ...subs];\n    };\n    const actualProto = new.target.prototype;\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(this, actualProto);\n    } else {\n      this.__proto__ = actualProto;\n    }\n    this.name = \"ZodError\";\n    this.issues = issues;\n  }\n  format(_mapper) {\n    const mapper = _mapper || function(issue) {\n      return issue.message;\n    };\n    const fieldErrors = { _errors: [] };\n    const processError = (error2) => {\n      for (const issue of error2.issues) {\n        if (issue.code === \"invalid_union\") {\n          issue.unionErrors.map(processError);\n        } else if (issue.code === \"invalid_return_type\") {\n          processError(issue.returnTypeError);\n        } else if (issue.code === \"invalid_arguments\") {\n          processError(issue.argumentsError);\n        } else if (issue.path.length === 0) {\n          fieldErrors._errors.push(mapper(issue));\n        } else {\n          let curr = fieldErrors;\n          let i2 = 0;\n          while (i2 < issue.path.length) {\n            const el = issue.path[i2];\n            const terminal = i2 === issue.path.length - 1;\n            if (!terminal) {\n              curr[el] = curr[el] || { _errors: [] };\n            } else {\n              curr[el] = curr[el] || { _errors: [] };\n              curr[el]._errors.push(mapper(issue));\n            }\n            curr = curr[el];\n            i2++;\n          }\n        }\n      }\n    };\n    processError(this);\n    return fieldErrors;\n  }\n  static assert(value) {\n    if (!(value instanceof ZodError)) {\n      throw new Error(`Not a ZodError: ${value}`);\n    }\n  }\n  toString() {\n    return this.message;\n  }\n  get message() {\n    return JSON.stringify(this.issues, util.jsonStringifyReplacer, 2);\n  }\n  get isEmpty() {\n    return this.issues.length === 0;\n  }\n  flatten(mapper = (issue) => issue.message) {\n    const fieldErrors = {};\n    const formErrors = [];\n    for (const sub of this.issues) {\n      if (sub.path.length > 0) {\n        fieldErrors[sub.path[0]] = fieldErrors[sub.path[0]] || [];\n        fieldErrors[sub.path[0]].push(mapper(sub));\n      } else {\n        formErrors.push(mapper(sub));\n      }\n    }\n    return { formErrors, fieldErrors };\n  }\n  get formErrors() {\n    return this.flatten();\n  }\n}\nZodError.create = (issues) => {\n  const error2 = new ZodError(issues);\n  return error2;\n};\nconst errorMap = (issue, _ctx) => {\n  let message;\n  switch (issue.code) {\n    case ZodIssueCode.invalid_type:\n      if (issue.received === ZodParsedType.undefined) {\n        message = \"Required\";\n      } else {\n        message = `Expected ${issue.expected}, received ${issue.received}`;\n      }\n      break;\n    case ZodIssueCode.invalid_literal:\n      message = `Invalid literal value, expected ${JSON.stringify(issue.expected, util.jsonStringifyReplacer)}`;\n      break;\n    case ZodIssueCode.unrecognized_keys:\n      message = `Unrecognized key(s) in object: ${util.joinValues(issue.keys, \", \")}`;\n      break;\n    case ZodIssueCode.invalid_union:\n      message = `Invalid input`;\n      break;\n    case ZodIssueCode.invalid_union_discriminator:\n      message = `Invalid discriminator value. Expected ${util.joinValues(issue.options)}`;\n      break;\n    case ZodIssueCode.invalid_enum_value:\n      message = `Invalid enum value. Expected ${util.joinValues(issue.options)}, received '${issue.received}'`;\n      break;\n    case ZodIssueCode.invalid_arguments:\n      message = `Invalid function arguments`;\n      break;\n    case ZodIssueCode.invalid_return_type:\n      message = `Invalid function return type`;\n      break;\n    case ZodIssueCode.invalid_date:\n      message = `Invalid date`;\n      break;\n    case ZodIssueCode.invalid_string:\n      if (typeof issue.validation === \"object\") {\n        if (\"includes\" in issue.validation) {\n          message = `Invalid input: must include \"${issue.validation.includes}\"`;\n          if (typeof issue.validation.position === \"number\") {\n            message = `${message} at one or more positions greater than or equal to ${issue.validation.position}`;\n          }\n        } else if (\"startsWith\" in issue.validation) {\n          message = `Invalid input: must start with \"${issue.validation.startsWith}\"`;\n        } else if (\"endsWith\" in issue.validation) {\n          message = `Invalid input: must end with \"${issue.validation.endsWith}\"`;\n        } else {\n          util.assertNever(issue.validation);\n        }\n      } else if (issue.validation !== \"regex\") {\n        message = `Invalid ${issue.validation}`;\n      } else {\n        message = \"Invalid\";\n      }\n      break;\n    case ZodIssueCode.too_small:\n      if (issue.type === \"array\")\n        message = `Array must contain ${issue.exact ? \"exactly\" : issue.inclusive ? `at least` : `more than`} ${issue.minimum} element(s)`;\n      else if (issue.type === \"string\")\n        message = `String must contain ${issue.exact ? \"exactly\" : issue.inclusive ? `at least` : `over`} ${issue.minimum} character(s)`;\n      else if (issue.type === \"number\")\n        message = `Number must be ${issue.exact ? `exactly equal to ` : issue.inclusive ? `greater than or equal to ` : `greater than `}${issue.minimum}`;\n      else if (issue.type === \"date\")\n        message = `Date must be ${issue.exact ? `exactly equal to ` : issue.inclusive ? `greater than or equal to ` : `greater than `}${new Date(Number(issue.minimum))}`;\n      else\n        message = \"Invalid input\";\n      break;\n    case ZodIssueCode.too_big:\n      if (issue.type === \"array\")\n        message = `Array must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `less than`} ${issue.maximum} element(s)`;\n      else if (issue.type === \"string\")\n        message = `String must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `under`} ${issue.maximum} character(s)`;\n      else if (issue.type === \"number\")\n        message = `Number must be ${issue.exact ? `exactly` : issue.inclusive ? `less than or equal to` : `less than`} ${issue.maximum}`;\n      else if (issue.type === \"bigint\")\n        message = `BigInt must be ${issue.exact ? `exactly` : issue.inclusive ? `less than or equal to` : `less than`} ${issue.maximum}`;\n      else if (issue.type === \"date\")\n        message = `Date must be ${issue.exact ? `exactly` : issue.inclusive ? `smaller than or equal to` : `smaller than`} ${new Date(Number(issue.maximum))}`;\n      else\n        message = \"Invalid input\";\n      break;\n    case ZodIssueCode.custom:\n      message = `Invalid input`;\n      break;\n    case ZodIssueCode.invalid_intersection_types:\n      message = `Intersection results could not be merged`;\n      break;\n    case ZodIssueCode.not_multiple_of:\n      message = `Number must be a multiple of ${issue.multipleOf}`;\n      break;\n    case ZodIssueCode.not_finite:\n      message = \"Number must be finite\";\n      break;\n    default:\n      message = _ctx.defaultError;\n      util.assertNever(issue);\n  }\n  return { message };\n};\nlet overrideErrorMap = errorMap;\nfunction setErrorMap(map) {\n  overrideErrorMap = map;\n}\nfunction getErrorMap() {\n  return overrideErrorMap;\n}\nconst makeIssue = (params) => {\n  const { data, path, errorMaps, issueData } = params;\n  const fullPath = [...path, ...issueData.path || []];\n  const fullIssue = {\n    ...issueData,\n    path: fullPath\n  };\n  if (issueData.message !== void 0) {\n    return {\n      ...issueData,\n      path: fullPath,\n      message: issueData.message\n    };\n  }\n  let errorMessage = \"\";\n  const maps = errorMaps.filter((m2) => !!m2).slice().reverse();\n  for (const map of maps) {\n    errorMessage = map(fullIssue, { data, defaultError: errorMessage }).message;\n  }\n  return {\n    ...issueData,\n    path: fullPath,\n    message: errorMessage\n  };\n};\nconst EMPTY_PATH = [];\nfunction addIssueToContext(ctx, issueData) {\n  const overrideMap = getErrorMap();\n  const issue = makeIssue({\n    issueData,\n    data: ctx.data,\n    path: ctx.path,\n    errorMaps: [\n      ctx.common.contextualErrorMap,\n      // contextual error map is first priority\n      ctx.schemaErrorMap,\n      // then schema-bound map if available\n      overrideMap,\n      // then global override map\n      overrideMap === errorMap ? void 0 : errorMap\n      // then global default map\n    ].filter((x2) => !!x2)\n  });\n  ctx.common.issues.push(issue);\n}\nclass ParseStatus {\n  constructor() {\n    this.value = \"valid\";\n  }\n  dirty() {\n    if (this.value === \"valid\")\n      this.value = \"dirty\";\n  }\n  abort() {\n    if (this.value !== \"aborted\")\n      this.value = \"aborted\";\n  }\n  static mergeArray(status, results) {\n    const arrayValue = [];\n    for (const s2 of results) {\n      if (s2.status === \"aborted\")\n        return INVALID;\n      if (s2.status === \"dirty\")\n        status.dirty();\n      arrayValue.push(s2.value);\n    }\n    return { status: status.value, value: arrayValue };\n  }\n  static async mergeObjectAsync(status, pairs) {\n    const syncPairs = [];\n    for (const pair of pairs) {\n      const key = await pair.key;\n      const value = await pair.value;\n      syncPairs.push({\n        key,\n        value\n      });\n    }\n    return ParseStatus.mergeObjectSync(status, syncPairs);\n  }\n  static mergeObjectSync(status, pairs) {\n    const finalObject = {};\n    for (const pair of pairs) {\n      const { key, value } = pair;\n      if (key.status === \"aborted\")\n        return INVALID;\n      if (value.status === \"aborted\")\n        return INVALID;\n      if (key.status === \"dirty\")\n        status.dirty();\n      if (value.status === \"dirty\")\n        status.dirty();\n      if (key.value !== \"__proto__\" && (typeof value.value !== \"undefined\" || pair.alwaysSet)) {\n        finalObject[key.value] = value.value;\n      }\n    }\n    return { status: status.value, value: finalObject };\n  }\n}\nconst INVALID = Object.freeze({\n  status: \"aborted\"\n});\nconst DIRTY = (value) => ({ status: \"dirty\", value });\nconst OK = (value) => ({ status: \"valid\", value });\nconst isAborted = (x2) => x2.status === \"aborted\";\nconst isDirty = (x2) => x2.status === \"dirty\";\nconst isValid = (x2) => x2.status === \"valid\";\nconst isAsync = (x2) => typeof Promise !== \"undefined\" && x2 instanceof Promise;\nfunction __classPrivateFieldGet(receiver, state, kind, f2) {\n  if (typeof state === \"function\" ? receiver !== state || true : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return state.get(receiver);\n}\nfunction __classPrivateFieldSet(receiver, state, value, kind, f2) {\n  if (typeof state === \"function\" ? receiver !== state || true : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return state.set(receiver, value), value;\n}\ntypeof SuppressedError === \"function\" ? SuppressedError : function(error2, suppressed, message) {\n  var e2 = new Error(message);\n  return e2.name = \"SuppressedError\", e2.error = error2, e2.suppressed = suppressed, e2;\n};\nvar errorUtil;\n(function(errorUtil2) {\n  errorUtil2.errToObj = (message) => typeof message === \"string\" ? { message } : message || {};\n  errorUtil2.toString = (message) => typeof message === \"string\" ? message : message === null || message === void 0 ? void 0 : message.message;\n})(errorUtil || (errorUtil = {}));\nvar _ZodEnum_cache, _ZodNativeEnum_cache;\nclass ParseInputLazyPath {\n  constructor(parent, value, path, key) {\n    this._cachedPath = [];\n    this.parent = parent;\n    this.data = value;\n    this._path = path;\n    this._key = key;\n  }\n  get path() {\n    if (!this._cachedPath.length) {\n      if (this._key instanceof Array) {\n        this._cachedPath.push(...this._path, ...this._key);\n      } else {\n        this._cachedPath.push(...this._path, this._key);\n      }\n    }\n    return this._cachedPath;\n  }\n}\nconst handleResult = (ctx, result) => {\n  if (isValid(result)) {\n    return { success: true, data: result.value };\n  } else {\n    if (!ctx.common.issues.length) {\n      throw new Error(\"Validation failed but no issues detected.\");\n    }\n    return {\n      success: false,\n      get error() {\n        if (this._error)\n          return this._error;\n        const error2 = new ZodError(ctx.common.issues);\n        this._error = error2;\n        return this._error;\n      }\n    };\n  }\n};\nfunction processCreateParams(params) {\n  if (!params)\n    return {};\n  const { errorMap: errorMap2, invalid_type_error, required_error, description } = params;\n  if (errorMap2 && (invalid_type_error || required_error)) {\n    throw new Error(`Can't use \"invalid_type_error\" or \"required_error\" in conjunction with custom error map.`);\n  }\n  if (errorMap2)\n    return { errorMap: errorMap2, description };\n  const customMap = (iss, ctx) => {\n    var _a, _b;\n    const { message } = params;\n    if (iss.code === \"invalid_enum_value\") {\n      return { message: message !== null && message !== void 0 ? message : ctx.defaultError };\n    }\n    if (typeof ctx.data === \"undefined\") {\n      return { message: (_a = message !== null && message !== void 0 ? message : required_error) !== null && _a !== void 0 ? _a : ctx.defaultError };\n    }\n    if (iss.code !== \"invalid_type\")\n      return { message: ctx.defaultError };\n    return { message: (_b = message !== null && message !== void 0 ? message : invalid_type_error) !== null && _b !== void 0 ? _b : ctx.defaultError };\n  };\n  return { errorMap: customMap, description };\n}\nclass ZodType {\n  get description() {\n    return this._def.description;\n  }\n  _getType(input) {\n    return getParsedType(input.data);\n  }\n  _getOrReturnCtx(input, ctx) {\n    return ctx || {\n      common: input.parent.common,\n      data: input.data,\n      parsedType: getParsedType(input.data),\n      schemaErrorMap: this._def.errorMap,\n      path: input.path,\n      parent: input.parent\n    };\n  }\n  _processInputParams(input) {\n    return {\n      status: new ParseStatus(),\n      ctx: {\n        common: input.parent.common,\n        data: input.data,\n        parsedType: getParsedType(input.data),\n        schemaErrorMap: this._def.errorMap,\n        path: input.path,\n        parent: input.parent\n      }\n    };\n  }\n  _parseSync(input) {\n    const result = this._parse(input);\n    if (isAsync(result)) {\n      throw new Error(\"Synchronous parse encountered promise.\");\n    }\n    return result;\n  }\n  _parseAsync(input) {\n    const result = this._parse(input);\n    return Promise.resolve(result);\n  }\n  parse(data, params) {\n    const result = this.safeParse(data, params);\n    if (result.success)\n      return result.data;\n    throw result.error;\n  }\n  safeParse(data, params) {\n    var _a;\n    const ctx = {\n      common: {\n        issues: [],\n        async: (_a = params === null || params === void 0 ? void 0 : params.async) !== null && _a !== void 0 ? _a : false,\n        contextualErrorMap: params === null || params === void 0 ? void 0 : params.errorMap\n      },\n      path: (params === null || params === void 0 ? void 0 : params.path) || [],\n      schemaErrorMap: this._def.errorMap,\n      parent: null,\n      data,\n      parsedType: getParsedType(data)\n    };\n    const result = this._parseSync({ data, path: ctx.path, parent: ctx });\n    return handleResult(ctx, result);\n  }\n  \"~validate\"(data) {\n    var _a, _b;\n    const ctx = {\n      common: {\n        issues: [],\n        async: !!this[\"~standard\"].async\n      },\n      path: [],\n      schemaErrorMap: this._def.errorMap,\n      parent: null,\n      data,\n      parsedType: getParsedType(data)\n    };\n    if (!this[\"~standard\"].async) {\n      try {\n        const result = this._parseSync({ data, path: [], parent: ctx });\n        return isValid(result) ? {\n          value: result.value\n        } : {\n          issues: ctx.common.issues\n        };\n      } catch (err) {\n        if ((_b = (_a = err === null || err === void 0 ? void 0 : err.message) === null || _a === void 0 ? void 0 : _a.toLowerCase()) === null || _b === void 0 ? void 0 : _b.includes(\"encountered\")) {\n          this[\"~standard\"].async = true;\n        }\n        ctx.common = {\n          issues: [],\n          async: true\n        };\n      }\n    }\n    return this._parseAsync({ data, path: [], parent: ctx }).then((result) => isValid(result) ? {\n      value: result.value\n    } : {\n      issues: ctx.common.issues\n    });\n  }\n  async parseAsync(data, params) {\n    const result = await this.safeParseAsync(data, params);\n    if (result.success)\n      return result.data;\n    throw result.error;\n  }\n  async safeParseAsync(data, params) {\n    const ctx = {\n      common: {\n        issues: [],\n        contextualErrorMap: params === null || params === void 0 ? void 0 : params.errorMap,\n        async: true\n      },\n      path: (params === null || params === void 0 ? void 0 : params.path) || [],\n      schemaErrorMap: this._def.errorMap,\n      parent: null,\n      data,\n      parsedType: getParsedType(data)\n    };\n    const maybeAsyncResult = this._parse({ data, path: ctx.path, parent: ctx });\n    const result = await (isAsync(maybeAsyncResult) ? maybeAsyncResult : Promise.resolve(maybeAsyncResult));\n    return handleResult(ctx, result);\n  }\n  refine(check, message) {\n    const getIssueProperties = (val) => {\n      if (typeof message === \"string\" || typeof message === \"undefined\") {\n        return { message };\n      } else if (typeof message === \"function\") {\n        return message(val);\n      } else {\n        return message;\n      }\n    };\n    return this._refinement((val, ctx) => {\n      const result = check(val);\n      const setError = () => ctx.addIssue({\n        code: ZodIssueCode.custom,\n        ...getIssueProperties(val)\n      });\n      if (typeof Promise !== \"undefined\" && result instanceof Promise) {\n        return result.then((data) => {\n          if (!data) {\n            setError();\n            return false;\n          } else {\n            return true;\n          }\n        });\n      }\n      if (!result) {\n        setError();\n        return false;\n      } else {\n        return true;\n      }\n    });\n  }\n  refinement(check, refinementData) {\n    return this._refinement((val, ctx) => {\n      if (!check(val)) {\n        ctx.addIssue(typeof refinementData === \"function\" ? refinementData(val, ctx) : refinementData);\n        return false;\n      } else {\n        return true;\n      }\n    });\n  }\n  _refinement(refinement) {\n    return new ZodEffects({\n      schema: this,\n      typeName: ZodFirstPartyTypeKind.ZodEffects,\n      effect: { type: \"refinement\", refinement }\n    });\n  }\n  superRefine(refinement) {\n    return this._refinement(refinement);\n  }\n  constructor(def) {\n    this.spa = this.safeParseAsync;\n    this._def = def;\n    this.parse = this.parse.bind(this);\n    this.safeParse = this.safeParse.bind(this);\n    this.parseAsync = this.parseAsync.bind(this);\n    this.safeParseAsync = this.safeParseAsync.bind(this);\n    this.spa = this.spa.bind(this);\n    this.refine = this.refine.bind(this);\n    this.refinement = this.refinement.bind(this);\n    this.superRefine = this.superRefine.bind(this);\n    this.optional = this.optional.bind(this);\n    this.nullable = this.nullable.bind(this);\n    this.nullish = this.nullish.bind(this);\n    this.array = this.array.bind(this);\n    this.promise = this.promise.bind(this);\n    this.or = this.or.bind(this);\n    this.and = this.and.bind(this);\n    this.transform = this.transform.bind(this);\n    this.brand = this.brand.bind(this);\n    this.default = this.default.bind(this);\n    this.catch = this.catch.bind(this);\n    this.describe = this.describe.bind(this);\n    this.pipe = this.pipe.bind(this);\n    this.readonly = this.readonly.bind(this);\n    this.isNullable = this.isNullable.bind(this);\n    this.isOptional = this.isOptional.bind(this);\n    this[\"~standard\"] = {\n      version: 1,\n      vendor: \"zod\",\n      validate: (data) => this[\"~validate\"](data)\n    };\n  }\n  optional() {\n    return ZodOptional.create(this, this._def);\n  }\n  nullable() {\n    return ZodNullable.create(this, this._def);\n  }\n  nullish() {\n    return this.nullable().optional();\n  }\n  array() {\n    return ZodArray.create(this);\n  }\n  promise() {\n    return ZodPromise.create(this, this._def);\n  }\n  or(option) {\n    return ZodUnion.create([this, option], this._def);\n  }\n  and(incoming) {\n    return ZodIntersection.create(this, incoming, this._def);\n  }\n  transform(transform) {\n    return new ZodEffects({\n      ...processCreateParams(this._def),\n      schema: this,\n      typeName: ZodFirstPartyTypeKind.ZodEffects,\n      effect: { type: \"transform\", transform }\n    });\n  }\n  default(def) {\n    const defaultValueFunc = typeof def === \"function\" ? def : () => def;\n    return new ZodDefault({\n      ...processCreateParams(this._def),\n      innerType: this,\n      defaultValue: defaultValueFunc,\n      typeName: ZodFirstPartyTypeKind.ZodDefault\n    });\n  }\n  brand() {\n    return new ZodBranded({\n      typeName: ZodFirstPartyTypeKind.ZodBranded,\n      type: this,\n      ...processCreateParams(this._def)\n    });\n  }\n  catch(def) {\n    const catchValueFunc = typeof def === \"function\" ? def : () => def;\n    return new ZodCatch({\n      ...processCreateParams(this._def),\n      innerType: this,\n      catchValue: catchValueFunc,\n      typeName: ZodFirstPartyTypeKind.ZodCatch\n    });\n  }\n  describe(description) {\n    const This = this.constructor;\n    return new This({\n      ...this._def,\n      description\n    });\n  }\n  pipe(target) {\n    return ZodPipeline.create(this, target);\n  }\n  readonly() {\n    return ZodReadonly.create(this);\n  }\n  isOptional() {\n    return this.safeParse(void 0).success;\n  }\n  isNullable() {\n    return this.safeParse(null).success;\n  }\n}\nconst cuidRegex = /^c[^\\s-]{8,}$/i;\nconst cuid2Regex = /^[0-9a-z]+$/;\nconst ulidRegex = /^[0-9A-HJKMNP-TV-Z]{26}$/i;\nconst uuidRegex = /^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/i;\nconst nanoidRegex = /^[a-z0-9_-]{21}$/i;\nconst jwtRegex = /^[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]*$/;\nconst durationRegex = /^[-+]?P(?!$)(?:(?:[-+]?\\d+Y)|(?:[-+]?\\d+[.,]\\d+Y$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:(?:[-+]?\\d+W)|(?:[-+]?\\d+[.,]\\d+W$))?(?:(?:[-+]?\\d+D)|(?:[-+]?\\d+[.,]\\d+D$))?(?:T(?=[\\d+-])(?:(?:[-+]?\\d+H)|(?:[-+]?\\d+[.,]\\d+H$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:[-+]?\\d+(?:[.,]\\d+)?S)?)??$/;\nconst emailRegex = /^(?!\\.)(?!.*\\.\\.)([A-Z0-9_'+\\-\\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\\-]*\\.)+[A-Z]{2,}$/i;\nconst _emojiRegex = `^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$`;\nlet emojiRegex;\nconst ipv4Regex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/;\nconst ipv4CidrRegex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\/(3[0-2]|[12]?[0-9])$/;\nconst ipv6Regex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/;\nconst ipv6CidrRegex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/;\nconst base64Regex = /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/;\nconst base64urlRegex = /^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/;\nconst dateRegexSource = `((\\\\d\\\\d[2468][048]|\\\\d\\\\d[13579][26]|\\\\d\\\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\\\d|30)|(02)-(0[1-9]|1\\\\d|2[0-8])))`;\nconst dateRegex = new RegExp(`^${dateRegexSource}$`);\nfunction timeRegexSource(args) {\n  let secondsRegexSource = `[0-5]\\\\d`;\n  if (args.precision) {\n    secondsRegexSource = `${secondsRegexSource}\\\\.\\\\d{${args.precision}}`;\n  } else if (args.precision == null) {\n    secondsRegexSource = `${secondsRegexSource}(\\\\.\\\\d+)?`;\n  }\n  const secondsQuantifier = args.precision ? \"+\" : \"?\";\n  return `([01]\\\\d|2[0-3]):[0-5]\\\\d(:${secondsRegexSource})${secondsQuantifier}`;\n}\nfunction timeRegex(args) {\n  return new RegExp(`^${timeRegexSource(args)}$`);\n}\nfunction datetimeRegex(args) {\n  let regex = `${dateRegexSource}T${timeRegexSource(args)}`;\n  const opts = [];\n  opts.push(args.local ? `Z?` : `Z`);\n  if (args.offset)\n    opts.push(`([+-]\\\\d{2}:?\\\\d{2})`);\n  regex = `${regex}(${opts.join(\"|\")})`;\n  return new RegExp(`^${regex}$`);\n}\nfunction isValidIP(ip, version) {\n  if ((version === \"v4\" || !version) && ipv4Regex.test(ip)) {\n    return true;\n  }\n  if ((version === \"v6\" || !version) && ipv6Regex.test(ip)) {\n    return true;\n  }\n  return false;\n}\nfunction isValidJWT(jwt, alg) {\n  if (!jwtRegex.test(jwt))\n    return false;\n  try {\n    const [header] = jwt.split(\".\");\n    const base64 = header.replace(/-/g, \"+\").replace(/_/g, \"/\").padEnd(header.length + (4 - header.length % 4) % 4, \"=\");\n    const decoded = JSON.parse(atob(base64));\n    if (typeof decoded !== \"object\" || decoded === null)\n      return false;\n    if (!decoded.typ || !decoded.alg)\n      return false;\n    if (alg && decoded.alg !== alg)\n      return false;\n    return true;\n  } catch (_a) {\n    return false;\n  }\n}\nfunction isValidCidr(ip, version) {\n  if ((version === \"v4\" || !version) && ipv4CidrRegex.test(ip)) {\n    return true;\n  }\n  if ((version === \"v6\" || !version) && ipv6CidrRegex.test(ip)) {\n    return true;\n  }\n  return false;\n}\nclass ZodString extends ZodType {\n  _parse(input) {\n    if (this._def.coerce) {\n      input.data = String(input.data);\n    }\n    const parsedType = this._getType(input);\n    if (parsedType !== ZodParsedType.string) {\n      const ctx2 = this._getOrReturnCtx(input);\n      addIssueToContext(ctx2, {\n        code: ZodIssueCode.invalid_type,\n        expected: ZodParsedType.string,\n        received: ctx2.parsedType\n      });\n      return INVALID;\n    }\n    const status = new ParseStatus();\n    let ctx = void 0;\n    for (const check of this._def.checks) {\n      if (check.kind === \"min\") {\n        if (input.data.length < check.value) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            code: ZodIssueCode.too_small,\n            minimum: check.value,\n            type: \"string\",\n            inclusive: true,\n            exact: false,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"max\") {\n        if (input.data.length > check.value) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            code: ZodIssueCode.too_big,\n            maximum: check.value,\n            type: \"string\",\n            inclusive: true,\n            exact: false,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"length\") {\n        const tooBig = input.data.length > check.value;\n        const tooSmall = input.data.length < check.value;\n        if (tooBig || tooSmall) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          if (tooBig) {\n            addIssueToContext(ctx, {\n              code: ZodIssueCode.too_big,\n              maximum: check.value,\n              type: \"string\",\n              inclusive: true,\n              exact: true,\n              message: check.message\n            });\n          } else if (tooSmall) {\n            addIssueToContext(ctx, {\n              code: ZodIssueCode.too_small,\n              minimum: check.value,\n              type: \"string\",\n              inclusive: true,\n              exact: true,\n              message: check.message\n            });\n          }\n          status.dirty();\n        }\n      } else if (check.kind === \"email\") {\n        if (!emailRegex.test(input.data)) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            validation: \"email\",\n            code: ZodIssueCode.invalid_string,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"emoji\") {\n        if (!emojiRegex) {\n          emojiRegex = new RegExp(_emojiRegex, \"u\");\n        }\n        if (!emojiRegex.test(input.data)) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            validation: \"emoji\",\n            code: ZodIssueCode.invalid_string,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"uuid\") {\n        if (!uuidRegex.test(input.data)) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            validation: \"uuid\",\n            code: ZodIssueCode.invalid_string,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"nanoid\") {\n        if (!nanoidRegex.test(input.data)) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            validation: \"nanoid\",\n            code: ZodIssueCode.invalid_string,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"cuid\") {\n        if (!cuidRegex.test(input.data)) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            validation: \"cuid\",\n            code: ZodIssueCode.invalid_string,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"cuid2\") {\n        if (!cuid2Regex.test(input.data)) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            validation: \"cuid2\",\n            code: ZodIssueCode.invalid_string,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"ulid\") {\n        if (!ulidRegex.test(input.data)) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            validation: \"ulid\",\n            code: ZodIssueCode.invalid_string,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"url\") {\n        try {\n          new URL(input.data);\n        } catch (_a) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            validation: \"url\",\n            code: ZodIssueCode.invalid_string,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"regex\") {\n        check.regex.lastIndex = 0;\n        const testResult = check.regex.test(input.data);\n        if (!testResult) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            validation: \"regex\",\n            code: ZodIssueCode.invalid_string,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"trim\") {\n        input.data = input.data.trim();\n      } else if (check.kind === \"includes\") {\n        if (!input.data.includes(check.value, check.position)) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_string,\n            validation: { includes: check.value, position: check.position },\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"toLowerCase\") {\n        input.data = input.data.toLowerCase();\n      } else if (check.kind === \"toUpperCase\") {\n        input.data = input.data.toUpperCase();\n      } else if (check.kind === \"startsWith\") {\n        if (!input.data.startsWith(check.value)) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_string,\n            validation: { startsWith: check.value },\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"endsWith\") {\n        if (!input.data.endsWith(check.value)) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_string,\n            validation: { endsWith: check.value },\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"datetime\") {\n        const regex = datetimeRegex(check);\n        if (!regex.test(input.data)) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_string,\n            validation: \"datetime\",\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"date\") {\n        const regex = dateRegex;\n        if (!regex.test(input.data)) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_string,\n            validation: \"date\",\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"time\") {\n        const regex = timeRegex(check);\n        if (!regex.test(input.data)) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_string,\n            validation: \"time\",\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"duration\") {\n        if (!durationRegex.test(input.data)) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            validation: \"duration\",\n            code: ZodIssueCode.invalid_string,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"ip\") {\n        if (!isValidIP(input.data, check.version)) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            validation: \"ip\",\n            code: ZodIssueCode.invalid_string,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"jwt\") {\n        if (!isValidJWT(input.data, check.alg)) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            validation: \"jwt\",\n            code: ZodIssueCode.invalid_string,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"cidr\") {\n        if (!isValidCidr(input.data, check.version)) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            validation: \"cidr\",\n            code: ZodIssueCode.invalid_string,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"base64\") {\n        if (!base64Regex.test(input.data)) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            validation: \"base64\",\n            code: ZodIssueCode.invalid_string,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"base64url\") {\n        if (!base64urlRegex.test(input.data)) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            validation: \"base64url\",\n            code: ZodIssueCode.invalid_string,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else {\n        util.assertNever(check);\n      }\n    }\n    return { status: status.value, value: input.data };\n  }\n  _regex(regex, validation, message) {\n    return this.refinement((data) => regex.test(data), {\n      validation,\n      code: ZodIssueCode.invalid_string,\n      ...errorUtil.errToObj(message)\n    });\n  }\n  _addCheck(check) {\n    return new ZodString({\n      ...this._def,\n      checks: [...this._def.checks, check]\n    });\n  }\n  email(message) {\n    return this._addCheck({ kind: \"email\", ...errorUtil.errToObj(message) });\n  }\n  url(message) {\n    return this._addCheck({ kind: \"url\", ...errorUtil.errToObj(message) });\n  }\n  emoji(message) {\n    return this._addCheck({ kind: \"emoji\", ...errorUtil.errToObj(message) });\n  }\n  uuid(message) {\n    return this._addCheck({ kind: \"uuid\", ...errorUtil.errToObj(message) });\n  }\n  nanoid(message) {\n    return this._addCheck({ kind: \"nanoid\", ...errorUtil.errToObj(message) });\n  }\n  cuid(message) {\n    return this._addCheck({ kind: \"cuid\", ...errorUtil.errToObj(message) });\n  }\n  cuid2(message) {\n    return this._addCheck({ kind: \"cuid2\", ...errorUtil.errToObj(message) });\n  }\n  ulid(message) {\n    return this._addCheck({ kind: \"ulid\", ...errorUtil.errToObj(message) });\n  }\n  base64(message) {\n    return this._addCheck({ kind: \"base64\", ...errorUtil.errToObj(message) });\n  }\n  base64url(message) {\n    return this._addCheck({\n      kind: \"base64url\",\n      ...errorUtil.errToObj(message)\n    });\n  }\n  jwt(options) {\n    return this._addCheck({ kind: \"jwt\", ...errorUtil.errToObj(options) });\n  }\n  ip(options) {\n    return this._addCheck({ kind: \"ip\", ...errorUtil.errToObj(options) });\n  }\n  cidr(options) {\n    return this._addCheck({ kind: \"cidr\", ...errorUtil.errToObj(options) });\n  }\n  datetime(options) {\n    var _a, _b;\n    if (typeof options === \"string\") {\n      return this._addCheck({\n        kind: \"datetime\",\n        precision: null,\n        offset: false,\n        local: false,\n        message: options\n      });\n    }\n    return this._addCheck({\n      kind: \"datetime\",\n      precision: typeof (options === null || options === void 0 ? void 0 : options.precision) === \"undefined\" ? null : options === null || options === void 0 ? void 0 : options.precision,\n      offset: (_a = options === null || options === void 0 ? void 0 : options.offset) !== null && _a !== void 0 ? _a : false,\n      local: (_b = options === null || options === void 0 ? void 0 : options.local) !== null && _b !== void 0 ? _b : false,\n      ...errorUtil.errToObj(options === null || options === void 0 ? void 0 : options.message)\n    });\n  }\n  date(message) {\n    return this._addCheck({ kind: \"date\", message });\n  }\n  time(options) {\n    if (typeof options === \"string\") {\n      return this._addCheck({\n        kind: \"time\",\n        precision: null,\n        message: options\n      });\n    }\n    return this._addCheck({\n      kind: \"time\",\n      precision: typeof (options === null || options === void 0 ? void 0 : options.precision) === \"undefined\" ? null : options === null || options === void 0 ? void 0 : options.precision,\n      ...errorUtil.errToObj(options === null || options === void 0 ? void 0 : options.message)\n    });\n  }\n  duration(message) {\n    return this._addCheck({ kind: \"duration\", ...errorUtil.errToObj(message) });\n  }\n  regex(regex, message) {\n    return this._addCheck({\n      kind: \"regex\",\n      regex,\n      ...errorUtil.errToObj(message)\n    });\n  }\n  includes(value, options) {\n    return this._addCheck({\n      kind: \"includes\",\n      value,\n      position: options === null || options === void 0 ? void 0 : options.position,\n      ...errorUtil.errToObj(options === null || options === void 0 ? void 0 : options.message)\n    });\n  }\n  startsWith(value, message) {\n    return this._addCheck({\n      kind: \"startsWith\",\n      value,\n      ...errorUtil.errToObj(message)\n    });\n  }\n  endsWith(value, message) {\n    return this._addCheck({\n      kind: \"endsWith\",\n      value,\n      ...errorUtil.errToObj(message)\n    });\n  }\n  min(minLength, message) {\n    return this._addCheck({\n      kind: \"min\",\n      value: minLength,\n      ...errorUtil.errToObj(message)\n    });\n  }\n  max(maxLength, message) {\n    return this._addCheck({\n      kind: \"max\",\n      value: maxLength,\n      ...errorUtil.errToObj(message)\n    });\n  }\n  length(len, message) {\n    return this._addCheck({\n      kind: \"length\",\n      value: len,\n      ...errorUtil.errToObj(message)\n    });\n  }\n  /**\n   * Equivalent to `.min(1)`\n   */\n  nonempty(message) {\n    return this.min(1, errorUtil.errToObj(message));\n  }\n  trim() {\n    return new ZodString({\n      ...this._def,\n      checks: [...this._def.checks, { kind: \"trim\" }]\n    });\n  }\n  toLowerCase() {\n    return new ZodString({\n      ...this._def,\n      checks: [...this._def.checks, { kind: \"toLowerCase\" }]\n    });\n  }\n  toUpperCase() {\n    return new ZodString({\n      ...this._def,\n      checks: [...this._def.checks, { kind: \"toUpperCase\" }]\n    });\n  }\n  get isDatetime() {\n    return !!this._def.checks.find((ch) => ch.kind === \"datetime\");\n  }\n  get isDate() {\n    return !!this._def.checks.find((ch) => ch.kind === \"date\");\n  }\n  get isTime() {\n    return !!this._def.checks.find((ch) => ch.kind === \"time\");\n  }\n  get isDuration() {\n    return !!this._def.checks.find((ch) => ch.kind === \"duration\");\n  }\n  get isEmail() {\n    return !!this._def.checks.find((ch) => ch.kind === \"email\");\n  }\n  get isURL() {\n    return !!this._def.checks.find((ch) => ch.kind === \"url\");\n  }\n  get isEmoji() {\n    return !!this._def.checks.find((ch) => ch.kind === \"emoji\");\n  }\n  get isUUID() {\n    return !!this._def.checks.find((ch) => ch.kind === \"uuid\");\n  }\n  get isNANOID() {\n    return !!this._def.checks.find((ch) => ch.kind === \"nanoid\");\n  }\n  get isCUID() {\n    return !!this._def.checks.find((ch) => ch.kind === \"cuid\");\n  }\n  get isCUID2() {\n    return !!this._def.checks.find((ch) => ch.kind === \"cuid2\");\n  }\n  get isULID() {\n    return !!this._def.checks.find((ch) => ch.kind === \"ulid\");\n  }\n  get isIP() {\n    return !!this._def.checks.find((ch) => ch.kind === \"ip\");\n  }\n  get isCIDR() {\n    return !!this._def.checks.find((ch) => ch.kind === \"cidr\");\n  }\n  get isBase64() {\n    return !!this._def.checks.find((ch) => ch.kind === \"base64\");\n  }\n  get isBase64url() {\n    return !!this._def.checks.find((ch) => ch.kind === \"base64url\");\n  }\n  get minLength() {\n    let min2 = null;\n    for (const ch of this._def.checks) {\n      if (ch.kind === \"min\") {\n        if (min2 === null || ch.value > min2)\n          min2 = ch.value;\n      }\n    }\n    return min2;\n  }\n  get maxLength() {\n    let max2 = null;\n    for (const ch of this._def.checks) {\n      if (ch.kind === \"max\") {\n        if (max2 === null || ch.value < max2)\n          max2 = ch.value;\n      }\n    }\n    return max2;\n  }\n}\nZodString.create = (params) => {\n  var _a;\n  return new ZodString({\n    checks: [],\n    typeName: ZodFirstPartyTypeKind.ZodString,\n    coerce: (_a = params === null || params === void 0 ? void 0 : params.coerce) !== null && _a !== void 0 ? _a : false,\n    ...processCreateParams(params)\n  });\n};\nfunction floatSafeRemainder(val, step) {\n  const valDecCount = (val.toString().split(\".\")[1] || \"\").length;\n  const stepDecCount = (step.toString().split(\".\")[1] || \"\").length;\n  const decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;\n  const valInt = parseInt(val.toFixed(decCount).replace(\".\", \"\"));\n  const stepInt = parseInt(step.toFixed(decCount).replace(\".\", \"\"));\n  return valInt % stepInt / Math.pow(10, decCount);\n}\nclass ZodNumber extends ZodType {\n  constructor() {\n    super(...arguments);\n    this.min = this.gte;\n    this.max = this.lte;\n    this.step = this.multipleOf;\n  }\n  _parse(input) {\n    if (this._def.coerce) {\n      input.data = Number(input.data);\n    }\n    const parsedType = this._getType(input);\n    if (parsedType !== ZodParsedType.number) {\n      const ctx2 = this._getOrReturnCtx(input);\n      addIssueToContext(ctx2, {\n        code: ZodIssueCode.invalid_type,\n        expected: ZodParsedType.number,\n        received: ctx2.parsedType\n      });\n      return INVALID;\n    }\n    let ctx = void 0;\n    const status = new ParseStatus();\n    for (const check of this._def.checks) {\n      if (check.kind === \"int\") {\n        if (!util.isInteger(input.data)) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_type,\n            expected: \"integer\",\n            received: \"float\",\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"min\") {\n        const tooSmall = check.inclusive ? input.data < check.value : input.data <= check.value;\n        if (tooSmall) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            code: ZodIssueCode.too_small,\n            minimum: check.value,\n            type: \"number\",\n            inclusive: check.inclusive,\n            exact: false,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"max\") {\n        const tooBig = check.inclusive ? input.data > check.value : input.data >= check.value;\n        if (tooBig) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            code: ZodIssueCode.too_big,\n            maximum: check.value,\n            type: \"number\",\n            inclusive: check.inclusive,\n            exact: false,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"multipleOf\") {\n        if (floatSafeRemainder(input.data, check.value) !== 0) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            code: ZodIssueCode.not_multiple_of,\n            multipleOf: check.value,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"finite\") {\n        if (!Number.isFinite(input.data)) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            code: ZodIssueCode.not_finite,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else {\n        util.assertNever(check);\n      }\n    }\n    return { status: status.value, value: input.data };\n  }\n  gte(value, message) {\n    return this.setLimit(\"min\", value, true, errorUtil.toString(message));\n  }\n  gt(value, message) {\n    return this.setLimit(\"min\", value, false, errorUtil.toString(message));\n  }\n  lte(value, message) {\n    return this.setLimit(\"max\", value, true, errorUtil.toString(message));\n  }\n  lt(value, message) {\n    return this.setLimit(\"max\", value, false, errorUtil.toString(message));\n  }\n  setLimit(kind, value, inclusive, message) {\n    return new ZodNumber({\n      ...this._def,\n      checks: [\n        ...this._def.checks,\n        {\n          kind,\n          value,\n          inclusive,\n          message: errorUtil.toString(message)\n        }\n      ]\n    });\n  }\n  _addCheck(check) {\n    return new ZodNumber({\n      ...this._def,\n      checks: [...this._def.checks, check]\n    });\n  }\n  int(message) {\n    return this._addCheck({\n      kind: \"int\",\n      message: errorUtil.toString(message)\n    });\n  }\n  positive(message) {\n    return this._addCheck({\n      kind: \"min\",\n      value: 0,\n      inclusive: false,\n      message: errorUtil.toString(message)\n    });\n  }\n  negative(message) {\n    return this._addCheck({\n      kind: \"max\",\n      value: 0,\n      inclusive: false,\n      message: errorUtil.toString(message)\n    });\n  }\n  nonpositive(message) {\n    return this._addCheck({\n      kind: \"max\",\n      value: 0,\n      inclusive: true,\n      message: errorUtil.toString(message)\n    });\n  }\n  nonnegative(message) {\n    return this._addCheck({\n      kind: \"min\",\n      value: 0,\n      inclusive: true,\n      message: errorUtil.toString(message)\n    });\n  }\n  multipleOf(value, message) {\n    return this._addCheck({\n      kind: \"multipleOf\",\n      value,\n      message: errorUtil.toString(message)\n    });\n  }\n  finite(message) {\n    return this._addCheck({\n      kind: \"finite\",\n      message: errorUtil.toString(message)\n    });\n  }\n  safe(message) {\n    return this._addCheck({\n      kind: \"min\",\n      inclusive: true,\n      value: Number.MIN_SAFE_INTEGER,\n      message: errorUtil.toString(message)\n    })._addCheck({\n      kind: \"max\",\n      inclusive: true,\n      value: Number.MAX_SAFE_INTEGER,\n      message: errorUtil.toString(message)\n    });\n  }\n  get minValue() {\n    let min2 = null;\n    for (const ch of this._def.checks) {\n      if (ch.kind === \"min\") {\n        if (min2 === null || ch.value > min2)\n          min2 = ch.value;\n      }\n    }\n    return min2;\n  }\n  get maxValue() {\n    let max2 = null;\n    for (const ch of this._def.checks) {\n      if (ch.kind === \"max\") {\n        if (max2 === null || ch.value < max2)\n          max2 = ch.value;\n      }\n    }\n    return max2;\n  }\n  get isInt() {\n    return !!this._def.checks.find((ch) => ch.kind === \"int\" || ch.kind === \"multipleOf\" && util.isInteger(ch.value));\n  }\n  get isFinite() {\n    let max2 = null, min2 = null;\n    for (const ch of this._def.checks) {\n      if (ch.kind === \"finite\" || ch.kind === \"int\" || ch.kind === \"multipleOf\") {\n        return true;\n      } else if (ch.kind === \"min\") {\n        if (min2 === null || ch.value > min2)\n          min2 = ch.value;\n      } else if (ch.kind === \"max\") {\n        if (max2 === null || ch.value < max2)\n          max2 = ch.value;\n      }\n    }\n    return Number.isFinite(min2) && Number.isFinite(max2);\n  }\n}\nZodNumber.create = (params) => {\n  return new ZodNumber({\n    checks: [],\n    typeName: ZodFirstPartyTypeKind.ZodNumber,\n    coerce: (params === null || params === void 0 ? void 0 : params.coerce) || false,\n    ...processCreateParams(params)\n  });\n};\nclass ZodBigInt extends ZodType {\n  constructor() {\n    super(...arguments);\n    this.min = this.gte;\n    this.max = this.lte;\n  }\n  _parse(input) {\n    if (this._def.coerce) {\n      try {\n        input.data = BigInt(input.data);\n      } catch (_a) {\n        return this._getInvalidInput(input);\n      }\n    }\n    const parsedType = this._getType(input);\n    if (parsedType !== ZodParsedType.bigint) {\n      return this._getInvalidInput(input);\n    }\n    let ctx = void 0;\n    const status = new ParseStatus();\n    for (const check of this._def.checks) {\n      if (check.kind === \"min\") {\n        const tooSmall = check.inclusive ? input.data < check.value : input.data <= check.value;\n        if (tooSmall) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            code: ZodIssueCode.too_small,\n            type: \"bigint\",\n            minimum: check.value,\n            inclusive: check.inclusive,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"max\") {\n        const tooBig = check.inclusive ? input.data > check.value : input.data >= check.value;\n        if (tooBig) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            code: ZodIssueCode.too_big,\n            type: \"bigint\",\n            maximum: check.value,\n            inclusive: check.inclusive,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"multipleOf\") {\n        if (input.data % check.value !== BigInt(0)) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            code: ZodIssueCode.not_multiple_of,\n            multipleOf: check.value,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else {\n        util.assertNever(check);\n      }\n    }\n    return { status: status.value, value: input.data };\n  }\n  _getInvalidInput(input) {\n    const ctx = this._getOrReturnCtx(input);\n    addIssueToContext(ctx, {\n      code: ZodIssueCode.invalid_type,\n      expected: ZodParsedType.bigint,\n      received: ctx.parsedType\n    });\n    return INVALID;\n  }\n  gte(value, message) {\n    return this.setLimit(\"min\", value, true, errorUtil.toString(message));\n  }\n  gt(value, message) {\n    return this.setLimit(\"min\", value, false, errorUtil.toString(message));\n  }\n  lte(value, message) {\n    return this.setLimit(\"max\", value, true, errorUtil.toString(message));\n  }\n  lt(value, message) {\n    return this.setLimit(\"max\", value, false, errorUtil.toString(message));\n  }\n  setLimit(kind, value, inclusive, message) {\n    return new ZodBigInt({\n      ...this._def,\n      checks: [\n        ...this._def.checks,\n        {\n          kind,\n          value,\n          inclusive,\n          message: errorUtil.toString(message)\n        }\n      ]\n    });\n  }\n  _addCheck(check) {\n    return new ZodBigInt({\n      ...this._def,\n      checks: [...this._def.checks, check]\n    });\n  }\n  positive(message) {\n    return this._addCheck({\n      kind: \"min\",\n      value: BigInt(0),\n      inclusive: false,\n      message: errorUtil.toString(message)\n    });\n  }\n  negative(message) {\n    return this._addCheck({\n      kind: \"max\",\n      value: BigInt(0),\n      inclusive: false,\n      message: errorUtil.toString(message)\n    });\n  }\n  nonpositive(message) {\n    return this._addCheck({\n      kind: \"max\",\n      value: BigInt(0),\n      inclusive: true,\n      message: errorUtil.toString(message)\n    });\n  }\n  nonnegative(message) {\n    return this._addCheck({\n      kind: \"min\",\n      value: BigInt(0),\n      inclusive: true,\n      message: errorUtil.toString(message)\n    });\n  }\n  multipleOf(value, message) {\n    return this._addCheck({\n      kind: \"multipleOf\",\n      value,\n      message: errorUtil.toString(message)\n    });\n  }\n  get minValue() {\n    let min2 = null;\n    for (const ch of this._def.checks) {\n      if (ch.kind === \"min\") {\n        if (min2 === null || ch.value > min2)\n          min2 = ch.value;\n      }\n    }\n    return min2;\n  }\n  get maxValue() {\n    let max2 = null;\n    for (const ch of this._def.checks) {\n      if (ch.kind === \"max\") {\n        if (max2 === null || ch.value < max2)\n          max2 = ch.value;\n      }\n    }\n    return max2;\n  }\n}\nZodBigInt.create = (params) => {\n  var _a;\n  return new ZodBigInt({\n    checks: [],\n    typeName: ZodFirstPartyTypeKind.ZodBigInt,\n    coerce: (_a = params === null || params === void 0 ? void 0 : params.coerce) !== null && _a !== void 0 ? _a : false,\n    ...processCreateParams(params)\n  });\n};\nclass ZodBoolean extends ZodType {\n  _parse(input) {\n    if (this._def.coerce) {\n      input.data = Boolean(input.data);\n    }\n    const parsedType = this._getType(input);\n    if (parsedType !== ZodParsedType.boolean) {\n      const ctx = this._getOrReturnCtx(input);\n      addIssueToContext(ctx, {\n        code: ZodIssueCode.invalid_type,\n        expected: ZodParsedType.boolean,\n        received: ctx.parsedType\n      });\n      return INVALID;\n    }\n    return OK(input.data);\n  }\n}\nZodBoolean.create = (params) => {\n  return new ZodBoolean({\n    typeName: ZodFirstPartyTypeKind.ZodBoolean,\n    coerce: (params === null || params === void 0 ? void 0 : params.coerce) || false,\n    ...processCreateParams(params)\n  });\n};\nclass ZodDate extends ZodType {\n  _parse(input) {\n    if (this._def.coerce) {\n      input.data = new Date(input.data);\n    }\n    const parsedType = this._getType(input);\n    if (parsedType !== ZodParsedType.date) {\n      const ctx2 = this._getOrReturnCtx(input);\n      addIssueToContext(ctx2, {\n        code: ZodIssueCode.invalid_type,\n        expected: ZodParsedType.date,\n        received: ctx2.parsedType\n      });\n      return INVALID;\n    }\n    if (isNaN(input.data.getTime())) {\n      const ctx2 = this._getOrReturnCtx(input);\n      addIssueToContext(ctx2, {\n        code: ZodIssueCode.invalid_date\n      });\n      return INVALID;\n    }\n    const status = new ParseStatus();\n    let ctx = void 0;\n    for (const check of this._def.checks) {\n      if (check.kind === \"min\") {\n        if (input.data.getTime() < check.value) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            code: ZodIssueCode.too_small,\n            message: check.message,\n            inclusive: true,\n            exact: false,\n            minimum: check.value,\n            type: \"date\"\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"max\") {\n        if (input.data.getTime() > check.value) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            code: ZodIssueCode.too_big,\n            message: check.message,\n            inclusive: true,\n            exact: false,\n            maximum: check.value,\n            type: \"date\"\n          });\n          status.dirty();\n        }\n      } else {\n        util.assertNever(check);\n      }\n    }\n    return {\n      status: status.value,\n      value: new Date(input.data.getTime())\n    };\n  }\n  _addCheck(check) {\n    return new ZodDate({\n      ...this._def,\n      checks: [...this._def.checks, check]\n    });\n  }\n  min(minDate, message) {\n    return this._addCheck({\n      kind: \"min\",\n      value: minDate.getTime(),\n      message: errorUtil.toString(message)\n    });\n  }\n  max(maxDate, message) {\n    return this._addCheck({\n      kind: \"max\",\n      value: maxDate.getTime(),\n      message: errorUtil.toString(message)\n    });\n  }\n  get minDate() {\n    let min2 = null;\n    for (const ch of this._def.checks) {\n      if (ch.kind === \"min\") {\n        if (min2 === null || ch.value > min2)\n          min2 = ch.value;\n      }\n    }\n    return min2 != null ? new Date(min2) : null;\n  }\n  get maxDate() {\n    let max2 = null;\n    for (const ch of this._def.checks) {\n      if (ch.kind === \"max\") {\n        if (max2 === null || ch.value < max2)\n          max2 = ch.value;\n      }\n    }\n    return max2 != null ? new Date(max2) : null;\n  }\n}\nZodDate.create = (params) => {\n  return new ZodDate({\n    checks: [],\n    coerce: (params === null || params === void 0 ? void 0 : params.coerce) || false,\n    typeName: ZodFirstPartyTypeKind.ZodDate,\n    ...processCreateParams(params)\n  });\n};\nclass ZodSymbol extends ZodType {\n  _parse(input) {\n    const parsedType = this._getType(input);\n    if (parsedType !== ZodParsedType.symbol) {\n      const ctx = this._getOrReturnCtx(input);\n      addIssueToContext(ctx, {\n        code: ZodIssueCode.invalid_type,\n        expected: ZodParsedType.symbol,\n        received: ctx.parsedType\n      });\n      return INVALID;\n    }\n    return OK(input.data);\n  }\n}\nZodSymbol.create = (params) => {\n  return new ZodSymbol({\n    typeName: ZodFirstPartyTypeKind.ZodSymbol,\n    ...processCreateParams(params)\n  });\n};\nclass ZodUndefined extends ZodType {\n  _parse(input) {\n    const parsedType = this._getType(input);\n    if (parsedType !== ZodParsedType.undefined) {\n      const ctx = this._getOrReturnCtx(input);\n      addIssueToContext(ctx, {\n        code: ZodIssueCode.invalid_type,\n        expected: ZodParsedType.undefined,\n        received: ctx.parsedType\n      });\n      return INVALID;\n    }\n    return OK(input.data);\n  }\n}\nZodUndefined.create = (params) => {\n  return new ZodUndefined({\n    typeName: ZodFirstPartyTypeKind.ZodUndefined,\n    ...processCreateParams(params)\n  });\n};\nclass ZodNull extends ZodType {\n  _parse(input) {\n    const parsedType = this._getType(input);\n    if (parsedType !== ZodParsedType.null) {\n      const ctx = this._getOrReturnCtx(input);\n      addIssueToContext(ctx, {\n        code: ZodIssueCode.invalid_type,\n        expected: ZodParsedType.null,\n        received: ctx.parsedType\n      });\n      return INVALID;\n    }\n    return OK(input.data);\n  }\n}\nZodNull.create = (params) => {\n  return new ZodNull({\n    typeName: ZodFirstPartyTypeKind.ZodNull,\n    ...processCreateParams(params)\n  });\n};\nclass ZodAny extends ZodType {\n  constructor() {\n    super(...arguments);\n    this._any = true;\n  }\n  _parse(input) {\n    return OK(input.data);\n  }\n}\nZodAny.create = (params) => {\n  return new ZodAny({\n    typeName: ZodFirstPartyTypeKind.ZodAny,\n    ...processCreateParams(params)\n  });\n};\nclass ZodUnknown extends ZodType {\n  constructor() {\n    super(...arguments);\n    this._unknown = true;\n  }\n  _parse(input) {\n    return OK(input.data);\n  }\n}\nZodUnknown.create = (params) => {\n  return new ZodUnknown({\n    typeName: ZodFirstPartyTypeKind.ZodUnknown,\n    ...processCreateParams(params)\n  });\n};\nclass ZodNever extends ZodType {\n  _parse(input) {\n    const ctx = this._getOrReturnCtx(input);\n    addIssueToContext(ctx, {\n      code: ZodIssueCode.invalid_type,\n      expected: ZodParsedType.never,\n      received: ctx.parsedType\n    });\n    return INVALID;\n  }\n}\nZodNever.create = (params) => {\n  return new ZodNever({\n    typeName: ZodFirstPartyTypeKind.ZodNever,\n    ...processCreateParams(params)\n  });\n};\nclass ZodVoid extends ZodType {\n  _parse(input) {\n    const parsedType = this._getType(input);\n    if (parsedType !== ZodParsedType.undefined) {\n      const ctx = this._getOrReturnCtx(input);\n      addIssueToContext(ctx, {\n        code: ZodIssueCode.invalid_type,\n        expected: ZodParsedType.void,\n        received: ctx.parsedType\n      });\n      return INVALID;\n    }\n    return OK(input.data);\n  }\n}\nZodVoid.create = (params) => {\n  return new ZodVoid({\n    typeName: ZodFirstPartyTypeKind.ZodVoid,\n    ...processCreateParams(params)\n  });\n};\nclass ZodArray extends ZodType {\n  _parse(input) {\n    const { ctx, status } = this._processInputParams(input);\n    const def = this._def;\n    if (ctx.parsedType !== ZodParsedType.array) {\n      addIssueToContext(ctx, {\n        code: ZodIssueCode.invalid_type,\n        expected: ZodParsedType.array,\n        received: ctx.parsedType\n      });\n      return INVALID;\n    }\n    if (def.exactLength !== null) {\n      const tooBig = ctx.data.length > def.exactLength.value;\n      const tooSmall = ctx.data.length < def.exactLength.value;\n      if (tooBig || tooSmall) {\n        addIssueToContext(ctx, {\n          code: tooBig ? ZodIssueCode.too_big : ZodIssueCode.too_small,\n          minimum: tooSmall ? def.exactLength.value : void 0,\n          maximum: tooBig ? def.exactLength.value : void 0,\n          type: \"array\",\n          inclusive: true,\n          exact: true,\n          message: def.exactLength.message\n        });\n        status.dirty();\n      }\n    }\n    if (def.minLength !== null) {\n      if (ctx.data.length < def.minLength.value) {\n        addIssueToContext(ctx, {\n          code: ZodIssueCode.too_small,\n          minimum: def.minLength.value,\n          type: \"array\",\n          inclusive: true,\n          exact: false,\n          message: def.minLength.message\n        });\n        status.dirty();\n      }\n    }\n    if (def.maxLength !== null) {\n      if (ctx.data.length > def.maxLength.value) {\n        addIssueToContext(ctx, {\n          code: ZodIssueCode.too_big,\n          maximum: def.maxLength.value,\n          type: \"array\",\n          inclusive: true,\n          exact: false,\n          message: def.maxLength.message\n        });\n        status.dirty();\n      }\n    }\n    if (ctx.common.async) {\n      return Promise.all([...ctx.data].map((item, i2) => {\n        return def.type._parseAsync(new ParseInputLazyPath(ctx, item, ctx.path, i2));\n      })).then((result2) => {\n        return ParseStatus.mergeArray(status, result2);\n      });\n    }\n    const result = [...ctx.data].map((item, i2) => {\n      return def.type._parseSync(new ParseInputLazyPath(ctx, item, ctx.path, i2));\n    });\n    return ParseStatus.mergeArray(status, result);\n  }\n  get element() {\n    return this._def.type;\n  }\n  min(minLength, message) {\n    return new ZodArray({\n      ...this._def,\n      minLength: { value: minLength, message: errorUtil.toString(message) }\n    });\n  }\n  max(maxLength, message) {\n    return new ZodArray({\n      ...this._def,\n      maxLength: { value: maxLength, message: errorUtil.toString(message) }\n    });\n  }\n  length(len, message) {\n    return new ZodArray({\n      ...this._def,\n      exactLength: { value: len, message: errorUtil.toString(message) }\n    });\n  }\n  nonempty(message) {\n    return this.min(1, message);\n  }\n}\nZodArray.create = (schema, params) => {\n  return new ZodArray({\n    type: schema,\n    minLength: null,\n    maxLength: null,\n    exactLength: null,\n    typeName: ZodFirstPartyTypeKind.ZodArray,\n    ...processCreateParams(params)\n  });\n};\nfunction deepPartialify(schema) {\n  if (schema instanceof ZodObject) {\n    const newShape = {};\n    for (const key in schema.shape) {\n      const fieldSchema = schema.shape[key];\n      newShape[key] = ZodOptional.create(deepPartialify(fieldSchema));\n    }\n    return new ZodObject({\n      ...schema._def,\n      shape: () => newShape\n    });\n  } else if (schema instanceof ZodArray) {\n    return new ZodArray({\n      ...schema._def,\n      type: deepPartialify(schema.element)\n    });\n  } else if (schema instanceof ZodOptional) {\n    return ZodOptional.create(deepPartialify(schema.unwrap()));\n  } else if (schema instanceof ZodNullable) {\n    return ZodNullable.create(deepPartialify(schema.unwrap()));\n  } else if (schema instanceof ZodTuple) {\n    return ZodTuple.create(schema.items.map((item) => deepPartialify(item)));\n  } else {\n    return schema;\n  }\n}\nclass ZodObject extends ZodType {\n  constructor() {\n    super(...arguments);\n    this._cached = null;\n    this.nonstrict = this.passthrough;\n    this.augment = this.extend;\n  }\n  _getCached() {\n    if (this._cached !== null)\n      return this._cached;\n    const shape = this._def.shape();\n    const keys = util.objectKeys(shape);\n    return this._cached = { shape, keys };\n  }\n  _parse(input) {\n    const parsedType = this._getType(input);\n    if (parsedType !== ZodParsedType.object) {\n      const ctx2 = this._getOrReturnCtx(input);\n      addIssueToContext(ctx2, {\n        code: ZodIssueCode.invalid_type,\n        expected: ZodParsedType.object,\n        received: ctx2.parsedType\n      });\n      return INVALID;\n    }\n    const { status, ctx } = this._processInputParams(input);\n    const { shape, keys: shapeKeys } = this._getCached();\n    const extraKeys = [];\n    if (!(this._def.catchall instanceof ZodNever && this._def.unknownKeys === \"strip\")) {\n      for (const key in ctx.data) {\n        if (!shapeKeys.includes(key)) {\n          extraKeys.push(key);\n        }\n      }\n    }\n    const pairs = [];\n    for (const key of shapeKeys) {\n      const keyValidator = shape[key];\n      const value = ctx.data[key];\n      pairs.push({\n        key: { status: \"valid\", value: key },\n        value: keyValidator._parse(new ParseInputLazyPath(ctx, value, ctx.path, key)),\n        alwaysSet: key in ctx.data\n      });\n    }\n    if (this._def.catchall instanceof ZodNever) {\n      const unknownKeys = this._def.unknownKeys;\n      if (unknownKeys === \"passthrough\") {\n        for (const key of extraKeys) {\n          pairs.push({\n            key: { status: \"valid\", value: key },\n            value: { status: \"valid\", value: ctx.data[key] }\n          });\n        }\n      } else if (unknownKeys === \"strict\") {\n        if (extraKeys.length > 0) {\n          addIssueToContext(ctx, {\n            code: ZodIssueCode.unrecognized_keys,\n            keys: extraKeys\n          });\n          status.dirty();\n        }\n      } else if (unknownKeys === \"strip\") ;\n      else {\n        throw new Error(`Internal ZodObject error: invalid unknownKeys value.`);\n      }\n    } else {\n      const catchall = this._def.catchall;\n      for (const key of extraKeys) {\n        const value = ctx.data[key];\n        pairs.push({\n          key: { status: \"valid\", value: key },\n          value: catchall._parse(\n            new ParseInputLazyPath(ctx, value, ctx.path, key)\n            //, ctx.child(key), value, getParsedType(value)\n          ),\n          alwaysSet: key in ctx.data\n        });\n      }\n    }\n    if (ctx.common.async) {\n      return Promise.resolve().then(async () => {\n        const syncPairs = [];\n        for (const pair of pairs) {\n          const key = await pair.key;\n          const value = await pair.value;\n          syncPairs.push({\n            key,\n            value,\n            alwaysSet: pair.alwaysSet\n          });\n        }\n        return syncPairs;\n      }).then((syncPairs) => {\n        return ParseStatus.mergeObjectSync(status, syncPairs);\n      });\n    } else {\n      return ParseStatus.mergeObjectSync(status, pairs);\n    }\n  }\n  get shape() {\n    return this._def.shape();\n  }\n  strict(message) {\n    errorUtil.errToObj;\n    return new ZodObject({\n      ...this._def,\n      unknownKeys: \"strict\",\n      ...message !== void 0 ? {\n        errorMap: (issue, ctx) => {\n          var _a, _b, _c, _d;\n          const defaultError = (_c = (_b = (_a = this._def).errorMap) === null || _b === void 0 ? void 0 : _b.call(_a, issue, ctx).message) !== null && _c !== void 0 ? _c : ctx.defaultError;\n          if (issue.code === \"unrecognized_keys\")\n            return {\n              message: (_d = errorUtil.errToObj(message).message) !== null && _d !== void 0 ? _d : defaultError\n            };\n          return {\n            message: defaultError\n          };\n        }\n      } : {}\n    });\n  }\n  strip() {\n    return new ZodObject({\n      ...this._def,\n      unknownKeys: \"strip\"\n    });\n  }\n  passthrough() {\n    return new ZodObject({\n      ...this._def,\n      unknownKeys: \"passthrough\"\n    });\n  }\n  // const AugmentFactory =\n  //   <Def extends ZodObjectDef>(def: Def) =>\n  //   <Augmentation extends ZodRawShape>(\n  //     augmentation: Augmentation\n  //   ): ZodObject<\n  //     extendShape<ReturnType<Def[\"shape\"]>, Augmentation>,\n  //     Def[\"unknownKeys\"],\n  //     Def[\"catchall\"]\n  //   > => {\n  //     return new ZodObject({\n  //       ...def,\n  //       shape: () => ({\n  //         ...def.shape(),\n  //         ...augmentation,\n  //       }),\n  //     }) as any;\n  //   };\n  extend(augmentation) {\n    return new ZodObject({\n      ...this._def,\n      shape: () => ({\n        ...this._def.shape(),\n        ...augmentation\n      })\n    });\n  }\n  /**\n   * Prior to zod@1.0.12 there was a bug in the\n   * inferred type of merged objects. Please\n   * upgrade if you are experiencing issues.\n   */\n  merge(merging) {\n    const merged = new ZodObject({\n      unknownKeys: merging._def.unknownKeys,\n      catchall: merging._def.catchall,\n      shape: () => ({\n        ...this._def.shape(),\n        ...merging._def.shape()\n      }),\n      typeName: ZodFirstPartyTypeKind.ZodObject\n    });\n    return merged;\n  }\n  // merge<\n  //   Incoming extends AnyZodObject,\n  //   Augmentation extends Incoming[\"shape\"],\n  //   NewOutput extends {\n  //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation\n  //       ? Augmentation[k][\"_output\"]\n  //       : k extends keyof Output\n  //       ? Output[k]\n  //       : never;\n  //   },\n  //   NewInput extends {\n  //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation\n  //       ? Augmentation[k][\"_input\"]\n  //       : k extends keyof Input\n  //       ? Input[k]\n  //       : never;\n  //   }\n  // >(\n  //   merging: Incoming\n  // ): ZodObject<\n  //   extendShape<T, ReturnType<Incoming[\"_def\"][\"shape\"]>>,\n  //   Incoming[\"_def\"][\"unknownKeys\"],\n  //   Incoming[\"_def\"][\"catchall\"],\n  //   NewOutput,\n  //   NewInput\n  // > {\n  //   const merged: any = new ZodObject({\n  //     unknownKeys: merging._def.unknownKeys,\n  //     catchall: merging._def.catchall,\n  //     shape: () =>\n  //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),\n  //     typeName: ZodFirstPartyTypeKind.ZodObject,\n  //   }) as any;\n  //   return merged;\n  // }\n  setKey(key, schema) {\n    return this.augment({ [key]: schema });\n  }\n  // merge<Incoming extends AnyZodObject>(\n  //   merging: Incoming\n  // ): //ZodObject<T & Incoming[\"_shape\"], UnknownKeys, Catchall> = (merging) => {\n  // ZodObject<\n  //   extendShape<T, ReturnType<Incoming[\"_def\"][\"shape\"]>>,\n  //   Incoming[\"_def\"][\"unknownKeys\"],\n  //   Incoming[\"_def\"][\"catchall\"]\n  // > {\n  //   // const mergedShape = objectUtil.mergeShapes(\n  //   //   this._def.shape(),\n  //   //   merging._def.shape()\n  //   // );\n  //   const merged: any = new ZodObject({\n  //     unknownKeys: merging._def.unknownKeys,\n  //     catchall: merging._def.catchall,\n  //     shape: () =>\n  //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),\n  //     typeName: ZodFirstPartyTypeKind.ZodObject,\n  //   }) as any;\n  //   return merged;\n  // }\n  catchall(index2) {\n    return new ZodObject({\n      ...this._def,\n      catchall: index2\n    });\n  }\n  pick(mask) {\n    const shape = {};\n    util.objectKeys(mask).forEach((key) => {\n      if (mask[key] && this.shape[key]) {\n        shape[key] = this.shape[key];\n      }\n    });\n    return new ZodObject({\n      ...this._def,\n      shape: () => shape\n    });\n  }\n  omit(mask) {\n    const shape = {};\n    util.objectKeys(this.shape).forEach((key) => {\n      if (!mask[key]) {\n        shape[key] = this.shape[key];\n      }\n    });\n    return new ZodObject({\n      ...this._def,\n      shape: () => shape\n    });\n  }\n  /**\n   * @deprecated\n   */\n  deepPartial() {\n    return deepPartialify(this);\n  }\n  partial(mask) {\n    const newShape = {};\n    util.objectKeys(this.shape).forEach((key) => {\n      const fieldSchema = this.shape[key];\n      if (mask && !mask[key]) {\n        newShape[key] = fieldSchema;\n      } else {\n        newShape[key] = fieldSchema.optional();\n      }\n    });\n    return new ZodObject({\n      ...this._def,\n      shape: () => newShape\n    });\n  }\n  required(mask) {\n    const newShape = {};\n    util.objectKeys(this.shape).forEach((key) => {\n      if (mask && !mask[key]) {\n        newShape[key] = this.shape[key];\n      } else {\n        const fieldSchema = this.shape[key];\n        let newField = fieldSchema;\n        while (newField instanceof ZodOptional) {\n          newField = newField._def.innerType;\n        }\n        newShape[key] = newField;\n      }\n    });\n    return new ZodObject({\n      ...this._def,\n      shape: () => newShape\n    });\n  }\n  keyof() {\n    return createZodEnum(util.objectKeys(this.shape));\n  }\n}\nZodObject.create = (shape, params) => {\n  return new ZodObject({\n    shape: () => shape,\n    unknownKeys: \"strip\",\n    catchall: ZodNever.create(),\n    typeName: ZodFirstPartyTypeKind.ZodObject,\n    ...processCreateParams(params)\n  });\n};\nZodObject.strictCreate = (shape, params) => {\n  return new ZodObject({\n    shape: () => shape,\n    unknownKeys: \"strict\",\n    catchall: ZodNever.create(),\n    typeName: ZodFirstPartyTypeKind.ZodObject,\n    ...processCreateParams(params)\n  });\n};\nZodObject.lazycreate = (shape, params) => {\n  return new ZodObject({\n    shape,\n    unknownKeys: \"strip\",\n    catchall: ZodNever.create(),\n    typeName: ZodFirstPartyTypeKind.ZodObject,\n    ...processCreateParams(params)\n  });\n};\nclass ZodUnion extends ZodType {\n  _parse(input) {\n    const { ctx } = this._processInputParams(input);\n    const options = this._def.options;\n    function handleResults(results) {\n      for (const result of results) {\n        if (result.result.status === \"valid\") {\n          return result.result;\n        }\n      }\n      for (const result of results) {\n        if (result.result.status === \"dirty\") {\n          ctx.common.issues.push(...result.ctx.common.issues);\n          return result.result;\n        }\n      }\n      const unionErrors = results.map((result) => new ZodError(result.ctx.common.issues));\n      addIssueToContext(ctx, {\n        code: ZodIssueCode.invalid_union,\n        unionErrors\n      });\n      return INVALID;\n    }\n    if (ctx.common.async) {\n      return Promise.all(options.map(async (option) => {\n        const childCtx = {\n          ...ctx,\n          common: {\n            ...ctx.common,\n            issues: []\n          },\n          parent: null\n        };\n        return {\n          result: await option._parseAsync({\n            data: ctx.data,\n            path: ctx.path,\n            parent: childCtx\n          }),\n          ctx: childCtx\n        };\n      })).then(handleResults);\n    } else {\n      let dirty = void 0;\n      const issues = [];\n      for (const option of options) {\n        const childCtx = {\n          ...ctx,\n          common: {\n            ...ctx.common,\n            issues: []\n          },\n          parent: null\n        };\n        const result = option._parseSync({\n          data: ctx.data,\n          path: ctx.path,\n          parent: childCtx\n        });\n        if (result.status === \"valid\") {\n          return result;\n        } else if (result.status === \"dirty\" && !dirty) {\n          dirty = { result, ctx: childCtx };\n        }\n        if (childCtx.common.issues.length) {\n          issues.push(childCtx.common.issues);\n        }\n      }\n      if (dirty) {\n        ctx.common.issues.push(...dirty.ctx.common.issues);\n        return dirty.result;\n      }\n      const unionErrors = issues.map((issues2) => new ZodError(issues2));\n      addIssueToContext(ctx, {\n        code: ZodIssueCode.invalid_union,\n        unionErrors\n      });\n      return INVALID;\n    }\n  }\n  get options() {\n    return this._def.options;\n  }\n}\nZodUnion.create = (types, params) => {\n  return new ZodUnion({\n    options: types,\n    typeName: ZodFirstPartyTypeKind.ZodUnion,\n    ...processCreateParams(params)\n  });\n};\nconst getDiscriminator = (type) => {\n  if (type instanceof ZodLazy) {\n    return getDiscriminator(type.schema);\n  } else if (type instanceof ZodEffects) {\n    return getDiscriminator(type.innerType());\n  } else if (type instanceof ZodLiteral) {\n    return [type.value];\n  } else if (type instanceof ZodEnum) {\n    return type.options;\n  } else if (type instanceof ZodNativeEnum) {\n    return util.objectValues(type.enum);\n  } else if (type instanceof ZodDefault) {\n    return getDiscriminator(type._def.innerType);\n  } else if (type instanceof ZodUndefined) {\n    return [void 0];\n  } else if (type instanceof ZodNull) {\n    return [null];\n  } else if (type instanceof ZodOptional) {\n    return [void 0, ...getDiscriminator(type.unwrap())];\n  } else if (type instanceof ZodNullable) {\n    return [null, ...getDiscriminator(type.unwrap())];\n  } else if (type instanceof ZodBranded) {\n    return getDiscriminator(type.unwrap());\n  } else if (type instanceof ZodReadonly) {\n    return getDiscriminator(type.unwrap());\n  } else if (type instanceof ZodCatch) {\n    return getDiscriminator(type._def.innerType);\n  } else {\n    return [];\n  }\n};\nclass ZodDiscriminatedUnion extends ZodType {\n  _parse(input) {\n    const { ctx } = this._processInputParams(input);\n    if (ctx.parsedType !== ZodParsedType.object) {\n      addIssueToContext(ctx, {\n        code: ZodIssueCode.invalid_type,\n        expected: ZodParsedType.object,\n        received: ctx.parsedType\n      });\n      return INVALID;\n    }\n    const discriminator = this.discriminator;\n    const discriminatorValue = ctx.data[discriminator];\n    const option = this.optionsMap.get(discriminatorValue);\n    if (!option) {\n      addIssueToContext(ctx, {\n        code: ZodIssueCode.invalid_union_discriminator,\n        options: Array.from(this.optionsMap.keys()),\n        path: [discriminator]\n      });\n      return INVALID;\n    }\n    if (ctx.common.async) {\n      return option._parseAsync({\n        data: ctx.data,\n        path: ctx.path,\n        parent: ctx\n      });\n    } else {\n      return option._parseSync({\n        data: ctx.data,\n        path: ctx.path,\n        parent: ctx\n      });\n    }\n  }\n  get discriminator() {\n    return this._def.discriminator;\n  }\n  get options() {\n    return this._def.options;\n  }\n  get optionsMap() {\n    return this._def.optionsMap;\n  }\n  /**\n   * The constructor of the discriminated union schema. Its behaviour is very similar to that of the normal z.union() constructor.\n   * However, it only allows a union of objects, all of which need to share a discriminator property. This property must\n   * have a different value for each object in the union.\n   * @param discriminator the name of the discriminator property\n   * @param types an array of object schemas\n   * @param params\n   */\n  static create(discriminator, options, params) {\n    const optionsMap = /* @__PURE__ */ new Map();\n    for (const type of options) {\n      const discriminatorValues = getDiscriminator(type.shape[discriminator]);\n      if (!discriminatorValues.length) {\n        throw new Error(`A discriminator value for key \\`${discriminator}\\` could not be extracted from all schema options`);\n      }\n      for (const value of discriminatorValues) {\n        if (optionsMap.has(value)) {\n          throw new Error(`Discriminator property ${String(discriminator)} has duplicate value ${String(value)}`);\n        }\n        optionsMap.set(value, type);\n      }\n    }\n    return new ZodDiscriminatedUnion({\n      typeName: ZodFirstPartyTypeKind.ZodDiscriminatedUnion,\n      discriminator,\n      options,\n      optionsMap,\n      ...processCreateParams(params)\n    });\n  }\n}\nfunction mergeValues(a3, b2) {\n  const aType = getParsedType(a3);\n  const bType = getParsedType(b2);\n  if (a3 === b2) {\n    return { valid: true, data: a3 };\n  } else if (aType === ZodParsedType.object && bType === ZodParsedType.object) {\n    const bKeys = util.objectKeys(b2);\n    const sharedKeys = util.objectKeys(a3).filter((key) => bKeys.indexOf(key) !== -1);\n    const newObj = { ...a3, ...b2 };\n    for (const key of sharedKeys) {\n      const sharedValue = mergeValues(a3[key], b2[key]);\n      if (!sharedValue.valid) {\n        return { valid: false };\n      }\n      newObj[key] = sharedValue.data;\n    }\n    return { valid: true, data: newObj };\n  } else if (aType === ZodParsedType.array && bType === ZodParsedType.array) {\n    if (a3.length !== b2.length) {\n      return { valid: false };\n    }\n    const newArray = [];\n    for (let index2 = 0; index2 < a3.length; index2++) {\n      const itemA = a3[index2];\n      const itemB = b2[index2];\n      const sharedValue = mergeValues(itemA, itemB);\n      if (!sharedValue.valid) {\n        return { valid: false };\n      }\n      newArray.push(sharedValue.data);\n    }\n    return { valid: true, data: newArray };\n  } else if (aType === ZodParsedType.date && bType === ZodParsedType.date && +a3 === +b2) {\n    return { valid: true, data: a3 };\n  } else {\n    return { valid: false };\n  }\n}\nclass ZodIntersection extends ZodType {\n  _parse(input) {\n    const { status, ctx } = this._processInputParams(input);\n    const handleParsed = (parsedLeft, parsedRight) => {\n      if (isAborted(parsedLeft) || isAborted(parsedRight)) {\n        return INVALID;\n      }\n      const merged = mergeValues(parsedLeft.value, parsedRight.value);\n      if (!merged.valid) {\n        addIssueToContext(ctx, {\n          code: ZodIssueCode.invalid_intersection_types\n        });\n        return INVALID;\n      }\n      if (isDirty(parsedLeft) || isDirty(parsedRight)) {\n        status.dirty();\n      }\n      return { status: status.value, value: merged.data };\n    };\n    if (ctx.common.async) {\n      return Promise.all([\n        this._def.left._parseAsync({\n          data: ctx.data,\n          path: ctx.path,\n          parent: ctx\n        }),\n        this._def.right._parseAsync({\n          data: ctx.data,\n          path: ctx.path,\n          parent: ctx\n        })\n      ]).then(([left, right]) => handleParsed(left, right));\n    } else {\n      return handleParsed(this._def.left._parseSync({\n        data: ctx.data,\n        path: ctx.path,\n        parent: ctx\n      }), this._def.right._parseSync({\n        data: ctx.data,\n        path: ctx.path,\n        parent: ctx\n      }));\n    }\n  }\n}\nZodIntersection.create = (left, right, params) => {\n  return new ZodIntersection({\n    left,\n    right,\n    typeName: ZodFirstPartyTypeKind.ZodIntersection,\n    ...processCreateParams(params)\n  });\n};\nclass ZodTuple extends ZodType {\n  _parse(input) {\n    const { status, ctx } = this._processInputParams(input);\n    if (ctx.parsedType !== ZodParsedType.array) {\n      addIssueToContext(ctx, {\n        code: ZodIssueCode.invalid_type,\n        expected: ZodParsedType.array,\n        received: ctx.parsedType\n      });\n      return INVALID;\n    }\n    if (ctx.data.length < this._def.items.length) {\n      addIssueToContext(ctx, {\n        code: ZodIssueCode.too_small,\n        minimum: this._def.items.length,\n        inclusive: true,\n        exact: false,\n        type: \"array\"\n      });\n      return INVALID;\n    }\n    const rest = this._def.rest;\n    if (!rest && ctx.data.length > this._def.items.length) {\n      addIssueToContext(ctx, {\n        code: ZodIssueCode.too_big,\n        maximum: this._def.items.length,\n        inclusive: true,\n        exact: false,\n        type: \"array\"\n      });\n      status.dirty();\n    }\n    const items = [...ctx.data].map((item, itemIndex) => {\n      const schema = this._def.items[itemIndex] || this._def.rest;\n      if (!schema)\n        return null;\n      return schema._parse(new ParseInputLazyPath(ctx, item, ctx.path, itemIndex));\n    }).filter((x2) => !!x2);\n    if (ctx.common.async) {\n      return Promise.all(items).then((results) => {\n        return ParseStatus.mergeArray(status, results);\n      });\n    } else {\n      return ParseStatus.mergeArray(status, items);\n    }\n  }\n  get items() {\n    return this._def.items;\n  }\n  rest(rest) {\n    return new ZodTuple({\n      ...this._def,\n      rest\n    });\n  }\n}\nZodTuple.create = (schemas, params) => {\n  if (!Array.isArray(schemas)) {\n    throw new Error(\"You must pass an array of schemas to z.tuple([ ... ])\");\n  }\n  return new ZodTuple({\n    items: schemas,\n    typeName: ZodFirstPartyTypeKind.ZodTuple,\n    rest: null,\n    ...processCreateParams(params)\n  });\n};\nclass ZodRecord extends ZodType {\n  get keySchema() {\n    return this._def.keyType;\n  }\n  get valueSchema() {\n    return this._def.valueType;\n  }\n  _parse(input) {\n    const { status, ctx } = this._processInputParams(input);\n    if (ctx.parsedType !== ZodParsedType.object) {\n      addIssueToContext(ctx, {\n        code: ZodIssueCode.invalid_type,\n        expected: ZodParsedType.object,\n        received: ctx.parsedType\n      });\n      return INVALID;\n    }\n    const pairs = [];\n    const keyType = this._def.keyType;\n    const valueType = this._def.valueType;\n    for (const key in ctx.data) {\n      pairs.push({\n        key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, key)),\n        value: valueType._parse(new ParseInputLazyPath(ctx, ctx.data[key], ctx.path, key)),\n        alwaysSet: key in ctx.data\n      });\n    }\n    if (ctx.common.async) {\n      return ParseStatus.mergeObjectAsync(status, pairs);\n    } else {\n      return ParseStatus.mergeObjectSync(status, pairs);\n    }\n  }\n  get element() {\n    return this._def.valueType;\n  }\n  static create(first, second, third) {\n    if (second instanceof ZodType) {\n      return new ZodRecord({\n        keyType: first,\n        valueType: second,\n        typeName: ZodFirstPartyTypeKind.ZodRecord,\n        ...processCreateParams(third)\n      });\n    }\n    return new ZodRecord({\n      keyType: ZodString.create(),\n      valueType: first,\n      typeName: ZodFirstPartyTypeKind.ZodRecord,\n      ...processCreateParams(second)\n    });\n  }\n}\nclass ZodMap extends ZodType {\n  get keySchema() {\n    return this._def.keyType;\n  }\n  get valueSchema() {\n    return this._def.valueType;\n  }\n  _parse(input) {\n    const { status, ctx } = this._processInputParams(input);\n    if (ctx.parsedType !== ZodParsedType.map) {\n      addIssueToContext(ctx, {\n        code: ZodIssueCode.invalid_type,\n        expected: ZodParsedType.map,\n        received: ctx.parsedType\n      });\n      return INVALID;\n    }\n    const keyType = this._def.keyType;\n    const valueType = this._def.valueType;\n    const pairs = [...ctx.data.entries()].map(([key, value], index2) => {\n      return {\n        key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, [index2, \"key\"])),\n        value: valueType._parse(new ParseInputLazyPath(ctx, value, ctx.path, [index2, \"value\"]))\n      };\n    });\n    if (ctx.common.async) {\n      const finalMap = /* @__PURE__ */ new Map();\n      return Promise.resolve().then(async () => {\n        for (const pair of pairs) {\n          const key = await pair.key;\n          const value = await pair.value;\n          if (key.status === \"aborted\" || value.status === \"aborted\") {\n            return INVALID;\n          }\n          if (key.status === \"dirty\" || value.status === \"dirty\") {\n            status.dirty();\n          }\n          finalMap.set(key.value, value.value);\n        }\n        return { status: status.value, value: finalMap };\n      });\n    } else {\n      const finalMap = /* @__PURE__ */ new Map();\n      for (const pair of pairs) {\n        const key = pair.key;\n        const value = pair.value;\n        if (key.status === \"aborted\" || value.status === \"aborted\") {\n          return INVALID;\n        }\n        if (key.status === \"dirty\" || value.status === \"dirty\") {\n          status.dirty();\n        }\n        finalMap.set(key.value, value.value);\n      }\n      return { status: status.value, value: finalMap };\n    }\n  }\n}\nZodMap.create = (keyType, valueType, params) => {\n  return new ZodMap({\n    valueType,\n    keyType,\n    typeName: ZodFirstPartyTypeKind.ZodMap,\n    ...processCreateParams(params)\n  });\n};\nclass ZodSet extends ZodType {\n  _parse(input) {\n    const { status, ctx } = this._processInputParams(input);\n    if (ctx.parsedType !== ZodParsedType.set) {\n      addIssueToContext(ctx, {\n        code: ZodIssueCode.invalid_type,\n        expected: ZodParsedType.set,\n        received: ctx.parsedType\n      });\n      return INVALID;\n    }\n    const def = this._def;\n    if (def.minSize !== null) {\n      if (ctx.data.size < def.minSize.value) {\n        addIssueToContext(ctx, {\n          code: ZodIssueCode.too_small,\n          minimum: def.minSize.value,\n          type: \"set\",\n          inclusive: true,\n          exact: false,\n          message: def.minSize.message\n        });\n        status.dirty();\n      }\n    }\n    if (def.maxSize !== null) {\n      if (ctx.data.size > def.maxSize.value) {\n        addIssueToContext(ctx, {\n          code: ZodIssueCode.too_big,\n          maximum: def.maxSize.value,\n          type: \"set\",\n          inclusive: true,\n          exact: false,\n          message: def.maxSize.message\n        });\n        status.dirty();\n      }\n    }\n    const valueType = this._def.valueType;\n    function finalizeSet(elements2) {\n      const parsedSet = /* @__PURE__ */ new Set();\n      for (const element of elements2) {\n        if (element.status === \"aborted\")\n          return INVALID;\n        if (element.status === \"dirty\")\n          status.dirty();\n        parsedSet.add(element.value);\n      }\n      return { status: status.value, value: parsedSet };\n    }\n    const elements = [...ctx.data.values()].map((item, i2) => valueType._parse(new ParseInputLazyPath(ctx, item, ctx.path, i2)));\n    if (ctx.common.async) {\n      return Promise.all(elements).then((elements2) => finalizeSet(elements2));\n    } else {\n      return finalizeSet(elements);\n    }\n  }\n  min(minSize, message) {\n    return new ZodSet({\n      ...this._def,\n      minSize: { value: minSize, message: errorUtil.toString(message) }\n    });\n  }\n  max(maxSize, message) {\n    return new ZodSet({\n      ...this._def,\n      maxSize: { value: maxSize, message: errorUtil.toString(message) }\n    });\n  }\n  size(size2, message) {\n    return this.min(size2, message).max(size2, message);\n  }\n  nonempty(message) {\n    return this.min(1, message);\n  }\n}\nZodSet.create = (valueType, params) => {\n  return new ZodSet({\n    valueType,\n    minSize: null,\n    maxSize: null,\n    typeName: ZodFirstPartyTypeKind.ZodSet,\n    ...processCreateParams(params)\n  });\n};\nclass ZodFunction extends ZodType {\n  constructor() {\n    super(...arguments);\n    this.validate = this.implement;\n  }\n  _parse(input) {\n    const { ctx } = this._processInputParams(input);\n    if (ctx.parsedType !== ZodParsedType.function) {\n      addIssueToContext(ctx, {\n        code: ZodIssueCode.invalid_type,\n        expected: ZodParsedType.function,\n        received: ctx.parsedType\n      });\n      return INVALID;\n    }\n    function makeArgsIssue(args, error2) {\n      return makeIssue({\n        data: args,\n        path: ctx.path,\n        errorMaps: [\n          ctx.common.contextualErrorMap,\n          ctx.schemaErrorMap,\n          getErrorMap(),\n          errorMap\n        ].filter((x2) => !!x2),\n        issueData: {\n          code: ZodIssueCode.invalid_arguments,\n          argumentsError: error2\n        }\n      });\n    }\n    function makeReturnsIssue(returns, error2) {\n      return makeIssue({\n        data: returns,\n        path: ctx.path,\n        errorMaps: [\n          ctx.common.contextualErrorMap,\n          ctx.schemaErrorMap,\n          getErrorMap(),\n          errorMap\n        ].filter((x2) => !!x2),\n        issueData: {\n          code: ZodIssueCode.invalid_return_type,\n          returnTypeError: error2\n        }\n      });\n    }\n    const params = { errorMap: ctx.common.contextualErrorMap };\n    const fn2 = ctx.data;\n    if (this._def.returns instanceof ZodPromise) {\n      const me = this;\n      return OK(async function(...args) {\n        const error2 = new ZodError([]);\n        const parsedArgs = await me._def.args.parseAsync(args, params).catch((e2) => {\n          error2.addIssue(makeArgsIssue(args, e2));\n          throw error2;\n        });\n        const result = await Reflect.apply(fn2, this, parsedArgs);\n        const parsedReturns = await me._def.returns._def.type.parseAsync(result, params).catch((e2) => {\n          error2.addIssue(makeReturnsIssue(result, e2));\n          throw error2;\n        });\n        return parsedReturns;\n      });\n    } else {\n      const me = this;\n      return OK(function(...args) {\n        const parsedArgs = me._def.args.safeParse(args, params);\n        if (!parsedArgs.success) {\n          throw new ZodError([makeArgsIssue(args, parsedArgs.error)]);\n        }\n        const result = Reflect.apply(fn2, this, parsedArgs.data);\n        const parsedReturns = me._def.returns.safeParse(result, params);\n        if (!parsedReturns.success) {\n          throw new ZodError([makeReturnsIssue(result, parsedReturns.error)]);\n        }\n        return parsedReturns.data;\n      });\n    }\n  }\n  parameters() {\n    return this._def.args;\n  }\n  returnType() {\n    return this._def.returns;\n  }\n  args(...items) {\n    return new ZodFunction({\n      ...this._def,\n      args: ZodTuple.create(items).rest(ZodUnknown.create())\n    });\n  }\n  returns(returnType) {\n    return new ZodFunction({\n      ...this._def,\n      returns: returnType\n    });\n  }\n  implement(func) {\n    const validatedFunc = this.parse(func);\n    return validatedFunc;\n  }\n  strictImplement(func) {\n    const validatedFunc = this.parse(func);\n    return validatedFunc;\n  }\n  static create(args, returns, params) {\n    return new ZodFunction({\n      args: args ? args : ZodTuple.create([]).rest(ZodUnknown.create()),\n      returns: returns || ZodUnknown.create(),\n      typeName: ZodFirstPartyTypeKind.ZodFunction,\n      ...processCreateParams(params)\n    });\n  }\n}\nclass ZodLazy extends ZodType {\n  get schema() {\n    return this._def.getter();\n  }\n  _parse(input) {\n    const { ctx } = this._processInputParams(input);\n    const lazySchema = this._def.getter();\n    return lazySchema._parse({ data: ctx.data, path: ctx.path, parent: ctx });\n  }\n}\nZodLazy.create = (getter, params) => {\n  return new ZodLazy({\n    getter,\n    typeName: ZodFirstPartyTypeKind.ZodLazy,\n    ...processCreateParams(params)\n  });\n};\nclass ZodLiteral extends ZodType {\n  _parse(input) {\n    if (input.data !== this._def.value) {\n      const ctx = this._getOrReturnCtx(input);\n      addIssueToContext(ctx, {\n        received: ctx.data,\n        code: ZodIssueCode.invalid_literal,\n        expected: this._def.value\n      });\n      return INVALID;\n    }\n    return { status: \"valid\", value: input.data };\n  }\n  get value() {\n    return this._def.value;\n  }\n}\nZodLiteral.create = (value, params) => {\n  return new ZodLiteral({\n    value,\n    typeName: ZodFirstPartyTypeKind.ZodLiteral,\n    ...processCreateParams(params)\n  });\n};\nfunction createZodEnum(values, params) {\n  return new ZodEnum({\n    values,\n    typeName: ZodFirstPartyTypeKind.ZodEnum,\n    ...processCreateParams(params)\n  });\n}\nclass ZodEnum extends ZodType {\n  constructor() {\n    super(...arguments);\n    _ZodEnum_cache.set(this, void 0);\n  }\n  _parse(input) {\n    if (typeof input.data !== \"string\") {\n      const ctx = this._getOrReturnCtx(input);\n      const expectedValues = this._def.values;\n      addIssueToContext(ctx, {\n        expected: util.joinValues(expectedValues),\n        received: ctx.parsedType,\n        code: ZodIssueCode.invalid_type\n      });\n      return INVALID;\n    }\n    if (!__classPrivateFieldGet(this, _ZodEnum_cache)) {\n      __classPrivateFieldSet(this, _ZodEnum_cache, new Set(this._def.values));\n    }\n    if (!__classPrivateFieldGet(this, _ZodEnum_cache).has(input.data)) {\n      const ctx = this._getOrReturnCtx(input);\n      const expectedValues = this._def.values;\n      addIssueToContext(ctx, {\n        received: ctx.data,\n        code: ZodIssueCode.invalid_enum_value,\n        options: expectedValues\n      });\n      return INVALID;\n    }\n    return OK(input.data);\n  }\n  get options() {\n    return this._def.values;\n  }\n  get enum() {\n    const enumValues = {};\n    for (const val of this._def.values) {\n      enumValues[val] = val;\n    }\n    return enumValues;\n  }\n  get Values() {\n    const enumValues = {};\n    for (const val of this._def.values) {\n      enumValues[val] = val;\n    }\n    return enumValues;\n  }\n  get Enum() {\n    const enumValues = {};\n    for (const val of this._def.values) {\n      enumValues[val] = val;\n    }\n    return enumValues;\n  }\n  extract(values, newDef = this._def) {\n    return ZodEnum.create(values, {\n      ...this._def,\n      ...newDef\n    });\n  }\n  exclude(values, newDef = this._def) {\n    return ZodEnum.create(this.options.filter((opt) => !values.includes(opt)), {\n      ...this._def,\n      ...newDef\n    });\n  }\n}\n_ZodEnum_cache = /* @__PURE__ */ new WeakMap();\nZodEnum.create = createZodEnum;\nclass ZodNativeEnum extends ZodType {\n  constructor() {\n    super(...arguments);\n    _ZodNativeEnum_cache.set(this, void 0);\n  }\n  _parse(input) {\n    const nativeEnumValues = util.getValidEnumValues(this._def.values);\n    const ctx = this._getOrReturnCtx(input);\n    if (ctx.parsedType !== ZodParsedType.string && ctx.parsedType !== ZodParsedType.number) {\n      const expectedValues = util.objectValues(nativeEnumValues);\n      addIssueToContext(ctx, {\n        expected: util.joinValues(expectedValues),\n        received: ctx.parsedType,\n        code: ZodIssueCode.invalid_type\n      });\n      return INVALID;\n    }\n    if (!__classPrivateFieldGet(this, _ZodNativeEnum_cache)) {\n      __classPrivateFieldSet(this, _ZodNativeEnum_cache, new Set(util.getValidEnumValues(this._def.values)));\n    }\n    if (!__classPrivateFieldGet(this, _ZodNativeEnum_cache).has(input.data)) {\n      const expectedValues = util.objectValues(nativeEnumValues);\n      addIssueToContext(ctx, {\n        received: ctx.data,\n        code: ZodIssueCode.invalid_enum_value,\n        options: expectedValues\n      });\n      return INVALID;\n    }\n    return OK(input.data);\n  }\n  get enum() {\n    return this._def.values;\n  }\n}\n_ZodNativeEnum_cache = /* @__PURE__ */ new WeakMap();\nZodNativeEnum.create = (values, params) => {\n  return new ZodNativeEnum({\n    values,\n    typeName: ZodFirstPartyTypeKind.ZodNativeEnum,\n    ...processCreateParams(params)\n  });\n};\nclass ZodPromise extends ZodType {\n  unwrap() {\n    return this._def.type;\n  }\n  _parse(input) {\n    const { ctx } = this._processInputParams(input);\n    if (ctx.parsedType !== ZodParsedType.promise && ctx.common.async === false) {\n      addIssueToContext(ctx, {\n        code: ZodIssueCode.invalid_type,\n        expected: ZodParsedType.promise,\n        received: ctx.parsedType\n      });\n      return INVALID;\n    }\n    const promisified = ctx.parsedType === ZodParsedType.promise ? ctx.data : Promise.resolve(ctx.data);\n    return OK(promisified.then((data) => {\n      return this._def.type.parseAsync(data, {\n        path: ctx.path,\n        errorMap: ctx.common.contextualErrorMap\n      });\n    }));\n  }\n}\nZodPromise.create = (schema, params) => {\n  return new ZodPromise({\n    type: schema,\n    typeName: ZodFirstPartyTypeKind.ZodPromise,\n    ...processCreateParams(params)\n  });\n};\nclass ZodEffects extends ZodType {\n  innerType() {\n    return this._def.schema;\n  }\n  sourceType() {\n    return this._def.schema._def.typeName === ZodFirstPartyTypeKind.ZodEffects ? this._def.schema.sourceType() : this._def.schema;\n  }\n  _parse(input) {\n    const { status, ctx } = this._processInputParams(input);\n    const effect = this._def.effect || null;\n    const checkCtx = {\n      addIssue: (arg) => {\n        addIssueToContext(ctx, arg);\n        if (arg.fatal) {\n          status.abort();\n        } else {\n          status.dirty();\n        }\n      },\n      get path() {\n        return ctx.path;\n      }\n    };\n    checkCtx.addIssue = checkCtx.addIssue.bind(checkCtx);\n    if (effect.type === \"preprocess\") {\n      const processed = effect.transform(ctx.data, checkCtx);\n      if (ctx.common.async) {\n        return Promise.resolve(processed).then(async (processed2) => {\n          if (status.value === \"aborted\")\n            return INVALID;\n          const result = await this._def.schema._parseAsync({\n            data: processed2,\n            path: ctx.path,\n            parent: ctx\n          });\n          if (result.status === \"aborted\")\n            return INVALID;\n          if (result.status === \"dirty\")\n            return DIRTY(result.value);\n          if (status.value === \"dirty\")\n            return DIRTY(result.value);\n          return result;\n        });\n      } else {\n        if (status.value === \"aborted\")\n          return INVALID;\n        const result = this._def.schema._parseSync({\n          data: processed,\n          path: ctx.path,\n          parent: ctx\n        });\n        if (result.status === \"aborted\")\n          return INVALID;\n        if (result.status === \"dirty\")\n          return DIRTY(result.value);\n        if (status.value === \"dirty\")\n          return DIRTY(result.value);\n        return result;\n      }\n    }\n    if (effect.type === \"refinement\") {\n      const executeRefinement = (acc) => {\n        const result = effect.refinement(acc, checkCtx);\n        if (ctx.common.async) {\n          return Promise.resolve(result);\n        }\n        if (result instanceof Promise) {\n          throw new Error(\"Async refinement encountered during synchronous parse operation. Use .parseAsync instead.\");\n        }\n        return acc;\n      };\n      if (ctx.common.async === false) {\n        const inner2 = this._def.schema._parseSync({\n          data: ctx.data,\n          path: ctx.path,\n          parent: ctx\n        });\n        if (inner2.status === \"aborted\")\n          return INVALID;\n        if (inner2.status === \"dirty\")\n          status.dirty();\n        executeRefinement(inner2.value);\n        return { status: status.value, value: inner2.value };\n      } else {\n        return this._def.schema._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx }).then((inner2) => {\n          if (inner2.status === \"aborted\")\n            return INVALID;\n          if (inner2.status === \"dirty\")\n            status.dirty();\n          return executeRefinement(inner2.value).then(() => {\n            return { status: status.value, value: inner2.value };\n          });\n        });\n      }\n    }\n    if (effect.type === \"transform\") {\n      if (ctx.common.async === false) {\n        const base = this._def.schema._parseSync({\n          data: ctx.data,\n          path: ctx.path,\n          parent: ctx\n        });\n        if (!isValid(base))\n          return base;\n        const result = effect.transform(base.value, checkCtx);\n        if (result instanceof Promise) {\n          throw new Error(`Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.`);\n        }\n        return { status: status.value, value: result };\n      } else {\n        return this._def.schema._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx }).then((base) => {\n          if (!isValid(base))\n            return base;\n          return Promise.resolve(effect.transform(base.value, checkCtx)).then((result) => ({ status: status.value, value: result }));\n        });\n      }\n    }\n    util.assertNever(effect);\n  }\n}\nZodEffects.create = (schema, effect, params) => {\n  return new ZodEffects({\n    schema,\n    typeName: ZodFirstPartyTypeKind.ZodEffects,\n    effect,\n    ...processCreateParams(params)\n  });\n};\nZodEffects.createWithPreprocess = (preprocess, schema, params) => {\n  return new ZodEffects({\n    schema,\n    effect: { type: \"preprocess\", transform: preprocess },\n    typeName: ZodFirstPartyTypeKind.ZodEffects,\n    ...processCreateParams(params)\n  });\n};\nclass ZodOptional extends ZodType {\n  _parse(input) {\n    const parsedType = this._getType(input);\n    if (parsedType === ZodParsedType.undefined) {\n      return OK(void 0);\n    }\n    return this._def.innerType._parse(input);\n  }\n  unwrap() {\n    return this._def.innerType;\n  }\n}\nZodOptional.create = (type, params) => {\n  return new ZodOptional({\n    innerType: type,\n    typeName: ZodFirstPartyTypeKind.ZodOptional,\n    ...processCreateParams(params)\n  });\n};\nclass ZodNullable extends ZodType {\n  _parse(input) {\n    const parsedType = this._getType(input);\n    if (parsedType === ZodParsedType.null) {\n      return OK(null);\n    }\n    return this._def.innerType._parse(input);\n  }\n  unwrap() {\n    return this._def.innerType;\n  }\n}\nZodNullable.create = (type, params) => {\n  return new ZodNullable({\n    innerType: type,\n    typeName: ZodFirstPartyTypeKind.ZodNullable,\n    ...processCreateParams(params)\n  });\n};\nclass ZodDefault extends ZodType {\n  _parse(input) {\n    const { ctx } = this._processInputParams(input);\n    let data = ctx.data;\n    if (ctx.parsedType === ZodParsedType.undefined) {\n      data = this._def.defaultValue();\n    }\n    return this._def.innerType._parse({\n      data,\n      path: ctx.path,\n      parent: ctx\n    });\n  }\n  removeDefault() {\n    return this._def.innerType;\n  }\n}\nZodDefault.create = (type, params) => {\n  return new ZodDefault({\n    innerType: type,\n    typeName: ZodFirstPartyTypeKind.ZodDefault,\n    defaultValue: typeof params.default === \"function\" ? params.default : () => params.default,\n    ...processCreateParams(params)\n  });\n};\nclass ZodCatch extends ZodType {\n  _parse(input) {\n    const { ctx } = this._processInputParams(input);\n    const newCtx = {\n      ...ctx,\n      common: {\n        ...ctx.common,\n        issues: []\n      }\n    };\n    const result = this._def.innerType._parse({\n      data: newCtx.data,\n      path: newCtx.path,\n      parent: {\n        ...newCtx\n      }\n    });\n    if (isAsync(result)) {\n      return result.then((result2) => {\n        return {\n          status: \"valid\",\n          value: result2.status === \"valid\" ? result2.value : this._def.catchValue({\n            get error() {\n              return new ZodError(newCtx.common.issues);\n            },\n            input: newCtx.data\n          })\n        };\n      });\n    } else {\n      return {\n        status: \"valid\",\n        value: result.status === \"valid\" ? result.value : this._def.catchValue({\n          get error() {\n            return new ZodError(newCtx.common.issues);\n          },\n          input: newCtx.data\n        })\n      };\n    }\n  }\n  removeCatch() {\n    return this._def.innerType;\n  }\n}\nZodCatch.create = (type, params) => {\n  return new ZodCatch({\n    innerType: type,\n    typeName: ZodFirstPartyTypeKind.ZodCatch,\n    catchValue: typeof params.catch === \"function\" ? params.catch : () => params.catch,\n    ...processCreateParams(params)\n  });\n};\nclass ZodNaN extends ZodType {\n  _parse(input) {\n    const parsedType = this._getType(input);\n    if (parsedType !== ZodParsedType.nan) {\n      const ctx = this._getOrReturnCtx(input);\n      addIssueToContext(ctx, {\n        code: ZodIssueCode.invalid_type,\n        expected: ZodParsedType.nan,\n        received: ctx.parsedType\n      });\n      return INVALID;\n    }\n    return { status: \"valid\", value: input.data };\n  }\n}\nZodNaN.create = (params) => {\n  return new ZodNaN({\n    typeName: ZodFirstPartyTypeKind.ZodNaN,\n    ...processCreateParams(params)\n  });\n};\nconst BRAND = Symbol(\"zod_brand\");\nclass ZodBranded extends ZodType {\n  _parse(input) {\n    const { ctx } = this._processInputParams(input);\n    const data = ctx.data;\n    return this._def.type._parse({\n      data,\n      path: ctx.path,\n      parent: ctx\n    });\n  }\n  unwrap() {\n    return this._def.type;\n  }\n}\nclass ZodPipeline extends ZodType {\n  _parse(input) {\n    const { status, ctx } = this._processInputParams(input);\n    if (ctx.common.async) {\n      const handleAsync = async () => {\n        const inResult = await this._def.in._parseAsync({\n          data: ctx.data,\n          path: ctx.path,\n          parent: ctx\n        });\n        if (inResult.status === \"aborted\")\n          return INVALID;\n        if (inResult.status === \"dirty\") {\n          status.dirty();\n          return DIRTY(inResult.value);\n        } else {\n          return this._def.out._parseAsync({\n            data: inResult.value,\n            path: ctx.path,\n            parent: ctx\n          });\n        }\n      };\n      return handleAsync();\n    } else {\n      const inResult = this._def.in._parseSync({\n        data: ctx.data,\n        path: ctx.path,\n        parent: ctx\n      });\n      if (inResult.status === \"aborted\")\n        return INVALID;\n      if (inResult.status === \"dirty\") {\n        status.dirty();\n        return {\n          status: \"dirty\",\n          value: inResult.value\n        };\n      } else {\n        return this._def.out._parseSync({\n          data: inResult.value,\n          path: ctx.path,\n          parent: ctx\n        });\n      }\n    }\n  }\n  static create(a3, b2) {\n    return new ZodPipeline({\n      in: a3,\n      out: b2,\n      typeName: ZodFirstPartyTypeKind.ZodPipeline\n    });\n  }\n}\nclass ZodReadonly extends ZodType {\n  _parse(input) {\n    const result = this._def.innerType._parse(input);\n    const freeze = (data) => {\n      if (isValid(data)) {\n        data.value = Object.freeze(data.value);\n      }\n      return data;\n    };\n    return isAsync(result) ? result.then((data) => freeze(data)) : freeze(result);\n  }\n  unwrap() {\n    return this._def.innerType;\n  }\n}\nZodReadonly.create = (type, params) => {\n  return new ZodReadonly({\n    innerType: type,\n    typeName: ZodFirstPartyTypeKind.ZodReadonly,\n    ...processCreateParams(params)\n  });\n};\nfunction cleanParams(params, data) {\n  const p2 = typeof params === \"function\" ? params(data) : typeof params === \"string\" ? { message: params } : params;\n  const p22 = typeof p2 === \"string\" ? { message: p2 } : p2;\n  return p22;\n}\nfunction custom(check, _params = {}, fatal) {\n  if (check)\n    return ZodAny.create().superRefine((data, ctx) => {\n      var _a, _b;\n      const r2 = check(data);\n      if (r2 instanceof Promise) {\n        return r2.then((r3) => {\n          var _a2, _b2;\n          if (!r3) {\n            const params = cleanParams(_params, data);\n            const _fatal = (_b2 = (_a2 = params.fatal) !== null && _a2 !== void 0 ? _a2 : fatal) !== null && _b2 !== void 0 ? _b2 : true;\n            ctx.addIssue({ code: \"custom\", ...params, fatal: _fatal });\n          }\n        });\n      }\n      if (!r2) {\n        const params = cleanParams(_params, data);\n        const _fatal = (_b = (_a = params.fatal) !== null && _a !== void 0 ? _a : fatal) !== null && _b !== void 0 ? _b : true;\n        ctx.addIssue({ code: \"custom\", ...params, fatal: _fatal });\n      }\n      return;\n    });\n  return ZodAny.create();\n}\nconst late = {\n  object: ZodObject.lazycreate\n};\nvar ZodFirstPartyTypeKind;\n(function(ZodFirstPartyTypeKind2) {\n  ZodFirstPartyTypeKind2[\"ZodString\"] = \"ZodString\";\n  ZodFirstPartyTypeKind2[\"ZodNumber\"] = \"ZodNumber\";\n  ZodFirstPartyTypeKind2[\"ZodNaN\"] = \"ZodNaN\";\n  ZodFirstPartyTypeKind2[\"ZodBigInt\"] = \"ZodBigInt\";\n  ZodFirstPartyTypeKind2[\"ZodBoolean\"] = \"ZodBoolean\";\n  ZodFirstPartyTypeKind2[\"ZodDate\"] = \"ZodDate\";\n  ZodFirstPartyTypeKind2[\"ZodSymbol\"] = \"ZodSymbol\";\n  ZodFirstPartyTypeKind2[\"ZodUndefined\"] = \"ZodUndefined\";\n  ZodFirstPartyTypeKind2[\"ZodNull\"] = \"ZodNull\";\n  ZodFirstPartyTypeKind2[\"ZodAny\"] = \"ZodAny\";\n  ZodFirstPartyTypeKind2[\"ZodUnknown\"] = \"ZodUnknown\";\n  ZodFirstPartyTypeKind2[\"ZodNever\"] = \"ZodNever\";\n  ZodFirstPartyTypeKind2[\"ZodVoid\"] = \"ZodVoid\";\n  ZodFirstPartyTypeKind2[\"ZodArray\"] = \"ZodArray\";\n  ZodFirstPartyTypeKind2[\"ZodObject\"] = \"ZodObject\";\n  ZodFirstPartyTypeKind2[\"ZodUnion\"] = \"ZodUnion\";\n  ZodFirstPartyTypeKind2[\"ZodDiscriminatedUnion\"] = \"ZodDiscriminatedUnion\";\n  ZodFirstPartyTypeKind2[\"ZodIntersection\"] = \"ZodIntersection\";\n  ZodFirstPartyTypeKind2[\"ZodTuple\"] = \"ZodTuple\";\n  ZodFirstPartyTypeKind2[\"ZodRecord\"] = \"ZodRecord\";\n  ZodFirstPartyTypeKind2[\"ZodMap\"] = \"ZodMap\";\n  ZodFirstPartyTypeKind2[\"ZodSet\"] = \"ZodSet\";\n  ZodFirstPartyTypeKind2[\"ZodFunction\"] = \"ZodFunction\";\n  ZodFirstPartyTypeKind2[\"ZodLazy\"] = \"ZodLazy\";\n  ZodFirstPartyTypeKind2[\"ZodLiteral\"] = \"ZodLiteral\";\n  ZodFirstPartyTypeKind2[\"ZodEnum\"] = \"ZodEnum\";\n  ZodFirstPartyTypeKind2[\"ZodEffects\"] = \"ZodEffects\";\n  ZodFirstPartyTypeKind2[\"ZodNativeEnum\"] = \"ZodNativeEnum\";\n  ZodFirstPartyTypeKind2[\"ZodOptional\"] = \"ZodOptional\";\n  ZodFirstPartyTypeKind2[\"ZodNullable\"] = \"ZodNullable\";\n  ZodFirstPartyTypeKind2[\"ZodDefault\"] = \"ZodDefault\";\n  ZodFirstPartyTypeKind2[\"ZodCatch\"] = \"ZodCatch\";\n  ZodFirstPartyTypeKind2[\"ZodPromise\"] = \"ZodPromise\";\n  ZodFirstPartyTypeKind2[\"ZodBranded\"] = \"ZodBranded\";\n  ZodFirstPartyTypeKind2[\"ZodPipeline\"] = \"ZodPipeline\";\n  ZodFirstPartyTypeKind2[\"ZodReadonly\"] = \"ZodReadonly\";\n})(ZodFirstPartyTypeKind || (ZodFirstPartyTypeKind = {}));\nconst instanceOfType = (cls, params = {\n  message: `Input not instance of ${cls.name}`\n}) => custom((data) => data instanceof cls, params);\nconst stringType = ZodString.create;\nconst numberType = ZodNumber.create;\nconst nanType = ZodNaN.create;\nconst bigIntType = ZodBigInt.create;\nconst booleanType = ZodBoolean.create;\nconst dateType = ZodDate.create;\nconst symbolType = ZodSymbol.create;\nconst undefinedType = ZodUndefined.create;\nconst nullType = ZodNull.create;\nconst anyType = ZodAny.create;\nconst unknownType = ZodUnknown.create;\nconst neverType = ZodNever.create;\nconst voidType = ZodVoid.create;\nconst arrayType = ZodArray.create;\nconst objectType = ZodObject.create;\nconst strictObjectType = ZodObject.strictCreate;\nconst unionType = ZodUnion.create;\nconst discriminatedUnionType = ZodDiscriminatedUnion.create;\nconst intersectionType = ZodIntersection.create;\nconst tupleType = ZodTuple.create;\nconst recordType = ZodRecord.create;\nconst mapType = ZodMap.create;\nconst setType = ZodSet.create;\nconst functionType = ZodFunction.create;\nconst lazyType = ZodLazy.create;\nconst literalType = ZodLiteral.create;\nconst enumType = ZodEnum.create;\nconst nativeEnumType = ZodNativeEnum.create;\nconst promiseType = ZodPromise.create;\nconst effectsType = ZodEffects.create;\nconst optionalType = ZodOptional.create;\nconst nullableType = ZodNullable.create;\nconst preprocessType = ZodEffects.createWithPreprocess;\nconst pipelineType = ZodPipeline.create;\nconst ostring = () => stringType().optional();\nconst onumber = () => numberType().optional();\nconst oboolean = () => booleanType().optional();\nconst coerce = {\n  string: (arg) => ZodString.create({ ...arg, coerce: true }),\n  number: (arg) => ZodNumber.create({ ...arg, coerce: true }),\n  boolean: (arg) => ZodBoolean.create({\n    ...arg,\n    coerce: true\n  }),\n  bigint: (arg) => ZodBigInt.create({ ...arg, coerce: true }),\n  date: (arg) => ZodDate.create({ ...arg, coerce: true })\n};\nconst NEVER = INVALID;\nvar z = /* @__PURE__ */ Object.freeze({\n  __proto__: null,\n  defaultErrorMap: errorMap,\n  setErrorMap,\n  getErrorMap,\n  makeIssue,\n  EMPTY_PATH,\n  addIssueToContext,\n  ParseStatus,\n  INVALID,\n  DIRTY,\n  OK,\n  isAborted,\n  isDirty,\n  isValid,\n  isAsync,\n  get util() {\n    return util;\n  },\n  get objectUtil() {\n    return objectUtil;\n  },\n  ZodParsedType,\n  getParsedType,\n  ZodType,\n  datetimeRegex,\n  ZodString,\n  ZodNumber,\n  ZodBigInt,\n  ZodBoolean,\n  ZodDate,\n  ZodSymbol,\n  ZodUndefined,\n  ZodNull,\n  ZodAny,\n  ZodUnknown,\n  ZodNever,\n  ZodVoid,\n  ZodArray,\n  ZodObject,\n  ZodUnion,\n  ZodDiscriminatedUnion,\n  ZodIntersection,\n  ZodTuple,\n  ZodRecord,\n  ZodMap,\n  ZodSet,\n  ZodFunction,\n  ZodLazy,\n  ZodLiteral,\n  ZodEnum,\n  ZodNativeEnum,\n  ZodPromise,\n  ZodEffects,\n  ZodTransformer: ZodEffects,\n  ZodOptional,\n  ZodNullable,\n  ZodDefault,\n  ZodCatch,\n  ZodNaN,\n  BRAND,\n  ZodBranded,\n  ZodPipeline,\n  ZodReadonly,\n  custom,\n  Schema: ZodType,\n  ZodSchema: ZodType,\n  late,\n  get ZodFirstPartyTypeKind() {\n    return ZodFirstPartyTypeKind;\n  },\n  coerce,\n  any: anyType,\n  array: arrayType,\n  bigint: bigIntType,\n  boolean: booleanType,\n  date: dateType,\n  discriminatedUnion: discriminatedUnionType,\n  effect: effectsType,\n  \"enum\": enumType,\n  \"function\": functionType,\n  \"instanceof\": instanceOfType,\n  intersection: intersectionType,\n  lazy: lazyType,\n  literal: literalType,\n  map: mapType,\n  nan: nanType,\n  nativeEnum: nativeEnumType,\n  never: neverType,\n  \"null\": nullType,\n  nullable: nullableType,\n  number: numberType,\n  object: objectType,\n  oboolean,\n  onumber,\n  optional: optionalType,\n  ostring,\n  pipeline: pipelineType,\n  preprocess: preprocessType,\n  promise: promiseType,\n  record: recordType,\n  set: setType,\n  strictObject: strictObjectType,\n  string: stringType,\n  symbol: symbolType,\n  transformer: effectsType,\n  tuple: tupleType,\n  \"undefined\": undefinedType,\n  union: unionType,\n  unknown: unknownType,\n  \"void\": voidType,\n  NEVER,\n  ZodIssueCode,\n  quotelessJson,\n  ZodError\n});\nvar DEFAULT_PORT = 5746;\nvar PING_ENDPOINT = \"/ping/stagewise\";\nvar PING_RESPONSE = \"stagewise\";\nvar contract = createBridgeContract({\n  server: {\n    triggerAgentPrompt: {\n      request: z.object({\n        prompt: z.string()\n      }),\n      response: z.object({\n        result: z.object({\n          success: z.boolean(),\n          error: z.string().optional(),\n          output: z.string().optional()\n        })\n      }),\n      update: z.object({\n        updateText: z.string()\n      })\n    }\n  }\n});\nasync function findPort(maxAttempts = 10, timeout = 300) {\n  for (let attempt = 0; attempt < maxAttempts; attempt++) {\n    const port = DEFAULT_PORT + attempt;\n    try {\n      const controller = new AbortController();\n      const timeoutId = setTimeout(() => controller.abort(), timeout);\n      try {\n        const response = await fetch(\n          `http://localhost:${port}${PING_ENDPOINT}`,\n          {\n            signal: controller.signal\n          }\n        );\n        clearTimeout(timeoutId);\n        if (response.ok) {\n          const text = await response.text();\n          if (text === PING_RESPONSE) {\n            return port;\n          }\n        }\n      } catch (error2) {\n        clearTimeout(timeoutId);\n        continue;\n      }\n    } catch (error2) {\n      continue;\n    }\n  }\n  return null;\n}\nconst SRPCBridgeContext = K$3({\n  bridge: null,\n  isConnecting: false,\n  error: null\n});\nfunction SRPCBridgeProvider({\n  children\n}) {\n  const [state, setState] = d$4({\n    bridge: null,\n    isConnecting: true,\n    error: null\n  });\n  y$6(() => {\n    async function initializeBridge() {\n      try {\n        const port = await findPort();\n        const bridge = createSRPCClientBridge(\n          `ws://localhost:${port}`,\n          contract\n        );\n        await bridge.connect();\n        setState({\n          bridge,\n          isConnecting: false,\n          error: null\n        });\n      } catch (error2) {\n        setState({\n          bridge: null,\n          isConnecting: false,\n          error: error2 instanceof Error ? error2 : new Error(String(error2))\n        });\n      }\n    }\n    initializeBridge();\n  }, []);\n  return /* @__PURE__ */ u$9(SRPCBridgeContext.Provider, { value: state, children });\n}\nfunction useSRPCBridge() {\n  const context = x$4(SRPCBridgeContext);\n  if (!context) {\n    throw new Error(\"useSRPCBridge must be used within an SRPCBridgeProvider\");\n  }\n  return context;\n}\nfunction getElementAttributes(element) {\n  const attrs = {};\n  const priorityAttrs = [\n    \"id\",\n    \"class\",\n    \"name\",\n    \"type\",\n    \"href\",\n    \"src\",\n    \"alt\",\n    \"for\",\n    \"placeholder\"\n  ];\n  const dataAttrs = [];\n  for (let i2 = 0; i2 < element.attributes.length; i2++) {\n    const attr = element.attributes[i2];\n    if (attr.name.startsWith(\"data-\")) {\n      dataAttrs.push({ name: attr.name, value: attr.value });\n    } else if (priorityAttrs.includes(attr.name.toLowerCase()) || attr.name.toLowerCase() !== \"style\") {\n      attrs[attr.name] = attr.value;\n    }\n  }\n  dataAttrs.forEach((da) => {\n    attrs[da.name] = da.value;\n  });\n  return attrs;\n}\nfunction generateElementContext(element, index2) {\n  var _a;\n  let context = `<element index=\"${index2 + 1}\">\n`;\n  context += `  <tag>${element.tagName.toLowerCase()}</tag>\n`;\n  const id = element.id;\n  if (id) {\n    context += `  <id>${id}</id>\n`;\n  }\n  const classes = Array.from(element.classList).join(\", \");\n  if (classes) {\n    context += `  <classes>${classes}</classes>\n`;\n  }\n  const attributes = getElementAttributes(element);\n  if (Object.keys(attributes).length > 0) {\n    context += `  <attributes>\n`;\n    for (const [key, value] of Object.entries(attributes)) {\n      if (key.toLowerCase() !== \"class\" || !classes) {\n        context += `    <${key}>${value}</${key}>\n`;\n      }\n    }\n    context += `  </attributes>\n`;\n  }\n  const text = (_a = element.innerText) == null ? void 0 : _a.trim();\n  if (text) {\n    const maxLength = 100;\n    context += `  <text>${text.length > maxLength ? `${text.substring(0, maxLength)}...` : text}</text>\n`;\n  }\n  context += `  <structural_context>\n`;\n  if (element.parentElement) {\n    const parent = element.parentElement;\n    context += `    <parent>\n`;\n    context += `      <tag>${parent.tagName.toLowerCase()}</tag>\n`;\n    if (parent.id) {\n      context += `      <id>${parent.id}</id>\n`;\n    }\n    const parentClasses = Array.from(parent.classList).join(\", \");\n    if (parentClasses) {\n      context += `      <classes>${parentClasses}</classes>\n`;\n    }\n    context += `    </parent>\n`;\n  } else {\n    context += `    <parent>No parent element found (likely root or disconnected)</parent>\n`;\n  }\n  context += `  </structural_context>\n`;\n  try {\n    const styles = window.getComputedStyle(element);\n    const relevantStyles = {\n      color: styles.color,\n      backgroundColor: styles.backgroundColor,\n      fontSize: styles.fontSize,\n      fontWeight: styles.fontWeight,\n      display: styles.display\n    };\n    context += `  <styles>\n`;\n    for (const [key, value] of Object.entries(relevantStyles)) {\n      context += `    <${key}>${value}</${key}>\n`;\n    }\n    context += `  </styles>\n`;\n  } catch (e2) {\n    context += `  <styles>Could not retrieve computed styles</styles>\n`;\n  }\n  context += `</element>\n`;\n  return context;\n}\nfunction createPrompt(selectedElements, userPrompt, url) {\n  if (!selectedElements || selectedElements.length === 0) {\n    return `\n    <request>\n      <user_goal>${userPrompt}</user_goal>\n      <url>${url}</url>\n  <context>No specific element was selected on the page. Please analyze the page code in general or ask for clarification.</context>\n</request>`.trim();\n  }\n  let detailedContext = \"\";\n  selectedElements.forEach((element, index2) => {\n    detailedContext += generateElementContext(element, index2);\n  });\n  return `\n<request>\n  <user_goal>${userPrompt}</user_goal>\n  <url>${url}</url>\n  <selected_elements>\n    ${detailedContext.trim()}\n  </selected_elements>\n</request>`.trim();\n}\nconst DropAreaZone = {\n  BOTTOM_CENTER: 4\n};\nconst createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\" || nextState === null) ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const getInitialState = () => initialState;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const api = { setState, getState, getInitialState, subscribe };\n  const initialState = state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = (createState) => createState ? createStoreImpl(createState) : createStoreImpl;\nconst identity = (arg) => arg;\nfunction useStore(api, selector = identity) {\n  const slice = Rn.useSyncExternalStore(\n    api.subscribe,\n    () => selector(api.getState()),\n    () => selector(api.getInitialState())\n  );\n  Rn.useDebugValue(slice);\n  return slice;\n}\nconst createImpl = (createState) => {\n  const api = createStore(createState);\n  const useBoundStore = (selector) => useStore(api, selector);\n  Object.assign(useBoundStore, api);\n  return useBoundStore;\n};\nconst create = (createState) => createState ? createImpl(createState) : createImpl;\nclass DoubleIndexedKV {\n  constructor() {\n    this.keyToValue = /* @__PURE__ */ new Map();\n    this.valueToKey = /* @__PURE__ */ new Map();\n  }\n  set(key, value) {\n    this.keyToValue.set(key, value);\n    this.valueToKey.set(value, key);\n  }\n  getByKey(key) {\n    return this.keyToValue.get(key);\n  }\n  getByValue(value) {\n    return this.valueToKey.get(value);\n  }\n  clear() {\n    this.keyToValue.clear();\n    this.valueToKey.clear();\n  }\n}\nclass Registry {\n  constructor(generateIdentifier) {\n    this.generateIdentifier = generateIdentifier;\n    this.kv = new DoubleIndexedKV();\n  }\n  register(value, identifier) {\n    if (this.kv.getByValue(value)) {\n      return;\n    }\n    if (!identifier) {\n      identifier = this.generateIdentifier(value);\n    }\n    this.kv.set(identifier, value);\n  }\n  clear() {\n    this.kv.clear();\n  }\n  getIdentifier(value) {\n    return this.kv.getByValue(value);\n  }\n  getValue(identifier) {\n    return this.kv.getByKey(identifier);\n  }\n}\nclass ClassRegistry extends Registry {\n  constructor() {\n    super((c2) => c2.name);\n    this.classToAllowedProps = /* @__PURE__ */ new Map();\n  }\n  register(value, options) {\n    if (typeof options === \"object\") {\n      if (options.allowProps) {\n        this.classToAllowedProps.set(value, options.allowProps);\n      }\n      super.register(value, options.identifier);\n    } else {\n      super.register(value, options);\n    }\n  }\n  getAllowedProps(value) {\n    return this.classToAllowedProps.get(value);\n  }\n}\nfunction valuesOfObj(record) {\n  if (\"values\" in Object) {\n    return Object.values(record);\n  }\n  const values = [];\n  for (const key in record) {\n    if (record.hasOwnProperty(key)) {\n      values.push(record[key]);\n    }\n  }\n  return values;\n}\nfunction find(record, predicate) {\n  const values = valuesOfObj(record);\n  if (\"find\" in values) {\n    return values.find(predicate);\n  }\n  const valuesNotNever = values;\n  for (let i2 = 0; i2 < valuesNotNever.length; i2++) {\n    const value = valuesNotNever[i2];\n    if (predicate(value)) {\n      return value;\n    }\n  }\n  return void 0;\n}\nfunction forEach(record, run) {\n  Object.entries(record).forEach(([key, value]) => run(value, key));\n}\nfunction includes(arr, value) {\n  return arr.indexOf(value) !== -1;\n}\nfunction findArr(record, predicate) {\n  for (let i2 = 0; i2 < record.length; i2++) {\n    const value = record[i2];\n    if (predicate(value)) {\n      return value;\n    }\n  }\n  return void 0;\n}\nclass CustomTransformerRegistry {\n  constructor() {\n    this.transfomers = {};\n  }\n  register(transformer) {\n    this.transfomers[transformer.name] = transformer;\n  }\n  findApplicable(v2) {\n    return find(this.transfomers, (transformer) => transformer.isApplicable(v2));\n  }\n  findByName(name) {\n    return this.transfomers[name];\n  }\n}\nconst getType$1 = (payload) => Object.prototype.toString.call(payload).slice(8, -1);\nconst isUndefined = (payload) => typeof payload === \"undefined\";\nconst isNull = (payload) => payload === null;\nconst isPlainObject$1 = (payload) => {\n  if (typeof payload !== \"object\" || payload === null)\n    return false;\n  if (payload === Object.prototype)\n    return false;\n  if (Object.getPrototypeOf(payload) === null)\n    return true;\n  return Object.getPrototypeOf(payload) === Object.prototype;\n};\nconst isEmptyObject = (payload) => isPlainObject$1(payload) && Object.keys(payload).length === 0;\nconst isArray$1 = (payload) => Array.isArray(payload);\nconst isString$1 = (payload) => typeof payload === \"string\";\nconst isNumber$1 = (payload) => typeof payload === \"number\" && !isNaN(payload);\nconst isBoolean = (payload) => typeof payload === \"boolean\";\nconst isRegExp = (payload) => payload instanceof RegExp;\nconst isMap = (payload) => payload instanceof Map;\nconst isSet = (payload) => payload instanceof Set;\nconst isSymbol = (payload) => getType$1(payload) === \"Symbol\";\nconst isDate = (payload) => payload instanceof Date && !isNaN(payload.valueOf());\nconst isError = (payload) => payload instanceof Error;\nconst isNaNValue = (payload) => typeof payload === \"number\" && isNaN(payload);\nconst isPrimitive = (payload) => isBoolean(payload) || isNull(payload) || isUndefined(payload) || isNumber$1(payload) || isString$1(payload) || isSymbol(payload);\nconst isBigint = (payload) => typeof payload === \"bigint\";\nconst isInfinite = (payload) => payload === Infinity || payload === -Infinity;\nconst isTypedArray = (payload) => ArrayBuffer.isView(payload) && !(payload instanceof DataView);\nconst isURL = (payload) => payload instanceof URL;\nconst escapeKey = (key) => key.replace(/\\./g, \"\\\\.\");\nconst stringifyPath = (path) => path.map(String).map(escapeKey).join(\".\");\nconst parsePath = (string) => {\n  const result = [];\n  let segment = \"\";\n  for (let i2 = 0; i2 < string.length; i2++) {\n    let char = string.charAt(i2);\n    const isEscapedDot = char === \"\\\\\" && string.charAt(i2 + 1) === \".\";\n    if (isEscapedDot) {\n      segment += \".\";\n      i2++;\n      continue;\n    }\n    const isEndOfSegment = char === \".\";\n    if (isEndOfSegment) {\n      result.push(segment);\n      segment = \"\";\n      continue;\n    }\n    segment += char;\n  }\n  const lastSegment = segment;\n  result.push(lastSegment);\n  return result;\n};\nfunction simpleTransformation(isApplicable, annotation, transform, untransform) {\n  return {\n    isApplicable,\n    annotation,\n    transform,\n    untransform\n  };\n}\nconst simpleRules = [\n  simpleTransformation(isUndefined, \"undefined\", () => null, () => void 0),\n  simpleTransformation(isBigint, \"bigint\", (v2) => v2.toString(), (v2) => {\n    if (typeof BigInt !== \"undefined\") {\n      return BigInt(v2);\n    }\n    console.error(\"Please add a BigInt polyfill.\");\n    return v2;\n  }),\n  simpleTransformation(isDate, \"Date\", (v2) => v2.toISOString(), (v2) => new Date(v2)),\n  simpleTransformation(isError, \"Error\", (v2, superJson) => {\n    const baseError = {\n      name: v2.name,\n      message: v2.message\n    };\n    superJson.allowedErrorProps.forEach((prop) => {\n      baseError[prop] = v2[prop];\n    });\n    return baseError;\n  }, (v2, superJson) => {\n    const e2 = new Error(v2.message);\n    e2.name = v2.name;\n    e2.stack = v2.stack;\n    superJson.allowedErrorProps.forEach((prop) => {\n      e2[prop] = v2[prop];\n    });\n    return e2;\n  }),\n  simpleTransformation(isRegExp, \"regexp\", (v2) => \"\" + v2, (regex) => {\n    const body = regex.slice(1, regex.lastIndexOf(\"/\"));\n    const flags = regex.slice(regex.lastIndexOf(\"/\") + 1);\n    return new RegExp(body, flags);\n  }),\n  simpleTransformation(\n    isSet,\n    \"set\",\n    // (sets only exist in es6+)\n    // eslint-disable-next-line es5/no-es6-methods\n    (v2) => [...v2.values()],\n    (v2) => new Set(v2)\n  ),\n  simpleTransformation(isMap, \"map\", (v2) => [...v2.entries()], (v2) => new Map(v2)),\n  simpleTransformation((v2) => isNaNValue(v2) || isInfinite(v2), \"number\", (v2) => {\n    if (isNaNValue(v2)) {\n      return \"NaN\";\n    }\n    if (v2 > 0) {\n      return \"Infinity\";\n    } else {\n      return \"-Infinity\";\n    }\n  }, Number),\n  simpleTransformation((v2) => v2 === 0 && 1 / v2 === -Infinity, \"number\", () => {\n    return \"-0\";\n  }, Number),\n  simpleTransformation(isURL, \"URL\", (v2) => v2.toString(), (v2) => new URL(v2))\n];\nfunction compositeTransformation(isApplicable, annotation, transform, untransform) {\n  return {\n    isApplicable,\n    annotation,\n    transform,\n    untransform\n  };\n}\nconst symbolRule = compositeTransformation((s2, superJson) => {\n  if (isSymbol(s2)) {\n    const isRegistered = !!superJson.symbolRegistry.getIdentifier(s2);\n    return isRegistered;\n  }\n  return false;\n}, (s2, superJson) => {\n  const identifier = superJson.symbolRegistry.getIdentifier(s2);\n  return [\"symbol\", identifier];\n}, (v2) => v2.description, (_2, a3, superJson) => {\n  const value = superJson.symbolRegistry.getValue(a3[1]);\n  if (!value) {\n    throw new Error(\"Trying to deserialize unknown symbol\");\n  }\n  return value;\n});\nconst constructorToName = [\n  Int8Array,\n  Uint8Array,\n  Int16Array,\n  Uint16Array,\n  Int32Array,\n  Uint32Array,\n  Float32Array,\n  Float64Array,\n  Uint8ClampedArray\n].reduce((obj, ctor) => {\n  obj[ctor.name] = ctor;\n  return obj;\n}, {});\nconst typedArrayRule = compositeTransformation(isTypedArray, (v2) => [\"typed-array\", v2.constructor.name], (v2) => [...v2], (v2, a3) => {\n  const ctor = constructorToName[a3[1]];\n  if (!ctor) {\n    throw new Error(\"Trying to deserialize unknown typed array\");\n  }\n  return new ctor(v2);\n});\nfunction isInstanceOfRegisteredClass(potentialClass, superJson) {\n  if (potentialClass == null ? void 0 : potentialClass.constructor) {\n    const isRegistered = !!superJson.classRegistry.getIdentifier(potentialClass.constructor);\n    return isRegistered;\n  }\n  return false;\n}\nconst classRule = compositeTransformation(isInstanceOfRegisteredClass, (clazz, superJson) => {\n  const identifier = superJson.classRegistry.getIdentifier(clazz.constructor);\n  return [\"class\", identifier];\n}, (clazz, superJson) => {\n  const allowedProps = superJson.classRegistry.getAllowedProps(clazz.constructor);\n  if (!allowedProps) {\n    return { ...clazz };\n  }\n  const result = {};\n  allowedProps.forEach((prop) => {\n    result[prop] = clazz[prop];\n  });\n  return result;\n}, (v2, a3, superJson) => {\n  const clazz = superJson.classRegistry.getValue(a3[1]);\n  if (!clazz) {\n    throw new Error(`Trying to deserialize unknown class '${a3[1]}' - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564`);\n  }\n  return Object.assign(Object.create(clazz.prototype), v2);\n});\nconst customRule = compositeTransformation((value, superJson) => {\n  return !!superJson.customTransformerRegistry.findApplicable(value);\n}, (value, superJson) => {\n  const transformer = superJson.customTransformerRegistry.findApplicable(value);\n  return [\"custom\", transformer.name];\n}, (value, superJson) => {\n  const transformer = superJson.customTransformerRegistry.findApplicable(value);\n  return transformer.serialize(value);\n}, (v2, a3, superJson) => {\n  const transformer = superJson.customTransformerRegistry.findByName(a3[1]);\n  if (!transformer) {\n    throw new Error(\"Trying to deserialize unknown custom value\");\n  }\n  return transformer.deserialize(v2);\n});\nconst compositeRules = [classRule, symbolRule, customRule, typedArrayRule];\nconst transformValue = (value, superJson) => {\n  const applicableCompositeRule = findArr(compositeRules, (rule) => rule.isApplicable(value, superJson));\n  if (applicableCompositeRule) {\n    return {\n      value: applicableCompositeRule.transform(value, superJson),\n      type: applicableCompositeRule.annotation(value, superJson)\n    };\n  }\n  const applicableSimpleRule = findArr(simpleRules, (rule) => rule.isApplicable(value, superJson));\n  if (applicableSimpleRule) {\n    return {\n      value: applicableSimpleRule.transform(value, superJson),\n      type: applicableSimpleRule.annotation\n    };\n  }\n  return void 0;\n};\nconst simpleRulesByAnnotation = {};\nsimpleRules.forEach((rule) => {\n  simpleRulesByAnnotation[rule.annotation] = rule;\n});\nconst untransformValue = (json, type, superJson) => {\n  if (isArray$1(type)) {\n    switch (type[0]) {\n      case \"symbol\":\n        return symbolRule.untransform(json, type, superJson);\n      case \"class\":\n        return classRule.untransform(json, type, superJson);\n      case \"custom\":\n        return customRule.untransform(json, type, superJson);\n      case \"typed-array\":\n        return typedArrayRule.untransform(json, type, superJson);\n      default:\n        throw new Error(\"Unknown transformation: \" + type);\n    }\n  } else {\n    const transformation = simpleRulesByAnnotation[type];\n    if (!transformation) {\n      throw new Error(\"Unknown transformation: \" + type);\n    }\n    return transformation.untransform(json, superJson);\n  }\n};\nconst getNthKey = (value, n2) => {\n  if (n2 > value.size)\n    throw new Error(\"index out of bounds\");\n  const keys = value.keys();\n  while (n2 > 0) {\n    keys.next();\n    n2--;\n  }\n  return keys.next().value;\n};\nfunction validatePath(path) {\n  if (includes(path, \"__proto__\")) {\n    throw new Error(\"__proto__ is not allowed as a property\");\n  }\n  if (includes(path, \"prototype\")) {\n    throw new Error(\"prototype is not allowed as a property\");\n  }\n  if (includes(path, \"constructor\")) {\n    throw new Error(\"constructor is not allowed as a property\");\n  }\n}\nconst getDeep = (object, path) => {\n  validatePath(path);\n  for (let i2 = 0; i2 < path.length; i2++) {\n    const key = path[i2];\n    if (isSet(object)) {\n      object = getNthKey(object, +key);\n    } else if (isMap(object)) {\n      const row = +key;\n      const type = +path[++i2] === 0 ? \"key\" : \"value\";\n      const keyOfRow = getNthKey(object, row);\n      switch (type) {\n        case \"key\":\n          object = keyOfRow;\n          break;\n        case \"value\":\n          object = object.get(keyOfRow);\n          break;\n      }\n    } else {\n      object = object[key];\n    }\n  }\n  return object;\n};\nconst setDeep = (object, path, mapper) => {\n  validatePath(path);\n  if (path.length === 0) {\n    return mapper(object);\n  }\n  let parent = object;\n  for (let i2 = 0; i2 < path.length - 1; i2++) {\n    const key = path[i2];\n    if (isArray$1(parent)) {\n      const index2 = +key;\n      parent = parent[index2];\n    } else if (isPlainObject$1(parent)) {\n      parent = parent[key];\n    } else if (isSet(parent)) {\n      const row = +key;\n      parent = getNthKey(parent, row);\n    } else if (isMap(parent)) {\n      const isEnd = i2 === path.length - 2;\n      if (isEnd) {\n        break;\n      }\n      const row = +key;\n      const type = +path[++i2] === 0 ? \"key\" : \"value\";\n      const keyOfRow = getNthKey(parent, row);\n      switch (type) {\n        case \"key\":\n          parent = keyOfRow;\n          break;\n        case \"value\":\n          parent = parent.get(keyOfRow);\n          break;\n      }\n    }\n  }\n  const lastKey = path[path.length - 1];\n  if (isArray$1(parent)) {\n    parent[+lastKey] = mapper(parent[+lastKey]);\n  } else if (isPlainObject$1(parent)) {\n    parent[lastKey] = mapper(parent[lastKey]);\n  }\n  if (isSet(parent)) {\n    const oldValue = getNthKey(parent, +lastKey);\n    const newValue = mapper(oldValue);\n    if (oldValue !== newValue) {\n      parent.delete(oldValue);\n      parent.add(newValue);\n    }\n  }\n  if (isMap(parent)) {\n    const row = +path[path.length - 2];\n    const keyToRow = getNthKey(parent, row);\n    const type = +lastKey === 0 ? \"key\" : \"value\";\n    switch (type) {\n      case \"key\": {\n        const newKey = mapper(keyToRow);\n        parent.set(newKey, parent.get(keyToRow));\n        if (newKey !== keyToRow) {\n          parent.delete(keyToRow);\n        }\n        break;\n      }\n      case \"value\": {\n        parent.set(keyToRow, mapper(parent.get(keyToRow)));\n        break;\n      }\n    }\n  }\n  return object;\n};\nfunction traverse(tree, walker2, origin = []) {\n  if (!tree) {\n    return;\n  }\n  if (!isArray$1(tree)) {\n    forEach(tree, (subtree, key) => traverse(subtree, walker2, [...origin, ...parsePath(key)]));\n    return;\n  }\n  const [nodeValue, children] = tree;\n  if (children) {\n    forEach(children, (child, key) => {\n      traverse(child, walker2, [...origin, ...parsePath(key)]);\n    });\n  }\n  walker2(nodeValue, origin);\n}\nfunction applyValueAnnotations(plain, annotations, superJson) {\n  traverse(annotations, (type, path) => {\n    plain = setDeep(plain, path, (v2) => untransformValue(v2, type, superJson));\n  });\n  return plain;\n}\nfunction applyReferentialEqualityAnnotations(plain, annotations) {\n  function apply(identicalPaths, path) {\n    const object = getDeep(plain, parsePath(path));\n    identicalPaths.map(parsePath).forEach((identicalObjectPath) => {\n      plain = setDeep(plain, identicalObjectPath, () => object);\n    });\n  }\n  if (isArray$1(annotations)) {\n    const [root, other] = annotations;\n    root.forEach((identicalPath) => {\n      plain = setDeep(plain, parsePath(identicalPath), () => plain);\n    });\n    if (other) {\n      forEach(other, apply);\n    }\n  } else {\n    forEach(annotations, apply);\n  }\n  return plain;\n}\nconst isDeep = (object, superJson) => isPlainObject$1(object) || isArray$1(object) || isMap(object) || isSet(object) || isInstanceOfRegisteredClass(object, superJson);\nfunction addIdentity(object, path, identities) {\n  const existingSet = identities.get(object);\n  if (existingSet) {\n    existingSet.push(path);\n  } else {\n    identities.set(object, [path]);\n  }\n}\nfunction generateReferentialEqualityAnnotations(identitites, dedupe) {\n  const result = {};\n  let rootEqualityPaths = void 0;\n  identitites.forEach((paths) => {\n    if (paths.length <= 1) {\n      return;\n    }\n    if (!dedupe) {\n      paths = paths.map((path) => path.map(String)).sort((a3, b2) => a3.length - b2.length);\n    }\n    const [representativePath, ...identicalPaths] = paths;\n    if (representativePath.length === 0) {\n      rootEqualityPaths = identicalPaths.map(stringifyPath);\n    } else {\n      result[stringifyPath(representativePath)] = identicalPaths.map(stringifyPath);\n    }\n  });\n  if (rootEqualityPaths) {\n    if (isEmptyObject(result)) {\n      return [rootEqualityPaths];\n    } else {\n      return [rootEqualityPaths, result];\n    }\n  } else {\n    return isEmptyObject(result) ? void 0 : result;\n  }\n}\nconst walker = (object, identities, superJson, dedupe, path = [], objectsInThisPath = [], seenObjects = /* @__PURE__ */ new Map()) => {\n  const primitive = isPrimitive(object);\n  if (!primitive) {\n    addIdentity(object, path, identities);\n    const seen = seenObjects.get(object);\n    if (seen) {\n      return dedupe ? {\n        transformedValue: null\n      } : seen;\n    }\n  }\n  if (!isDeep(object, superJson)) {\n    const transformed2 = transformValue(object, superJson);\n    const result2 = transformed2 ? {\n      transformedValue: transformed2.value,\n      annotations: [transformed2.type]\n    } : {\n      transformedValue: object\n    };\n    if (!primitive) {\n      seenObjects.set(object, result2);\n    }\n    return result2;\n  }\n  if (includes(objectsInThisPath, object)) {\n    return {\n      transformedValue: null\n    };\n  }\n  const transformationResult = transformValue(object, superJson);\n  const transformed = (transformationResult == null ? void 0 : transformationResult.value) ?? object;\n  const transformedValue = isArray$1(transformed) ? [] : {};\n  const innerAnnotations = {};\n  forEach(transformed, (value, index2) => {\n    if (index2 === \"__proto__\" || index2 === \"constructor\" || index2 === \"prototype\") {\n      throw new Error(`Detected property ${index2}. This is a prototype pollution risk, please remove it from your object.`);\n    }\n    const recursiveResult = walker(value, identities, superJson, dedupe, [...path, index2], [...objectsInThisPath, object], seenObjects);\n    transformedValue[index2] = recursiveResult.transformedValue;\n    if (isArray$1(recursiveResult.annotations)) {\n      innerAnnotations[index2] = recursiveResult.annotations;\n    } else if (isPlainObject$1(recursiveResult.annotations)) {\n      forEach(recursiveResult.annotations, (tree, key) => {\n        innerAnnotations[escapeKey(index2) + \".\" + key] = tree;\n      });\n    }\n  });\n  const result = isEmptyObject(innerAnnotations) ? {\n    transformedValue,\n    annotations: !!transformationResult ? [transformationResult.type] : void 0\n  } : {\n    transformedValue,\n    annotations: !!transformationResult ? [transformationResult.type, innerAnnotations] : innerAnnotations\n  };\n  if (!primitive) {\n    seenObjects.set(object, result);\n  }\n  return result;\n};\nfunction getType(payload) {\n  return Object.prototype.toString.call(payload).slice(8, -1);\n}\nfunction isArray(payload) {\n  return getType(payload) === \"Array\";\n}\nfunction isPlainObject(payload) {\n  if (getType(payload) !== \"Object\")\n    return false;\n  const prototype = Object.getPrototypeOf(payload);\n  return !!prototype && prototype.constructor === Object && prototype === Object.prototype;\n}\nfunction assignProp(carry, key, newVal, originalObject, includeNonenumerable) {\n  const propType = {}.propertyIsEnumerable.call(originalObject, key) ? \"enumerable\" : \"nonenumerable\";\n  if (propType === \"enumerable\")\n    carry[key] = newVal;\n  if (includeNonenumerable && propType === \"nonenumerable\") {\n    Object.defineProperty(carry, key, {\n      value: newVal,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    });\n  }\n}\nfunction copy(target, options = {}) {\n  if (isArray(target)) {\n    return target.map((item) => copy(item, options));\n  }\n  if (!isPlainObject(target)) {\n    return target;\n  }\n  const props = Object.getOwnPropertyNames(target);\n  const symbols = Object.getOwnPropertySymbols(target);\n  return [...props, ...symbols].reduce((carry, key) => {\n    if (isArray(options.props) && !options.props.includes(key)) {\n      return carry;\n    }\n    const val = target[key];\n    const newVal = copy(val, options);\n    assignProp(carry, key, newVal, target, options.nonenumerable);\n    return carry;\n  }, {});\n}\nclass SuperJSON {\n  /**\n   * @param dedupeReferentialEqualities  If true, SuperJSON will make sure only one instance of referentially equal objects are serialized and the rest are replaced with `null`.\n   */\n  constructor({ dedupe = false } = {}) {\n    this.classRegistry = new ClassRegistry();\n    this.symbolRegistry = new Registry((s2) => s2.description ?? \"\");\n    this.customTransformerRegistry = new CustomTransformerRegistry();\n    this.allowedErrorProps = [];\n    this.dedupe = dedupe;\n  }\n  serialize(object) {\n    const identities = /* @__PURE__ */ new Map();\n    const output = walker(object, identities, this, this.dedupe);\n    const res = {\n      json: output.transformedValue\n    };\n    if (output.annotations) {\n      res.meta = {\n        ...res.meta,\n        values: output.annotations\n      };\n    }\n    const equalityAnnotations = generateReferentialEqualityAnnotations(identities, this.dedupe);\n    if (equalityAnnotations) {\n      res.meta = {\n        ...res.meta,\n        referentialEqualities: equalityAnnotations\n      };\n    }\n    return res;\n  }\n  deserialize(payload) {\n    const { json, meta } = payload;\n    let result = copy(json);\n    if (meta == null ? void 0 : meta.values) {\n      result = applyValueAnnotations(result, meta.values, this);\n    }\n    if (meta == null ? void 0 : meta.referentialEqualities) {\n      result = applyReferentialEqualityAnnotations(result, meta.referentialEqualities);\n    }\n    return result;\n  }\n  stringify(object) {\n    return JSON.stringify(this.serialize(object));\n  }\n  parse(string) {\n    return this.deserialize(JSON.parse(string));\n  }\n  registerClass(v2, options) {\n    this.classRegistry.register(v2, options);\n  }\n  registerSymbol(v2, identifier) {\n    this.symbolRegistry.register(v2, identifier);\n  }\n  registerCustom(transformer, name) {\n    this.customTransformerRegistry.register({\n      name,\n      ...transformer\n    });\n  }\n  allowErrorProps(...props) {\n    this.allowedErrorProps.push(...props);\n  }\n}\nSuperJSON.defaultInstance = new SuperJSON();\nSuperJSON.serialize = SuperJSON.defaultInstance.serialize.bind(SuperJSON.defaultInstance);\nSuperJSON.deserialize = SuperJSON.defaultInstance.deserialize.bind(SuperJSON.defaultInstance);\nSuperJSON.stringify = SuperJSON.defaultInstance.stringify.bind(SuperJSON.defaultInstance);\nSuperJSON.parse = SuperJSON.defaultInstance.parse.bind(SuperJSON.defaultInstance);\nSuperJSON.registerClass = SuperJSON.defaultInstance.registerClass.bind(SuperJSON.defaultInstance);\nSuperJSON.registerSymbol = SuperJSON.defaultInstance.registerSymbol.bind(SuperJSON.defaultInstance);\nSuperJSON.registerCustom = SuperJSON.defaultInstance.registerCustom.bind(SuperJSON.defaultInstance);\nSuperJSON.allowErrorProps = SuperJSON.defaultInstance.allowErrorProps.bind(SuperJSON.defaultInstance);\nSuperJSON.serialize;\nSuperJSON.deserialize;\nSuperJSON.stringify;\nSuperJSON.parse;\nSuperJSON.registerClass;\nSuperJSON.registerCustom;\nSuperJSON.registerSymbol;\nSuperJSON.allowErrorProps;\nfunction createJSONStorage(getStorage, options) {\n  let storage;\n  try {\n    storage = getStorage();\n  } catch (e2) {\n    return;\n  }\n  const persistStorage = {\n    getItem: (name) => {\n      var _a;\n      const parse = (str2) => {\n        if (str2 === null) {\n          return null;\n        }\n        return JSON.parse(str2, void 0);\n      };\n      const str = (_a = storage.getItem(name)) != null ? _a : null;\n      if (str instanceof Promise) {\n        return str.then(parse);\n      }\n      return parse(str);\n    },\n    setItem: (name, newValue) => storage.setItem(\n      name,\n      JSON.stringify(newValue, void 0)\n    ),\n    removeItem: (name) => storage.removeItem(name)\n  };\n  return persistStorage;\n}\nconst toThenable = (fn2) => (input) => {\n  try {\n    const result = fn2(input);\n    if (result instanceof Promise) {\n      return result;\n    }\n    return {\n      then(onFulfilled) {\n        return toThenable(onFulfilled)(result);\n      },\n      catch(_onRejected) {\n        return this;\n      }\n    };\n  } catch (e2) {\n    return {\n      then(_onFulfilled) {\n        return this;\n      },\n      catch(onRejected) {\n        return toThenable(onRejected)(e2);\n      }\n    };\n  }\n};\nconst persistImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    storage: createJSONStorage(() => localStorage),\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage = options.storage;\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    return storage.setItem(options.name, {\n      state,\n      version: options.version\n    });\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    void setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      void setItem();\n    },\n    get,\n    api\n  );\n  api.getInitialState = () => configResult;\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a, _b;\n    if (!storage) return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => {\n      var _a2;\n      return cb((_a2 = get()) != null ? _a2 : configResult);\n    });\n    const postRehydrationCallback = ((_b = options.onRehydrateStorage) == null ? void 0 : _b.call(options, (_a = get()) != null ? _a : configResult)) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            const migration = options.migrate(\n              deserializedStorageValue.state,\n              deserializedStorageValue.version\n            );\n            if (migration instanceof Promise) {\n              return migration.then((result) => [true, result]);\n            }\n            return [true, migration];\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return [false, deserializedStorageValue.state];\n        }\n      }\n      return [false, void 0];\n    }).then((migrationResult) => {\n      var _a2;\n      const [migrated, migratedState] = migrationResult;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      if (migrated) {\n        return setItem();\n      }\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      stateFromStorage = get();\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e2) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e2);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.storage) {\n        storage = newOptions.storage;\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  if (!options.skipHydration) {\n    hydrate();\n  }\n  return stateFromStorage || configResult;\n};\nconst persist = persistImpl;\nconst createAppStore = (s2) => {\n  const set = s2;\n  return {\n    appBlockRequestList: [],\n    appUnblockRequestList: [],\n    lastBlockRequestNumber: 0,\n    lastUnblockRequestNumber: 0,\n    isMainAppBlocked: false,\n    requestMainAppBlock: () => {\n      let newHandleValue = 0;\n      set((state) => {\n        newHandleValue = state.lastBlockRequestNumber + 1;\n        return {\n          appBlockRequestList: [...state.appBlockRequestList, newHandleValue],\n          lastBlockRequestNumber: newHandleValue,\n          isMainAppBlocked: state.appUnblockRequestList.length === 0\n          // Unblock requests override block requests\n        };\n      });\n      return newHandleValue;\n    },\n    requestMainAppUnblock: () => {\n      let newHandleValue = 0;\n      set((state) => {\n        newHandleValue = state.lastUnblockRequestNumber + 1;\n        return {\n          appUnblockRequestList: [\n            ...state.appUnblockRequestList,\n            newHandleValue\n          ],\n          lastUnblockRequestNumber: newHandleValue,\n          isMainAppBlocked: false\n        };\n      });\n      return newHandleValue;\n    },\n    discardMainAppBlock: (handle) => {\n      set((state) => {\n        const newBlockRequestList = state.appBlockRequestList.filter(\n          (h2) => h2 !== handle\n        );\n        return {\n          appBlockRequestList: newBlockRequestList,\n          isMainAppBlocked: newBlockRequestList.length > 0 && state.appUnblockRequestList.length === 0\n        };\n      });\n    },\n    discardMainAppUnblock: (handle) => {\n      set((state) => {\n        const newUnblockRequestList = state.appUnblockRequestList.filter(\n          (h2) => h2 !== handle\n        );\n        return {\n          appUnblockRequestList: newUnblockRequestList,\n          isMainAppBlocked: state.appBlockRequestList.length > 0 && newUnblockRequestList.length === 0\n        };\n      });\n    },\n    toolbarPosition: DropAreaZone.BOTTOM_CENTER,\n    setToolbarPosition: (position) => set(() => ({ toolbarPosition: position })),\n    toolbarBoxRef: b$5(),\n    setToolbarBoxRef: (ref) => set(() => ({ toolbarBoxRef: ref })),\n    unsetToolbarBoxRef: () => set(() => ({ toolbarBoxRef: b$5() })),\n    minimized: false,\n    minimize: () => set(() => ({ minimized: true })),\n    expand: () => set(() => ({ minimized: false })),\n    promotedOnStartup: false,\n    promotionFinished: () => set(() => ({ promotedOnStartup: true }))\n  };\n};\nfunction createSuperJSONStorage(storage) {\n  return {\n    getItem: (name) => {\n      const str = storage.getItem(name);\n      if (!str) return null;\n      return SuperJSON.parse(str);\n    },\n    setItem: (name, value) => {\n      storage.setItem(name, SuperJSON.stringify(value));\n    },\n    removeItem: (name) => storage.removeItem(name)\n  };\n}\nconst useAppState = create(\n  persist(createAppStore, {\n    name: \"stgws:companion\",\n    storage: createSuperJSONStorage(sessionStorage),\n    partialize: (state) => {\n      return {\n        toolbarPosition: state.toolbarPosition\n      };\n    }\n  })\n);\nconst ChatContext = K$3({\n  chats: [],\n  currentChatId: null,\n  createChat: () => \"\",\n  deleteChat: () => {\n  },\n  setCurrentChat: () => {\n  },\n  setChatInput: () => {\n  },\n  addChatDomContext: () => {\n  },\n  removeChatDomContext: () => {\n  },\n  addMessage: () => {\n  },\n  chatAreaState: \"hidden\",\n  setChatAreaState: () => {\n  },\n  isPromptCreationActive: false,\n  startPromptCreation: () => {\n  },\n  stopPromptCreation: () => {\n  }\n});\nconst ChatStateProvider = ({ children }) => {\n  const [chats, setChats] = d$4([\n    {\n      id: \"new_chat\",\n      messages: [],\n      title: \"New chat\",\n      inputValue: \"\",\n      domContextElements: []\n    }\n  ]);\n  const [currentChatId, setCurrentChatId] = d$4(\"new_chat\");\n  const [chatAreaState, internalSetChatAreaState] = d$4(\"hidden\");\n  const [isPromptCreationMode, setIsPromptCreationMode] = d$4(false);\n  const isMinimized = useAppState((state) => state.minimized);\n  y$6(() => {\n    if (isMinimized) {\n      setIsPromptCreationMode(false);\n      internalSetChatAreaState(\"hidden\");\n    }\n  }, [isMinimized]);\n  const { bridge } = useSRPCBridge();\n  const createChat = q$3(() => {\n    const newChatId = crypto.randomUUID();\n    const newChat = {\n      id: newChatId,\n      title: null,\n      messages: [],\n      inputValue: \"\",\n      domContextElements: []\n    };\n    setChats((prev) => [...prev, newChat]);\n    setCurrentChatId(newChatId);\n    return newChatId;\n  }, []);\n  const deleteChat = q$3(\n    (chatId) => {\n      setChats((prev) => {\n        const filteredChats = prev.filter((chat) => chat.id !== chatId);\n        if (filteredChats.length === 0) {\n          return [\n            {\n              id: \"new_chat\",\n              messages: [],\n              title: \"New chat\",\n              inputValue: \"\",\n              domContextElements: []\n            }\n          ];\n        }\n        return filteredChats;\n      });\n      if (currentChatId === chatId) {\n        setChats((prev) => {\n          setCurrentChatId(prev[0].id);\n          return prev;\n        });\n      }\n    },\n    [currentChatId]\n  );\n  const setCurrentChat = q$3((chatId) => {\n    setCurrentChatId(chatId);\n  }, []);\n  const setChatInput = q$3((chatId, value2) => {\n    setChats(\n      (prev) => prev.map(\n        (chat) => chat.id === chatId ? { ...chat, inputValue: value2 } : chat\n      )\n    );\n  }, []);\n  const startPromptCreation = q$3(() => {\n    setIsPromptCreationMode(true);\n    if (chatAreaState === \"hidden\") {\n      internalSetChatAreaState(\"compact\");\n    }\n  }, [chatAreaState]);\n  const stopPromptCreation = q$3(() => {\n    setIsPromptCreationMode(false);\n    setChats(\n      (prev) => prev.map(\n        (chat) => chat.id === currentChatId ? { ...chat, domContextElements: [] } : chat\n      )\n    );\n    if (chatAreaState === \"compact\") {\n      internalSetChatAreaState(\"hidden\");\n    }\n  }, [currentChatId, chatAreaState]);\n  const setChatAreaState = q$3(\n    (state) => {\n      internalSetChatAreaState(state);\n      if (state === \"hidden\") {\n        stopPromptCreation();\n      }\n    },\n    [internalSetChatAreaState, stopPromptCreation]\n  );\n  const addChatDomContext = q$3(\n    (chatId, element) => {\n      setChats(\n        (prev) => prev.map(\n          (chat) => chat.id === chatId ? {\n            ...chat,\n            domContextElements: [...chat.domContextElements, element]\n          } : chat\n        )\n      );\n    },\n    []\n  );\n  const removeChatDomContext = q$3(\n    (chatId, element) => {\n      setChats(\n        (prev) => prev.map(\n          (chat) => chat.id === chatId ? {\n            ...chat,\n            domContextElements: chat.domContextElements.filter(\n              (e2) => e2 !== element\n            )\n          } : chat\n        )\n      );\n    },\n    []\n  );\n  const addMessage = q$3(\n    (chatId, content) => {\n      if (!content.trim()) return;\n      const chat = chats.find((chat2) => chat2.id === chatId);\n      const prompt = createPrompt(\n        chat == null ? void 0 : chat.domContextElements,\n        content,\n        window.location.href\n      );\n      const newMessage = {\n        id: crypto.randomUUID(),\n        content: content.trim(),\n        sender: \"user\",\n        type: \"regular\",\n        timestamp: /* @__PURE__ */ new Date()\n      };\n      async function triggerAgentPrompt() {\n        if (bridge) {\n          await bridge.call.triggerAgentPrompt(\n            { prompt },\n            {\n              onUpdate: (update) => {\n              }\n            }\n          );\n        }\n      }\n      triggerAgentPrompt();\n      setIsPromptCreationMode(false);\n      if (chatAreaState === \"hidden\") {\n        internalSetChatAreaState(\"compact\");\n      }\n      setChats(\n        (prev) => prev.map(\n          (chat2) => chat2.id === chatId ? {\n            ...chat2,\n            messages: [...chat2.messages, newMessage],\n            inputValue: \"\",\n            domContextElements: []\n          } : chat2\n        )\n      );\n    },\n    [\n      chatAreaState,\n      bridge,\n      chats,\n      setIsPromptCreationMode,\n      internalSetChatAreaState\n    ]\n  );\n  const value = {\n    chats,\n    currentChatId,\n    createChat,\n    deleteChat,\n    setCurrentChat,\n    setChatInput,\n    addMessage,\n    chatAreaState,\n    setChatAreaState,\n    isPromptCreationActive: isPromptCreationMode,\n    startPromptCreation,\n    stopPromptCreation,\n    addChatDomContext,\n    removeChatDomContext\n  };\n  return /* @__PURE__ */ u$9(ChatContext.Provider, { value, children });\n};\nfunction useChatState() {\n  const context = x$4(ChatContext);\n  if (!context) {\n    throw new Error(\"useChatState must be used within a ChatStateProvider\");\n  }\n  return context;\n}\nfunction useCyclicUpdate(func, frameRate) {\n  const animationFrameHandle = A$3(void 0);\n  const timeBetweenFrames = T$5(\n    () => frameRate && frameRate > 0 ? 1e3 / frameRate : 0,\n    [frameRate]\n  );\n  const lastCallFrameTime = A$3(0);\n  const update = q$3(\n    (frameTime) => {\n      if (frameTime - lastCallFrameTime.current >= timeBetweenFrames) {\n        func();\n        lastCallFrameTime.current = frameTime;\n      }\n      animationFrameHandle.current = requestAnimationFrame(update);\n    },\n    [func, timeBetweenFrames]\n  );\n  y$6(() => {\n    if (!frameRate || frameRate > 0) {\n      animationFrameHandle.current = requestAnimationFrame(update);\n    }\n    return () => {\n      if (animationFrameHandle.current) {\n        cancelAnimationFrame(animationFrameHandle.current);\n        animationFrameHandle.current = void 0;\n      }\n    };\n  }, [frameRate, update]);\n}\nconst LocationContext = K$3(new URL(window.location.href));\nfunction LocationProvider({\n  children\n}) {\n  const [currentUrl, setCurrentUrl] = d$4(\n    new URL(window.location.href)\n  );\n  const update = q$3(() => {\n    setCurrentUrl(new URL(window.location.href));\n  }, []);\n  useCyclicUpdate(update, 15);\n  return /* @__PURE__ */ u$9(LocationContext.Provider, { value: currentUrl, children });\n}\nfunction ContextProviders({\n  children,\n  config\n}) {\n  return /* @__PURE__ */ u$9(LocationProvider, { children: /* @__PURE__ */ u$9(SRPCBridgeProvider, { children: /* @__PURE__ */ u$9(PluginProvider, { plugins: (config == null ? void 0 : config.plugins) || [], children: /* @__PURE__ */ u$9(ChatStateProvider, { children }) }) }) });\n}\nfunction useEventListener(eventName, handler, options, element = window) {\n  y$6(() => {\n    if (typeof window === \"undefined\") return;\n    if (!element) return;\n    element.addEventListener(eventName, handler, options);\n    return () => element.removeEventListener(eventName, handler);\n  }, [eventName, handler, element, options]);\n}\nfunction r$3(e2) {\n  var t2, f2, n2 = \"\";\n  if (\"string\" == typeof e2 || \"number\" == typeof e2) n2 += e2;\n  else if (\"object\" == typeof e2) if (Array.isArray(e2)) {\n    var o3 = e2.length;\n    for (t2 = 0; t2 < o3; t2++) e2[t2] && (f2 = r$3(e2[t2])) && (n2 && (n2 += \" \"), n2 += f2);\n  } else for (f2 in e2) e2[f2] && (n2 && (n2 += \" \"), n2 += f2);\n  return n2;\n}\nfunction clsx() {\n  for (var e2, t2, f2 = 0, n2 = \"\", o3 = arguments.length; f2 < o3; f2++) (e2 = arguments[f2]) && (t2 = r$3(e2)) && (n2 && (n2 += \" \"), n2 += t2);\n  return n2;\n}\nconst CLASS_PART_SEPARATOR = \"-\";\nconst createClassGroupUtils = (config) => {\n  const classMap = createClassMap(config);\n  const {\n    conflictingClassGroups,\n    conflictingClassGroupModifiers\n  } = config;\n  const getClassGroupId = (className) => {\n    const classParts = className.split(CLASS_PART_SEPARATOR);\n    if (classParts[0] === \"\" && classParts.length !== 1) {\n      classParts.shift();\n    }\n    return getGroupRecursive(classParts, classMap) || getGroupIdForArbitraryProperty(className);\n  };\n  const getConflictingClassGroupIds = (classGroupId, hasPostfixModifier) => {\n    const conflicts = conflictingClassGroups[classGroupId] || [];\n    if (hasPostfixModifier && conflictingClassGroupModifiers[classGroupId]) {\n      return [...conflicts, ...conflictingClassGroupModifiers[classGroupId]];\n    }\n    return conflicts;\n  };\n  return {\n    getClassGroupId,\n    getConflictingClassGroupIds\n  };\n};\nconst getGroupRecursive = (classParts, classPartObject) => {\n  var _a;\n  if (classParts.length === 0) {\n    return classPartObject.classGroupId;\n  }\n  const currentClassPart = classParts[0];\n  const nextClassPartObject = classPartObject.nextPart.get(currentClassPart);\n  const classGroupFromNextClassPart = nextClassPartObject ? getGroupRecursive(classParts.slice(1), nextClassPartObject) : void 0;\n  if (classGroupFromNextClassPart) {\n    return classGroupFromNextClassPart;\n  }\n  if (classPartObject.validators.length === 0) {\n    return void 0;\n  }\n  const classRest = classParts.join(CLASS_PART_SEPARATOR);\n  return (_a = classPartObject.validators.find(({\n    validator\n  }) => validator(classRest))) == null ? void 0 : _a.classGroupId;\n};\nconst arbitraryPropertyRegex = /^\\[(.+)\\]$/;\nconst getGroupIdForArbitraryProperty = (className) => {\n  if (arbitraryPropertyRegex.test(className)) {\n    const arbitraryPropertyClassName = arbitraryPropertyRegex.exec(className)[1];\n    const property = arbitraryPropertyClassName == null ? void 0 : arbitraryPropertyClassName.substring(0, arbitraryPropertyClassName.indexOf(\":\"));\n    if (property) {\n      return \"arbitrary..\" + property;\n    }\n  }\n};\nconst createClassMap = (config) => {\n  const {\n    theme,\n    classGroups\n  } = config;\n  const classMap = {\n    nextPart: /* @__PURE__ */ new Map(),\n    validators: []\n  };\n  for (const classGroupId in classGroups) {\n    processClassesRecursively(classGroups[classGroupId], classMap, classGroupId, theme);\n  }\n  return classMap;\n};\nconst processClassesRecursively = (classGroup, classPartObject, classGroupId, theme) => {\n  classGroup.forEach((classDefinition) => {\n    if (typeof classDefinition === \"string\") {\n      const classPartObjectToEdit = classDefinition === \"\" ? classPartObject : getPart(classPartObject, classDefinition);\n      classPartObjectToEdit.classGroupId = classGroupId;\n      return;\n    }\n    if (typeof classDefinition === \"function\") {\n      if (isThemeGetter(classDefinition)) {\n        processClassesRecursively(classDefinition(theme), classPartObject, classGroupId, theme);\n        return;\n      }\n      classPartObject.validators.push({\n        validator: classDefinition,\n        classGroupId\n      });\n      return;\n    }\n    Object.entries(classDefinition).forEach(([key, classGroup2]) => {\n      processClassesRecursively(classGroup2, getPart(classPartObject, key), classGroupId, theme);\n    });\n  });\n};\nconst getPart = (classPartObject, path) => {\n  let currentClassPartObject = classPartObject;\n  path.split(CLASS_PART_SEPARATOR).forEach((pathPart) => {\n    if (!currentClassPartObject.nextPart.has(pathPart)) {\n      currentClassPartObject.nextPart.set(pathPart, {\n        nextPart: /* @__PURE__ */ new Map(),\n        validators: []\n      });\n    }\n    currentClassPartObject = currentClassPartObject.nextPart.get(pathPart);\n  });\n  return currentClassPartObject;\n};\nconst isThemeGetter = (func) => func.isThemeGetter;\nconst createLruCache = (maxCacheSize) => {\n  if (maxCacheSize < 1) {\n    return {\n      get: () => void 0,\n      set: () => {\n      }\n    };\n  }\n  let cacheSize = 0;\n  let cache = /* @__PURE__ */ new Map();\n  let previousCache = /* @__PURE__ */ new Map();\n  const update = (key, value) => {\n    cache.set(key, value);\n    cacheSize++;\n    if (cacheSize > maxCacheSize) {\n      cacheSize = 0;\n      previousCache = cache;\n      cache = /* @__PURE__ */ new Map();\n    }\n  };\n  return {\n    get(key) {\n      let value = cache.get(key);\n      if (value !== void 0) {\n        return value;\n      }\n      if ((value = previousCache.get(key)) !== void 0) {\n        update(key, value);\n        return value;\n      }\n    },\n    set(key, value) {\n      if (cache.has(key)) {\n        cache.set(key, value);\n      } else {\n        update(key, value);\n      }\n    }\n  };\n};\nconst IMPORTANT_MODIFIER = \"!\";\nconst MODIFIER_SEPARATOR = \":\";\nconst MODIFIER_SEPARATOR_LENGTH = MODIFIER_SEPARATOR.length;\nconst createParseClassName = (config) => {\n  const {\n    prefix,\n    experimentalParseClassName\n  } = config;\n  let parseClassName = (className) => {\n    const modifiers = [];\n    let bracketDepth = 0;\n    let parenDepth = 0;\n    let modifierStart = 0;\n    let postfixModifierPosition;\n    for (let index2 = 0; index2 < className.length; index2++) {\n      let currentCharacter = className[index2];\n      if (bracketDepth === 0 && parenDepth === 0) {\n        if (currentCharacter === MODIFIER_SEPARATOR) {\n          modifiers.push(className.slice(modifierStart, index2));\n          modifierStart = index2 + MODIFIER_SEPARATOR_LENGTH;\n          continue;\n        }\n        if (currentCharacter === \"/\") {\n          postfixModifierPosition = index2;\n          continue;\n        }\n      }\n      if (currentCharacter === \"[\") {\n        bracketDepth++;\n      } else if (currentCharacter === \"]\") {\n        bracketDepth--;\n      } else if (currentCharacter === \"(\") {\n        parenDepth++;\n      } else if (currentCharacter === \")\") {\n        parenDepth--;\n      }\n    }\n    const baseClassNameWithImportantModifier = modifiers.length === 0 ? className : className.substring(modifierStart);\n    const baseClassName = stripImportantModifier(baseClassNameWithImportantModifier);\n    const hasImportantModifier = baseClassName !== baseClassNameWithImportantModifier;\n    const maybePostfixModifierPosition = postfixModifierPosition && postfixModifierPosition > modifierStart ? postfixModifierPosition - modifierStart : void 0;\n    return {\n      modifiers,\n      hasImportantModifier,\n      baseClassName,\n      maybePostfixModifierPosition\n    };\n  };\n  if (prefix) {\n    const fullPrefix = prefix + MODIFIER_SEPARATOR;\n    const parseClassNameOriginal = parseClassName;\n    parseClassName = (className) => className.startsWith(fullPrefix) ? parseClassNameOriginal(className.substring(fullPrefix.length)) : {\n      isExternal: true,\n      modifiers: [],\n      hasImportantModifier: false,\n      baseClassName: className,\n      maybePostfixModifierPosition: void 0\n    };\n  }\n  if (experimentalParseClassName) {\n    const parseClassNameOriginal = parseClassName;\n    parseClassName = (className) => experimentalParseClassName({\n      className,\n      parseClassName: parseClassNameOriginal\n    });\n  }\n  return parseClassName;\n};\nconst stripImportantModifier = (baseClassName) => {\n  if (baseClassName.endsWith(IMPORTANT_MODIFIER)) {\n    return baseClassName.substring(0, baseClassName.length - 1);\n  }\n  if (baseClassName.startsWith(IMPORTANT_MODIFIER)) {\n    return baseClassName.substring(1);\n  }\n  return baseClassName;\n};\nconst createSortModifiers = (config) => {\n  const orderSensitiveModifiers = Object.fromEntries(config.orderSensitiveModifiers.map((modifier) => [modifier, true]));\n  const sortModifiers = (modifiers) => {\n    if (modifiers.length <= 1) {\n      return modifiers;\n    }\n    const sortedModifiers = [];\n    let unsortedModifiers = [];\n    modifiers.forEach((modifier) => {\n      const isPositionSensitive = modifier[0] === \"[\" || orderSensitiveModifiers[modifier];\n      if (isPositionSensitive) {\n        sortedModifiers.push(...unsortedModifiers.sort(), modifier);\n        unsortedModifiers = [];\n      } else {\n        unsortedModifiers.push(modifier);\n      }\n    });\n    sortedModifiers.push(...unsortedModifiers.sort());\n    return sortedModifiers;\n  };\n  return sortModifiers;\n};\nconst createConfigUtils = (config) => ({\n  cache: createLruCache(config.cacheSize),\n  parseClassName: createParseClassName(config),\n  sortModifiers: createSortModifiers(config),\n  ...createClassGroupUtils(config)\n});\nconst SPLIT_CLASSES_REGEX = /\\s+/;\nconst mergeClassList = (classList, configUtils) => {\n  const {\n    parseClassName,\n    getClassGroupId,\n    getConflictingClassGroupIds,\n    sortModifiers\n  } = configUtils;\n  const classGroupsInConflict = [];\n  const classNames = classList.trim().split(SPLIT_CLASSES_REGEX);\n  let result = \"\";\n  for (let index2 = classNames.length - 1; index2 >= 0; index2 -= 1) {\n    const originalClassName = classNames[index2];\n    const {\n      isExternal,\n      modifiers,\n      hasImportantModifier,\n      baseClassName,\n      maybePostfixModifierPosition\n    } = parseClassName(originalClassName);\n    if (isExternal) {\n      result = originalClassName + (result.length > 0 ? \" \" + result : result);\n      continue;\n    }\n    let hasPostfixModifier = !!maybePostfixModifierPosition;\n    let classGroupId = getClassGroupId(hasPostfixModifier ? baseClassName.substring(0, maybePostfixModifierPosition) : baseClassName);\n    if (!classGroupId) {\n      if (!hasPostfixModifier) {\n        result = originalClassName + (result.length > 0 ? \" \" + result : result);\n        continue;\n      }\n      classGroupId = getClassGroupId(baseClassName);\n      if (!classGroupId) {\n        result = originalClassName + (result.length > 0 ? \" \" + result : result);\n        continue;\n      }\n      hasPostfixModifier = false;\n    }\n    const variantModifier = sortModifiers(modifiers).join(\":\");\n    const modifierId = hasImportantModifier ? variantModifier + IMPORTANT_MODIFIER : variantModifier;\n    const classId = modifierId + classGroupId;\n    if (classGroupsInConflict.includes(classId)) {\n      continue;\n    }\n    classGroupsInConflict.push(classId);\n    const conflictGroups = getConflictingClassGroupIds(classGroupId, hasPostfixModifier);\n    for (let i2 = 0; i2 < conflictGroups.length; ++i2) {\n      const group = conflictGroups[i2];\n      classGroupsInConflict.push(modifierId + group);\n    }\n    result = originalClassName + (result.length > 0 ? \" \" + result : result);\n  }\n  return result;\n};\nfunction twJoin() {\n  let index2 = 0;\n  let argument;\n  let resolvedValue;\n  let string = \"\";\n  while (index2 < arguments.length) {\n    if (argument = arguments[index2++]) {\n      if (resolvedValue = toValue(argument)) {\n        string && (string += \" \");\n        string += resolvedValue;\n      }\n    }\n  }\n  return string;\n}\nconst toValue = (mix) => {\n  if (typeof mix === \"string\") {\n    return mix;\n  }\n  let resolvedValue;\n  let string = \"\";\n  for (let k2 = 0; k2 < mix.length; k2++) {\n    if (mix[k2]) {\n      if (resolvedValue = toValue(mix[k2])) {\n        string && (string += \" \");\n        string += resolvedValue;\n      }\n    }\n  }\n  return string;\n};\nfunction createTailwindMerge(createConfigFirst, ...createConfigRest) {\n  let configUtils;\n  let cacheGet;\n  let cacheSet;\n  let functionToCall = initTailwindMerge;\n  function initTailwindMerge(classList) {\n    const config = createConfigRest.reduce((previousConfig, createConfigCurrent) => createConfigCurrent(previousConfig), createConfigFirst());\n    configUtils = createConfigUtils(config);\n    cacheGet = configUtils.cache.get;\n    cacheSet = configUtils.cache.set;\n    functionToCall = tailwindMerge;\n    return tailwindMerge(classList);\n  }\n  function tailwindMerge(classList) {\n    const cachedResult = cacheGet(classList);\n    if (cachedResult) {\n      return cachedResult;\n    }\n    const result = mergeClassList(classList, configUtils);\n    cacheSet(classList, result);\n    return result;\n  }\n  return function callTailwindMerge() {\n    return functionToCall(twJoin.apply(null, arguments));\n  };\n}\nconst fromTheme = (key) => {\n  const themeGetter = (theme) => theme[key] || [];\n  themeGetter.isThemeGetter = true;\n  return themeGetter;\n};\nconst arbitraryValueRegex = /^\\[(?:(\\w[\\w-]*):)?(.+)\\]$/i;\nconst arbitraryVariableRegex = /^\\((?:(\\w[\\w-]*):)?(.+)\\)$/i;\nconst fractionRegex = /^\\d+\\/\\d+$/;\nconst tshirtUnitRegex = /^(\\d+(\\.\\d+)?)?(xs|sm|md|lg|xl)$/;\nconst lengthUnitRegex = /\\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\\b(calc|min|max|clamp)\\(.+\\)|^0$/;\nconst colorFunctionRegex = /^(rgba?|hsla?|hwb|(ok)?(lab|lch))\\(.+\\)$/;\nconst shadowRegex = /^(inset_)?-?((\\d+)?\\.?(\\d+)[a-z]+|0)_-?((\\d+)?\\.?(\\d+)[a-z]+|0)/;\nconst imageRegex = /^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\\(.+\\)$/;\nconst isFraction = (value) => fractionRegex.test(value);\nconst isNumber = (value) => !!value && !Number.isNaN(Number(value));\nconst isInteger = (value) => !!value && Number.isInteger(Number(value));\nconst isPercent = (value) => value.endsWith(\"%\") && isNumber(value.slice(0, -1));\nconst isTshirtSize = (value) => tshirtUnitRegex.test(value);\nconst isAny = () => true;\nconst isLengthOnly = (value) => (\n  // `colorFunctionRegex` check is necessary because color functions can have percentages in them which which would be incorrectly classified as lengths.\n  // For example, `hsl(0 0% 0%)` would be classified as a length without this check.\n  // I could also use lookbehind assertion in `lengthUnitRegex` but that isn't supported widely enough.\n  lengthUnitRegex.test(value) && !colorFunctionRegex.test(value)\n);\nconst isNever = () => false;\nconst isShadow = (value) => shadowRegex.test(value);\nconst isImage = (value) => imageRegex.test(value);\nconst isAnyNonArbitrary = (value) => !isArbitraryValue(value) && !isArbitraryVariable(value);\nconst isArbitrarySize = (value) => getIsArbitraryValue(value, isLabelSize, isNever);\nconst isArbitraryValue = (value) => arbitraryValueRegex.test(value);\nconst isArbitraryLength = (value) => getIsArbitraryValue(value, isLabelLength, isLengthOnly);\nconst isArbitraryNumber = (value) => getIsArbitraryValue(value, isLabelNumber, isNumber);\nconst isArbitraryPosition = (value) => getIsArbitraryValue(value, isLabelPosition, isNever);\nconst isArbitraryImage = (value) => getIsArbitraryValue(value, isLabelImage, isImage);\nconst isArbitraryShadow = (value) => getIsArbitraryValue(value, isLabelShadow, isShadow);\nconst isArbitraryVariable = (value) => arbitraryVariableRegex.test(value);\nconst isArbitraryVariableLength = (value) => getIsArbitraryVariable(value, isLabelLength);\nconst isArbitraryVariableFamilyName = (value) => getIsArbitraryVariable(value, isLabelFamilyName);\nconst isArbitraryVariablePosition = (value) => getIsArbitraryVariable(value, isLabelPosition);\nconst isArbitraryVariableSize = (value) => getIsArbitraryVariable(value, isLabelSize);\nconst isArbitraryVariableImage = (value) => getIsArbitraryVariable(value, isLabelImage);\nconst isArbitraryVariableShadow = (value) => getIsArbitraryVariable(value, isLabelShadow, true);\nconst getIsArbitraryValue = (value, testLabel, testValue) => {\n  const result = arbitraryValueRegex.exec(value);\n  if (result) {\n    if (result[1]) {\n      return testLabel(result[1]);\n    }\n    return testValue(result[2]);\n  }\n  return false;\n};\nconst getIsArbitraryVariable = (value, testLabel, shouldMatchNoLabel = false) => {\n  const result = arbitraryVariableRegex.exec(value);\n  if (result) {\n    if (result[1]) {\n      return testLabel(result[1]);\n    }\n    return shouldMatchNoLabel;\n  }\n  return false;\n};\nconst isLabelPosition = (label) => label === \"position\" || label === \"percentage\";\nconst isLabelImage = (label) => label === \"image\" || label === \"url\";\nconst isLabelSize = (label) => label === \"length\" || label === \"size\" || label === \"bg-size\";\nconst isLabelLength = (label) => label === \"length\";\nconst isLabelNumber = (label) => label === \"number\";\nconst isLabelFamilyName = (label) => label === \"family-name\";\nconst isLabelShadow = (label) => label === \"shadow\";\nconst getDefaultConfig = () => {\n  const themeColor = fromTheme(\"color\");\n  const themeFont = fromTheme(\"font\");\n  const themeText = fromTheme(\"text\");\n  const themeFontWeight = fromTheme(\"font-weight\");\n  const themeTracking = fromTheme(\"tracking\");\n  const themeLeading = fromTheme(\"leading\");\n  const themeBreakpoint = fromTheme(\"breakpoint\");\n  const themeContainer = fromTheme(\"container\");\n  const themeSpacing = fromTheme(\"spacing\");\n  const themeRadius = fromTheme(\"radius\");\n  const themeShadow = fromTheme(\"shadow\");\n  const themeInsetShadow = fromTheme(\"inset-shadow\");\n  const themeTextShadow = fromTheme(\"text-shadow\");\n  const themeDropShadow = fromTheme(\"drop-shadow\");\n  const themeBlur = fromTheme(\"blur\");\n  const themePerspective = fromTheme(\"perspective\");\n  const themeAspect = fromTheme(\"aspect\");\n  const themeEase = fromTheme(\"ease\");\n  const themeAnimate = fromTheme(\"animate\");\n  const scaleBreak = () => [\"auto\", \"avoid\", \"all\", \"avoid-page\", \"page\", \"left\", \"right\", \"column\"];\n  const scalePosition = () => [\n    \"center\",\n    \"top\",\n    \"bottom\",\n    \"left\",\n    \"right\",\n    \"top-left\",\n    // Deprecated since Tailwind CSS v4.1.0, see https://github.com/tailwindlabs/tailwindcss/pull/17378\n    \"left-top\",\n    \"top-right\",\n    // Deprecated since Tailwind CSS v4.1.0, see https://github.com/tailwindlabs/tailwindcss/pull/17378\n    \"right-top\",\n    \"bottom-right\",\n    // Deprecated since Tailwind CSS v4.1.0, see https://github.com/tailwindlabs/tailwindcss/pull/17378\n    \"right-bottom\",\n    \"bottom-left\",\n    // Deprecated since Tailwind CSS v4.1.0, see https://github.com/tailwindlabs/tailwindcss/pull/17378\n    \"left-bottom\"\n  ];\n  const scalePositionWithArbitrary = () => [...scalePosition(), isArbitraryVariable, isArbitraryValue];\n  const scaleOverflow = () => [\"auto\", \"hidden\", \"clip\", \"visible\", \"scroll\"];\n  const scaleOverscroll = () => [\"auto\", \"contain\", \"none\"];\n  const scaleUnambiguousSpacing = () => [isArbitraryVariable, isArbitraryValue, themeSpacing];\n  const scaleInset = () => [isFraction, \"full\", \"auto\", ...scaleUnambiguousSpacing()];\n  const scaleGridTemplateColsRows = () => [isInteger, \"none\", \"subgrid\", isArbitraryVariable, isArbitraryValue];\n  const scaleGridColRowStartAndEnd = () => [\"auto\", {\n    span: [\"full\", isInteger, isArbitraryVariable, isArbitraryValue]\n  }, isInteger, isArbitraryVariable, isArbitraryValue];\n  const scaleGridColRowStartOrEnd = () => [isInteger, \"auto\", isArbitraryVariable, isArbitraryValue];\n  const scaleGridAutoColsRows = () => [\"auto\", \"min\", \"max\", \"fr\", isArbitraryVariable, isArbitraryValue];\n  const scaleAlignPrimaryAxis = () => [\"start\", \"end\", \"center\", \"between\", \"around\", \"evenly\", \"stretch\", \"baseline\", \"center-safe\", \"end-safe\"];\n  const scaleAlignSecondaryAxis = () => [\"start\", \"end\", \"center\", \"stretch\", \"center-safe\", \"end-safe\"];\n  const scaleMargin = () => [\"auto\", ...scaleUnambiguousSpacing()];\n  const scaleSizing = () => [isFraction, \"auto\", \"full\", \"dvw\", \"dvh\", \"lvw\", \"lvh\", \"svw\", \"svh\", \"min\", \"max\", \"fit\", ...scaleUnambiguousSpacing()];\n  const scaleColor = () => [themeColor, isArbitraryVariable, isArbitraryValue];\n  const scaleBgPosition = () => [...scalePosition(), isArbitraryVariablePosition, isArbitraryPosition, {\n    position: [isArbitraryVariable, isArbitraryValue]\n  }];\n  const scaleBgRepeat = () => [\"no-repeat\", {\n    repeat: [\"\", \"x\", \"y\", \"space\", \"round\"]\n  }];\n  const scaleBgSize = () => [\"auto\", \"cover\", \"contain\", isArbitraryVariableSize, isArbitrarySize, {\n    size: [isArbitraryVariable, isArbitraryValue]\n  }];\n  const scaleGradientStopPosition = () => [isPercent, isArbitraryVariableLength, isArbitraryLength];\n  const scaleRadius = () => [\n    // Deprecated since Tailwind CSS v4.0.0\n    \"\",\n    \"none\",\n    \"full\",\n    themeRadius,\n    isArbitraryVariable,\n    isArbitraryValue\n  ];\n  const scaleBorderWidth = () => [\"\", isNumber, isArbitraryVariableLength, isArbitraryLength];\n  const scaleLineStyle = () => [\"solid\", \"dashed\", \"dotted\", \"double\"];\n  const scaleBlendMode = () => [\"normal\", \"multiply\", \"screen\", \"overlay\", \"darken\", \"lighten\", \"color-dodge\", \"color-burn\", \"hard-light\", \"soft-light\", \"difference\", \"exclusion\", \"hue\", \"saturation\", \"color\", \"luminosity\"];\n  const scaleMaskImagePosition = () => [isNumber, isPercent, isArbitraryVariablePosition, isArbitraryPosition];\n  const scaleBlur = () => [\n    // Deprecated since Tailwind CSS v4.0.0\n    \"\",\n    \"none\",\n    themeBlur,\n    isArbitraryVariable,\n    isArbitraryValue\n  ];\n  const scaleRotate = () => [\"none\", isNumber, isArbitraryVariable, isArbitraryValue];\n  const scaleScale = () => [\"none\", isNumber, isArbitraryVariable, isArbitraryValue];\n  const scaleSkew = () => [isNumber, isArbitraryVariable, isArbitraryValue];\n  const scaleTranslate = () => [isFraction, \"full\", ...scaleUnambiguousSpacing()];\n  return {\n    cacheSize: 500,\n    theme: {\n      animate: [\"spin\", \"ping\", \"pulse\", \"bounce\"],\n      aspect: [\"video\"],\n      blur: [isTshirtSize],\n      breakpoint: [isTshirtSize],\n      color: [isAny],\n      container: [isTshirtSize],\n      \"drop-shadow\": [isTshirtSize],\n      ease: [\"in\", \"out\", \"in-out\"],\n      font: [isAnyNonArbitrary],\n      \"font-weight\": [\"thin\", \"extralight\", \"light\", \"normal\", \"medium\", \"semibold\", \"bold\", \"extrabold\", \"black\"],\n      \"inset-shadow\": [isTshirtSize],\n      leading: [\"none\", \"tight\", \"snug\", \"normal\", \"relaxed\", \"loose\"],\n      perspective: [\"dramatic\", \"near\", \"normal\", \"midrange\", \"distant\", \"none\"],\n      radius: [isTshirtSize],\n      shadow: [isTshirtSize],\n      spacing: [\"px\", isNumber],\n      text: [isTshirtSize],\n      \"text-shadow\": [isTshirtSize],\n      tracking: [\"tighter\", \"tight\", \"normal\", \"wide\", \"wider\", \"widest\"]\n    },\n    classGroups: {\n      // --------------\n      // --- Layout ---\n      // --------------\n      /**\n       * Aspect Ratio\n       * @see https://tailwindcss.com/docs/aspect-ratio\n       */\n      aspect: [{\n        aspect: [\"auto\", \"square\", isFraction, isArbitraryValue, isArbitraryVariable, themeAspect]\n      }],\n      /**\n       * Container\n       * @see https://tailwindcss.com/docs/container\n       * @deprecated since Tailwind CSS v4.0.0\n       */\n      container: [\"container\"],\n      /**\n       * Columns\n       * @see https://tailwindcss.com/docs/columns\n       */\n      columns: [{\n        columns: [isNumber, isArbitraryValue, isArbitraryVariable, themeContainer]\n      }],\n      /**\n       * Break After\n       * @see https://tailwindcss.com/docs/break-after\n       */\n      \"break-after\": [{\n        \"break-after\": scaleBreak()\n      }],\n      /**\n       * Break Before\n       * @see https://tailwindcss.com/docs/break-before\n       */\n      \"break-before\": [{\n        \"break-before\": scaleBreak()\n      }],\n      /**\n       * Break Inside\n       * @see https://tailwindcss.com/docs/break-inside\n       */\n      \"break-inside\": [{\n        \"break-inside\": [\"auto\", \"avoid\", \"avoid-page\", \"avoid-column\"]\n      }],\n      /**\n       * Box Decoration Break\n       * @see https://tailwindcss.com/docs/box-decoration-break\n       */\n      \"box-decoration\": [{\n        \"box-decoration\": [\"slice\", \"clone\"]\n      }],\n      /**\n       * Box Sizing\n       * @see https://tailwindcss.com/docs/box-sizing\n       */\n      box: [{\n        box: [\"border\", \"content\"]\n      }],\n      /**\n       * Display\n       * @see https://tailwindcss.com/docs/display\n       */\n      display: [\"block\", \"inline-block\", \"inline\", \"flex\", \"inline-flex\", \"table\", \"inline-table\", \"table-caption\", \"table-cell\", \"table-column\", \"table-column-group\", \"table-footer-group\", \"table-header-group\", \"table-row-group\", \"table-row\", \"flow-root\", \"grid\", \"inline-grid\", \"contents\", \"list-item\", \"hidden\"],\n      /**\n       * Screen Reader Only\n       * @see https://tailwindcss.com/docs/display#screen-reader-only\n       */\n      sr: [\"sr-only\", \"not-sr-only\"],\n      /**\n       * Floats\n       * @see https://tailwindcss.com/docs/float\n       */\n      float: [{\n        float: [\"right\", \"left\", \"none\", \"start\", \"end\"]\n      }],\n      /**\n       * Clear\n       * @see https://tailwindcss.com/docs/clear\n       */\n      clear: [{\n        clear: [\"left\", \"right\", \"both\", \"none\", \"start\", \"end\"]\n      }],\n      /**\n       * Isolation\n       * @see https://tailwindcss.com/docs/isolation\n       */\n      isolation: [\"isolate\", \"isolation-auto\"],\n      /**\n       * Object Fit\n       * @see https://tailwindcss.com/docs/object-fit\n       */\n      \"object-fit\": [{\n        object: [\"contain\", \"cover\", \"fill\", \"none\", \"scale-down\"]\n      }],\n      /**\n       * Object Position\n       * @see https://tailwindcss.com/docs/object-position\n       */\n      \"object-position\": [{\n        object: scalePositionWithArbitrary()\n      }],\n      /**\n       * Overflow\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      overflow: [{\n        overflow: scaleOverflow()\n      }],\n      /**\n       * Overflow X\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      \"overflow-x\": [{\n        \"overflow-x\": scaleOverflow()\n      }],\n      /**\n       * Overflow Y\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      \"overflow-y\": [{\n        \"overflow-y\": scaleOverflow()\n      }],\n      /**\n       * Overscroll Behavior\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      overscroll: [{\n        overscroll: scaleOverscroll()\n      }],\n      /**\n       * Overscroll Behavior X\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      \"overscroll-x\": [{\n        \"overscroll-x\": scaleOverscroll()\n      }],\n      /**\n       * Overscroll Behavior Y\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      \"overscroll-y\": [{\n        \"overscroll-y\": scaleOverscroll()\n      }],\n      /**\n       * Position\n       * @see https://tailwindcss.com/docs/position\n       */\n      position: [\"static\", \"fixed\", \"absolute\", \"relative\", \"sticky\"],\n      /**\n       * Top / Right / Bottom / Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      inset: [{\n        inset: scaleInset()\n      }],\n      /**\n       * Right / Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      \"inset-x\": [{\n        \"inset-x\": scaleInset()\n      }],\n      /**\n       * Top / Bottom\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      \"inset-y\": [{\n        \"inset-y\": scaleInset()\n      }],\n      /**\n       * Start\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      start: [{\n        start: scaleInset()\n      }],\n      /**\n       * End\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      end: [{\n        end: scaleInset()\n      }],\n      /**\n       * Top\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      top: [{\n        top: scaleInset()\n      }],\n      /**\n       * Right\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      right: [{\n        right: scaleInset()\n      }],\n      /**\n       * Bottom\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      bottom: [{\n        bottom: scaleInset()\n      }],\n      /**\n       * Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      left: [{\n        left: scaleInset()\n      }],\n      /**\n       * Visibility\n       * @see https://tailwindcss.com/docs/visibility\n       */\n      visibility: [\"visible\", \"invisible\", \"collapse\"],\n      /**\n       * Z-Index\n       * @see https://tailwindcss.com/docs/z-index\n       */\n      z: [{\n        z: [isInteger, \"auto\", isArbitraryVariable, isArbitraryValue]\n      }],\n      // ------------------------\n      // --- Flexbox and Grid ---\n      // ------------------------\n      /**\n       * Flex Basis\n       * @see https://tailwindcss.com/docs/flex-basis\n       */\n      basis: [{\n        basis: [isFraction, \"full\", \"auto\", themeContainer, ...scaleUnambiguousSpacing()]\n      }],\n      /**\n       * Flex Direction\n       * @see https://tailwindcss.com/docs/flex-direction\n       */\n      \"flex-direction\": [{\n        flex: [\"row\", \"row-reverse\", \"col\", \"col-reverse\"]\n      }],\n      /**\n       * Flex Wrap\n       * @see https://tailwindcss.com/docs/flex-wrap\n       */\n      \"flex-wrap\": [{\n        flex: [\"nowrap\", \"wrap\", \"wrap-reverse\"]\n      }],\n      /**\n       * Flex\n       * @see https://tailwindcss.com/docs/flex\n       */\n      flex: [{\n        flex: [isNumber, isFraction, \"auto\", \"initial\", \"none\", isArbitraryValue]\n      }],\n      /**\n       * Flex Grow\n       * @see https://tailwindcss.com/docs/flex-grow\n       */\n      grow: [{\n        grow: [\"\", isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Flex Shrink\n       * @see https://tailwindcss.com/docs/flex-shrink\n       */\n      shrink: [{\n        shrink: [\"\", isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Order\n       * @see https://tailwindcss.com/docs/order\n       */\n      order: [{\n        order: [isInteger, \"first\", \"last\", \"none\", isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Grid Template Columns\n       * @see https://tailwindcss.com/docs/grid-template-columns\n       */\n      \"grid-cols\": [{\n        \"grid-cols\": scaleGridTemplateColsRows()\n      }],\n      /**\n       * Grid Column Start / End\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      \"col-start-end\": [{\n        col: scaleGridColRowStartAndEnd()\n      }],\n      /**\n       * Grid Column Start\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      \"col-start\": [{\n        \"col-start\": scaleGridColRowStartOrEnd()\n      }],\n      /**\n       * Grid Column End\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      \"col-end\": [{\n        \"col-end\": scaleGridColRowStartOrEnd()\n      }],\n      /**\n       * Grid Template Rows\n       * @see https://tailwindcss.com/docs/grid-template-rows\n       */\n      \"grid-rows\": [{\n        \"grid-rows\": scaleGridTemplateColsRows()\n      }],\n      /**\n       * Grid Row Start / End\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      \"row-start-end\": [{\n        row: scaleGridColRowStartAndEnd()\n      }],\n      /**\n       * Grid Row Start\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      \"row-start\": [{\n        \"row-start\": scaleGridColRowStartOrEnd()\n      }],\n      /**\n       * Grid Row End\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      \"row-end\": [{\n        \"row-end\": scaleGridColRowStartOrEnd()\n      }],\n      /**\n       * Grid Auto Flow\n       * @see https://tailwindcss.com/docs/grid-auto-flow\n       */\n      \"grid-flow\": [{\n        \"grid-flow\": [\"row\", \"col\", \"dense\", \"row-dense\", \"col-dense\"]\n      }],\n      /**\n       * Grid Auto Columns\n       * @see https://tailwindcss.com/docs/grid-auto-columns\n       */\n      \"auto-cols\": [{\n        \"auto-cols\": scaleGridAutoColsRows()\n      }],\n      /**\n       * Grid Auto Rows\n       * @see https://tailwindcss.com/docs/grid-auto-rows\n       */\n      \"auto-rows\": [{\n        \"auto-rows\": scaleGridAutoColsRows()\n      }],\n      /**\n       * Gap\n       * @see https://tailwindcss.com/docs/gap\n       */\n      gap: [{\n        gap: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Gap X\n       * @see https://tailwindcss.com/docs/gap\n       */\n      \"gap-x\": [{\n        \"gap-x\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Gap Y\n       * @see https://tailwindcss.com/docs/gap\n       */\n      \"gap-y\": [{\n        \"gap-y\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Justify Content\n       * @see https://tailwindcss.com/docs/justify-content\n       */\n      \"justify-content\": [{\n        justify: [...scaleAlignPrimaryAxis(), \"normal\"]\n      }],\n      /**\n       * Justify Items\n       * @see https://tailwindcss.com/docs/justify-items\n       */\n      \"justify-items\": [{\n        \"justify-items\": [...scaleAlignSecondaryAxis(), \"normal\"]\n      }],\n      /**\n       * Justify Self\n       * @see https://tailwindcss.com/docs/justify-self\n       */\n      \"justify-self\": [{\n        \"justify-self\": [\"auto\", ...scaleAlignSecondaryAxis()]\n      }],\n      /**\n       * Align Content\n       * @see https://tailwindcss.com/docs/align-content\n       */\n      \"align-content\": [{\n        content: [\"normal\", ...scaleAlignPrimaryAxis()]\n      }],\n      /**\n       * Align Items\n       * @see https://tailwindcss.com/docs/align-items\n       */\n      \"align-items\": [{\n        items: [...scaleAlignSecondaryAxis(), {\n          baseline: [\"\", \"last\"]\n        }]\n      }],\n      /**\n       * Align Self\n       * @see https://tailwindcss.com/docs/align-self\n       */\n      \"align-self\": [{\n        self: [\"auto\", ...scaleAlignSecondaryAxis(), {\n          baseline: [\"\", \"last\"]\n        }]\n      }],\n      /**\n       * Place Content\n       * @see https://tailwindcss.com/docs/place-content\n       */\n      \"place-content\": [{\n        \"place-content\": scaleAlignPrimaryAxis()\n      }],\n      /**\n       * Place Items\n       * @see https://tailwindcss.com/docs/place-items\n       */\n      \"place-items\": [{\n        \"place-items\": [...scaleAlignSecondaryAxis(), \"baseline\"]\n      }],\n      /**\n       * Place Self\n       * @see https://tailwindcss.com/docs/place-self\n       */\n      \"place-self\": [{\n        \"place-self\": [\"auto\", ...scaleAlignSecondaryAxis()]\n      }],\n      // Spacing\n      /**\n       * Padding\n       * @see https://tailwindcss.com/docs/padding\n       */\n      p: [{\n        p: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding X\n       * @see https://tailwindcss.com/docs/padding\n       */\n      px: [{\n        px: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Y\n       * @see https://tailwindcss.com/docs/padding\n       */\n      py: [{\n        py: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Start\n       * @see https://tailwindcss.com/docs/padding\n       */\n      ps: [{\n        ps: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding End\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pe: [{\n        pe: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Top\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pt: [{\n        pt: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Right\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pr: [{\n        pr: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Bottom\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pb: [{\n        pb: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Left\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pl: [{\n        pl: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Margin\n       * @see https://tailwindcss.com/docs/margin\n       */\n      m: [{\n        m: scaleMargin()\n      }],\n      /**\n       * Margin X\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mx: [{\n        mx: scaleMargin()\n      }],\n      /**\n       * Margin Y\n       * @see https://tailwindcss.com/docs/margin\n       */\n      my: [{\n        my: scaleMargin()\n      }],\n      /**\n       * Margin Start\n       * @see https://tailwindcss.com/docs/margin\n       */\n      ms: [{\n        ms: scaleMargin()\n      }],\n      /**\n       * Margin End\n       * @see https://tailwindcss.com/docs/margin\n       */\n      me: [{\n        me: scaleMargin()\n      }],\n      /**\n       * Margin Top\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mt: [{\n        mt: scaleMargin()\n      }],\n      /**\n       * Margin Right\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mr: [{\n        mr: scaleMargin()\n      }],\n      /**\n       * Margin Bottom\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mb: [{\n        mb: scaleMargin()\n      }],\n      /**\n       * Margin Left\n       * @see https://tailwindcss.com/docs/margin\n       */\n      ml: [{\n        ml: scaleMargin()\n      }],\n      /**\n       * Space Between X\n       * @see https://tailwindcss.com/docs/margin#adding-space-between-children\n       */\n      \"space-x\": [{\n        \"space-x\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Space Between X Reverse\n       * @see https://tailwindcss.com/docs/margin#adding-space-between-children\n       */\n      \"space-x-reverse\": [\"space-x-reverse\"],\n      /**\n       * Space Between Y\n       * @see https://tailwindcss.com/docs/margin#adding-space-between-children\n       */\n      \"space-y\": [{\n        \"space-y\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Space Between Y Reverse\n       * @see https://tailwindcss.com/docs/margin#adding-space-between-children\n       */\n      \"space-y-reverse\": [\"space-y-reverse\"],\n      // --------------\n      // --- Sizing ---\n      // --------------\n      /**\n       * Size\n       * @see https://tailwindcss.com/docs/width#setting-both-width-and-height\n       */\n      size: [{\n        size: scaleSizing()\n      }],\n      /**\n       * Width\n       * @see https://tailwindcss.com/docs/width\n       */\n      w: [{\n        w: [themeContainer, \"screen\", ...scaleSizing()]\n      }],\n      /**\n       * Min-Width\n       * @see https://tailwindcss.com/docs/min-width\n       */\n      \"min-w\": [{\n        \"min-w\": [\n          themeContainer,\n          \"screen\",\n          /** Deprecated. @see https://github.com/tailwindlabs/tailwindcss.com/issues/2027#issuecomment-2620152757 */\n          \"none\",\n          ...scaleSizing()\n        ]\n      }],\n      /**\n       * Max-Width\n       * @see https://tailwindcss.com/docs/max-width\n       */\n      \"max-w\": [{\n        \"max-w\": [\n          themeContainer,\n          \"screen\",\n          \"none\",\n          /** Deprecated since Tailwind CSS v4.0.0. @see https://github.com/tailwindlabs/tailwindcss.com/issues/2027#issuecomment-2620152757 */\n          \"prose\",\n          /** Deprecated since Tailwind CSS v4.0.0. @see https://github.com/tailwindlabs/tailwindcss.com/issues/2027#issuecomment-2620152757 */\n          {\n            screen: [themeBreakpoint]\n          },\n          ...scaleSizing()\n        ]\n      }],\n      /**\n       * Height\n       * @see https://tailwindcss.com/docs/height\n       */\n      h: [{\n        h: [\"screen\", ...scaleSizing()]\n      }],\n      /**\n       * Min-Height\n       * @see https://tailwindcss.com/docs/min-height\n       */\n      \"min-h\": [{\n        \"min-h\": [\"screen\", \"none\", ...scaleSizing()]\n      }],\n      /**\n       * Max-Height\n       * @see https://tailwindcss.com/docs/max-height\n       */\n      \"max-h\": [{\n        \"max-h\": [\"screen\", ...scaleSizing()]\n      }],\n      // ------------------\n      // --- Typography ---\n      // ------------------\n      /**\n       * Font Size\n       * @see https://tailwindcss.com/docs/font-size\n       */\n      \"font-size\": [{\n        text: [\"base\", themeText, isArbitraryVariableLength, isArbitraryLength]\n      }],\n      /**\n       * Font Smoothing\n       * @see https://tailwindcss.com/docs/font-smoothing\n       */\n      \"font-smoothing\": [\"antialiased\", \"subpixel-antialiased\"],\n      /**\n       * Font Style\n       * @see https://tailwindcss.com/docs/font-style\n       */\n      \"font-style\": [\"italic\", \"not-italic\"],\n      /**\n       * Font Weight\n       * @see https://tailwindcss.com/docs/font-weight\n       */\n      \"font-weight\": [{\n        font: [themeFontWeight, isArbitraryVariable, isArbitraryNumber]\n      }],\n      /**\n       * Font Stretch\n       * @see https://tailwindcss.com/docs/font-stretch\n       */\n      \"font-stretch\": [{\n        \"font-stretch\": [\"ultra-condensed\", \"extra-condensed\", \"condensed\", \"semi-condensed\", \"normal\", \"semi-expanded\", \"expanded\", \"extra-expanded\", \"ultra-expanded\", isPercent, isArbitraryValue]\n      }],\n      /**\n       * Font Family\n       * @see https://tailwindcss.com/docs/font-family\n       */\n      \"font-family\": [{\n        font: [isArbitraryVariableFamilyName, isArbitraryValue, themeFont]\n      }],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      \"fvn-normal\": [\"normal-nums\"],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      \"fvn-ordinal\": [\"ordinal\"],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      \"fvn-slashed-zero\": [\"slashed-zero\"],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      \"fvn-figure\": [\"lining-nums\", \"oldstyle-nums\"],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      \"fvn-spacing\": [\"proportional-nums\", \"tabular-nums\"],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      \"fvn-fraction\": [\"diagonal-fractions\", \"stacked-fractions\"],\n      /**\n       * Letter Spacing\n       * @see https://tailwindcss.com/docs/letter-spacing\n       */\n      tracking: [{\n        tracking: [themeTracking, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Line Clamp\n       * @see https://tailwindcss.com/docs/line-clamp\n       */\n      \"line-clamp\": [{\n        \"line-clamp\": [isNumber, \"none\", isArbitraryVariable, isArbitraryNumber]\n      }],\n      /**\n       * Line Height\n       * @see https://tailwindcss.com/docs/line-height\n       */\n      leading: [{\n        leading: [\n          /** Deprecated since Tailwind CSS v4.0.0. @see https://github.com/tailwindlabs/tailwindcss.com/issues/2027#issuecomment-2620152757 */\n          themeLeading,\n          ...scaleUnambiguousSpacing()\n        ]\n      }],\n      /**\n       * List Style Image\n       * @see https://tailwindcss.com/docs/list-style-image\n       */\n      \"list-image\": [{\n        \"list-image\": [\"none\", isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * List Style Position\n       * @see https://tailwindcss.com/docs/list-style-position\n       */\n      \"list-style-position\": [{\n        list: [\"inside\", \"outside\"]\n      }],\n      /**\n       * List Style Type\n       * @see https://tailwindcss.com/docs/list-style-type\n       */\n      \"list-style-type\": [{\n        list: [\"disc\", \"decimal\", \"none\", isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Text Alignment\n       * @see https://tailwindcss.com/docs/text-align\n       */\n      \"text-alignment\": [{\n        text: [\"left\", \"center\", \"right\", \"justify\", \"start\", \"end\"]\n      }],\n      /**\n       * Placeholder Color\n       * @deprecated since Tailwind CSS v3.0.0\n       * @see https://v3.tailwindcss.com/docs/placeholder-color\n       */\n      \"placeholder-color\": [{\n        placeholder: scaleColor()\n      }],\n      /**\n       * Text Color\n       * @see https://tailwindcss.com/docs/text-color\n       */\n      \"text-color\": [{\n        text: scaleColor()\n      }],\n      /**\n       * Text Decoration\n       * @see https://tailwindcss.com/docs/text-decoration\n       */\n      \"text-decoration\": [\"underline\", \"overline\", \"line-through\", \"no-underline\"],\n      /**\n       * Text Decoration Style\n       * @see https://tailwindcss.com/docs/text-decoration-style\n       */\n      \"text-decoration-style\": [{\n        decoration: [...scaleLineStyle(), \"wavy\"]\n      }],\n      /**\n       * Text Decoration Thickness\n       * @see https://tailwindcss.com/docs/text-decoration-thickness\n       */\n      \"text-decoration-thickness\": [{\n        decoration: [isNumber, \"from-font\", \"auto\", isArbitraryVariable, isArbitraryLength]\n      }],\n      /**\n       * Text Decoration Color\n       * @see https://tailwindcss.com/docs/text-decoration-color\n       */\n      \"text-decoration-color\": [{\n        decoration: scaleColor()\n      }],\n      /**\n       * Text Underline Offset\n       * @see https://tailwindcss.com/docs/text-underline-offset\n       */\n      \"underline-offset\": [{\n        \"underline-offset\": [isNumber, \"auto\", isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Text Transform\n       * @see https://tailwindcss.com/docs/text-transform\n       */\n      \"text-transform\": [\"uppercase\", \"lowercase\", \"capitalize\", \"normal-case\"],\n      /**\n       * Text Overflow\n       * @see https://tailwindcss.com/docs/text-overflow\n       */\n      \"text-overflow\": [\"truncate\", \"text-ellipsis\", \"text-clip\"],\n      /**\n       * Text Wrap\n       * @see https://tailwindcss.com/docs/text-wrap\n       */\n      \"text-wrap\": [{\n        text: [\"wrap\", \"nowrap\", \"balance\", \"pretty\"]\n      }],\n      /**\n       * Text Indent\n       * @see https://tailwindcss.com/docs/text-indent\n       */\n      indent: [{\n        indent: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Vertical Alignment\n       * @see https://tailwindcss.com/docs/vertical-align\n       */\n      \"vertical-align\": [{\n        align: [\"baseline\", \"top\", \"middle\", \"bottom\", \"text-top\", \"text-bottom\", \"sub\", \"super\", isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Whitespace\n       * @see https://tailwindcss.com/docs/whitespace\n       */\n      whitespace: [{\n        whitespace: [\"normal\", \"nowrap\", \"pre\", \"pre-line\", \"pre-wrap\", \"break-spaces\"]\n      }],\n      /**\n       * Word Break\n       * @see https://tailwindcss.com/docs/word-break\n       */\n      break: [{\n        break: [\"normal\", \"words\", \"all\", \"keep\"]\n      }],\n      /**\n       * Overflow Wrap\n       * @see https://tailwindcss.com/docs/overflow-wrap\n       */\n      wrap: [{\n        wrap: [\"break-word\", \"anywhere\", \"normal\"]\n      }],\n      /**\n       * Hyphens\n       * @see https://tailwindcss.com/docs/hyphens\n       */\n      hyphens: [{\n        hyphens: [\"none\", \"manual\", \"auto\"]\n      }],\n      /**\n       * Content\n       * @see https://tailwindcss.com/docs/content\n       */\n      content: [{\n        content: [\"none\", isArbitraryVariable, isArbitraryValue]\n      }],\n      // -------------------\n      // --- Backgrounds ---\n      // -------------------\n      /**\n       * Background Attachment\n       * @see https://tailwindcss.com/docs/background-attachment\n       */\n      \"bg-attachment\": [{\n        bg: [\"fixed\", \"local\", \"scroll\"]\n      }],\n      /**\n       * Background Clip\n       * @see https://tailwindcss.com/docs/background-clip\n       */\n      \"bg-clip\": [{\n        \"bg-clip\": [\"border\", \"padding\", \"content\", \"text\"]\n      }],\n      /**\n       * Background Origin\n       * @see https://tailwindcss.com/docs/background-origin\n       */\n      \"bg-origin\": [{\n        \"bg-origin\": [\"border\", \"padding\", \"content\"]\n      }],\n      /**\n       * Background Position\n       * @see https://tailwindcss.com/docs/background-position\n       */\n      \"bg-position\": [{\n        bg: scaleBgPosition()\n      }],\n      /**\n       * Background Repeat\n       * @see https://tailwindcss.com/docs/background-repeat\n       */\n      \"bg-repeat\": [{\n        bg: scaleBgRepeat()\n      }],\n      /**\n       * Background Size\n       * @see https://tailwindcss.com/docs/background-size\n       */\n      \"bg-size\": [{\n        bg: scaleBgSize()\n      }],\n      /**\n       * Background Image\n       * @see https://tailwindcss.com/docs/background-image\n       */\n      \"bg-image\": [{\n        bg: [\"none\", {\n          linear: [{\n            to: [\"t\", \"tr\", \"r\", \"br\", \"b\", \"bl\", \"l\", \"tl\"]\n          }, isInteger, isArbitraryVariable, isArbitraryValue],\n          radial: [\"\", isArbitraryVariable, isArbitraryValue],\n          conic: [isInteger, isArbitraryVariable, isArbitraryValue]\n        }, isArbitraryVariableImage, isArbitraryImage]\n      }],\n      /**\n       * Background Color\n       * @see https://tailwindcss.com/docs/background-color\n       */\n      \"bg-color\": [{\n        bg: scaleColor()\n      }],\n      /**\n       * Gradient Color Stops From Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      \"gradient-from-pos\": [{\n        from: scaleGradientStopPosition()\n      }],\n      /**\n       * Gradient Color Stops Via Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      \"gradient-via-pos\": [{\n        via: scaleGradientStopPosition()\n      }],\n      /**\n       * Gradient Color Stops To Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      \"gradient-to-pos\": [{\n        to: scaleGradientStopPosition()\n      }],\n      /**\n       * Gradient Color Stops From\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      \"gradient-from\": [{\n        from: scaleColor()\n      }],\n      /**\n       * Gradient Color Stops Via\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      \"gradient-via\": [{\n        via: scaleColor()\n      }],\n      /**\n       * Gradient Color Stops To\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      \"gradient-to\": [{\n        to: scaleColor()\n      }],\n      // ---------------\n      // --- Borders ---\n      // ---------------\n      /**\n       * Border Radius\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      rounded: [{\n        rounded: scaleRadius()\n      }],\n      /**\n       * Border Radius Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      \"rounded-s\": [{\n        \"rounded-s\": scaleRadius()\n      }],\n      /**\n       * Border Radius End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      \"rounded-e\": [{\n        \"rounded-e\": scaleRadius()\n      }],\n      /**\n       * Border Radius Top\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      \"rounded-t\": [{\n        \"rounded-t\": scaleRadius()\n      }],\n      /**\n       * Border Radius Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      \"rounded-r\": [{\n        \"rounded-r\": scaleRadius()\n      }],\n      /**\n       * Border Radius Bottom\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      \"rounded-b\": [{\n        \"rounded-b\": scaleRadius()\n      }],\n      /**\n       * Border Radius Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      \"rounded-l\": [{\n        \"rounded-l\": scaleRadius()\n      }],\n      /**\n       * Border Radius Start Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      \"rounded-ss\": [{\n        \"rounded-ss\": scaleRadius()\n      }],\n      /**\n       * Border Radius Start End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      \"rounded-se\": [{\n        \"rounded-se\": scaleRadius()\n      }],\n      /**\n       * Border Radius End End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      \"rounded-ee\": [{\n        \"rounded-ee\": scaleRadius()\n      }],\n      /**\n       * Border Radius End Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      \"rounded-es\": [{\n        \"rounded-es\": scaleRadius()\n      }],\n      /**\n       * Border Radius Top Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      \"rounded-tl\": [{\n        \"rounded-tl\": scaleRadius()\n      }],\n      /**\n       * Border Radius Top Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      \"rounded-tr\": [{\n        \"rounded-tr\": scaleRadius()\n      }],\n      /**\n       * Border Radius Bottom Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      \"rounded-br\": [{\n        \"rounded-br\": scaleRadius()\n      }],\n      /**\n       * Border Radius Bottom Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      \"rounded-bl\": [{\n        \"rounded-bl\": scaleRadius()\n      }],\n      /**\n       * Border Width\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      \"border-w\": [{\n        border: scaleBorderWidth()\n      }],\n      /**\n       * Border Width X\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      \"border-w-x\": [{\n        \"border-x\": scaleBorderWidth()\n      }],\n      /**\n       * Border Width Y\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      \"border-w-y\": [{\n        \"border-y\": scaleBorderWidth()\n      }],\n      /**\n       * Border Width Start\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      \"border-w-s\": [{\n        \"border-s\": scaleBorderWidth()\n      }],\n      /**\n       * Border Width End\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      \"border-w-e\": [{\n        \"border-e\": scaleBorderWidth()\n      }],\n      /**\n       * Border Width Top\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      \"border-w-t\": [{\n        \"border-t\": scaleBorderWidth()\n      }],\n      /**\n       * Border Width Right\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      \"border-w-r\": [{\n        \"border-r\": scaleBorderWidth()\n      }],\n      /**\n       * Border Width Bottom\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      \"border-w-b\": [{\n        \"border-b\": scaleBorderWidth()\n      }],\n      /**\n       * Border Width Left\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      \"border-w-l\": [{\n        \"border-l\": scaleBorderWidth()\n      }],\n      /**\n       * Divide Width X\n       * @see https://tailwindcss.com/docs/border-width#between-children\n       */\n      \"divide-x\": [{\n        \"divide-x\": scaleBorderWidth()\n      }],\n      /**\n       * Divide Width X Reverse\n       * @see https://tailwindcss.com/docs/border-width#between-children\n       */\n      \"divide-x-reverse\": [\"divide-x-reverse\"],\n      /**\n       * Divide Width Y\n       * @see https://tailwindcss.com/docs/border-width#between-children\n       */\n      \"divide-y\": [{\n        \"divide-y\": scaleBorderWidth()\n      }],\n      /**\n       * Divide Width Y Reverse\n       * @see https://tailwindcss.com/docs/border-width#between-children\n       */\n      \"divide-y-reverse\": [\"divide-y-reverse\"],\n      /**\n       * Border Style\n       * @see https://tailwindcss.com/docs/border-style\n       */\n      \"border-style\": [{\n        border: [...scaleLineStyle(), \"hidden\", \"none\"]\n      }],\n      /**\n       * Divide Style\n       * @see https://tailwindcss.com/docs/border-style#setting-the-divider-style\n       */\n      \"divide-style\": [{\n        divide: [...scaleLineStyle(), \"hidden\", \"none\"]\n      }],\n      /**\n       * Border Color\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      \"border-color\": [{\n        border: scaleColor()\n      }],\n      /**\n       * Border Color X\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      \"border-color-x\": [{\n        \"border-x\": scaleColor()\n      }],\n      /**\n       * Border Color Y\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      \"border-color-y\": [{\n        \"border-y\": scaleColor()\n      }],\n      /**\n       * Border Color S\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      \"border-color-s\": [{\n        \"border-s\": scaleColor()\n      }],\n      /**\n       * Border Color E\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      \"border-color-e\": [{\n        \"border-e\": scaleColor()\n      }],\n      /**\n       * Border Color Top\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      \"border-color-t\": [{\n        \"border-t\": scaleColor()\n      }],\n      /**\n       * Border Color Right\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      \"border-color-r\": [{\n        \"border-r\": scaleColor()\n      }],\n      /**\n       * Border Color Bottom\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      \"border-color-b\": [{\n        \"border-b\": scaleColor()\n      }],\n      /**\n       * Border Color Left\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      \"border-color-l\": [{\n        \"border-l\": scaleColor()\n      }],\n      /**\n       * Divide Color\n       * @see https://tailwindcss.com/docs/divide-color\n       */\n      \"divide-color\": [{\n        divide: scaleColor()\n      }],\n      /**\n       * Outline Style\n       * @see https://tailwindcss.com/docs/outline-style\n       */\n      \"outline-style\": [{\n        outline: [...scaleLineStyle(), \"none\", \"hidden\"]\n      }],\n      /**\n       * Outline Offset\n       * @see https://tailwindcss.com/docs/outline-offset\n       */\n      \"outline-offset\": [{\n        \"outline-offset\": [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Outline Width\n       * @see https://tailwindcss.com/docs/outline-width\n       */\n      \"outline-w\": [{\n        outline: [\"\", isNumber, isArbitraryVariableLength, isArbitraryLength]\n      }],\n      /**\n       * Outline Color\n       * @see https://tailwindcss.com/docs/outline-color\n       */\n      \"outline-color\": [{\n        outline: scaleColor()\n      }],\n      // ---------------\n      // --- Effects ---\n      // ---------------\n      /**\n       * Box Shadow\n       * @see https://tailwindcss.com/docs/box-shadow\n       */\n      shadow: [{\n        shadow: [\n          // Deprecated since Tailwind CSS v4.0.0\n          \"\",\n          \"none\",\n          themeShadow,\n          isArbitraryVariableShadow,\n          isArbitraryShadow\n        ]\n      }],\n      /**\n       * Box Shadow Color\n       * @see https://tailwindcss.com/docs/box-shadow#setting-the-shadow-color\n       */\n      \"shadow-color\": [{\n        shadow: scaleColor()\n      }],\n      /**\n       * Inset Box Shadow\n       * @see https://tailwindcss.com/docs/box-shadow#adding-an-inset-shadow\n       */\n      \"inset-shadow\": [{\n        \"inset-shadow\": [\"none\", themeInsetShadow, isArbitraryVariableShadow, isArbitraryShadow]\n      }],\n      /**\n       * Inset Box Shadow Color\n       * @see https://tailwindcss.com/docs/box-shadow#setting-the-inset-shadow-color\n       */\n      \"inset-shadow-color\": [{\n        \"inset-shadow\": scaleColor()\n      }],\n      /**\n       * Ring Width\n       * @see https://tailwindcss.com/docs/box-shadow#adding-a-ring\n       */\n      \"ring-w\": [{\n        ring: scaleBorderWidth()\n      }],\n      /**\n       * Ring Width Inset\n       * @see https://v3.tailwindcss.com/docs/ring-width#inset-rings\n       * @deprecated since Tailwind CSS v4.0.0\n       * @see https://github.com/tailwindlabs/tailwindcss/blob/v4.0.0/packages/tailwindcss/src/utilities.ts#L4158\n       */\n      \"ring-w-inset\": [\"ring-inset\"],\n      /**\n       * Ring Color\n       * @see https://tailwindcss.com/docs/box-shadow#setting-the-ring-color\n       */\n      \"ring-color\": [{\n        ring: scaleColor()\n      }],\n      /**\n       * Ring Offset Width\n       * @see https://v3.tailwindcss.com/docs/ring-offset-width\n       * @deprecated since Tailwind CSS v4.0.0\n       * @see https://github.com/tailwindlabs/tailwindcss/blob/v4.0.0/packages/tailwindcss/src/utilities.ts#L4158\n       */\n      \"ring-offset-w\": [{\n        \"ring-offset\": [isNumber, isArbitraryLength]\n      }],\n      /**\n       * Ring Offset Color\n       * @see https://v3.tailwindcss.com/docs/ring-offset-color\n       * @deprecated since Tailwind CSS v4.0.0\n       * @see https://github.com/tailwindlabs/tailwindcss/blob/v4.0.0/packages/tailwindcss/src/utilities.ts#L4158\n       */\n      \"ring-offset-color\": [{\n        \"ring-offset\": scaleColor()\n      }],\n      /**\n       * Inset Ring Width\n       * @see https://tailwindcss.com/docs/box-shadow#adding-an-inset-ring\n       */\n      \"inset-ring-w\": [{\n        \"inset-ring\": scaleBorderWidth()\n      }],\n      /**\n       * Inset Ring Color\n       * @see https://tailwindcss.com/docs/box-shadow#setting-the-inset-ring-color\n       */\n      \"inset-ring-color\": [{\n        \"inset-ring\": scaleColor()\n      }],\n      /**\n       * Text Shadow\n       * @see https://tailwindcss.com/docs/text-shadow\n       */\n      \"text-shadow\": [{\n        \"text-shadow\": [\"none\", themeTextShadow, isArbitraryVariableShadow, isArbitraryShadow]\n      }],\n      /**\n       * Text Shadow Color\n       * @see https://tailwindcss.com/docs/text-shadow#setting-the-shadow-color\n       */\n      \"text-shadow-color\": [{\n        \"text-shadow\": scaleColor()\n      }],\n      /**\n       * Opacity\n       * @see https://tailwindcss.com/docs/opacity\n       */\n      opacity: [{\n        opacity: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Mix Blend Mode\n       * @see https://tailwindcss.com/docs/mix-blend-mode\n       */\n      \"mix-blend\": [{\n        \"mix-blend\": [...scaleBlendMode(), \"plus-darker\", \"plus-lighter\"]\n      }],\n      /**\n       * Background Blend Mode\n       * @see https://tailwindcss.com/docs/background-blend-mode\n       */\n      \"bg-blend\": [{\n        \"bg-blend\": scaleBlendMode()\n      }],\n      /**\n       * Mask Clip\n       * @see https://tailwindcss.com/docs/mask-clip\n       */\n      \"mask-clip\": [{\n        \"mask-clip\": [\"border\", \"padding\", \"content\", \"fill\", \"stroke\", \"view\"]\n      }, \"mask-no-clip\"],\n      /**\n       * Mask Composite\n       * @see https://tailwindcss.com/docs/mask-composite\n       */\n      \"mask-composite\": [{\n        mask: [\"add\", \"subtract\", \"intersect\", \"exclude\"]\n      }],\n      /**\n       * Mask Image\n       * @see https://tailwindcss.com/docs/mask-image\n       */\n      \"mask-image-linear-pos\": [{\n        \"mask-linear\": [isNumber]\n      }],\n      \"mask-image-linear-from-pos\": [{\n        \"mask-linear-from\": scaleMaskImagePosition()\n      }],\n      \"mask-image-linear-to-pos\": [{\n        \"mask-linear-to\": scaleMaskImagePosition()\n      }],\n      \"mask-image-linear-from-color\": [{\n        \"mask-linear-from\": scaleColor()\n      }],\n      \"mask-image-linear-to-color\": [{\n        \"mask-linear-to\": scaleColor()\n      }],\n      \"mask-image-t-from-pos\": [{\n        \"mask-t-from\": scaleMaskImagePosition()\n      }],\n      \"mask-image-t-to-pos\": [{\n        \"mask-t-to\": scaleMaskImagePosition()\n      }],\n      \"mask-image-t-from-color\": [{\n        \"mask-t-from\": scaleColor()\n      }],\n      \"mask-image-t-to-color\": [{\n        \"mask-t-to\": scaleColor()\n      }],\n      \"mask-image-r-from-pos\": [{\n        \"mask-r-from\": scaleMaskImagePosition()\n      }],\n      \"mask-image-r-to-pos\": [{\n        \"mask-r-to\": scaleMaskImagePosition()\n      }],\n      \"mask-image-r-from-color\": [{\n        \"mask-r-from\": scaleColor()\n      }],\n      \"mask-image-r-to-color\": [{\n        \"mask-r-to\": scaleColor()\n      }],\n      \"mask-image-b-from-pos\": [{\n        \"mask-b-from\": scaleMaskImagePosition()\n      }],\n      \"mask-image-b-to-pos\": [{\n        \"mask-b-to\": scaleMaskImagePosition()\n      }],\n      \"mask-image-b-from-color\": [{\n        \"mask-b-from\": scaleColor()\n      }],\n      \"mask-image-b-to-color\": [{\n        \"mask-b-to\": scaleColor()\n      }],\n      \"mask-image-l-from-pos\": [{\n        \"mask-l-from\": scaleMaskImagePosition()\n      }],\n      \"mask-image-l-to-pos\": [{\n        \"mask-l-to\": scaleMaskImagePosition()\n      }],\n      \"mask-image-l-from-color\": [{\n        \"mask-l-from\": scaleColor()\n      }],\n      \"mask-image-l-to-color\": [{\n        \"mask-l-to\": scaleColor()\n      }],\n      \"mask-image-x-from-pos\": [{\n        \"mask-x-from\": scaleMaskImagePosition()\n      }],\n      \"mask-image-x-to-pos\": [{\n        \"mask-x-to\": scaleMaskImagePosition()\n      }],\n      \"mask-image-x-from-color\": [{\n        \"mask-x-from\": scaleColor()\n      }],\n      \"mask-image-x-to-color\": [{\n        \"mask-x-to\": scaleColor()\n      }],\n      \"mask-image-y-from-pos\": [{\n        \"mask-y-from\": scaleMaskImagePosition()\n      }],\n      \"mask-image-y-to-pos\": [{\n        \"mask-y-to\": scaleMaskImagePosition()\n      }],\n      \"mask-image-y-from-color\": [{\n        \"mask-y-from\": scaleColor()\n      }],\n      \"mask-image-y-to-color\": [{\n        \"mask-y-to\": scaleColor()\n      }],\n      \"mask-image-radial\": [{\n        \"mask-radial\": [isArbitraryVariable, isArbitraryValue]\n      }],\n      \"mask-image-radial-from-pos\": [{\n        \"mask-radial-from\": scaleMaskImagePosition()\n      }],\n      \"mask-image-radial-to-pos\": [{\n        \"mask-radial-to\": scaleMaskImagePosition()\n      }],\n      \"mask-image-radial-from-color\": [{\n        \"mask-radial-from\": scaleColor()\n      }],\n      \"mask-image-radial-to-color\": [{\n        \"mask-radial-to\": scaleColor()\n      }],\n      \"mask-image-radial-shape\": [{\n        \"mask-radial\": [\"circle\", \"ellipse\"]\n      }],\n      \"mask-image-radial-size\": [{\n        \"mask-radial\": [{\n          closest: [\"side\", \"corner\"],\n          farthest: [\"side\", \"corner\"]\n        }]\n      }],\n      \"mask-image-radial-pos\": [{\n        \"mask-radial-at\": scalePosition()\n      }],\n      \"mask-image-conic-pos\": [{\n        \"mask-conic\": [isNumber]\n      }],\n      \"mask-image-conic-from-pos\": [{\n        \"mask-conic-from\": scaleMaskImagePosition()\n      }],\n      \"mask-image-conic-to-pos\": [{\n        \"mask-conic-to\": scaleMaskImagePosition()\n      }],\n      \"mask-image-conic-from-color\": [{\n        \"mask-conic-from\": scaleColor()\n      }],\n      \"mask-image-conic-to-color\": [{\n        \"mask-conic-to\": scaleColor()\n      }],\n      /**\n       * Mask Mode\n       * @see https://tailwindcss.com/docs/mask-mode\n       */\n      \"mask-mode\": [{\n        mask: [\"alpha\", \"luminance\", \"match\"]\n      }],\n      /**\n       * Mask Origin\n       * @see https://tailwindcss.com/docs/mask-origin\n       */\n      \"mask-origin\": [{\n        \"mask-origin\": [\"border\", \"padding\", \"content\", \"fill\", \"stroke\", \"view\"]\n      }],\n      /**\n       * Mask Position\n       * @see https://tailwindcss.com/docs/mask-position\n       */\n      \"mask-position\": [{\n        mask: scaleBgPosition()\n      }],\n      /**\n       * Mask Repeat\n       * @see https://tailwindcss.com/docs/mask-repeat\n       */\n      \"mask-repeat\": [{\n        mask: scaleBgRepeat()\n      }],\n      /**\n       * Mask Size\n       * @see https://tailwindcss.com/docs/mask-size\n       */\n      \"mask-size\": [{\n        mask: scaleBgSize()\n      }],\n      /**\n       * Mask Type\n       * @see https://tailwindcss.com/docs/mask-type\n       */\n      \"mask-type\": [{\n        \"mask-type\": [\"alpha\", \"luminance\"]\n      }],\n      /**\n       * Mask Image\n       * @see https://tailwindcss.com/docs/mask-image\n       */\n      \"mask-image\": [{\n        mask: [\"none\", isArbitraryVariable, isArbitraryValue]\n      }],\n      // ---------------\n      // --- Filters ---\n      // ---------------\n      /**\n       * Filter\n       * @see https://tailwindcss.com/docs/filter\n       */\n      filter: [{\n        filter: [\n          // Deprecated since Tailwind CSS v3.0.0\n          \"\",\n          \"none\",\n          isArbitraryVariable,\n          isArbitraryValue\n        ]\n      }],\n      /**\n       * Blur\n       * @see https://tailwindcss.com/docs/blur\n       */\n      blur: [{\n        blur: scaleBlur()\n      }],\n      /**\n       * Brightness\n       * @see https://tailwindcss.com/docs/brightness\n       */\n      brightness: [{\n        brightness: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Contrast\n       * @see https://tailwindcss.com/docs/contrast\n       */\n      contrast: [{\n        contrast: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Drop Shadow\n       * @see https://tailwindcss.com/docs/drop-shadow\n       */\n      \"drop-shadow\": [{\n        \"drop-shadow\": [\n          // Deprecated since Tailwind CSS v4.0.0\n          \"\",\n          \"none\",\n          themeDropShadow,\n          isArbitraryVariableShadow,\n          isArbitraryShadow\n        ]\n      }],\n      /**\n       * Drop Shadow Color\n       * @see https://tailwindcss.com/docs/filter-drop-shadow#setting-the-shadow-color\n       */\n      \"drop-shadow-color\": [{\n        \"drop-shadow\": scaleColor()\n      }],\n      /**\n       * Grayscale\n       * @see https://tailwindcss.com/docs/grayscale\n       */\n      grayscale: [{\n        grayscale: [\"\", isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Hue Rotate\n       * @see https://tailwindcss.com/docs/hue-rotate\n       */\n      \"hue-rotate\": [{\n        \"hue-rotate\": [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Invert\n       * @see https://tailwindcss.com/docs/invert\n       */\n      invert: [{\n        invert: [\"\", isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Saturate\n       * @see https://tailwindcss.com/docs/saturate\n       */\n      saturate: [{\n        saturate: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Sepia\n       * @see https://tailwindcss.com/docs/sepia\n       */\n      sepia: [{\n        sepia: [\"\", isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Filter\n       * @see https://tailwindcss.com/docs/backdrop-filter\n       */\n      \"backdrop-filter\": [{\n        \"backdrop-filter\": [\n          // Deprecated since Tailwind CSS v3.0.0\n          \"\",\n          \"none\",\n          isArbitraryVariable,\n          isArbitraryValue\n        ]\n      }],\n      /**\n       * Backdrop Blur\n       * @see https://tailwindcss.com/docs/backdrop-blur\n       */\n      \"backdrop-blur\": [{\n        \"backdrop-blur\": scaleBlur()\n      }],\n      /**\n       * Backdrop Brightness\n       * @see https://tailwindcss.com/docs/backdrop-brightness\n       */\n      \"backdrop-brightness\": [{\n        \"backdrop-brightness\": [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Contrast\n       * @see https://tailwindcss.com/docs/backdrop-contrast\n       */\n      \"backdrop-contrast\": [{\n        \"backdrop-contrast\": [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Grayscale\n       * @see https://tailwindcss.com/docs/backdrop-grayscale\n       */\n      \"backdrop-grayscale\": [{\n        \"backdrop-grayscale\": [\"\", isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Hue Rotate\n       * @see https://tailwindcss.com/docs/backdrop-hue-rotate\n       */\n      \"backdrop-hue-rotate\": [{\n        \"backdrop-hue-rotate\": [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Invert\n       * @see https://tailwindcss.com/docs/backdrop-invert\n       */\n      \"backdrop-invert\": [{\n        \"backdrop-invert\": [\"\", isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Opacity\n       * @see https://tailwindcss.com/docs/backdrop-opacity\n       */\n      \"backdrop-opacity\": [{\n        \"backdrop-opacity\": [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Saturate\n       * @see https://tailwindcss.com/docs/backdrop-saturate\n       */\n      \"backdrop-saturate\": [{\n        \"backdrop-saturate\": [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Sepia\n       * @see https://tailwindcss.com/docs/backdrop-sepia\n       */\n      \"backdrop-sepia\": [{\n        \"backdrop-sepia\": [\"\", isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      // --------------\n      // --- Tables ---\n      // --------------\n      /**\n       * Border Collapse\n       * @see https://tailwindcss.com/docs/border-collapse\n       */\n      \"border-collapse\": [{\n        border: [\"collapse\", \"separate\"]\n      }],\n      /**\n       * Border Spacing\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      \"border-spacing\": [{\n        \"border-spacing\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Border Spacing X\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      \"border-spacing-x\": [{\n        \"border-spacing-x\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Border Spacing Y\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      \"border-spacing-y\": [{\n        \"border-spacing-y\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Table Layout\n       * @see https://tailwindcss.com/docs/table-layout\n       */\n      \"table-layout\": [{\n        table: [\"auto\", \"fixed\"]\n      }],\n      /**\n       * Caption Side\n       * @see https://tailwindcss.com/docs/caption-side\n       */\n      caption: [{\n        caption: [\"top\", \"bottom\"]\n      }],\n      // ---------------------------------\n      // --- Transitions and Animation ---\n      // ---------------------------------\n      /**\n       * Transition Property\n       * @see https://tailwindcss.com/docs/transition-property\n       */\n      transition: [{\n        transition: [\"\", \"all\", \"colors\", \"opacity\", \"shadow\", \"transform\", \"none\", isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Transition Behavior\n       * @see https://tailwindcss.com/docs/transition-behavior\n       */\n      \"transition-behavior\": [{\n        transition: [\"normal\", \"discrete\"]\n      }],\n      /**\n       * Transition Duration\n       * @see https://tailwindcss.com/docs/transition-duration\n       */\n      duration: [{\n        duration: [isNumber, \"initial\", isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Transition Timing Function\n       * @see https://tailwindcss.com/docs/transition-timing-function\n       */\n      ease: [{\n        ease: [\"linear\", \"initial\", themeEase, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Transition Delay\n       * @see https://tailwindcss.com/docs/transition-delay\n       */\n      delay: [{\n        delay: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Animation\n       * @see https://tailwindcss.com/docs/animation\n       */\n      animate: [{\n        animate: [\"none\", themeAnimate, isArbitraryVariable, isArbitraryValue]\n      }],\n      // ------------------\n      // --- Transforms ---\n      // ------------------\n      /**\n       * Backface Visibility\n       * @see https://tailwindcss.com/docs/backface-visibility\n       */\n      backface: [{\n        backface: [\"hidden\", \"visible\"]\n      }],\n      /**\n       * Perspective\n       * @see https://tailwindcss.com/docs/perspective\n       */\n      perspective: [{\n        perspective: [themePerspective, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Perspective Origin\n       * @see https://tailwindcss.com/docs/perspective-origin\n       */\n      \"perspective-origin\": [{\n        \"perspective-origin\": scalePositionWithArbitrary()\n      }],\n      /**\n       * Rotate\n       * @see https://tailwindcss.com/docs/rotate\n       */\n      rotate: [{\n        rotate: scaleRotate()\n      }],\n      /**\n       * Rotate X\n       * @see https://tailwindcss.com/docs/rotate\n       */\n      \"rotate-x\": [{\n        \"rotate-x\": scaleRotate()\n      }],\n      /**\n       * Rotate Y\n       * @see https://tailwindcss.com/docs/rotate\n       */\n      \"rotate-y\": [{\n        \"rotate-y\": scaleRotate()\n      }],\n      /**\n       * Rotate Z\n       * @see https://tailwindcss.com/docs/rotate\n       */\n      \"rotate-z\": [{\n        \"rotate-z\": scaleRotate()\n      }],\n      /**\n       * Scale\n       * @see https://tailwindcss.com/docs/scale\n       */\n      scale: [{\n        scale: scaleScale()\n      }],\n      /**\n       * Scale X\n       * @see https://tailwindcss.com/docs/scale\n       */\n      \"scale-x\": [{\n        \"scale-x\": scaleScale()\n      }],\n      /**\n       * Scale Y\n       * @see https://tailwindcss.com/docs/scale\n       */\n      \"scale-y\": [{\n        \"scale-y\": scaleScale()\n      }],\n      /**\n       * Scale Z\n       * @see https://tailwindcss.com/docs/scale\n       */\n      \"scale-z\": [{\n        \"scale-z\": scaleScale()\n      }],\n      /**\n       * Scale 3D\n       * @see https://tailwindcss.com/docs/scale\n       */\n      \"scale-3d\": [\"scale-3d\"],\n      /**\n       * Skew\n       * @see https://tailwindcss.com/docs/skew\n       */\n      skew: [{\n        skew: scaleSkew()\n      }],\n      /**\n       * Skew X\n       * @see https://tailwindcss.com/docs/skew\n       */\n      \"skew-x\": [{\n        \"skew-x\": scaleSkew()\n      }],\n      /**\n       * Skew Y\n       * @see https://tailwindcss.com/docs/skew\n       */\n      \"skew-y\": [{\n        \"skew-y\": scaleSkew()\n      }],\n      /**\n       * Transform\n       * @see https://tailwindcss.com/docs/transform\n       */\n      transform: [{\n        transform: [isArbitraryVariable, isArbitraryValue, \"\", \"none\", \"gpu\", \"cpu\"]\n      }],\n      /**\n       * Transform Origin\n       * @see https://tailwindcss.com/docs/transform-origin\n       */\n      \"transform-origin\": [{\n        origin: scalePositionWithArbitrary()\n      }],\n      /**\n       * Transform Style\n       * @see https://tailwindcss.com/docs/transform-style\n       */\n      \"transform-style\": [{\n        transform: [\"3d\", \"flat\"]\n      }],\n      /**\n       * Translate\n       * @see https://tailwindcss.com/docs/translate\n       */\n      translate: [{\n        translate: scaleTranslate()\n      }],\n      /**\n       * Translate X\n       * @see https://tailwindcss.com/docs/translate\n       */\n      \"translate-x\": [{\n        \"translate-x\": scaleTranslate()\n      }],\n      /**\n       * Translate Y\n       * @see https://tailwindcss.com/docs/translate\n       */\n      \"translate-y\": [{\n        \"translate-y\": scaleTranslate()\n      }],\n      /**\n       * Translate Z\n       * @see https://tailwindcss.com/docs/translate\n       */\n      \"translate-z\": [{\n        \"translate-z\": scaleTranslate()\n      }],\n      /**\n       * Translate None\n       * @see https://tailwindcss.com/docs/translate\n       */\n      \"translate-none\": [\"translate-none\"],\n      // ---------------------\n      // --- Interactivity ---\n      // ---------------------\n      /**\n       * Accent Color\n       * @see https://tailwindcss.com/docs/accent-color\n       */\n      accent: [{\n        accent: scaleColor()\n      }],\n      /**\n       * Appearance\n       * @see https://tailwindcss.com/docs/appearance\n       */\n      appearance: [{\n        appearance: [\"none\", \"auto\"]\n      }],\n      /**\n       * Caret Color\n       * @see https://tailwindcss.com/docs/just-in-time-mode#caret-color-utilities\n       */\n      \"caret-color\": [{\n        caret: scaleColor()\n      }],\n      /**\n       * Color Scheme\n       * @see https://tailwindcss.com/docs/color-scheme\n       */\n      \"color-scheme\": [{\n        scheme: [\"normal\", \"dark\", \"light\", \"light-dark\", \"only-dark\", \"only-light\"]\n      }],\n      /**\n       * Cursor\n       * @see https://tailwindcss.com/docs/cursor\n       */\n      cursor: [{\n        cursor: [\"auto\", \"default\", \"pointer\", \"wait\", \"text\", \"move\", \"help\", \"not-allowed\", \"none\", \"context-menu\", \"progress\", \"cell\", \"crosshair\", \"vertical-text\", \"alias\", \"copy\", \"no-drop\", \"grab\", \"grabbing\", \"all-scroll\", \"col-resize\", \"row-resize\", \"n-resize\", \"e-resize\", \"s-resize\", \"w-resize\", \"ne-resize\", \"nw-resize\", \"se-resize\", \"sw-resize\", \"ew-resize\", \"ns-resize\", \"nesw-resize\", \"nwse-resize\", \"zoom-in\", \"zoom-out\", isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Field Sizing\n       * @see https://tailwindcss.com/docs/field-sizing\n       */\n      \"field-sizing\": [{\n        \"field-sizing\": [\"fixed\", \"content\"]\n      }],\n      /**\n       * Pointer Events\n       * @see https://tailwindcss.com/docs/pointer-events\n       */\n      \"pointer-events\": [{\n        \"pointer-events\": [\"auto\", \"none\"]\n      }],\n      /**\n       * Resize\n       * @see https://tailwindcss.com/docs/resize\n       */\n      resize: [{\n        resize: [\"none\", \"\", \"y\", \"x\"]\n      }],\n      /**\n       * Scroll Behavior\n       * @see https://tailwindcss.com/docs/scroll-behavior\n       */\n      \"scroll-behavior\": [{\n        scroll: [\"auto\", \"smooth\"]\n      }],\n      /**\n       * Scroll Margin\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      \"scroll-m\": [{\n        \"scroll-m\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin X\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      \"scroll-mx\": [{\n        \"scroll-mx\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Y\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      \"scroll-my\": [{\n        \"scroll-my\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Start\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      \"scroll-ms\": [{\n        \"scroll-ms\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin End\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      \"scroll-me\": [{\n        \"scroll-me\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Top\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      \"scroll-mt\": [{\n        \"scroll-mt\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Right\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      \"scroll-mr\": [{\n        \"scroll-mr\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Bottom\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      \"scroll-mb\": [{\n        \"scroll-mb\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Left\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      \"scroll-ml\": [{\n        \"scroll-ml\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      \"scroll-p\": [{\n        \"scroll-p\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding X\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      \"scroll-px\": [{\n        \"scroll-px\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Y\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      \"scroll-py\": [{\n        \"scroll-py\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Start\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      \"scroll-ps\": [{\n        \"scroll-ps\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding End\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      \"scroll-pe\": [{\n        \"scroll-pe\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Top\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      \"scroll-pt\": [{\n        \"scroll-pt\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Right\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      \"scroll-pr\": [{\n        \"scroll-pr\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Bottom\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      \"scroll-pb\": [{\n        \"scroll-pb\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Left\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      \"scroll-pl\": [{\n        \"scroll-pl\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Snap Align\n       * @see https://tailwindcss.com/docs/scroll-snap-align\n       */\n      \"snap-align\": [{\n        snap: [\"start\", \"end\", \"center\", \"align-none\"]\n      }],\n      /**\n       * Scroll Snap Stop\n       * @see https://tailwindcss.com/docs/scroll-snap-stop\n       */\n      \"snap-stop\": [{\n        snap: [\"normal\", \"always\"]\n      }],\n      /**\n       * Scroll Snap Type\n       * @see https://tailwindcss.com/docs/scroll-snap-type\n       */\n      \"snap-type\": [{\n        snap: [\"none\", \"x\", \"y\", \"both\"]\n      }],\n      /**\n       * Scroll Snap Type Strictness\n       * @see https://tailwindcss.com/docs/scroll-snap-type\n       */\n      \"snap-strictness\": [{\n        snap: [\"mandatory\", \"proximity\"]\n      }],\n      /**\n       * Touch Action\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      touch: [{\n        touch: [\"auto\", \"none\", \"manipulation\"]\n      }],\n      /**\n       * Touch Action X\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      \"touch-x\": [{\n        \"touch-pan\": [\"x\", \"left\", \"right\"]\n      }],\n      /**\n       * Touch Action Y\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      \"touch-y\": [{\n        \"touch-pan\": [\"y\", \"up\", \"down\"]\n      }],\n      /**\n       * Touch Action Pinch Zoom\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      \"touch-pz\": [\"touch-pinch-zoom\"],\n      /**\n       * User Select\n       * @see https://tailwindcss.com/docs/user-select\n       */\n      select: [{\n        select: [\"none\", \"text\", \"all\", \"auto\"]\n      }],\n      /**\n       * Will Change\n       * @see https://tailwindcss.com/docs/will-change\n       */\n      \"will-change\": [{\n        \"will-change\": [\"auto\", \"scroll\", \"contents\", \"transform\", isArbitraryVariable, isArbitraryValue]\n      }],\n      // -----------\n      // --- SVG ---\n      // -----------\n      /**\n       * Fill\n       * @see https://tailwindcss.com/docs/fill\n       */\n      fill: [{\n        fill: [\"none\", ...scaleColor()]\n      }],\n      /**\n       * Stroke Width\n       * @see https://tailwindcss.com/docs/stroke-width\n       */\n      \"stroke-w\": [{\n        stroke: [isNumber, isArbitraryVariableLength, isArbitraryLength, isArbitraryNumber]\n      }],\n      /**\n       * Stroke\n       * @see https://tailwindcss.com/docs/stroke\n       */\n      stroke: [{\n        stroke: [\"none\", ...scaleColor()]\n      }],\n      // ---------------------\n      // --- Accessibility ---\n      // ---------------------\n      /**\n       * Forced Color Adjust\n       * @see https://tailwindcss.com/docs/forced-color-adjust\n       */\n      \"forced-color-adjust\": [{\n        \"forced-color-adjust\": [\"auto\", \"none\"]\n      }]\n    },\n    conflictingClassGroups: {\n      overflow: [\"overflow-x\", \"overflow-y\"],\n      overscroll: [\"overscroll-x\", \"overscroll-y\"],\n      inset: [\"inset-x\", \"inset-y\", \"start\", \"end\", \"top\", \"right\", \"bottom\", \"left\"],\n      \"inset-x\": [\"right\", \"left\"],\n      \"inset-y\": [\"top\", \"bottom\"],\n      flex: [\"basis\", \"grow\", \"shrink\"],\n      gap: [\"gap-x\", \"gap-y\"],\n      p: [\"px\", \"py\", \"ps\", \"pe\", \"pt\", \"pr\", \"pb\", \"pl\"],\n      px: [\"pr\", \"pl\"],\n      py: [\"pt\", \"pb\"],\n      m: [\"mx\", \"my\", \"ms\", \"me\", \"mt\", \"mr\", \"mb\", \"ml\"],\n      mx: [\"mr\", \"ml\"],\n      my: [\"mt\", \"mb\"],\n      size: [\"w\", \"h\"],\n      \"font-size\": [\"leading\"],\n      \"fvn-normal\": [\"fvn-ordinal\", \"fvn-slashed-zero\", \"fvn-figure\", \"fvn-spacing\", \"fvn-fraction\"],\n      \"fvn-ordinal\": [\"fvn-normal\"],\n      \"fvn-slashed-zero\": [\"fvn-normal\"],\n      \"fvn-figure\": [\"fvn-normal\"],\n      \"fvn-spacing\": [\"fvn-normal\"],\n      \"fvn-fraction\": [\"fvn-normal\"],\n      \"line-clamp\": [\"display\", \"overflow\"],\n      rounded: [\"rounded-s\", \"rounded-e\", \"rounded-t\", \"rounded-r\", \"rounded-b\", \"rounded-l\", \"rounded-ss\", \"rounded-se\", \"rounded-ee\", \"rounded-es\", \"rounded-tl\", \"rounded-tr\", \"rounded-br\", \"rounded-bl\"],\n      \"rounded-s\": [\"rounded-ss\", \"rounded-es\"],\n      \"rounded-e\": [\"rounded-se\", \"rounded-ee\"],\n      \"rounded-t\": [\"rounded-tl\", \"rounded-tr\"],\n      \"rounded-r\": [\"rounded-tr\", \"rounded-br\"],\n      \"rounded-b\": [\"rounded-br\", \"rounded-bl\"],\n      \"rounded-l\": [\"rounded-tl\", \"rounded-bl\"],\n      \"border-spacing\": [\"border-spacing-x\", \"border-spacing-y\"],\n      \"border-w\": [\"border-w-x\", \"border-w-y\", \"border-w-s\", \"border-w-e\", \"border-w-t\", \"border-w-r\", \"border-w-b\", \"border-w-l\"],\n      \"border-w-x\": [\"border-w-r\", \"border-w-l\"],\n      \"border-w-y\": [\"border-w-t\", \"border-w-b\"],\n      \"border-color\": [\"border-color-x\", \"border-color-y\", \"border-color-s\", \"border-color-e\", \"border-color-t\", \"border-color-r\", \"border-color-b\", \"border-color-l\"],\n      \"border-color-x\": [\"border-color-r\", \"border-color-l\"],\n      \"border-color-y\": [\"border-color-t\", \"border-color-b\"],\n      translate: [\"translate-x\", \"translate-y\", \"translate-none\"],\n      \"translate-none\": [\"translate\", \"translate-x\", \"translate-y\", \"translate-z\"],\n      \"scroll-m\": [\"scroll-mx\", \"scroll-my\", \"scroll-ms\", \"scroll-me\", \"scroll-mt\", \"scroll-mr\", \"scroll-mb\", \"scroll-ml\"],\n      \"scroll-mx\": [\"scroll-mr\", \"scroll-ml\"],\n      \"scroll-my\": [\"scroll-mt\", \"scroll-mb\"],\n      \"scroll-p\": [\"scroll-px\", \"scroll-py\", \"scroll-ps\", \"scroll-pe\", \"scroll-pt\", \"scroll-pr\", \"scroll-pb\", \"scroll-pl\"],\n      \"scroll-px\": [\"scroll-pr\", \"scroll-pl\"],\n      \"scroll-py\": [\"scroll-pt\", \"scroll-pb\"],\n      touch: [\"touch-x\", \"touch-y\", \"touch-pz\"],\n      \"touch-x\": [\"touch\"],\n      \"touch-y\": [\"touch\"],\n      \"touch-pz\": [\"touch\"]\n    },\n    conflictingClassGroupModifiers: {\n      \"font-size\": [\"leading\"]\n    },\n    orderSensitiveModifiers: [\"*\", \"**\", \"after\", \"backdrop\", \"before\", \"details-content\", \"file\", \"first-letter\", \"first-line\", \"marker\", \"placeholder\", \"selection\"]\n  };\n};\nconst mergeConfigs = (baseConfig, {\n  cacheSize,\n  prefix,\n  experimentalParseClassName,\n  extend: extend2 = {},\n  override = {}\n}) => {\n  overrideProperty(baseConfig, \"cacheSize\", cacheSize);\n  overrideProperty(baseConfig, \"prefix\", prefix);\n  overrideProperty(baseConfig, \"experimentalParseClassName\", experimentalParseClassName);\n  overrideConfigProperties(baseConfig.theme, override.theme);\n  overrideConfigProperties(baseConfig.classGroups, override.classGroups);\n  overrideConfigProperties(baseConfig.conflictingClassGroups, override.conflictingClassGroups);\n  overrideConfigProperties(baseConfig.conflictingClassGroupModifiers, override.conflictingClassGroupModifiers);\n  overrideProperty(baseConfig, \"orderSensitiveModifiers\", override.orderSensitiveModifiers);\n  mergeConfigProperties(baseConfig.theme, extend2.theme);\n  mergeConfigProperties(baseConfig.classGroups, extend2.classGroups);\n  mergeConfigProperties(baseConfig.conflictingClassGroups, extend2.conflictingClassGroups);\n  mergeConfigProperties(baseConfig.conflictingClassGroupModifiers, extend2.conflictingClassGroupModifiers);\n  mergeArrayProperties(baseConfig, extend2, \"orderSensitiveModifiers\");\n  return baseConfig;\n};\nconst overrideProperty = (baseObject, overrideKey, overrideValue) => {\n  if (overrideValue !== void 0) {\n    baseObject[overrideKey] = overrideValue;\n  }\n};\nconst overrideConfigProperties = (baseObject, overrideObject) => {\n  if (overrideObject) {\n    for (const key in overrideObject) {\n      overrideProperty(baseObject, key, overrideObject[key]);\n    }\n  }\n};\nconst mergeConfigProperties = (baseObject, mergeObject) => {\n  if (mergeObject) {\n    for (const key in mergeObject) {\n      mergeArrayProperties(baseObject, mergeObject, key);\n    }\n  }\n};\nconst mergeArrayProperties = (baseObject, mergeObject, key) => {\n  const mergeValue = mergeObject[key];\n  if (mergeValue !== void 0) {\n    baseObject[key] = baseObject[key] ? baseObject[key].concat(mergeValue) : mergeValue;\n  }\n};\nconst extendTailwindMerge = (configExtension, ...createConfig) => typeof configExtension === \"function\" ? createTailwindMerge(getDefaultConfig, configExtension, ...createConfig) : createTailwindMerge(() => mergeConfigs(getDefaultConfig(), configExtension), ...createConfig);\nconst companionAnchorTagName = \"stagewise-companion-anchor\";\nfunction getElementAtPoint(x2, y2) {\n  const elementsBelowAnnotation = document.elementsFromPoint(x2, y2);\n  const refElement = elementsBelowAnnotation.find(\n    (element) => element.nodeName !== \"STAGEWISE-COMPANION-ANCHOR\" && !element.closest(companionAnchorTagName) && !element.closest(\"svg\") && isElementAtPoint(element, x2, y2)\n  ) || document.body;\n  return refElement;\n}\nconst isElementAtPoint = (element, clientX, clientY) => {\n  const boundingRect = element.getBoundingClientRect();\n  const isInHorizontalBounds = clientX > boundingRect.left && clientX < boundingRect.left + boundingRect.width;\n  const isInVerticalBounds = clientY > boundingRect.top && clientY < boundingRect.top + boundingRect.height;\n  return isInHorizontalBounds && isInVerticalBounds;\n};\nvar HotkeyActions = /* @__PURE__ */ ((HotkeyActions2) => {\n  HotkeyActions2[HotkeyActions2[\"ESC\"] = 0] = \"ESC\";\n  HotkeyActions2[HotkeyActions2[\"CTRL_ALT_C\"] = 1] = \"CTRL_ALT_C\";\n  return HotkeyActions2;\n})(HotkeyActions || {});\nconst hotkeyActionDefinitions = {\n  [\n    0\n    /* ESC */\n  ]: {\n    keyComboDefault: \"Esc\",\n    keyComboMac: \"esc\",\n    isEventMatching: (ev) => ev.code === \"Escape\"\n  },\n  [\n    1\n    /* CTRL_ALT_C */\n  ]: {\n    keyComboDefault: \"Ctrl+Alt+C\",\n    keyComboMac: \"++C\",\n    isEventMatching: (ev) => ev.code === \"KeyC\" && (ev.ctrlKey || ev.metaKey) && ev.altKey\n  }\n};\nconst customTwMerge = extendTailwindMerge({\n  extend: {\n    classGroups: {\n      \"bg-image\": [\n        \"bg-gradient\",\n        \"bg-gradient-light-1\",\n        \"bg-gradient-light-2\",\n        \"bg-gradient-light-3\"\n      ]\n    }\n  }\n});\nfunction cn(...inputs) {\n  return customTwMerge(clsx(inputs));\n}\nfunction HotkeyListener() {\n  const { startPromptCreation, stopPromptCreation } = useChatState();\n  const hotKeyHandlerMap = T$5(\n    () => ({\n      [HotkeyActions.CTRL_ALT_C]: () => {\n        startPromptCreation();\n      },\n      [HotkeyActions.ESC]: () => {\n        stopPromptCreation();\n      }\n    }),\n    [startPromptCreation, stopPromptCreation]\n  );\n  const hotKeyListener = q$3(\n    (ev) => {\n      for (const [action, definition] of Object.entries(\n        hotkeyActionDefinitions\n      )) {\n        if (definition.isEventMatching(ev)) {\n          ev.preventDefault();\n          ev.stopPropagation();\n          hotKeyHandlerMap[action]();\n          break;\n        }\n      }\n    },\n    [hotKeyHandlerMap]\n  );\n  useEventListener(\"keydown\", hotKeyListener, {\n    capture: true\n  });\n  return null;\n}\nconst $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c = typeof document !== \"undefined\" ? Rn.useLayoutEffect : () => {\n};\nfunction $8ae05eaa5c114e9c$export$7f54fc3180508a52(fn2) {\n  const ref = A$3(null);\n  $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(() => {\n    ref.current = fn2;\n  }, [\n    fn2\n  ]);\n  return q$3((...args) => {\n    const f2 = ref.current;\n    return f2 === null || f2 === void 0 ? void 0 : f2(...args);\n  }, []);\n}\nconst $431fbd86ca7dc216$export$b204af158042fbac = (el) => {\n  var _el_ownerDocument;\n  return (_el_ownerDocument = el === null || el === void 0 ? void 0 : el.ownerDocument) !== null && _el_ownerDocument !== void 0 ? _el_ownerDocument : document;\n};\nconst $431fbd86ca7dc216$export$f21a1ffae260145a = (el) => {\n  if (el && \"window\" in el && el.window === el) return el;\n  const doc = $431fbd86ca7dc216$export$b204af158042fbac(el);\n  return doc.defaultView || window;\n};\nfunction $431fbd86ca7dc216$var$isNode(value) {\n  return value !== null && typeof value === \"object\" && \"nodeType\" in value && typeof value.nodeType === \"number\";\n}\nfunction $431fbd86ca7dc216$export$af51f0f06c0f328a(node) {\n  return $431fbd86ca7dc216$var$isNode(node) && node.nodeType === Node.DOCUMENT_FRAGMENT_NODE && \"host\" in node;\n}\nlet $f4e2df6bd15f8569$var$_shadowDOM = false;\nfunction $f4e2df6bd15f8569$export$98658e8c59125e6a() {\n  return $f4e2df6bd15f8569$var$_shadowDOM;\n}\nfunction $d4ee10de306f2510$export$4282f70798064fe0(node, otherNode) {\n  if (!$f4e2df6bd15f8569$export$98658e8c59125e6a()) return otherNode && node ? node.contains(otherNode) : false;\n  if (!node || !otherNode) return false;\n  let currentNode = otherNode;\n  while (currentNode !== null) {\n    if (currentNode === node) return true;\n    if (currentNode.tagName === \"SLOT\" && currentNode.assignedSlot)\n      currentNode = currentNode.assignedSlot.parentNode;\n    else if ($431fbd86ca7dc216$export$af51f0f06c0f328a(currentNode))\n      currentNode = currentNode.host;\n    else currentNode = currentNode.parentNode;\n  }\n  return false;\n}\nconst $d4ee10de306f2510$export$cd4e5573fbe2b576 = (doc = document) => {\n  var _activeElement_shadowRoot;\n  if (!$f4e2df6bd15f8569$export$98658e8c59125e6a()) return doc.activeElement;\n  let activeElement = doc.activeElement;\n  while (activeElement && \"shadowRoot\" in activeElement && ((_activeElement_shadowRoot = activeElement.shadowRoot) === null || _activeElement_shadowRoot === void 0 ? void 0 : _activeElement_shadowRoot.activeElement)) activeElement = activeElement.shadowRoot.activeElement;\n  return activeElement;\n};\nfunction $d4ee10de306f2510$export$e58f029f0fbfdb29(event) {\n  if ($f4e2df6bd15f8569$export$98658e8c59125e6a() && event.target.shadowRoot) {\n    if (event.composedPath) return event.composedPath()[0];\n  }\n  return event.target;\n}\nfunction $c87311424ea30a05$var$testUserAgent(re) {\n  var _window_navigator_userAgentData;\n  if (typeof window === \"undefined\" || window.navigator == null) return false;\n  return ((_window_navigator_userAgentData = window.navigator[\"userAgentData\"]) === null || _window_navigator_userAgentData === void 0 ? void 0 : _window_navigator_userAgentData.brands.some((brand) => re.test(brand.brand))) || re.test(window.navigator.userAgent);\n}\nfunction $c87311424ea30a05$var$testPlatform(re) {\n  var _window_navigator_userAgentData;\n  return typeof window !== \"undefined\" && window.navigator != null ? re.test(((_window_navigator_userAgentData = window.navigator[\"userAgentData\"]) === null || _window_navigator_userAgentData === void 0 ? void 0 : _window_navigator_userAgentData.platform) || window.navigator.platform) : false;\n}\nfunction $c87311424ea30a05$var$cached(fn2) {\n  if (false) {}\n  let res = null;\n  return () => {\n    if (res == null) res = fn2();\n    return res;\n  };\n}\nconst $c87311424ea30a05$export$9ac100e40613ea10 = $c87311424ea30a05$var$cached(function() {\n  return $c87311424ea30a05$var$testPlatform(/^Mac/i);\n});\nconst $c87311424ea30a05$export$186c6964ca17d99 = $c87311424ea30a05$var$cached(function() {\n  return $c87311424ea30a05$var$testPlatform(/^iPhone/i);\n});\nconst $c87311424ea30a05$export$7bef049ce92e4224 = $c87311424ea30a05$var$cached(function() {\n  return $c87311424ea30a05$var$testPlatform(/^iPad/i) || // iPadOS 13 lies and says it's a Mac, but we can distinguish by detecting touch support.\n  $c87311424ea30a05$export$9ac100e40613ea10() && navigator.maxTouchPoints > 1;\n});\nconst $c87311424ea30a05$export$fedb369cb70207f1 = $c87311424ea30a05$var$cached(function() {\n  return $c87311424ea30a05$export$186c6964ca17d99() || $c87311424ea30a05$export$7bef049ce92e4224();\n});\n$c87311424ea30a05$var$cached(function() {\n  return $c87311424ea30a05$export$9ac100e40613ea10() || $c87311424ea30a05$export$fedb369cb70207f1();\n});\n$c87311424ea30a05$var$cached(function() {\n  return $c87311424ea30a05$var$testUserAgent(/AppleWebKit/i) && !$c87311424ea30a05$export$6446a186d09e379e();\n});\nconst $c87311424ea30a05$export$6446a186d09e379e = $c87311424ea30a05$var$cached(function() {\n  return $c87311424ea30a05$var$testUserAgent(/Chrome/i);\n});\nconst $c87311424ea30a05$export$a11b0059900ceec8 = $c87311424ea30a05$var$cached(function() {\n  return $c87311424ea30a05$var$testUserAgent(/Android/i);\n});\n$c87311424ea30a05$var$cached(function() {\n  return $c87311424ea30a05$var$testUserAgent(/Firefox/i);\n});\nfunction $03deb23ff14920c4$export$4eaf04e54aa8eed6() {\n  let globalListeners = A$3(/* @__PURE__ */ new Map());\n  let addGlobalListener = q$3((eventTarget, type, listener, options) => {\n    let fn2 = (options === null || options === void 0 ? void 0 : options.once) ? (...args) => {\n      globalListeners.current.delete(listener);\n      listener(...args);\n    } : listener;\n    globalListeners.current.set(listener, {\n      type,\n      eventTarget,\n      fn: fn2,\n      options\n    });\n    eventTarget.addEventListener(type, fn2, options);\n  }, []);\n  let removeGlobalListener = q$3((eventTarget, type, listener, options) => {\n    var _globalListeners_current_get;\n    let fn2 = ((_globalListeners_current_get = globalListeners.current.get(listener)) === null || _globalListeners_current_get === void 0 ? void 0 : _globalListeners_current_get.fn) || listener;\n    eventTarget.removeEventListener(type, fn2, options);\n    globalListeners.current.delete(listener);\n  }, []);\n  let removeAllGlobalListeners = q$3(() => {\n    globalListeners.current.forEach((value, key) => {\n      removeGlobalListener(value.eventTarget, value.type, key, value.options);\n    });\n  }, [\n    removeGlobalListener\n  ]);\n  y$6(() => {\n    return removeAllGlobalListeners;\n  }, [\n    removeAllGlobalListeners\n  ]);\n  return {\n    addGlobalListener,\n    removeGlobalListener,\n    removeAllGlobalListeners\n  };\n}\nfunction $6a7db85432448f7f$export$60278871457622de(event) {\n  if (event.mozInputSource === 0 && event.isTrusted) return true;\n  if ($c87311424ea30a05$export$a11b0059900ceec8() && event.pointerType) return event.type === \"click\" && event.buttons === 1;\n  return event.detail === 0 && !event.pointerType;\n}\nfunction $8a9cb279dc87e130$export$525bc4921d56d4a(nativeEvent) {\n  let event = nativeEvent;\n  event.nativeEvent = nativeEvent;\n  event.isDefaultPrevented = () => event.defaultPrevented;\n  event.isPropagationStopped = () => event.cancelBubble;\n  event.persist = () => {\n  };\n  return event;\n}\nfunction $8a9cb279dc87e130$export$c2b7abe5d61ec696(event, target) {\n  Object.defineProperty(event, \"target\", {\n    value: target\n  });\n  Object.defineProperty(event, \"currentTarget\", {\n    value: target\n  });\n}\nfunction $8a9cb279dc87e130$export$715c682d09d639cc(onBlur) {\n  let stateRef = A$3({\n    isFocused: false,\n    observer: null\n  });\n  $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(() => {\n    const state = stateRef.current;\n    return () => {\n      if (state.observer) {\n        state.observer.disconnect();\n        state.observer = null;\n      }\n    };\n  }, []);\n  let dispatchBlur = $8ae05eaa5c114e9c$export$7f54fc3180508a52((e2) => {\n    onBlur === null || onBlur === void 0 ? void 0 : onBlur(e2);\n  });\n  return q$3((e2) => {\n    if (e2.target instanceof HTMLButtonElement || e2.target instanceof HTMLInputElement || e2.target instanceof HTMLTextAreaElement || e2.target instanceof HTMLSelectElement) {\n      stateRef.current.isFocused = true;\n      let target = e2.target;\n      let onBlurHandler = (e3) => {\n        stateRef.current.isFocused = false;\n        if (target.disabled) {\n          let event = $8a9cb279dc87e130$export$525bc4921d56d4a(e3);\n          dispatchBlur(event);\n        }\n        if (stateRef.current.observer) {\n          stateRef.current.observer.disconnect();\n          stateRef.current.observer = null;\n        }\n      };\n      target.addEventListener(\"focusout\", onBlurHandler, {\n        once: true\n      });\n      stateRef.current.observer = new MutationObserver(() => {\n        if (stateRef.current.isFocused && target.disabled) {\n          var _stateRef_current_observer;\n          (_stateRef_current_observer = stateRef.current.observer) === null || _stateRef_current_observer === void 0 ? void 0 : _stateRef_current_observer.disconnect();\n          let relatedTargetEl = target === document.activeElement ? null : document.activeElement;\n          target.dispatchEvent(new FocusEvent(\"blur\", {\n            relatedTarget: relatedTargetEl\n          }));\n          target.dispatchEvent(new FocusEvent(\"focusout\", {\n            bubbles: true,\n            relatedTarget: relatedTargetEl\n          }));\n        }\n      });\n      stateRef.current.observer.observe(target, {\n        attributes: true,\n        attributeFilter: [\n          \"disabled\"\n        ]\n      });\n    }\n  }, [\n    dispatchBlur\n  ]);\n}\nlet $8a9cb279dc87e130$export$fda7da73ab5d4c48 = false;\nlet $507fabe10e71c6fb$var$currentModality = null;\nlet $507fabe10e71c6fb$var$changeHandlers = /* @__PURE__ */ new Set();\nlet $507fabe10e71c6fb$export$d90243b58daecda7 = /* @__PURE__ */ new Map();\nlet $507fabe10e71c6fb$var$hasEventBeforeFocus = false;\nlet $507fabe10e71c6fb$var$hasBlurredWindowRecently = false;\nconst $507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS = {\n  Tab: true,\n  Escape: true\n};\nfunction $507fabe10e71c6fb$var$triggerChangeHandlers(modality, e2) {\n  for (let handler of $507fabe10e71c6fb$var$changeHandlers) handler(modality, e2);\n}\nfunction $507fabe10e71c6fb$var$isValidKey(e2) {\n  return !(e2.metaKey || !$c87311424ea30a05$export$9ac100e40613ea10() && e2.altKey || e2.ctrlKey || e2.key === \"Control\" || e2.key === \"Shift\" || e2.key === \"Meta\");\n}\nfunction $507fabe10e71c6fb$var$handleKeyboardEvent(e2) {\n  $507fabe10e71c6fb$var$hasEventBeforeFocus = true;\n  if ($507fabe10e71c6fb$var$isValidKey(e2)) {\n    $507fabe10e71c6fb$var$currentModality = \"keyboard\";\n    $507fabe10e71c6fb$var$triggerChangeHandlers(\"keyboard\", e2);\n  }\n}\nfunction $507fabe10e71c6fb$var$handlePointerEvent(e2) {\n  $507fabe10e71c6fb$var$currentModality = \"pointer\";\n  if (e2.type === \"mousedown\" || e2.type === \"pointerdown\") {\n    $507fabe10e71c6fb$var$hasEventBeforeFocus = true;\n    $507fabe10e71c6fb$var$triggerChangeHandlers(\"pointer\", e2);\n  }\n}\nfunction $507fabe10e71c6fb$var$handleClickEvent(e2) {\n  if ($6a7db85432448f7f$export$60278871457622de(e2)) {\n    $507fabe10e71c6fb$var$hasEventBeforeFocus = true;\n    $507fabe10e71c6fb$var$currentModality = \"virtual\";\n  }\n}\nfunction $507fabe10e71c6fb$var$handleFocusEvent(e2) {\n  if (e2.target === window || e2.target === document || $8a9cb279dc87e130$export$fda7da73ab5d4c48 || !e2.isTrusted) return;\n  if (!$507fabe10e71c6fb$var$hasEventBeforeFocus && !$507fabe10e71c6fb$var$hasBlurredWindowRecently) {\n    $507fabe10e71c6fb$var$currentModality = \"virtual\";\n    $507fabe10e71c6fb$var$triggerChangeHandlers(\"virtual\", e2);\n  }\n  $507fabe10e71c6fb$var$hasEventBeforeFocus = false;\n  $507fabe10e71c6fb$var$hasBlurredWindowRecently = false;\n}\nfunction $507fabe10e71c6fb$var$handleWindowBlur() {\n  $507fabe10e71c6fb$var$hasEventBeforeFocus = false;\n  $507fabe10e71c6fb$var$hasBlurredWindowRecently = true;\n}\nfunction $507fabe10e71c6fb$var$setupGlobalFocusEvents(element) {\n  if (typeof window === \"undefined\" || $507fabe10e71c6fb$export$d90243b58daecda7.get($431fbd86ca7dc216$export$f21a1ffae260145a(element))) return;\n  const windowObject = $431fbd86ca7dc216$export$f21a1ffae260145a(element);\n  const documentObject = $431fbd86ca7dc216$export$b204af158042fbac(element);\n  let focus = windowObject.HTMLElement.prototype.focus;\n  windowObject.HTMLElement.prototype.focus = function() {\n    $507fabe10e71c6fb$var$hasEventBeforeFocus = true;\n    focus.apply(this, arguments);\n  };\n  documentObject.addEventListener(\"keydown\", $507fabe10e71c6fb$var$handleKeyboardEvent, true);\n  documentObject.addEventListener(\"keyup\", $507fabe10e71c6fb$var$handleKeyboardEvent, true);\n  documentObject.addEventListener(\"click\", $507fabe10e71c6fb$var$handleClickEvent, true);\n  windowObject.addEventListener(\"focus\", $507fabe10e71c6fb$var$handleFocusEvent, true);\n  windowObject.addEventListener(\"blur\", $507fabe10e71c6fb$var$handleWindowBlur, false);\n  if (typeof PointerEvent !== \"undefined\") {\n    documentObject.addEventListener(\"pointerdown\", $507fabe10e71c6fb$var$handlePointerEvent, true);\n    documentObject.addEventListener(\"pointermove\", $507fabe10e71c6fb$var$handlePointerEvent, true);\n    documentObject.addEventListener(\"pointerup\", $507fabe10e71c6fb$var$handlePointerEvent, true);\n  } else if (false) {}\n  windowObject.addEventListener(\"beforeunload\", () => {\n    $507fabe10e71c6fb$var$tearDownWindowFocusTracking(element);\n  }, {\n    once: true\n  });\n  $507fabe10e71c6fb$export$d90243b58daecda7.set(windowObject, {\n    focus\n  });\n}\nconst $507fabe10e71c6fb$var$tearDownWindowFocusTracking = (element, loadListener) => {\n  const windowObject = $431fbd86ca7dc216$export$f21a1ffae260145a(element);\n  const documentObject = $431fbd86ca7dc216$export$b204af158042fbac(element);\n  if (loadListener) documentObject.removeEventListener(\"DOMContentLoaded\", loadListener);\n  if (!$507fabe10e71c6fb$export$d90243b58daecda7.has(windowObject)) return;\n  windowObject.HTMLElement.prototype.focus = $507fabe10e71c6fb$export$d90243b58daecda7.get(windowObject).focus;\n  documentObject.removeEventListener(\"keydown\", $507fabe10e71c6fb$var$handleKeyboardEvent, true);\n  documentObject.removeEventListener(\"keyup\", $507fabe10e71c6fb$var$handleKeyboardEvent, true);\n  documentObject.removeEventListener(\"click\", $507fabe10e71c6fb$var$handleClickEvent, true);\n  windowObject.removeEventListener(\"focus\", $507fabe10e71c6fb$var$handleFocusEvent, true);\n  windowObject.removeEventListener(\"blur\", $507fabe10e71c6fb$var$handleWindowBlur, false);\n  if (typeof PointerEvent !== \"undefined\") {\n    documentObject.removeEventListener(\"pointerdown\", $507fabe10e71c6fb$var$handlePointerEvent, true);\n    documentObject.removeEventListener(\"pointermove\", $507fabe10e71c6fb$var$handlePointerEvent, true);\n    documentObject.removeEventListener(\"pointerup\", $507fabe10e71c6fb$var$handlePointerEvent, true);\n  } else if (false) {}\n  $507fabe10e71c6fb$export$d90243b58daecda7.delete(windowObject);\n};\nfunction $507fabe10e71c6fb$export$2f1888112f558a7d(element) {\n  const documentObject = $431fbd86ca7dc216$export$b204af158042fbac(element);\n  let loadListener;\n  if (documentObject.readyState !== \"loading\") $507fabe10e71c6fb$var$setupGlobalFocusEvents(element);\n  else {\n    loadListener = () => {\n      $507fabe10e71c6fb$var$setupGlobalFocusEvents(element);\n    };\n    documentObject.addEventListener(\"DOMContentLoaded\", loadListener);\n  }\n  return () => $507fabe10e71c6fb$var$tearDownWindowFocusTracking(element, loadListener);\n}\nif (typeof document !== \"undefined\") $507fabe10e71c6fb$export$2f1888112f558a7d();\nfunction $507fabe10e71c6fb$export$b9b3dfddab17db27() {\n  return $507fabe10e71c6fb$var$currentModality !== \"pointer\";\n}\nconst $507fabe10e71c6fb$var$nonTextInputTypes = /* @__PURE__ */ new Set([\n  \"checkbox\",\n  \"radio\",\n  \"range\",\n  \"color\",\n  \"file\",\n  \"image\",\n  \"button\",\n  \"submit\",\n  \"reset\"\n]);\nfunction $507fabe10e71c6fb$var$isKeyboardFocusEvent(isTextInput, modality, e2) {\n  let document1 = $431fbd86ca7dc216$export$b204af158042fbac(e2 === null || e2 === void 0 ? void 0 : e2.target);\n  const IHTMLInputElement = typeof window !== \"undefined\" ? $431fbd86ca7dc216$export$f21a1ffae260145a(e2 === null || e2 === void 0 ? void 0 : e2.target).HTMLInputElement : HTMLInputElement;\n  const IHTMLTextAreaElement = typeof window !== \"undefined\" ? $431fbd86ca7dc216$export$f21a1ffae260145a(e2 === null || e2 === void 0 ? void 0 : e2.target).HTMLTextAreaElement : HTMLTextAreaElement;\n  const IHTMLElement = typeof window !== \"undefined\" ? $431fbd86ca7dc216$export$f21a1ffae260145a(e2 === null || e2 === void 0 ? void 0 : e2.target).HTMLElement : HTMLElement;\n  const IKeyboardEvent = typeof window !== \"undefined\" ? $431fbd86ca7dc216$export$f21a1ffae260145a(e2 === null || e2 === void 0 ? void 0 : e2.target).KeyboardEvent : KeyboardEvent;\n  isTextInput = isTextInput || document1.activeElement instanceof IHTMLInputElement && !$507fabe10e71c6fb$var$nonTextInputTypes.has(document1.activeElement.type) || document1.activeElement instanceof IHTMLTextAreaElement || document1.activeElement instanceof IHTMLElement && document1.activeElement.isContentEditable;\n  return !(isTextInput && modality === \"keyboard\" && e2 instanceof IKeyboardEvent && !$507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS[e2.key]);\n}\nfunction $507fabe10e71c6fb$export$ec71b4b83ac08ec3(fn2, deps, opts) {\n  $507fabe10e71c6fb$var$setupGlobalFocusEvents();\n  y$6(() => {\n    let handler = (modality, e2) => {\n      if (!$507fabe10e71c6fb$var$isKeyboardFocusEvent(!!(opts === null || opts === void 0 ? void 0 : opts.isTextInput), modality, e2)) return;\n      fn2($507fabe10e71c6fb$export$b9b3dfddab17db27());\n    };\n    $507fabe10e71c6fb$var$changeHandlers.add(handler);\n    return () => {\n      $507fabe10e71c6fb$var$changeHandlers.delete(handler);\n    };\n  }, deps);\n}\nfunction $a1ea59d68270f0dd$export$f8168d8dd8fd66e6(props) {\n  let { isDisabled, onFocus: onFocusProp, onBlur: onBlurProp, onFocusChange } = props;\n  const onBlur = q$3((e2) => {\n    if (e2.target === e2.currentTarget) {\n      if (onBlurProp) onBlurProp(e2);\n      if (onFocusChange) onFocusChange(false);\n      return true;\n    }\n  }, [\n    onBlurProp,\n    onFocusChange\n  ]);\n  const onSyntheticFocus = $8a9cb279dc87e130$export$715c682d09d639cc(onBlur);\n  const onFocus = q$3((e2) => {\n    const ownerDocument = $431fbd86ca7dc216$export$b204af158042fbac(e2.target);\n    const activeElement = ownerDocument ? $d4ee10de306f2510$export$cd4e5573fbe2b576(ownerDocument) : $d4ee10de306f2510$export$cd4e5573fbe2b576();\n    if (e2.target === e2.currentTarget && activeElement === $d4ee10de306f2510$export$e58f029f0fbfdb29(e2.nativeEvent)) {\n      if (onFocusProp) onFocusProp(e2);\n      if (onFocusChange) onFocusChange(true);\n      onSyntheticFocus(e2);\n    }\n  }, [\n    onFocusChange,\n    onFocusProp,\n    onSyntheticFocus\n  ]);\n  return {\n    focusProps: {\n      onFocus: !isDisabled && (onFocusProp || onFocusChange || onBlurProp) ? onFocus : void 0,\n      onBlur: !isDisabled && (onBlurProp || onFocusChange) ? onBlur : void 0\n    }\n  };\n}\nfunction $9ab94262bd0047c7$export$420e68273165f4ec(props) {\n  let { isDisabled, onBlurWithin, onFocusWithin, onFocusWithinChange } = props;\n  let state = A$3({\n    isFocusWithin: false\n  });\n  let { addGlobalListener, removeAllGlobalListeners } = $03deb23ff14920c4$export$4eaf04e54aa8eed6();\n  let onBlur = q$3((e2) => {\n    if (!e2.currentTarget.contains(e2.target)) return;\n    if (state.current.isFocusWithin && !e2.currentTarget.contains(e2.relatedTarget)) {\n      state.current.isFocusWithin = false;\n      removeAllGlobalListeners();\n      if (onBlurWithin) onBlurWithin(e2);\n      if (onFocusWithinChange) onFocusWithinChange(false);\n    }\n  }, [\n    onBlurWithin,\n    onFocusWithinChange,\n    state,\n    removeAllGlobalListeners\n  ]);\n  let onSyntheticFocus = $8a9cb279dc87e130$export$715c682d09d639cc(onBlur);\n  let onFocus = q$3((e2) => {\n    if (!e2.currentTarget.contains(e2.target)) return;\n    const ownerDocument = $431fbd86ca7dc216$export$b204af158042fbac(e2.target);\n    const activeElement = $d4ee10de306f2510$export$cd4e5573fbe2b576(ownerDocument);\n    if (!state.current.isFocusWithin && activeElement === $d4ee10de306f2510$export$e58f029f0fbfdb29(e2.nativeEvent)) {\n      if (onFocusWithin) onFocusWithin(e2);\n      if (onFocusWithinChange) onFocusWithinChange(true);\n      state.current.isFocusWithin = true;\n      onSyntheticFocus(e2);\n      let currentTarget = e2.currentTarget;\n      addGlobalListener(ownerDocument, \"focus\", (e3) => {\n        if (state.current.isFocusWithin && !$d4ee10de306f2510$export$4282f70798064fe0(currentTarget, e3.target)) {\n          let nativeEvent = new ownerDocument.defaultView.FocusEvent(\"blur\", {\n            relatedTarget: e3.target\n          });\n          $8a9cb279dc87e130$export$c2b7abe5d61ec696(nativeEvent, currentTarget);\n          let event = $8a9cb279dc87e130$export$525bc4921d56d4a(nativeEvent);\n          onBlur(event);\n        }\n      }, {\n        capture: true\n      });\n    }\n  }, [\n    onFocusWithin,\n    onFocusWithinChange,\n    onSyntheticFocus,\n    addGlobalListener,\n    onBlur\n  ]);\n  if (isDisabled) return {\n    focusWithinProps: {\n      // These cannot be null, that would conflict in mergeProps\n      onFocus: void 0,\n      onBlur: void 0\n    }\n  };\n  return {\n    focusWithinProps: {\n      onFocus,\n      onBlur\n    }\n  };\n}\nlet $6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents = false;\nlet $6179b936705e76d3$var$hoverCount = 0;\nfunction $6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents() {\n  $6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents = true;\n  setTimeout(() => {\n    $6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents = false;\n  }, 50);\n}\nfunction $6179b936705e76d3$var$handleGlobalPointerEvent(e2) {\n  if (e2.pointerType === \"touch\") $6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents();\n}\nfunction $6179b936705e76d3$var$setupGlobalTouchEvents() {\n  if (typeof document === \"undefined\") return;\n  if (typeof PointerEvent !== \"undefined\") document.addEventListener(\"pointerup\", $6179b936705e76d3$var$handleGlobalPointerEvent);\n  else if (false) {}\n  $6179b936705e76d3$var$hoverCount++;\n  return () => {\n    $6179b936705e76d3$var$hoverCount--;\n    if ($6179b936705e76d3$var$hoverCount > 0) return;\n    if (typeof PointerEvent !== \"undefined\") document.removeEventListener(\"pointerup\", $6179b936705e76d3$var$handleGlobalPointerEvent);\n    else if (false) {}\n  };\n}\nfunction $6179b936705e76d3$export$ae780daf29e6d456(props) {\n  let { onHoverStart, onHoverChange, onHoverEnd, isDisabled } = props;\n  let [isHovered, setHovered] = d$4(false);\n  let state = A$3({\n    isHovered: false,\n    ignoreEmulatedMouseEvents: false,\n    pointerType: \"\",\n    target: null\n  }).current;\n  y$6($6179b936705e76d3$var$setupGlobalTouchEvents, []);\n  let { addGlobalListener, removeAllGlobalListeners } = $03deb23ff14920c4$export$4eaf04e54aa8eed6();\n  let { hoverProps, triggerHoverEnd } = T$5(() => {\n    let triggerHoverStart = (event, pointerType) => {\n      state.pointerType = pointerType;\n      if (isDisabled || pointerType === \"touch\" || state.isHovered || !event.currentTarget.contains(event.target)) return;\n      state.isHovered = true;\n      let target = event.currentTarget;\n      state.target = target;\n      addGlobalListener($431fbd86ca7dc216$export$b204af158042fbac(event.target), \"pointerover\", (e2) => {\n        if (state.isHovered && state.target && !$d4ee10de306f2510$export$4282f70798064fe0(state.target, e2.target)) triggerHoverEnd2(e2, e2.pointerType);\n      }, {\n        capture: true\n      });\n      if (onHoverStart) onHoverStart({\n        type: \"hoverstart\",\n        target,\n        pointerType\n      });\n      if (onHoverChange) onHoverChange(true);\n      setHovered(true);\n    };\n    let triggerHoverEnd2 = (event, pointerType) => {\n      let target = state.target;\n      state.pointerType = \"\";\n      state.target = null;\n      if (pointerType === \"touch\" || !state.isHovered || !target) return;\n      state.isHovered = false;\n      removeAllGlobalListeners();\n      if (onHoverEnd) onHoverEnd({\n        type: \"hoverend\",\n        target,\n        pointerType\n      });\n      if (onHoverChange) onHoverChange(false);\n      setHovered(false);\n    };\n    let hoverProps2 = {};\n    if (typeof PointerEvent !== \"undefined\") {\n      hoverProps2.onPointerEnter = (e2) => {\n        if ($6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents && e2.pointerType === \"mouse\") return;\n        triggerHoverStart(e2, e2.pointerType);\n      };\n      hoverProps2.onPointerLeave = (e2) => {\n        if (!isDisabled && e2.currentTarget.contains(e2.target)) triggerHoverEnd2(e2, e2.pointerType);\n      };\n    } else if (false) {}\n    return {\n      hoverProps: hoverProps2,\n      triggerHoverEnd: triggerHoverEnd2\n    };\n  }, [\n    onHoverStart,\n    onHoverChange,\n    onHoverEnd,\n    isDisabled,\n    state,\n    addGlobalListener,\n    removeAllGlobalListeners\n  ]);\n  y$6(() => {\n    if (isDisabled) triggerHoverEnd({\n      currentTarget: state.target\n    }, state.pointerType);\n  }, [\n    isDisabled\n  ]);\n  return {\n    hoverProps,\n    isHovered\n  };\n}\nfunction $f7dceffc5ad7768b$export$4e328f61c538687f(props = {}) {\n  let { autoFocus = false, isTextInput, within } = props;\n  let state = A$3({\n    isFocused: false,\n    isFocusVisible: autoFocus || $507fabe10e71c6fb$export$b9b3dfddab17db27()\n  });\n  let [isFocused, setFocused] = d$4(false);\n  let [isFocusVisibleState, setFocusVisible] = d$4(() => state.current.isFocused && state.current.isFocusVisible);\n  let updateState = q$3(() => setFocusVisible(state.current.isFocused && state.current.isFocusVisible), []);\n  let onFocusChange = q$3((isFocused2) => {\n    state.current.isFocused = isFocused2;\n    setFocused(isFocused2);\n    updateState();\n  }, [\n    updateState\n  ]);\n  $507fabe10e71c6fb$export$ec71b4b83ac08ec3((isFocusVisible) => {\n    state.current.isFocusVisible = isFocusVisible;\n    updateState();\n  }, [], {\n    isTextInput\n  });\n  let { focusProps } = $a1ea59d68270f0dd$export$f8168d8dd8fd66e6({\n    isDisabled: within,\n    onFocusChange\n  });\n  let { focusWithinProps } = $9ab94262bd0047c7$export$420e68273165f4ec({\n    isDisabled: !within,\n    onFocusWithinChange: onFocusChange\n  });\n  return {\n    isFocused,\n    isFocusVisible: isFocusVisibleState,\n    focusProps: within ? focusWithinProps : focusProps\n  };\n}\nvar i$6 = Object.defineProperty;\nvar d$3 = (t2, e2, n2) => e2 in t2 ? i$6(t2, e2, { enumerable: true, configurable: true, writable: true, value: n2 }) : t2[e2] = n2;\nvar r$2 = (t2, e2, n2) => (d$3(t2, typeof e2 != \"symbol\" ? e2 + \"\" : e2, n2), n2);\nlet o$7 = class o {\n  constructor() {\n    r$2(this, \"current\", this.detect());\n    r$2(this, \"handoffState\", \"pending\");\n    r$2(this, \"currentId\", 0);\n  }\n  set(e2) {\n    this.current !== e2 && (this.handoffState = \"pending\", this.currentId = 0, this.current = e2);\n  }\n  reset() {\n    this.set(this.detect());\n  }\n  nextId() {\n    return ++this.currentId;\n  }\n  get isServer() {\n    return this.current === \"server\";\n  }\n  get isClient() {\n    return this.current === \"client\";\n  }\n  detect() {\n    return typeof window == \"undefined\" || typeof document == \"undefined\" ? \"server\" : \"client\";\n  }\n  handoff() {\n    this.handoffState === \"pending\" && (this.handoffState = \"complete\");\n  }\n  get isHandoffComplete() {\n    return this.handoffState === \"complete\";\n  }\n};\nlet s$7 = new o$7();\nfunction o$6(n2) {\n  var e2, r2;\n  return s$7.isServer ? null : n2 ? \"ownerDocument\" in n2 ? n2.ownerDocument : \"current\" in n2 ? (r2 = (e2 = n2.current) == null ? void 0 : e2.ownerDocument) != null ? r2 : document : null : document;\n}\nfunction t$3(e2) {\n  typeof queueMicrotask == \"function\" ? queueMicrotask(e2) : Promise.resolve().then(e2).catch((o3) => setTimeout(() => {\n    throw o3;\n  }));\n}\nfunction o$5() {\n  let n2 = [], r2 = { addEventListener(e2, t2, s2, a3) {\n    return e2.addEventListener(t2, s2, a3), r2.add(() => e2.removeEventListener(t2, s2, a3));\n  }, requestAnimationFrame(...e2) {\n    let t2 = requestAnimationFrame(...e2);\n    return r2.add(() => cancelAnimationFrame(t2));\n  }, nextFrame(...e2) {\n    return r2.requestAnimationFrame(() => r2.requestAnimationFrame(...e2));\n  }, setTimeout(...e2) {\n    let t2 = setTimeout(...e2);\n    return r2.add(() => clearTimeout(t2));\n  }, microTask(...e2) {\n    let t2 = { current: true };\n    return t$3(() => {\n      t2.current && e2[0]();\n    }), r2.add(() => {\n      t2.current = false;\n    });\n  }, style(e2, t2, s2) {\n    let a3 = e2.style.getPropertyValue(t2);\n    return Object.assign(e2.style, { [t2]: s2 }), this.add(() => {\n      Object.assign(e2.style, { [t2]: a3 });\n    });\n  }, group(e2) {\n    let t2 = o$5();\n    return e2(t2), this.add(() => t2.dispose());\n  }, add(e2) {\n    return n2.includes(e2) || n2.push(e2), () => {\n      let t2 = n2.indexOf(e2);\n      if (t2 >= 0) for (let s2 of n2.splice(t2, 1)) s2();\n    };\n  }, dispose() {\n    for (let e2 of n2.splice(0)) e2();\n  } };\n  return r2;\n}\nfunction p$2() {\n  let [e2] = d$4(o$5);\n  return y$6(() => () => e2.dispose(), [e2]), e2;\n}\nlet n$3 = (e2, t2) => {\n  s$7.isServer ? y$6(e2, t2) : _$3(e2, t2);\n};\nfunction s$6(e2) {\n  let r2 = A$3(e2);\n  return n$3(() => {\n    r2.current = e2;\n  }, [e2]), r2;\n}\nlet o$4 = function(t2) {\n  let e2 = s$6(t2);\n  return Rn.useCallback((...r2) => e2.current(...r2), [e2]);\n};\nfunction E$1(e2) {\n  let t2 = e2.width / 2, n2 = e2.height / 2;\n  return { top: e2.clientY - n2, right: e2.clientX + t2, bottom: e2.clientY + n2, left: e2.clientX - t2 };\n}\nfunction P$3(e2, t2) {\n  return !(!e2 || !t2 || e2.right < t2.left || e2.left > t2.right || e2.bottom < t2.top || e2.top > t2.bottom);\n}\nfunction w$2({ disabled: e2 = false } = {}) {\n  let t2 = A$3(null), [n2, l2] = d$4(false), r2 = p$2(), o3 = o$4(() => {\n    t2.current = null, l2(false), r2.dispose();\n  }), f2 = o$4((s2) => {\n    if (r2.dispose(), t2.current === null) {\n      t2.current = s2.currentTarget, l2(true);\n      {\n        let i2 = o$6(s2.currentTarget);\n        r2.addEventListener(i2, \"pointerup\", o3, false), r2.addEventListener(i2, \"pointermove\", (c2) => {\n          if (t2.current) {\n            let p2 = E$1(c2);\n            l2(P$3(p2, t2.current.getBoundingClientRect()));\n          }\n        }, false), r2.addEventListener(i2, \"pointercancel\", o3, false);\n      }\n    }\n  });\n  return { pressed: n2, pressProps: e2 ? {} : { onPointerDown: f2, onPointerUp: o3, onClick: o3 } };\n}\nlet e$3 = K$3(void 0);\nfunction a$9() {\n  return x$4(e$3);\n}\nfunction t$2(...r2) {\n  return Array.from(new Set(r2.flatMap((n2) => typeof n2 == \"string\" ? n2.split(\" \") : []))).filter(Boolean).join(\" \");\n}\nfunction u$7(r2, n2, ...a3) {\n  if (r2 in n2) {\n    let e2 = n2[r2];\n    return typeof e2 == \"function\" ? e2(...a3) : e2;\n  }\n  let t2 = new Error(`Tried to handle \"${r2}\" but there is no handler defined. Only defined handlers are: ${Object.keys(n2).map((e2) => `\"${e2}\"`).join(\", \")}.`);\n  throw Error.captureStackTrace && Error.captureStackTrace(t2, u$7), t2;\n}\nvar O$1 = ((a3) => (a3[a3.None = 0] = \"None\", a3[a3.RenderStrategy = 1] = \"RenderStrategy\", a3[a3.Static = 2] = \"Static\", a3))(O$1 || {}), A$1 = ((e2) => (e2[e2.Unmount = 0] = \"Unmount\", e2[e2.Hidden = 1] = \"Hidden\", e2))(A$1 || {});\nfunction L$2() {\n  let n2 = U$2();\n  return q$3((r2) => C$2({ mergeRefs: n2, ...r2 }), [n2]);\n}\nfunction C$2({ ourProps: n2, theirProps: r2, slot: e2, defaultTag: a3, features: s2, visible: t2 = true, name: l2, mergeRefs: i2 }) {\n  i2 = i2 != null ? i2 : $;\n  let o3 = P$2(r2, n2);\n  if (t2) return F$3(o3, e2, a3, l2, i2);\n  let y2 = s2 != null ? s2 : 0;\n  if (y2 & 2) {\n    let { static: f2 = false, ...u2 } = o3;\n    if (f2) return F$3(u2, e2, a3, l2, i2);\n  }\n  if (y2 & 1) {\n    let { unmount: f2 = true, ...u2 } = o3;\n    return u$7(f2 ? 0 : 1, { [0]() {\n      return null;\n    }, [1]() {\n      return F$3({ ...u2, hidden: true, style: { display: \"none\" } }, e2, a3, l2, i2);\n    } });\n  }\n  return F$3(o3, e2, a3, l2, i2);\n}\nfunction F$3(n2, r2 = {}, e2, a3, s2) {\n  let { as: t2 = e2, children: l2, refName: i2 = \"ref\", ...o3 } = h$4(n2, [\"unmount\", \"static\"]), y2 = n2.ref !== void 0 ? { [i2]: n2.ref } : {}, f2 = typeof l2 == \"function\" ? l2(r2) : l2;\n  \"className\" in o3 && o3.className && typeof o3.className == \"function\" && (o3.className = o3.className(r2)), o3[\"aria-labelledby\"] && o3[\"aria-labelledby\"] === o3.id && (o3[\"aria-labelledby\"] = void 0);\n  let u2 = {};\n  if (r2) {\n    let d2 = false, p2 = [];\n    for (let [c2, T2] of Object.entries(r2)) typeof T2 == \"boolean\" && (d2 = true), T2 === true && p2.push(c2.replace(/([A-Z])/g, (g2) => `-${g2.toLowerCase()}`));\n    if (d2) {\n      u2[\"data-headlessui-state\"] = p2.join(\" \");\n      for (let c2 of p2) u2[`data-${c2}`] = \"\";\n    }\n  }\n  if (t2 === k$3 && (Object.keys(m$4(o3)).length > 0 || Object.keys(m$4(u2)).length > 0)) if (!mn(f2) || Array.isArray(f2) && f2.length > 1) {\n    if (Object.keys(m$4(o3)).length > 0) throw new Error(['Passing props on \"Fragment\"!', \"\", `The current component <${a3} /> is rendering a \"Fragment\".`, \"However we need to passthrough the following props:\", Object.keys(m$4(o3)).concat(Object.keys(m$4(u2))).map((d2) => `  - ${d2}`).join(`\n`), \"\", \"You can apply a few solutions:\", ['Add an `as=\"...\"` prop, to ensure that we render an actual element instead of a \"Fragment\".', \"Render a single element as the child so that we can forward the props onto that element.\"].map((d2) => `  - ${d2}`).join(`\n`)].join(`\n`));\n  } else {\n    let d2 = f2.props, p2 = d2 == null ? void 0 : d2.className, c2 = typeof p2 == \"function\" ? (...R2) => t$2(p2(...R2), o3.className) : t$2(p2, o3.className), T2 = c2 ? { className: c2 } : {}, g2 = P$2(f2.props, m$4(h$4(o3, [\"ref\"])));\n    for (let R2 in u2) R2 in g2 && delete u2[R2];\n    return _n(f2, Object.assign({}, g2, u2, y2, { ref: s2(H$4(f2), y2.ref) }, T2));\n  }\n  return _$4(t2, Object.assign({}, h$4(o3, [\"ref\"]), t2 !== k$3 && y2, t2 !== k$3 && u2), f2);\n}\nfunction U$2() {\n  let n2 = A$3([]), r2 = q$3((e2) => {\n    for (let a3 of n2.current) a3 != null && (typeof a3 == \"function\" ? a3(e2) : a3.current = e2);\n  }, []);\n  return (...e2) => {\n    if (!e2.every((a3) => a3 == null)) return n2.current = e2, r2;\n  };\n}\nfunction $(...n2) {\n  return n2.every((r2) => r2 == null) ? void 0 : (r2) => {\n    for (let e2 of n2) e2 != null && (typeof e2 == \"function\" ? e2(r2) : e2.current = r2);\n  };\n}\nfunction P$2(...n2) {\n  if (n2.length === 0) return {};\n  if (n2.length === 1) return n2[0];\n  let r2 = {}, e2 = {};\n  for (let s2 of n2) for (let t2 in s2) t2.startsWith(\"on\") && typeof s2[t2] == \"function\" ? (e2[t2] != null || (e2[t2] = []), e2[t2].push(s2[t2])) : r2[t2] = s2[t2];\n  if (r2.disabled || r2[\"aria-disabled\"]) for (let s2 in e2) /^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(s2) && (e2[s2] = [(t2) => {\n    var l2;\n    return (l2 = t2 == null ? void 0 : t2.preventDefault) == null ? void 0 : l2.call(t2);\n  }]);\n  for (let s2 in e2) Object.assign(r2, { [s2](t2, ...l2) {\n    let i2 = e2[s2];\n    for (let o3 of i2) {\n      if ((t2 instanceof Event || (t2 == null ? void 0 : t2.nativeEvent) instanceof Event) && t2.defaultPrevented) return;\n      o3(t2, ...l2);\n    }\n  } });\n  return r2;\n}\nfunction _$2(...n2) {\n  if (n2.length === 0) return {};\n  if (n2.length === 1) return n2[0];\n  let r2 = {}, e2 = {};\n  for (let s2 of n2) for (let t2 in s2) t2.startsWith(\"on\") && typeof s2[t2] == \"function\" ? (e2[t2] != null || (e2[t2] = []), e2[t2].push(s2[t2])) : r2[t2] = s2[t2];\n  for (let s2 in e2) Object.assign(r2, { [s2](...t2) {\n    let l2 = e2[s2];\n    for (let i2 of l2) i2 == null || i2(...t2);\n  } });\n  return r2;\n}\nfunction K$1(n2) {\n  var r2;\n  return Object.assign(D$1(n2), { displayName: (r2 = n2.displayName) != null ? r2 : n2.name });\n}\nfunction m$4(n2) {\n  let r2 = Object.assign({}, n2);\n  for (let e2 in r2) r2[e2] === void 0 && delete r2[e2];\n  return r2;\n}\nfunction h$4(n2, r2 = []) {\n  let e2 = Object.assign({}, n2);\n  for (let a3 of r2) a3 in e2 && delete e2[a3];\n  return e2;\n}\nfunction H$4(n2) {\n  return Rn.version.split(\".\")[0] >= \"19\" ? n2.props.ref : n2.ref;\n}\nlet R$2 = \"button\";\nfunction v$1(a3, u2) {\n  var p2;\n  let l2 = a$9(), { disabled: e2 = l2 || false, autoFocus: t2 = false, ...o3 } = a3, { isFocusVisible: r2, focusProps: i2 } = $f7dceffc5ad7768b$export$4e328f61c538687f({ autoFocus: t2 }), { isHovered: s2, hoverProps: T2 } = $6179b936705e76d3$export$ae780daf29e6d456({ isDisabled: e2 }), { pressed: n2, pressProps: d2 } = w$2({ disabled: e2 }), f2 = _$2({ ref: u2, type: (p2 = o3.type) != null ? p2 : \"button\", disabled: e2 || void 0, autoFocus: t2 }, i2, T2, d2), m2 = T$5(() => ({ disabled: e2, hover: s2, focus: r2, active: n2, autofocus: t2 }), [e2, s2, r2, n2, t2]);\n  return L$2()({ ourProps: f2, theirProps: o3, slot: m2, defaultTag: R$2, name: \"Button\" });\n}\nlet H$3 = K$1(v$1);\nlet e$2 = K$3(void 0);\nfunction u$6() {\n  return x$4(e$2);\n}\nfunction r$1(n2) {\n  let e2 = n2.parentElement, l2 = null;\n  for (; e2 && !(e2 instanceof HTMLFieldSetElement); ) e2 instanceof HTMLLegendElement && (l2 = e2), e2 = e2.parentElement;\n  let t2 = (e2 == null ? void 0 : e2.getAttribute(\"disabled\")) === \"\";\n  return t2 && i$5(l2) ? false : t2;\n}\nfunction i$5(n2) {\n  if (!n2) return false;\n  let e2 = n2.previousElementSibling;\n  for (; e2 !== null; ) {\n    if (e2 instanceof HTMLLegendElement) return false;\n    e2 = e2.previousElementSibling;\n  }\n  return true;\n}\nlet u$5 = Symbol();\nfunction T$3(t2, n2 = true) {\n  return Object.assign(t2, { [u$5]: n2 });\n}\nfunction y$5(...t2) {\n  let n2 = A$3(t2);\n  y$6(() => {\n    n2.current = t2;\n  }, [t2]);\n  let c2 = o$4((e2) => {\n    for (let o3 of n2.current) o3 != null && (typeof o3 == \"function\" ? o3(e2) : o3.current = e2);\n  });\n  return t2.every((e2) => e2 == null || (e2 == null ? void 0 : e2[u$5])) ? void 0 : c2;\n}\nlet a$8 = K$3(null);\na$8.displayName = \"DescriptionContext\";\nfunction f$6() {\n  let r2 = x$4(a$8);\n  if (r2 === null) {\n    let e2 = new Error(\"You used a <Description /> component, but it is not inside a relevant parent.\");\n    throw Error.captureStackTrace && Error.captureStackTrace(e2, f$6), e2;\n  }\n  return r2;\n}\nfunction U$1() {\n  var r2, e2;\n  return (e2 = (r2 = x$4(a$8)) == null ? void 0 : r2.value) != null ? e2 : void 0;\n}\nfunction w$1() {\n  let [r2, e2] = d$4([]);\n  return [r2.length > 0 ? r2.join(\" \") : void 0, T$5(() => function(t2) {\n    let i2 = o$4((n2) => (e2((s2) => [...s2, n2]), () => e2((s2) => {\n      let o3 = s2.slice(), p2 = o3.indexOf(n2);\n      return p2 !== -1 && o3.splice(p2, 1), o3;\n    }))), l2 = T$5(() => ({ register: i2, slot: t2.slot, name: t2.name, props: t2.props, value: t2.value }), [i2, t2.slot, t2.name, t2.props, t2.value]);\n    return Rn.createElement(a$8.Provider, { value: l2 }, t2.children);\n  }, [e2])];\n}\nlet S$4 = \"p\";\nfunction C$1(r2, e2) {\n  let d2 = g$3(), t2 = a$9(), { id: i2 = `headlessui-description-${d2}`, ...l2 } = r2, n2 = f$6(), s2 = y$5(e2);\n  n$3(() => n2.register(i2), [i2, n2.register]);\n  let o3 = t2 || false, p2 = T$5(() => ({ ...n2.slot, disabled: o3 }), [n2.slot, o3]), D2 = { ref: s2, ...n2.props, id: i2 };\n  return L$2()({ ourProps: D2, theirProps: l2, slot: p2, defaultTag: S$4, name: n2.name || \"Description\" });\n}\nlet _$1 = K$1(C$1);\nObject.assign(_$1, {});\nvar o$3 = ((r2) => (r2.Space = \" \", r2.Enter = \"Enter\", r2.Escape = \"Escape\", r2.Backspace = \"Backspace\", r2.Delete = \"Delete\", r2.ArrowLeft = \"ArrowLeft\", r2.ArrowUp = \"ArrowUp\", r2.ArrowRight = \"ArrowRight\", r2.ArrowDown = \"ArrowDown\", r2.Home = \"Home\", r2.End = \"End\", r2.PageUp = \"PageUp\", r2.PageDown = \"PageDown\", r2.Tab = \"Tab\", r2))(o$3 || {});\nlet c$5 = K$3(null);\nc$5.displayName = \"LabelContext\";\nfunction P$1() {\n  let r2 = x$4(c$5);\n  if (r2 === null) {\n    let l2 = new Error(\"You used a <Label /> component, but it is not inside a relevant parent.\");\n    throw Error.captureStackTrace && Error.captureStackTrace(l2, P$1), l2;\n  }\n  return r2;\n}\nfunction I$2(r2) {\n  var a3, e2, o3;\n  let l2 = (e2 = (a3 = x$4(c$5)) == null ? void 0 : a3.value) != null ? e2 : void 0;\n  return ((o3 = void 0) != null ? o3 : 0) > 0 ? [l2, ...r2].filter(Boolean).join(\" \") : l2;\n}\nfunction K({ inherit: r2 = false } = {}) {\n  let l2 = I$2(), [a3, e2] = d$4([]), o3 = r2 ? [l2, ...a3].filter(Boolean) : a3;\n  return [o3.length > 0 ? o3.join(\" \") : void 0, T$5(() => function(t2) {\n    let s2 = o$4((i2) => (e2((p2) => [...p2, i2]), () => e2((p2) => {\n      let u2 = p2.slice(), d2 = u2.indexOf(i2);\n      return d2 !== -1 && u2.splice(d2, 1), u2;\n    }))), m2 = T$5(() => ({ register: s2, slot: t2.slot, name: t2.name, props: t2.props, value: t2.value }), [s2, t2.slot, t2.name, t2.props, t2.value]);\n    return Rn.createElement(c$5.Provider, { value: m2 }, t2.children);\n  }, [e2])];\n}\nlet N = \"label\";\nfunction G$1(r2, l2) {\n  var y2;\n  let a3 = g$3(), e2 = P$1(), o3 = u$6(), g2 = a$9(), { id: t2 = `headlessui-label-${a3}`, htmlFor: s2 = o3 != null ? o3 : (y2 = e2.props) == null ? void 0 : y2.htmlFor, passive: m2 = false, ...i2 } = r2, p2 = y$5(l2);\n  n$3(() => e2.register(t2), [t2, e2.register]);\n  let u2 = o$4((L2) => {\n    let b2 = L2.currentTarget;\n    if (b2 instanceof HTMLLabelElement && L2.preventDefault(), e2.props && \"onClick\" in e2.props && typeof e2.props.onClick == \"function\" && e2.props.onClick(L2), b2 instanceof HTMLLabelElement) {\n      let n2 = document.getElementById(b2.htmlFor);\n      if (n2) {\n        let E2 = n2.getAttribute(\"disabled\");\n        if (E2 === \"true\" || E2 === \"\") return;\n        let x2 = n2.getAttribute(\"aria-disabled\");\n        if (x2 === \"true\" || x2 === \"\") return;\n        (n2 instanceof HTMLInputElement && (n2.type === \"radio\" || n2.type === \"checkbox\") || n2.role === \"radio\" || n2.role === \"checkbox\" || n2.role === \"switch\") && n2.click(), n2.focus({ preventScroll: true });\n      }\n    }\n  }), d2 = g2 || false, C2 = T$5(() => ({ ...e2.slot, disabled: d2 }), [e2.slot, d2]), f2 = { ref: p2, ...e2.props, id: t2, htmlFor: s2, onClick: u2 };\n  return m2 && (\"onClick\" in f2 && (delete f2.htmlFor, delete f2.onClick), \"onClick\" in i2 && delete i2.onClick), L$2()({ ourProps: f2, theirProps: i2, slot: C2, defaultTag: s2 ? N : \"div\", name: e2.name || \"Label\" });\n}\nlet U = K$1(G$1);\nObject.assign(U, {});\nfunction f$5(e2) {\n  if (e2 === null) return { width: 0, height: 0 };\n  let { width: t2, height: r2 } = e2.getBoundingClientRect();\n  return { width: t2, height: r2 };\n}\nfunction d$2(e2, t2 = false) {\n  let [r2, u2] = h$5(() => ({}), {}), i2 = T$5(() => f$5(e2), [e2, r2]);\n  return n$3(() => {\n    if (!e2) return;\n    let n2 = new ResizeObserver(u2);\n    return n2.observe(e2), () => {\n      n2.disconnect();\n    };\n  }, [e2]), t2 ? { width: `${i2.width}px`, height: `${i2.height}px` } : i2;\n}\nlet a$7 = class a extends Map {\n  constructor(t2) {\n    super();\n    this.factory = t2;\n  }\n  get(t2) {\n    let e2 = super.get(t2);\n    return e2 === void 0 && (e2 = this.factory(t2), this.set(t2, e2)), e2;\n  }\n};\nfunction a$6(o3, r2) {\n  let t2 = o3(), n2 = /* @__PURE__ */ new Set();\n  return { getSnapshot() {\n    return t2;\n  }, subscribe(e2) {\n    return n2.add(e2), () => n2.delete(e2);\n  }, dispatch(e2, ...s2) {\n    let i2 = r2[e2].call(t2, ...s2);\n    i2 && (t2 = i2, n2.forEach((c2) => c2()));\n  } };\n}\nfunction o$2(t2) {\n  return C$3(t2.subscribe, t2.getSnapshot, t2.getSnapshot);\n}\nlet p$1 = new a$7(() => a$6(() => [], { ADD(r2) {\n  return this.includes(r2) ? this : [...this, r2];\n}, REMOVE(r2) {\n  let e2 = this.indexOf(r2);\n  if (e2 === -1) return this;\n  let t2 = this.slice();\n  return t2.splice(e2, 1), t2;\n} }));\nfunction x$2(r2, e2) {\n  let t2 = p$1.get(e2), i2 = g$3(), h2 = o$2(t2);\n  if (n$3(() => {\n    if (r2) return t2.dispatch(\"ADD\", i2), () => t2.dispatch(\"REMOVE\", i2);\n  }, [t2, r2]), !r2) return false;\n  let s2 = h2.indexOf(i2), o3 = h2.length;\n  return s2 === -1 && (s2 = o3, o3 += 1), s2 === o3 - 1;\n}\nlet f$4 = /* @__PURE__ */ new Map(), u$4 = /* @__PURE__ */ new Map();\nfunction h$3(t2) {\n  var e2;\n  let r2 = (e2 = u$4.get(t2)) != null ? e2 : 0;\n  return u$4.set(t2, r2 + 1), r2 !== 0 ? () => m$3(t2) : (f$4.set(t2, { \"aria-hidden\": t2.getAttribute(\"aria-hidden\"), inert: t2.inert }), t2.setAttribute(\"aria-hidden\", \"true\"), t2.inert = true, () => m$3(t2));\n}\nfunction m$3(t2) {\n  var i2;\n  let r2 = (i2 = u$4.get(t2)) != null ? i2 : 1;\n  if (r2 === 1 ? u$4.delete(t2) : u$4.set(t2, r2 - 1), r2 !== 1) return;\n  let e2 = f$4.get(t2);\n  e2 && (e2[\"aria-hidden\"] === null ? t2.removeAttribute(\"aria-hidden\") : t2.setAttribute(\"aria-hidden\", e2[\"aria-hidden\"]), t2.inert = e2.inert, f$4.delete(t2));\n}\nfunction y$4(t2, { allowed: r2, disallowed: e2 } = {}) {\n  let i2 = x$2(t2, \"inert-others\");\n  n$3(() => {\n    var d2, c2;\n    if (!i2) return;\n    let a3 = o$5();\n    for (let n2 of (d2 = e2 == null ? void 0 : e2()) != null ? d2 : []) n2 && a3.add(h$3(n2));\n    let s2 = (c2 = r2 == null ? void 0 : r2()) != null ? c2 : [];\n    for (let n2 of s2) {\n      if (!n2) continue;\n      let l2 = o$6(n2);\n      if (!l2) continue;\n      let o3 = n2.parentElement;\n      for (; o3 && o3 !== l2.body; ) {\n        for (let p2 of o3.children) s2.some((E2) => p2.contains(E2)) || a3.add(h$3(p2));\n        o3 = o3.parentElement;\n      }\n    }\n    return a3.dispose;\n  }, [i2, r2, e2]);\n}\nfunction m$2(s2, n2, l2) {\n  let i2 = s$6((t2) => {\n    let e2 = t2.getBoundingClientRect();\n    e2.x === 0 && e2.y === 0 && e2.width === 0 && e2.height === 0 && l2();\n  });\n  y$6(() => {\n    if (!s2) return;\n    let t2 = n2 === null ? null : n2 instanceof HTMLElement ? n2 : n2.current;\n    if (!t2) return;\n    let e2 = o$5();\n    if (typeof ResizeObserver != \"undefined\") {\n      let r2 = new ResizeObserver(() => i2.current(t2));\n      r2.observe(t2), e2.add(() => r2.disconnect());\n    }\n    if (typeof IntersectionObserver != \"undefined\") {\n      let r2 = new IntersectionObserver(() => i2.current(t2));\n      r2.observe(t2), e2.add(() => r2.disconnect());\n    }\n    return () => e2.dispose();\n  }, [n2, i2, s2]);\n}\nlet f$3 = [\"[contentEditable=true]\", \"[tabindex]\", \"a[href]\", \"area[href]\", \"button:not([disabled])\", \"iframe\", \"input:not([disabled])\", \"select:not([disabled])\", \"textarea:not([disabled])\"].map((e2) => `${e2}:not([tabindex='-1'])`).join(\",\"), p = [\"[data-autofocus]\"].map((e2) => `${e2}:not([tabindex='-1'])`).join(\",\");\nvar F$2 = ((n2) => (n2[n2.First = 1] = \"First\", n2[n2.Previous = 2] = \"Previous\", n2[n2.Next = 4] = \"Next\", n2[n2.Last = 8] = \"Last\", n2[n2.WrapAround = 16] = \"WrapAround\", n2[n2.NoScroll = 32] = \"NoScroll\", n2[n2.AutoFocus = 64] = \"AutoFocus\", n2))(F$2 || {}), T$2 = ((o3) => (o3[o3.Error = 0] = \"Error\", o3[o3.Overflow = 1] = \"Overflow\", o3[o3.Success = 2] = \"Success\", o3[o3.Underflow = 3] = \"Underflow\", o3))(T$2 || {}), y$3 = ((t2) => (t2[t2.Previous = -1] = \"Previous\", t2[t2.Next = 1] = \"Next\", t2))(y$3 || {});\nfunction b$3(e2 = document.body) {\n  return e2 == null ? [] : Array.from(e2.querySelectorAll(f$3)).sort((r2, t2) => Math.sign((r2.tabIndex || Number.MAX_SAFE_INTEGER) - (t2.tabIndex || Number.MAX_SAFE_INTEGER)));\n}\nfunction S$3(e2 = document.body) {\n  return e2 == null ? [] : Array.from(e2.querySelectorAll(p)).sort((r2, t2) => Math.sign((r2.tabIndex || Number.MAX_SAFE_INTEGER) - (t2.tabIndex || Number.MAX_SAFE_INTEGER)));\n}\nvar h$2 = ((t2) => (t2[t2.Strict = 0] = \"Strict\", t2[t2.Loose = 1] = \"Loose\", t2))(h$2 || {});\nfunction A(e2, r2 = 0) {\n  var t2;\n  return e2 === ((t2 = o$6(e2)) == null ? void 0 : t2.body) ? false : u$7(r2, { [0]() {\n    return e2.matches(f$3);\n  }, [1]() {\n    let u2 = e2;\n    for (; u2 !== null; ) {\n      if (u2.matches(f$3)) return true;\n      u2 = u2.parentElement;\n    }\n    return false;\n  } });\n}\nfunction G(e2) {\n  let r2 = o$6(e2);\n  o$5().nextFrame(() => {\n    r2 && !A(r2.activeElement, 0) && I$1(e2);\n  });\n}\nvar H$2 = ((t2) => (t2[t2.Keyboard = 0] = \"Keyboard\", t2[t2.Mouse = 1] = \"Mouse\", t2))(H$2 || {});\ntypeof window != \"undefined\" && typeof document != \"undefined\" && (document.addEventListener(\"keydown\", (e2) => {\n  e2.metaKey || e2.altKey || e2.ctrlKey || (document.documentElement.dataset.headlessuiFocusVisible = \"\");\n}, true), document.addEventListener(\"click\", (e2) => {\n  e2.detail === 1 ? delete document.documentElement.dataset.headlessuiFocusVisible : e2.detail === 0 && (document.documentElement.dataset.headlessuiFocusVisible = \"\");\n}, true));\nfunction I$1(e2) {\n  e2 == null || e2.focus({ preventScroll: true });\n}\nlet w = [\"textarea\", \"input\"].join(\",\");\nfunction O(e2) {\n  var r2, t2;\n  return (t2 = (r2 = e2 == null ? void 0 : e2.matches) == null ? void 0 : r2.call(e2, w)) != null ? t2 : false;\n}\nfunction _(e2, r2 = (t2) => t2) {\n  return e2.slice().sort((t2, u2) => {\n    let o3 = r2(t2), c2 = r2(u2);\n    if (o3 === null || c2 === null) return 0;\n    let l2 = o3.compareDocumentPosition(c2);\n    return l2 & Node.DOCUMENT_POSITION_FOLLOWING ? -1 : l2 & Node.DOCUMENT_POSITION_PRECEDING ? 1 : 0;\n  });\n}\nfunction j$2(e2, r2) {\n  return P(b$3(), r2, { relativeTo: e2 });\n}\nfunction P(e2, r2, { sorted: t2 = true, relativeTo: u2 = null, skipElements: o3 = [] } = {}) {\n  let c2 = Array.isArray(e2) ? e2.length > 0 ? e2[0].ownerDocument : document : e2.ownerDocument, l2 = Array.isArray(e2) ? t2 ? _(e2) : e2 : r2 & 64 ? S$3(e2) : b$3(e2);\n  o3.length > 0 && l2.length > 1 && (l2 = l2.filter((s2) => !o3.some((a3) => a3 != null && \"current\" in a3 ? (a3 == null ? void 0 : a3.current) === s2 : a3 === s2))), u2 = u2 != null ? u2 : c2.activeElement;\n  let n2 = (() => {\n    if (r2 & 5) return 1;\n    if (r2 & 10) return -1;\n    throw new Error(\"Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last\");\n  })(), x2 = (() => {\n    if (r2 & 1) return 0;\n    if (r2 & 2) return Math.max(0, l2.indexOf(u2)) - 1;\n    if (r2 & 4) return Math.max(0, l2.indexOf(u2)) + 1;\n    if (r2 & 8) return l2.length - 1;\n    throw new Error(\"Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last\");\n  })(), M2 = r2 & 32 ? { preventScroll: true } : {}, m2 = 0, d2 = l2.length, i2;\n  do {\n    if (m2 >= d2 || m2 + d2 <= 0) return 0;\n    let s2 = x2 + m2;\n    if (r2 & 16) s2 = (s2 + d2) % d2;\n    else {\n      if (s2 < 0) return 3;\n      if (s2 >= d2) return 1;\n    }\n    i2 = l2[s2], i2 == null || i2.focus(M2), m2 += n2;\n  } while (i2 !== c2.activeElement);\n  return r2 & 6 && O(i2) && i2.select(), 2;\n}\nfunction t$1() {\n  return /iPhone/gi.test(window.navigator.platform) || /Mac/gi.test(window.navigator.platform) && window.navigator.maxTouchPoints > 0;\n}\nfunction i$4() {\n  return /Android/gi.test(window.navigator.userAgent);\n}\nfunction n$2() {\n  return t$1() || i$4();\n}\nfunction i$3(t2, e2, o3, n2) {\n  let u2 = s$6(o3);\n  y$6(() => {\n    if (!t2) return;\n    function r2(m2) {\n      u2.current(m2);\n    }\n    return document.addEventListener(e2, r2, n2), () => document.removeEventListener(e2, r2, n2);\n  }, [t2, e2, n2]);\n}\nfunction s$5(t2, e2, o3, n2) {\n  let i2 = s$6(o3);\n  y$6(() => {\n    if (!t2) return;\n    function r2(d2) {\n      i2.current(d2);\n    }\n    return window.addEventListener(e2, r2, n2), () => window.removeEventListener(e2, r2, n2);\n  }, [t2, e2, n2]);\n}\nconst E = 30;\nfunction R$1(p2, f2, C2) {\n  let u2 = x$2(p2, \"outside-click\"), m2 = s$6(C2), s2 = q$3(function(e2, n2) {\n    if (e2.defaultPrevented) return;\n    let r2 = n2(e2);\n    if (r2 === null || !r2.getRootNode().contains(r2) || !r2.isConnected) return;\n    let h2 = function l2(o3) {\n      return typeof o3 == \"function\" ? l2(o3()) : Array.isArray(o3) || o3 instanceof Set ? o3 : [o3];\n    }(f2);\n    for (let l2 of h2) if (l2 !== null && (l2.contains(r2) || e2.composed && e2.composedPath().includes(l2))) return;\n    return !A(r2, h$2.Loose) && r2.tabIndex !== -1 && e2.preventDefault(), m2.current(e2, r2);\n  }, [m2, f2]), i2 = A$3(null);\n  i$3(u2, \"pointerdown\", (t2) => {\n    var e2, n2;\n    i2.current = ((n2 = (e2 = t2.composedPath) == null ? void 0 : e2.call(t2)) == null ? void 0 : n2[0]) || t2.target;\n  }, true), i$3(u2, \"mousedown\", (t2) => {\n    var e2, n2;\n    i2.current = ((n2 = (e2 = t2.composedPath) == null ? void 0 : e2.call(t2)) == null ? void 0 : n2[0]) || t2.target;\n  }, true), i$3(u2, \"click\", (t2) => {\n    n$2() || i2.current && (s2(t2, () => i2.current), i2.current = null);\n  }, true);\n  let a3 = A$3({ x: 0, y: 0 });\n  i$3(u2, \"touchstart\", (t2) => {\n    a3.current.x = t2.touches[0].clientX, a3.current.y = t2.touches[0].clientY;\n  }, true), i$3(u2, \"touchend\", (t2) => {\n    let e2 = { x: t2.changedTouches[0].clientX, y: t2.changedTouches[0].clientY };\n    if (!(Math.abs(e2.x - a3.current.x) >= E || Math.abs(e2.y - a3.current.y) >= E)) return s2(t2, () => t2.target instanceof HTMLElement ? t2.target : null);\n  }, true), s$5(u2, \"blur\", (t2) => s2(t2, () => window.document.activeElement instanceof HTMLIFrameElement ? window.document.activeElement : null), true);\n}\nfunction n$1(...e2) {\n  return T$5(() => o$6(...e2), [...e2]);\n}\nfunction e$1(t2, u2) {\n  return T$5(() => {\n    var n2;\n    if (t2.type) return t2.type;\n    let r2 = (n2 = t2.as) != null ? n2 : \"button\";\n    if (typeof r2 == \"string\" && r2.toLowerCase() === \"button\" || (u2 == null ? void 0 : u2.tagName) === \"BUTTON\" && !u2.hasAttribute(\"type\")) return \"button\";\n  }, [t2.type, t2.as, u2]);\n}\nfunction d$1() {\n  let r2;\n  return { before({ doc: e2 }) {\n    var l2;\n    let o3 = e2.documentElement, t2 = (l2 = e2.defaultView) != null ? l2 : window;\n    r2 = Math.max(0, t2.innerWidth - o3.clientWidth);\n  }, after({ doc: e2, d: o3 }) {\n    let t2 = e2.documentElement, l2 = Math.max(0, t2.clientWidth - t2.offsetWidth), n2 = Math.max(0, r2 - l2);\n    o3.style(t2, \"paddingRight\", `${n2}px`);\n  } };\n}\nfunction d() {\n  return t$1() ? { before({ doc: r2, d: n2, meta: c2 }) {\n    function o3(a3) {\n      return c2.containers.flatMap((l2) => l2()).some((l2) => l2.contains(a3));\n    }\n    n2.microTask(() => {\n      var s2;\n      if (window.getComputedStyle(r2.documentElement).scrollBehavior !== \"auto\") {\n        let t2 = o$5();\n        t2.style(r2.documentElement, \"scrollBehavior\", \"auto\"), n2.add(() => n2.microTask(() => t2.dispose()));\n      }\n      let a3 = (s2 = window.scrollY) != null ? s2 : window.pageYOffset, l2 = null;\n      n2.addEventListener(r2, \"click\", (t2) => {\n        if (t2.target instanceof HTMLElement) try {\n          let e2 = t2.target.closest(\"a\");\n          if (!e2) return;\n          let { hash: f2 } = new URL(e2.href), i2 = r2.querySelector(f2);\n          i2 && !o3(i2) && (l2 = i2);\n        } catch {\n        }\n      }, true), n2.addEventListener(r2, \"touchstart\", (t2) => {\n        if (t2.target instanceof HTMLElement) if (o3(t2.target)) {\n          let e2 = t2.target;\n          for (; e2.parentElement && o3(e2.parentElement); ) e2 = e2.parentElement;\n          n2.style(e2, \"overscrollBehavior\", \"contain\");\n        } else n2.style(t2.target, \"touchAction\", \"none\");\n      }), n2.addEventListener(r2, \"touchmove\", (t2) => {\n        if (t2.target instanceof HTMLElement) {\n          if (t2.target.tagName === \"INPUT\") return;\n          if (o3(t2.target)) {\n            let e2 = t2.target;\n            for (; e2.parentElement && e2.dataset.headlessuiPortal !== \"\" && !(e2.scrollHeight > e2.clientHeight || e2.scrollWidth > e2.clientWidth); ) e2 = e2.parentElement;\n            e2.dataset.headlessuiPortal === \"\" && t2.preventDefault();\n          } else t2.preventDefault();\n        }\n      }, { passive: false }), n2.add(() => {\n        var e2;\n        let t2 = (e2 = window.scrollY) != null ? e2 : window.pageYOffset;\n        a3 !== t2 && window.scrollTo(0, a3), l2 && l2.isConnected && (l2.scrollIntoView({ block: \"nearest\" }), l2 = null);\n      });\n    });\n  } } : {};\n}\nfunction r() {\n  return { before({ doc: e2, d: o3 }) {\n    o3.style(e2.documentElement, \"overflow\", \"hidden\");\n  } };\n}\nfunction m$1(e2) {\n  let n2 = {};\n  for (let t2 of e2) Object.assign(n2, t2(n2));\n  return n2;\n}\nlet a$5 = a$6(() => /* @__PURE__ */ new Map(), { PUSH(e2, n2) {\n  var o3;\n  let t2 = (o3 = this.get(e2)) != null ? o3 : { doc: e2, count: 0, d: o$5(), meta: /* @__PURE__ */ new Set() };\n  return t2.count++, t2.meta.add(n2), this.set(e2, t2), this;\n}, POP(e2, n2) {\n  let t2 = this.get(e2);\n  return t2 && (t2.count--, t2.meta.delete(n2)), this;\n}, SCROLL_PREVENT({ doc: e2, d: n2, meta: t2 }) {\n  let o3 = { doc: e2, d: n2, meta: m$1(t2) }, c2 = [d(), d$1(), r()];\n  c2.forEach(({ before: r2 }) => r2 == null ? void 0 : r2(o3)), c2.forEach(({ after: r2 }) => r2 == null ? void 0 : r2(o3));\n}, SCROLL_ALLOW({ d: e2 }) {\n  e2.dispose();\n}, TEARDOWN({ doc: e2 }) {\n  this.delete(e2);\n} });\na$5.subscribe(() => {\n  let e2 = a$5.getSnapshot(), n2 = /* @__PURE__ */ new Map();\n  for (let [t2] of e2) n2.set(t2, t2.documentElement.style.overflow);\n  for (let t2 of e2.values()) {\n    let o3 = n2.get(t2.doc) === \"hidden\", c2 = t2.count !== 0;\n    (c2 && !o3 || !c2 && o3) && a$5.dispatch(t2.count > 0 ? \"SCROLL_PREVENT\" : \"SCROLL_ALLOW\", t2), t2.count === 0 && a$5.dispatch(\"TEARDOWN\", t2);\n  }\n});\nfunction a$4(r2, e2, n2 = () => ({ containers: [] })) {\n  let f2 = o$2(a$5), o3 = e2 ? f2.get(e2) : void 0, i2 = o3 ? o3.count > 0 : false;\n  return n$3(() => {\n    if (!(!e2 || !r2)) return a$5.dispatch(\"PUSH\", e2, n2), () => a$5.dispatch(\"POP\", e2, n2);\n  }, [r2, e2]), i2;\n}\nfunction f$2(e2, c2, n2 = () => [document.body]) {\n  let r2 = x$2(e2, \"scroll-lock\");\n  a$4(r2, c2, (t2) => {\n    var o3;\n    return { containers: [...(o3 = t2.containers) != null ? o3 : [], n2] };\n  });\n}\nfunction t(e2) {\n  return [e2.screenX, e2.screenY];\n}\nfunction u$3() {\n  let e2 = A$3([-1, -1]);\n  return { wasMoved(r2) {\n    let n2 = t(r2);\n    return e2.current[0] === n2[0] && e2.current[1] === n2[1] ? false : (e2.current = n2, true);\n  }, update(r2) {\n    e2.current = t(r2);\n  } };\n}\nfunction c$4(u2 = 0) {\n  let [t2, l2] = d$4(u2), g2 = q$3((e2) => l2(e2), [t2]), s2 = q$3((e2) => l2((a3) => a3 | e2), [t2]), m2 = q$3((e2) => (t2 & e2) === e2, [t2]), n2 = q$3((e2) => l2((a3) => a3 & ~e2), [l2]), F2 = q$3((e2) => l2((a3) => a3 ^ e2), [l2]);\n  return { flags: t2, setFlag: g2, addFlag: s2, hasFlag: m2, removeFlag: n2, toggleFlag: F2 };\n}\nvar T$1, b$2;\ntypeof process != \"undefined\" && typeof globalThis != \"undefined\" && typeof Element != \"undefined\" && ((T$1 = process == null ? void 0 : process.env) == null ? void 0 : T$1[\"NODE_ENV\"]) === \"test\" && typeof ((b$2 = Element == null ? void 0 : Element.prototype) == null ? void 0 : b$2.getAnimations) == \"undefined\" && (Element.prototype.getAnimations = function() {\n  return console.warn([\"Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.\", \"Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.\", \"\", \"Example usage:\", \"```js\", \"import { mockAnimationsApi } from 'jsdom-testing-mocks'\", \"mockAnimationsApi()\", \"```\"].join(`\n`)), [];\n});\nvar L$1 = ((r2) => (r2[r2.None = 0] = \"None\", r2[r2.Closed = 1] = \"Closed\", r2[r2.Enter = 2] = \"Enter\", r2[r2.Leave = 4] = \"Leave\", r2))(L$1 || {});\nfunction R(t2) {\n  let n2 = {};\n  for (let e2 in t2) t2[e2] === true && (n2[`data-${e2}`] = \"\");\n  return n2;\n}\nfunction x$1(t2, n2, e2, i2) {\n  let [r2, o3] = d$4(e2), { hasFlag: s2, addFlag: a3, removeFlag: l2 } = c$4(t2 && r2 ? 3 : 0), u2 = A$3(false), f2 = A$3(false), E2 = p$2();\n  return n$3(() => {\n    var d2;\n    if (t2) {\n      if (e2 && o3(true), !n2) {\n        e2 && a3(3);\n        return;\n      }\n      return (d2 = void 0) == null || d2.call(i2, e2), C(n2, { inFlight: u2, prepare() {\n        f2.current ? f2.current = false : f2.current = u2.current, u2.current = true, !f2.current && (e2 ? (a3(3), l2(4)) : (a3(4), l2(2)));\n      }, run() {\n        f2.current ? e2 ? (l2(3), a3(4)) : (l2(4), a3(3)) : e2 ? l2(1) : a3(1);\n      }, done() {\n        var p2;\n        f2.current && typeof n2.getAnimations == \"function\" && n2.getAnimations().length > 0 || (u2.current = false, l2(7), e2 || o3(false), (p2 = void 0) == null || p2.call(i2, e2));\n      } });\n    }\n  }, [t2, e2, n2, E2]), t2 ? [r2, { closed: s2(1), enter: s2(2), leave: s2(4), transition: s2(2) || s2(4) }] : [e2, { closed: void 0, enter: void 0, leave: void 0, transition: void 0 }];\n}\nfunction C(t2, { prepare: n2, run: e2, done: i2, inFlight: r2 }) {\n  let o3 = o$5();\n  return j$1(t2, { prepare: n2, inFlight: r2 }), o3.nextFrame(() => {\n    e2(), o3.requestAnimationFrame(() => {\n      o3.add(M$2(t2, i2));\n    });\n  }), o3.dispose;\n}\nfunction M$2(t2, n2) {\n  var o3, s2;\n  let e2 = o$5();\n  if (!t2) return e2.dispose;\n  let i2 = false;\n  e2.add(() => {\n    i2 = true;\n  });\n  let r2 = (s2 = (o3 = t2.getAnimations) == null ? void 0 : o3.call(t2).filter((a3) => a3 instanceof CSSTransition)) != null ? s2 : [];\n  return r2.length === 0 ? (n2(), e2.dispose) : (Promise.allSettled(r2.map((a3) => a3.finished)).then(() => {\n    i2 || n2();\n  }), e2.dispose);\n}\nfunction j$1(t2, { inFlight: n2, prepare: e2 }) {\n  if (n2 != null && n2.current) {\n    e2();\n    return;\n  }\n  let i2 = t2.style.transition;\n  t2.style.transition = \"none\", e2(), t2.offsetHeight, t2.style.transition = i2;\n}\nfunction F$1(c2, { container: e2, accept: t2, walk: r2 }) {\n  let o3 = A$3(t2), l2 = A$3(r2);\n  y$6(() => {\n    o3.current = t2, l2.current = r2;\n  }, [t2, r2]), n$3(() => {\n    if (!e2 || !c2) return;\n    let n2 = o$6(e2);\n    if (!n2) return;\n    let f2 = o3.current, p2 = l2.current, i2 = Object.assign((m2) => f2(m2), { acceptNode: f2 }), u2 = n2.createTreeWalker(e2, NodeFilter.SHOW_ELEMENT, i2, false);\n    for (; u2.nextNode(); ) p2(u2.currentNode);\n  }, [e2, c2, o3, l2]);\n}\nfunction hasWindow() {\n  return typeof window !== \"undefined\";\n}\nfunction getNodeName(node) {\n  if (isNode(node)) {\n    return (node.nodeName || \"\").toLowerCase();\n  }\n  return \"#document\";\n}\nfunction getWindow(node) {\n  var _node$ownerDocument;\n  return (node == null || (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;\n}\nfunction getDocumentElement(node) {\n  var _ref;\n  return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;\n}\nfunction isNode(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof Node || value instanceof getWindow(value).Node;\n}\nfunction isElement(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof Element || value instanceof getWindow(value).Element;\n}\nfunction isHTMLElement(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof HTMLElement || value instanceof getWindow(value).HTMLElement;\n}\nfunction isShadowRoot(value) {\n  if (!hasWindow() || typeof ShadowRoot === \"undefined\") {\n    return false;\n  }\n  return value instanceof ShadowRoot || value instanceof getWindow(value).ShadowRoot;\n}\nfunction isOverflowElement(element) {\n  const {\n    overflow,\n    overflowX,\n    overflowY,\n    display\n  } = getComputedStyle$1(element);\n  return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && ![\"inline\", \"contents\"].includes(display);\n}\nfunction isTableElement(element) {\n  return [\"table\", \"td\", \"th\"].includes(getNodeName(element));\n}\nfunction isTopLayer(element) {\n  return [\":popover-open\", \":modal\"].some((selector) => {\n    try {\n      return element.matches(selector);\n    } catch (e2) {\n      return false;\n    }\n  });\n}\nfunction isContainingBlock(elementOrCss) {\n  const webkit = isWebKit();\n  const css = isElement(elementOrCss) ? getComputedStyle$1(elementOrCss) : elementOrCss;\n  return [\"transform\", \"translate\", \"scale\", \"rotate\", \"perspective\"].some((value) => css[value] ? css[value] !== \"none\" : false) || (css.containerType ? css.containerType !== \"normal\" : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== \"none\" : false) || !webkit && (css.filter ? css.filter !== \"none\" : false) || [\"transform\", \"translate\", \"scale\", \"rotate\", \"perspective\", \"filter\"].some((value) => (css.willChange || \"\").includes(value)) || [\"paint\", \"layout\", \"strict\", \"content\"].some((value) => (css.contain || \"\").includes(value));\n}\nfunction getContainingBlock(element) {\n  let currentNode = getParentNode(element);\n  while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    if (isContainingBlock(currentNode)) {\n      return currentNode;\n    } else if (isTopLayer(currentNode)) {\n      return null;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  return null;\n}\nfunction isWebKit() {\n  if (typeof CSS === \"undefined\" || !CSS.supports) return false;\n  return CSS.supports(\"-webkit-backdrop-filter\", \"none\");\n}\nfunction isLastTraversableNode(node) {\n  return [\"html\", \"body\", \"#document\"].includes(getNodeName(node));\n}\nfunction getComputedStyle$1(element) {\n  return getWindow(element).getComputedStyle(element);\n}\nfunction getNodeScroll(element) {\n  if (isElement(element)) {\n    return {\n      scrollLeft: element.scrollLeft,\n      scrollTop: element.scrollTop\n    };\n  }\n  return {\n    scrollLeft: element.scrollX,\n    scrollTop: element.scrollY\n  };\n}\nfunction getParentNode(node) {\n  if (getNodeName(node) === \"html\") {\n    return node;\n  }\n  const result = (\n    // Step into the shadow DOM of the parent of a slotted node.\n    node.assignedSlot || // DOM Element detected.\n    node.parentNode || // ShadowRoot detected.\n    isShadowRoot(node) && node.host || // Fallback.\n    getDocumentElement(node)\n  );\n  return isShadowRoot(result) ? result.host : result;\n}\nfunction getNearestOverflowAncestor(node) {\n  const parentNode = getParentNode(node);\n  if (isLastTraversableNode(parentNode)) {\n    return node.ownerDocument ? node.ownerDocument.body : node.body;\n  }\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n    return parentNode;\n  }\n  return getNearestOverflowAncestor(parentNode);\n}\nfunction getOverflowAncestors(node, list, traverseIframes) {\n  var _node$ownerDocument2;\n  if (list === void 0) {\n    list = [];\n  }\n  if (traverseIframes === void 0) {\n    traverseIframes = true;\n  }\n  const scrollableAncestor = getNearestOverflowAncestor(node);\n  const isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);\n  const win = getWindow(scrollableAncestor);\n  if (isBody) {\n    const frameElement = getFrameElement(win);\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [], frameElement && traverseIframes ? getOverflowAncestors(frameElement) : []);\n  }\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, [], traverseIframes));\n}\nfunction getFrameElement(win) {\n  return win.parent && Object.getPrototypeOf(win.parent) ? win.frameElement : null;\n}\nfunction getUserAgent() {\n  const uaData = navigator.userAgentData;\n  if (uaData && Array.isArray(uaData.brands)) {\n    return uaData.brands.map((_ref) => {\n      let {\n        brand,\n        version\n      } = _ref;\n      return brand + \"/\" + version;\n    }).join(\" \");\n  }\n  return navigator.userAgent;\n}\nconst min = Math.min;\nconst max = Math.max;\nconst round = Math.round;\nconst floor = Math.floor;\nconst createCoords = (v2) => ({\n  x: v2,\n  y: v2\n});\nconst oppositeSideMap = {\n  left: \"right\",\n  right: \"left\",\n  bottom: \"top\",\n  top: \"bottom\"\n};\nconst oppositeAlignmentMap = {\n  start: \"end\",\n  end: \"start\"\n};\nfunction clamp(start, value, end) {\n  return max(start, min(value, end));\n}\nfunction evaluate(value, param) {\n  return typeof value === \"function\" ? value(param) : value;\n}\nfunction getSide(placement) {\n  return placement.split(\"-\")[0];\n}\nfunction getAlignment(placement) {\n  return placement.split(\"-\")[1];\n}\nfunction getOppositeAxis(axis) {\n  return axis === \"x\" ? \"y\" : \"x\";\n}\nfunction getAxisLength(axis) {\n  return axis === \"y\" ? \"height\" : \"width\";\n}\nfunction getSideAxis(placement) {\n  return [\"top\", \"bottom\"].includes(getSide(placement)) ? \"y\" : \"x\";\n}\nfunction getAlignmentAxis(placement) {\n  return getOppositeAxis(getSideAxis(placement));\n}\nfunction getAlignmentSides(placement, rects, rtl) {\n  if (rtl === void 0) {\n    rtl = false;\n  }\n  const alignment = getAlignment(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const length = getAxisLength(alignmentAxis);\n  let mainAlignmentSide = alignmentAxis === \"x\" ? alignment === (rtl ? \"end\" : \"start\") ? \"right\" : \"left\" : alignment === \"start\" ? \"bottom\" : \"top\";\n  if (rects.reference[length] > rects.floating[length]) {\n    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n  }\n  return [mainAlignmentSide, getOppositePlacement(mainAlignmentSide)];\n}\nfunction getExpandedPlacements(placement) {\n  const oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\n}\nfunction getOppositeAlignmentPlacement(placement) {\n  return placement.replace(/start|end/g, (alignment) => oppositeAlignmentMap[alignment]);\n}\nfunction getSideList(side, isStart, rtl) {\n  const lr = [\"left\", \"right\"];\n  const rl = [\"right\", \"left\"];\n  const tb = [\"top\", \"bottom\"];\n  const bt = [\"bottom\", \"top\"];\n  switch (side) {\n    case \"top\":\n    case \"bottom\":\n      if (rtl) return isStart ? rl : lr;\n      return isStart ? lr : rl;\n    case \"left\":\n    case \"right\":\n      return isStart ? tb : bt;\n    default:\n      return [];\n  }\n}\nfunction getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {\n  const alignment = getAlignment(placement);\n  let list = getSideList(getSide(placement), direction === \"start\", rtl);\n  if (alignment) {\n    list = list.map((side) => side + \"-\" + alignment);\n    if (flipAlignment) {\n      list = list.concat(list.map(getOppositeAlignmentPlacement));\n    }\n  }\n  return list;\n}\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, (side) => oppositeSideMap[side]);\n}\nfunction expandPaddingObject(padding) {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...padding\n  };\n}\nfunction getPaddingObject(padding) {\n  return typeof padding !== \"number\" ? expandPaddingObject(padding) : {\n    top: padding,\n    right: padding,\n    bottom: padding,\n    left: padding\n  };\n}\nfunction rectToClientRect(rect) {\n  const {\n    x: x2,\n    y: y2,\n    width,\n    height\n  } = rect;\n  return {\n    width,\n    height,\n    top: y2,\n    left: x2,\n    right: x2 + width,\n    bottom: y2 + height,\n    x: x2,\n    y: y2\n  };\n}\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n  let {\n    reference,\n    floating\n  } = _ref;\n  const sideAxis = getSideAxis(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const alignLength = getAxisLength(alignmentAxis);\n  const side = getSide(placement);\n  const isVertical = sideAxis === \"y\";\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\n  const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;\n  let coords;\n  switch (side) {\n    case \"top\":\n      coords = {\n        x: commonX,\n        y: reference.y - floating.height\n      };\n      break;\n    case \"bottom\":\n      coords = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n    case \"right\":\n      coords = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n    case \"left\":\n      coords = {\n        x: reference.x - floating.width,\n        y: commonY\n      };\n      break;\n    default:\n      coords = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n  switch (getAlignment(placement)) {\n    case \"start\":\n      coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n    case \"end\":\n      coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n  }\n  return coords;\n}\nconst computePosition$1 = async (reference, floating, config) => {\n  const {\n    placement = \"bottom\",\n    strategy = \"absolute\",\n    middleware = [],\n    platform: platform2\n  } = config;\n  const validMiddleware = middleware.filter(Boolean);\n  const rtl = await (platform2.isRTL == null ? void 0 : platform2.isRTL(floating));\n  let rects = await platform2.getElementRects({\n    reference,\n    floating,\n    strategy\n  });\n  let {\n    x: x2,\n    y: y2\n  } = computeCoordsFromPlacement(rects, placement, rtl);\n  let statefulPlacement = placement;\n  let middlewareData = {};\n  let resetCount = 0;\n  for (let i2 = 0; i2 < validMiddleware.length; i2++) {\n    const {\n      name,\n      fn: fn2\n    } = validMiddleware[i2];\n    const {\n      x: nextX,\n      y: nextY,\n      data,\n      reset\n    } = await fn2({\n      x: x2,\n      y: y2,\n      initialPlacement: placement,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n      rects,\n      platform: platform2,\n      elements: {\n        reference,\n        floating\n      }\n    });\n    x2 = nextX != null ? nextX : x2;\n    y2 = nextY != null ? nextY : y2;\n    middlewareData = {\n      ...middlewareData,\n      [name]: {\n        ...middlewareData[name],\n        ...data\n      }\n    };\n    if (reset && resetCount <= 50) {\n      resetCount++;\n      if (typeof reset === \"object\") {\n        if (reset.placement) {\n          statefulPlacement = reset.placement;\n        }\n        if (reset.rects) {\n          rects = reset.rects === true ? await platform2.getElementRects({\n            reference,\n            floating,\n            strategy\n          }) : reset.rects;\n        }\n        ({\n          x: x2,\n          y: y2\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n      }\n      i2 = -1;\n    }\n  }\n  return {\n    x: x2,\n    y: y2,\n    placement: statefulPlacement,\n    strategy,\n    middlewareData\n  };\n};\nasync function detectOverflow$1(state, options) {\n  var _await$platform$isEle;\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    x: x2,\n    y: y2,\n    platform: platform2,\n    rects,\n    elements,\n    strategy\n  } = state;\n  const {\n    boundary = \"clippingAncestors\",\n    rootBoundary = \"viewport\",\n    elementContext = \"floating\",\n    altBoundary = false,\n    padding = 0\n  } = evaluate(options, state);\n  const paddingObject = getPaddingObject(padding);\n  const altContext = elementContext === \"floating\" ? \"reference\" : \"floating\";\n  const element = elements[altBoundary ? altContext : elementContext];\n  const clippingClientRect = rectToClientRect(await platform2.getClippingRect({\n    element: ((_await$platform$isEle = await (platform2.isElement == null ? void 0 : platform2.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || await (platform2.getDocumentElement == null ? void 0 : platform2.getDocumentElement(elements.floating)),\n    boundary,\n    rootBoundary,\n    strategy\n  }));\n  const rect = elementContext === \"floating\" ? {\n    x: x2,\n    y: y2,\n    width: rects.floating.width,\n    height: rects.floating.height\n  } : rects.reference;\n  const offsetParent = await (platform2.getOffsetParent == null ? void 0 : platform2.getOffsetParent(elements.floating));\n  const offsetScale = await (platform2.isElement == null ? void 0 : platform2.isElement(offsetParent)) ? await (platform2.getScale == null ? void 0 : platform2.getScale(offsetParent)) || {\n    x: 1,\n    y: 1\n  } : {\n    x: 1,\n    y: 1\n  };\n  const elementClientRect = rectToClientRect(platform2.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform2.convertOffsetParentRelativeRectToViewportRelativeRect({\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  }) : rect);\n  return {\n    top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,\n    bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,\n    left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,\n    right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x\n  };\n}\nconst flip$2 = function(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: \"flip\",\n    options,\n    async fn(state) {\n      var _middlewareData$arrow, _middlewareData$flip;\n      const {\n        placement,\n        middlewareData,\n        rects,\n        initialPlacement,\n        platform: platform2,\n        elements\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true,\n        fallbackPlacements: specifiedFallbackPlacements,\n        fallbackStrategy = \"bestFit\",\n        fallbackAxisSideDirection = \"none\",\n        flipAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      if ((_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      const side = getSide(placement);\n      const initialSideAxis = getSideAxis(initialPlacement);\n      const isBasePlacement = getSide(initialPlacement) === initialPlacement;\n      const rtl = await (platform2.isRTL == null ? void 0 : platform2.isRTL(elements.floating));\n      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\n      const hasFallbackAxisSideDirection = fallbackAxisSideDirection !== \"none\";\n      if (!specifiedFallbackPlacements && hasFallbackAxisSideDirection) {\n        fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));\n      }\n      const placements = [initialPlacement, ...fallbackPlacements];\n      const overflow = await detectOverflow$1(state, detectOverflowOptions);\n      const overflows = [];\n      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n      if (checkMainAxis) {\n        overflows.push(overflow[side]);\n      }\n      if (checkCrossAxis) {\n        const sides = getAlignmentSides(placement, rects, rtl);\n        overflows.push(overflow[sides[0]], overflow[sides[1]]);\n      }\n      overflowsData = [...overflowsData, {\n        placement,\n        overflows\n      }];\n      if (!overflows.every((side2) => side2 <= 0)) {\n        var _middlewareData$flip2, _overflowsData$filter;\n        const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;\n        const nextPlacement = placements[nextIndex];\n        if (nextPlacement) {\n          var _overflowsData$;\n          const ignoreCrossAxisOverflow = checkCrossAxis === \"alignment\" ? initialSideAxis !== getSideAxis(nextPlacement) : false;\n          const hasInitialMainAxisOverflow = ((_overflowsData$ = overflowsData[0]) == null ? void 0 : _overflowsData$.overflows[0]) > 0;\n          if (!ignoreCrossAxisOverflow || hasInitialMainAxisOverflow) {\n            return {\n              data: {\n                index: nextIndex,\n                overflows: overflowsData\n              },\n              reset: {\n                placement: nextPlacement\n              }\n            };\n          }\n        }\n        let resetPlacement = (_overflowsData$filter = overflowsData.filter((d2) => d2.overflows[0] <= 0).sort((a3, b2) => a3.overflows[1] - b2.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;\n        if (!resetPlacement) {\n          switch (fallbackStrategy) {\n            case \"bestFit\": {\n              var _overflowsData$filter2;\n              const placement2 = (_overflowsData$filter2 = overflowsData.filter((d2) => {\n                if (hasFallbackAxisSideDirection) {\n                  const currentSideAxis = getSideAxis(d2.placement);\n                  return currentSideAxis === initialSideAxis || // Create a bias to the `y` side axis due to horizontal\n                  // reading directions favoring greater width.\n                  currentSideAxis === \"y\";\n                }\n                return true;\n              }).map((d2) => [d2.placement, d2.overflows.filter((overflow2) => overflow2 > 0).reduce((acc, overflow2) => acc + overflow2, 0)]).sort((a3, b2) => a3[1] - b2[1])[0]) == null ? void 0 : _overflowsData$filter2[0];\n              if (placement2) {\n                resetPlacement = placement2;\n              }\n              break;\n            }\n            case \"initialPlacement\":\n              resetPlacement = initialPlacement;\n              break;\n          }\n        }\n        if (placement !== resetPlacement) {\n          return {\n            reset: {\n              placement: resetPlacement\n            }\n          };\n        }\n      }\n      return {};\n    }\n  };\n};\nasync function convertValueToCoords(state, options) {\n  const {\n    placement,\n    platform: platform2,\n    elements\n  } = state;\n  const rtl = await (platform2.isRTL == null ? void 0 : platform2.isRTL(elements.floating));\n  const side = getSide(placement);\n  const alignment = getAlignment(placement);\n  const isVertical = getSideAxis(placement) === \"y\";\n  const mainAxisMulti = [\"left\", \"top\"].includes(side) ? -1 : 1;\n  const crossAxisMulti = rtl && isVertical ? -1 : 1;\n  const rawValue = evaluate(options, state);\n  let {\n    mainAxis,\n    crossAxis,\n    alignmentAxis\n  } = typeof rawValue === \"number\" ? {\n    mainAxis: rawValue,\n    crossAxis: 0,\n    alignmentAxis: null\n  } : {\n    mainAxis: rawValue.mainAxis || 0,\n    crossAxis: rawValue.crossAxis || 0,\n    alignmentAxis: rawValue.alignmentAxis\n  };\n  if (alignment && typeof alignmentAxis === \"number\") {\n    crossAxis = alignment === \"end\" ? alignmentAxis * -1 : alignmentAxis;\n  }\n  return isVertical ? {\n    x: crossAxis * crossAxisMulti,\n    y: mainAxis * mainAxisMulti\n  } : {\n    x: mainAxis * mainAxisMulti,\n    y: crossAxis * crossAxisMulti\n  };\n}\nconst offset$2 = function(options) {\n  if (options === void 0) {\n    options = 0;\n  }\n  return {\n    name: \"offset\",\n    options,\n    async fn(state) {\n      var _middlewareData$offse, _middlewareData$arrow;\n      const {\n        x: x2,\n        y: y2,\n        placement,\n        middlewareData\n      } = state;\n      const diffCoords = await convertValueToCoords(state, options);\n      if (placement === ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse.placement) && (_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      return {\n        x: x2 + diffCoords.x,\n        y: y2 + diffCoords.y,\n        data: {\n          ...diffCoords,\n          placement\n        }\n      };\n    }\n  };\n};\nconst shift$2 = function(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: \"shift\",\n    options,\n    async fn(state) {\n      const {\n        x: x2,\n        y: y2,\n        placement\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = false,\n        limiter = {\n          fn: (_ref) => {\n            let {\n              x: x3,\n              y: y3\n            } = _ref;\n            return {\n              x: x3,\n              y: y3\n            };\n          }\n        },\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const coords = {\n        x: x2,\n        y: y2\n      };\n      const overflow = await detectOverflow$1(state, detectOverflowOptions);\n      const crossAxis = getSideAxis(getSide(placement));\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      if (checkMainAxis) {\n        const minSide = mainAxis === \"y\" ? \"top\" : \"left\";\n        const maxSide = mainAxis === \"y\" ? \"bottom\" : \"right\";\n        const min2 = mainAxisCoord + overflow[minSide];\n        const max2 = mainAxisCoord - overflow[maxSide];\n        mainAxisCoord = clamp(min2, mainAxisCoord, max2);\n      }\n      if (checkCrossAxis) {\n        const minSide = crossAxis === \"y\" ? \"top\" : \"left\";\n        const maxSide = crossAxis === \"y\" ? \"bottom\" : \"right\";\n        const min2 = crossAxisCoord + overflow[minSide];\n        const max2 = crossAxisCoord - overflow[maxSide];\n        crossAxisCoord = clamp(min2, crossAxisCoord, max2);\n      }\n      const limitedCoords = limiter.fn({\n        ...state,\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      });\n      return {\n        ...limitedCoords,\n        data: {\n          x: limitedCoords.x - x2,\n          y: limitedCoords.y - y2,\n          enabled: {\n            [mainAxis]: checkMainAxis,\n            [crossAxis]: checkCrossAxis\n          }\n        }\n      };\n    }\n  };\n};\nconst size$2 = function(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: \"size\",\n    options,\n    async fn(state) {\n      var _state$middlewareData, _state$middlewareData2;\n      const {\n        placement,\n        rects,\n        platform: platform2,\n        elements\n      } = state;\n      const {\n        apply = () => {\n        },\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const overflow = await detectOverflow$1(state, detectOverflowOptions);\n      const side = getSide(placement);\n      const alignment = getAlignment(placement);\n      const isYAxis = getSideAxis(placement) === \"y\";\n      const {\n        width,\n        height\n      } = rects.floating;\n      let heightSide;\n      let widthSide;\n      if (side === \"top\" || side === \"bottom\") {\n        heightSide = side;\n        widthSide = alignment === (await (platform2.isRTL == null ? void 0 : platform2.isRTL(elements.floating)) ? \"start\" : \"end\") ? \"left\" : \"right\";\n      } else {\n        widthSide = side;\n        heightSide = alignment === \"end\" ? \"top\" : \"bottom\";\n      }\n      const maximumClippingHeight = height - overflow.top - overflow.bottom;\n      const maximumClippingWidth = width - overflow.left - overflow.right;\n      const overflowAvailableHeight = min(height - overflow[heightSide], maximumClippingHeight);\n      const overflowAvailableWidth = min(width - overflow[widthSide], maximumClippingWidth);\n      const noShift = !state.middlewareData.shift;\n      let availableHeight = overflowAvailableHeight;\n      let availableWidth = overflowAvailableWidth;\n      if ((_state$middlewareData = state.middlewareData.shift) != null && _state$middlewareData.enabled.x) {\n        availableWidth = maximumClippingWidth;\n      }\n      if ((_state$middlewareData2 = state.middlewareData.shift) != null && _state$middlewareData2.enabled.y) {\n        availableHeight = maximumClippingHeight;\n      }\n      if (noShift && !alignment) {\n        const xMin = max(overflow.left, 0);\n        const xMax = max(overflow.right, 0);\n        const yMin = max(overflow.top, 0);\n        const yMax = max(overflow.bottom, 0);\n        if (isYAxis) {\n          availableWidth = width - 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right));\n        } else {\n          availableHeight = height - 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom));\n        }\n      }\n      await apply({\n        ...state,\n        availableWidth,\n        availableHeight\n      });\n      const nextDimensions = await platform2.getDimensions(elements.floating);\n      if (width !== nextDimensions.width || height !== nextDimensions.height) {\n        return {\n          reset: {\n            rects: true\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\nfunction getCssDimensions(element) {\n  const css = getComputedStyle$1(element);\n  let width = parseFloat(css.width) || 0;\n  let height = parseFloat(css.height) || 0;\n  const hasOffset = isHTMLElement(element);\n  const offsetWidth = hasOffset ? element.offsetWidth : width;\n  const offsetHeight = hasOffset ? element.offsetHeight : height;\n  const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;\n  if (shouldFallback) {\n    width = offsetWidth;\n    height = offsetHeight;\n  }\n  return {\n    width,\n    height,\n    $: shouldFallback\n  };\n}\nfunction unwrapElement(element) {\n  return !isElement(element) ? element.contextElement : element;\n}\nfunction getScale(element) {\n  const domElement = unwrapElement(element);\n  if (!isHTMLElement(domElement)) {\n    return createCoords(1);\n  }\n  const rect = domElement.getBoundingClientRect();\n  const {\n    width,\n    height,\n    $: $2\n  } = getCssDimensions(domElement);\n  let x2 = ($2 ? round(rect.width) : rect.width) / width;\n  let y2 = ($2 ? round(rect.height) : rect.height) / height;\n  if (!x2 || !Number.isFinite(x2)) {\n    x2 = 1;\n  }\n  if (!y2 || !Number.isFinite(y2)) {\n    y2 = 1;\n  }\n  return {\n    x: x2,\n    y: y2\n  };\n}\nconst noOffsets = /* @__PURE__ */ createCoords(0);\nfunction getVisualOffsets(element) {\n  const win = getWindow(element);\n  if (!isWebKit() || !win.visualViewport) {\n    return noOffsets;\n  }\n  return {\n    x: win.visualViewport.offsetLeft,\n    y: win.visualViewport.offsetTop\n  };\n}\nfunction shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n  if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {\n    return false;\n  }\n  return isFixed;\n}\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n  const clientRect = element.getBoundingClientRect();\n  const domElement = unwrapElement(element);\n  let scale = createCoords(1);\n  if (includeScale) {\n    if (offsetParent) {\n      if (isElement(offsetParent)) {\n        scale = getScale(offsetParent);\n      }\n    } else {\n      scale = getScale(element);\n    }\n  }\n  const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);\n  let x2 = (clientRect.left + visualOffsets.x) / scale.x;\n  let y2 = (clientRect.top + visualOffsets.y) / scale.y;\n  let width = clientRect.width / scale.x;\n  let height = clientRect.height / scale.y;\n  if (domElement) {\n    const win = getWindow(domElement);\n    const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;\n    let currentWin = win;\n    let currentIFrame = getFrameElement(currentWin);\n    while (currentIFrame && offsetParent && offsetWin !== currentWin) {\n      const iframeScale = getScale(currentIFrame);\n      const iframeRect = currentIFrame.getBoundingClientRect();\n      const css = getComputedStyle$1(currentIFrame);\n      const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;\n      const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;\n      x2 *= iframeScale.x;\n      y2 *= iframeScale.y;\n      width *= iframeScale.x;\n      height *= iframeScale.y;\n      x2 += left;\n      y2 += top;\n      currentWin = getWindow(currentIFrame);\n      currentIFrame = getFrameElement(currentWin);\n    }\n  }\n  return rectToClientRect({\n    width,\n    height,\n    x: x2,\n    y: y2\n  });\n}\nfunction getWindowScrollBarX(element, rect) {\n  const leftScroll = getNodeScroll(element).scrollLeft;\n  if (!rect) {\n    return getBoundingClientRect(getDocumentElement(element)).left + leftScroll;\n  }\n  return rect.left + leftScroll;\n}\nfunction getHTMLOffset(documentElement, scroll, ignoreScrollbarX) {\n  if (ignoreScrollbarX === void 0) {\n    ignoreScrollbarX = false;\n  }\n  const htmlRect = documentElement.getBoundingClientRect();\n  const x2 = htmlRect.left + scroll.scrollLeft - (ignoreScrollbarX ? 0 : (\n    // RTL <body> scrollbar.\n    getWindowScrollBarX(documentElement, htmlRect)\n  ));\n  const y2 = htmlRect.top + scroll.scrollTop;\n  return {\n    x: x2,\n    y: y2\n  };\n}\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n  let {\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  } = _ref;\n  const isFixed = strategy === \"fixed\";\n  const documentElement = getDocumentElement(offsetParent);\n  const topLayer = elements ? isTopLayer(elements.floating) : false;\n  if (offsetParent === documentElement || topLayer && isFixed) {\n    return rect;\n  }\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  let scale = createCoords(1);\n  const offsets = createCoords(0);\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== \"body\" || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent);\n      scale = getScale(offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    }\n  }\n  const htmlOffset = documentElement && !isOffsetParentAnElement && !isFixed ? getHTMLOffset(documentElement, scroll, true) : createCoords(0);\n  return {\n    width: rect.width * scale.x,\n    height: rect.height * scale.y,\n    x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x + htmlOffset.x,\n    y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y + htmlOffset.y\n  };\n}\nfunction getClientRects(element) {\n  return Array.from(element.getClientRects());\n}\nfunction getDocumentRect(element) {\n  const html = getDocumentElement(element);\n  const scroll = getNodeScroll(element);\n  const body = element.ownerDocument.body;\n  const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);\n  const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);\n  let x2 = -scroll.scrollLeft + getWindowScrollBarX(element);\n  const y2 = -scroll.scrollTop;\n  if (getComputedStyle$1(body).direction === \"rtl\") {\n    x2 += max(html.clientWidth, body.clientWidth) - width;\n  }\n  return {\n    width,\n    height,\n    x: x2,\n    y: y2\n  };\n}\nfunction getViewportRect(element, strategy) {\n  const win = getWindow(element);\n  const html = getDocumentElement(element);\n  const visualViewport = win.visualViewport;\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x2 = 0;\n  let y2 = 0;\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    const visualViewportBased = isWebKit();\n    if (!visualViewportBased || visualViewportBased && strategy === \"fixed\") {\n      x2 = visualViewport.offsetLeft;\n      y2 = visualViewport.offsetTop;\n    }\n  }\n  return {\n    width,\n    height,\n    x: x2,\n    y: y2\n  };\n}\nfunction getInnerBoundingClientRect(element, strategy) {\n  const clientRect = getBoundingClientRect(element, true, strategy === \"fixed\");\n  const top = clientRect.top + element.clientTop;\n  const left = clientRect.left + element.clientLeft;\n  const scale = isHTMLElement(element) ? getScale(element) : createCoords(1);\n  const width = element.clientWidth * scale.x;\n  const height = element.clientHeight * scale.y;\n  const x2 = left * scale.x;\n  const y2 = top * scale.y;\n  return {\n    width,\n    height,\n    x: x2,\n    y: y2\n  };\n}\nfunction getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {\n  let rect;\n  if (clippingAncestor === \"viewport\") {\n    rect = getViewportRect(element, strategy);\n  } else if (clippingAncestor === \"document\") {\n    rect = getDocumentRect(getDocumentElement(element));\n  } else if (isElement(clippingAncestor)) {\n    rect = getInnerBoundingClientRect(clippingAncestor, strategy);\n  } else {\n    const visualOffsets = getVisualOffsets(element);\n    rect = {\n      x: clippingAncestor.x - visualOffsets.x,\n      y: clippingAncestor.y - visualOffsets.y,\n      width: clippingAncestor.width,\n      height: clippingAncestor.height\n    };\n  }\n  return rectToClientRect(rect);\n}\nfunction hasFixedPositionAncestor(element, stopNode) {\n  const parentNode = getParentNode(element);\n  if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {\n    return false;\n  }\n  return getComputedStyle$1(parentNode).position === \"fixed\" || hasFixedPositionAncestor(parentNode, stopNode);\n}\nfunction getClippingElementAncestors(element, cache) {\n  const cachedResult = cache.get(element);\n  if (cachedResult) {\n    return cachedResult;\n  }\n  let result = getOverflowAncestors(element, [], false).filter((el) => isElement(el) && getNodeName(el) !== \"body\");\n  let currentContainingBlockComputedStyle = null;\n  const elementIsFixed = getComputedStyle$1(element).position === \"fixed\";\n  let currentNode = elementIsFixed ? getParentNode(element) : element;\n  while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    const computedStyle = getComputedStyle$1(currentNode);\n    const currentNodeIsContaining = isContainingBlock(currentNode);\n    if (!currentNodeIsContaining && computedStyle.position === \"fixed\") {\n      currentContainingBlockComputedStyle = null;\n    }\n    const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === \"static\" && !!currentContainingBlockComputedStyle && [\"absolute\", \"fixed\"].includes(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);\n    if (shouldDropCurrentNode) {\n      result = result.filter((ancestor) => ancestor !== currentNode);\n    } else {\n      currentContainingBlockComputedStyle = computedStyle;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  cache.set(element, result);\n  return result;\n}\nfunction getClippingRect(_ref) {\n  let {\n    element,\n    boundary,\n    rootBoundary,\n    strategy\n  } = _ref;\n  const elementClippingAncestors = boundary === \"clippingAncestors\" ? isTopLayer(element) ? [] : getClippingElementAncestors(element, this._c) : [].concat(boundary);\n  const clippingAncestors = [...elementClippingAncestors, rootBoundary];\n  const firstClippingAncestor = clippingAncestors[0];\n  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\n    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n  return {\n    width: clippingRect.right - clippingRect.left,\n    height: clippingRect.bottom - clippingRect.top,\n    x: clippingRect.left,\n    y: clippingRect.top\n  };\n}\nfunction getDimensions(element) {\n  const {\n    width,\n    height\n  } = getCssDimensions(element);\n  return {\n    width,\n    height\n  };\n}\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy) {\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  const isFixed = strategy === \"fixed\";\n  const rect = getBoundingClientRect(element, true, isFixed, offsetParent);\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = createCoords(0);\n  function setLeftRTLScrollbarOffset() {\n    offsets.x = getWindowScrollBarX(documentElement);\n  }\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== \"body\" || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isOffsetParentAnElement) {\n      const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } else if (documentElement) {\n      setLeftRTLScrollbarOffset();\n    }\n  }\n  if (isFixed && !isOffsetParentAnElement && documentElement) {\n    setLeftRTLScrollbarOffset();\n  }\n  const htmlOffset = documentElement && !isOffsetParentAnElement && !isFixed ? getHTMLOffset(documentElement, scroll) : createCoords(0);\n  const x2 = rect.left + scroll.scrollLeft - offsets.x - htmlOffset.x;\n  const y2 = rect.top + scroll.scrollTop - offsets.y - htmlOffset.y;\n  return {\n    x: x2,\n    y: y2,\n    width: rect.width,\n    height: rect.height\n  };\n}\nfunction isStaticPositioned(element) {\n  return getComputedStyle$1(element).position === \"static\";\n}\nfunction getTrueOffsetParent(element, polyfill) {\n  if (!isHTMLElement(element) || getComputedStyle$1(element).position === \"fixed\") {\n    return null;\n  }\n  if (polyfill) {\n    return polyfill(element);\n  }\n  let rawOffsetParent = element.offsetParent;\n  if (getDocumentElement(element) === rawOffsetParent) {\n    rawOffsetParent = rawOffsetParent.ownerDocument.body;\n  }\n  return rawOffsetParent;\n}\nfunction getOffsetParent(element, polyfill) {\n  const win = getWindow(element);\n  if (isTopLayer(element)) {\n    return win;\n  }\n  if (!isHTMLElement(element)) {\n    let svgOffsetParent = getParentNode(element);\n    while (svgOffsetParent && !isLastTraversableNode(svgOffsetParent)) {\n      if (isElement(svgOffsetParent) && !isStaticPositioned(svgOffsetParent)) {\n        return svgOffsetParent;\n      }\n      svgOffsetParent = getParentNode(svgOffsetParent);\n    }\n    return win;\n  }\n  let offsetParent = getTrueOffsetParent(element, polyfill);\n  while (offsetParent && isTableElement(offsetParent) && isStaticPositioned(offsetParent)) {\n    offsetParent = getTrueOffsetParent(offsetParent, polyfill);\n  }\n  if (offsetParent && isLastTraversableNode(offsetParent) && isStaticPositioned(offsetParent) && !isContainingBlock(offsetParent)) {\n    return win;\n  }\n  return offsetParent || getContainingBlock(element) || win;\n}\nconst getElementRects = async function(data) {\n  const getOffsetParentFn = this.getOffsetParent || getOffsetParent;\n  const getDimensionsFn = this.getDimensions;\n  const floatingDimensions = await getDimensionsFn(data.floating);\n  return {\n    reference: getRectRelativeToOffsetParent(data.reference, await getOffsetParentFn(data.floating), data.strategy),\n    floating: {\n      x: 0,\n      y: 0,\n      width: floatingDimensions.width,\n      height: floatingDimensions.height\n    }\n  };\n};\nfunction isRTL(element) {\n  return getComputedStyle$1(element).direction === \"rtl\";\n}\nconst platform = {\n  convertOffsetParentRelativeRectToViewportRelativeRect,\n  getDocumentElement,\n  getClippingRect,\n  getOffsetParent,\n  getElementRects,\n  getClientRects,\n  getDimensions,\n  getScale,\n  isElement,\n  isRTL\n};\nfunction rectsAreEqual(a3, b2) {\n  return a3.x === b2.x && a3.y === b2.y && a3.width === b2.width && a3.height === b2.height;\n}\nfunction observeMove(element, onMove) {\n  let io = null;\n  let timeoutId;\n  const root = getDocumentElement(element);\n  function cleanup() {\n    var _io;\n    clearTimeout(timeoutId);\n    (_io = io) == null || _io.disconnect();\n    io = null;\n  }\n  function refresh(skip, threshold) {\n    if (skip === void 0) {\n      skip = false;\n    }\n    if (threshold === void 0) {\n      threshold = 1;\n    }\n    cleanup();\n    const elementRectForRootMargin = element.getBoundingClientRect();\n    const {\n      left,\n      top,\n      width,\n      height\n    } = elementRectForRootMargin;\n    if (!skip) {\n      onMove();\n    }\n    if (!width || !height) {\n      return;\n    }\n    const insetTop = floor(top);\n    const insetRight = floor(root.clientWidth - (left + width));\n    const insetBottom = floor(root.clientHeight - (top + height));\n    const insetLeft = floor(left);\n    const rootMargin = -insetTop + \"px \" + -insetRight + \"px \" + -insetBottom + \"px \" + -insetLeft + \"px\";\n    const options = {\n      rootMargin,\n      threshold: max(0, min(1, threshold)) || 1\n    };\n    let isFirstUpdate = true;\n    function handleObserve(entries) {\n      const ratio = entries[0].intersectionRatio;\n      if (ratio !== threshold) {\n        if (!isFirstUpdate) {\n          return refresh();\n        }\n        if (!ratio) {\n          timeoutId = setTimeout(() => {\n            refresh(false, 1e-7);\n          }, 1e3);\n        } else {\n          refresh(false, ratio);\n        }\n      }\n      if (ratio === 1 && !rectsAreEqual(elementRectForRootMargin, element.getBoundingClientRect())) {\n        refresh();\n      }\n      isFirstUpdate = false;\n    }\n    try {\n      io = new IntersectionObserver(handleObserve, {\n        ...options,\n        // Handle <iframe>s\n        root: root.ownerDocument\n      });\n    } catch (_e) {\n      io = new IntersectionObserver(handleObserve, options);\n    }\n    io.observe(element);\n  }\n  refresh(true);\n  return cleanup;\n}\nfunction autoUpdate(reference, floating, update, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    ancestorScroll = true,\n    ancestorResize = true,\n    elementResize = typeof ResizeObserver === \"function\",\n    layoutShift = typeof IntersectionObserver === \"function\",\n    animationFrame = false\n  } = options;\n  const referenceEl = unwrapElement(reference);\n  const ancestors = ancestorScroll || ancestorResize ? [...referenceEl ? getOverflowAncestors(referenceEl) : [], ...getOverflowAncestors(floating)] : [];\n  ancestors.forEach((ancestor) => {\n    ancestorScroll && ancestor.addEventListener(\"scroll\", update, {\n      passive: true\n    });\n    ancestorResize && ancestor.addEventListener(\"resize\", update);\n  });\n  const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update) : null;\n  let reobserveFrame = -1;\n  let resizeObserver = null;\n  if (elementResize) {\n    resizeObserver = new ResizeObserver((_ref) => {\n      let [firstEntry] = _ref;\n      if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {\n        resizeObserver.unobserve(floating);\n        cancelAnimationFrame(reobserveFrame);\n        reobserveFrame = requestAnimationFrame(() => {\n          var _resizeObserver;\n          (_resizeObserver = resizeObserver) == null || _resizeObserver.observe(floating);\n        });\n      }\n      update();\n    });\n    if (referenceEl && !animationFrame) {\n      resizeObserver.observe(referenceEl);\n    }\n    resizeObserver.observe(floating);\n  }\n  let frameId;\n  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n  if (animationFrame) {\n    frameLoop();\n  }\n  function frameLoop() {\n    const nextRefRect = getBoundingClientRect(reference);\n    if (prevRefRect && !rectsAreEqual(prevRefRect, nextRefRect)) {\n      update();\n    }\n    prevRefRect = nextRefRect;\n    frameId = requestAnimationFrame(frameLoop);\n  }\n  update();\n  return () => {\n    var _resizeObserver2;\n    ancestors.forEach((ancestor) => {\n      ancestorScroll && ancestor.removeEventListener(\"scroll\", update);\n      ancestorResize && ancestor.removeEventListener(\"resize\", update);\n    });\n    cleanupIo == null || cleanupIo();\n    (_resizeObserver2 = resizeObserver) == null || _resizeObserver2.disconnect();\n    resizeObserver = null;\n    if (animationFrame) {\n      cancelAnimationFrame(frameId);\n    }\n  };\n}\nconst detectOverflow = detectOverflow$1;\nconst offset$1 = offset$2;\nconst shift$1 = shift$2;\nconst flip$1 = flip$2;\nconst size$1 = size$2;\nconst computePosition = (reference, floating, options) => {\n  const cache = /* @__PURE__ */ new Map();\n  const mergedOptions = {\n    platform,\n    ...options\n  };\n  const platformWithCache = {\n    ...mergedOptions.platform,\n    _c: cache\n  };\n  return computePosition$1(reference, floating, {\n    ...mergedOptions,\n    platform: platformWithCache\n  });\n};\nvar index$1 = typeof document !== \"undefined\" ? _$3 : y$6;\nfunction deepEqual(a3, b2) {\n  if (a3 === b2) {\n    return true;\n  }\n  if (typeof a3 !== typeof b2) {\n    return false;\n  }\n  if (typeof a3 === \"function\" && a3.toString() === b2.toString()) {\n    return true;\n  }\n  let length;\n  let i2;\n  let keys;\n  if (a3 && b2 && typeof a3 === \"object\") {\n    if (Array.isArray(a3)) {\n      length = a3.length;\n      if (length !== b2.length) return false;\n      for (i2 = length; i2-- !== 0; ) {\n        if (!deepEqual(a3[i2], b2[i2])) {\n          return false;\n        }\n      }\n      return true;\n    }\n    keys = Object.keys(a3);\n    length = keys.length;\n    if (length !== Object.keys(b2).length) {\n      return false;\n    }\n    for (i2 = length; i2-- !== 0; ) {\n      if (!{}.hasOwnProperty.call(b2, keys[i2])) {\n        return false;\n      }\n    }\n    for (i2 = length; i2-- !== 0; ) {\n      const key = keys[i2];\n      if (key === \"_owner\" && a3.$$typeof) {\n        continue;\n      }\n      if (!deepEqual(a3[key], b2[key])) {\n        return false;\n      }\n    }\n    return true;\n  }\n  return a3 !== a3 && b2 !== b2;\n}\nfunction getDPR(element) {\n  if (typeof window === \"undefined\") {\n    return 1;\n  }\n  const win = element.ownerDocument.defaultView || window;\n  return win.devicePixelRatio || 1;\n}\nfunction roundByDPR(element, value) {\n  const dpr = getDPR(element);\n  return Math.round(value * dpr) / dpr;\n}\nfunction useLatestRef(value) {\n  const ref = A$3(value);\n  index$1(() => {\n    ref.current = value;\n  });\n  return ref;\n}\nfunction useFloating$1(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    placement = \"bottom\",\n    strategy = \"absolute\",\n    middleware = [],\n    platform: platform2,\n    elements: {\n      reference: externalReference,\n      floating: externalFloating\n    } = {},\n    transform = true,\n    whileElementsMounted,\n    open\n  } = options;\n  const [data, setData] = d$4({\n    x: 0,\n    y: 0,\n    strategy,\n    placement,\n    middlewareData: {},\n    isPositioned: false\n  });\n  const [latestMiddleware, setLatestMiddleware] = d$4(middleware);\n  if (!deepEqual(latestMiddleware, middleware)) {\n    setLatestMiddleware(middleware);\n  }\n  const [_reference, _setReference] = d$4(null);\n  const [_floating, _setFloating] = d$4(null);\n  const setReference = q$3((node) => {\n    if (node !== referenceRef.current) {\n      referenceRef.current = node;\n      _setReference(node);\n    }\n  }, []);\n  const setFloating = q$3((node) => {\n    if (node !== floatingRef.current) {\n      floatingRef.current = node;\n      _setFloating(node);\n    }\n  }, []);\n  const referenceEl = externalReference || _reference;\n  const floatingEl = externalFloating || _floating;\n  const referenceRef = A$3(null);\n  const floatingRef = A$3(null);\n  const dataRef = A$3(data);\n  const hasWhileElementsMounted = whileElementsMounted != null;\n  const whileElementsMountedRef = useLatestRef(whileElementsMounted);\n  const platformRef = useLatestRef(platform2);\n  const openRef = useLatestRef(open);\n  const update = q$3(() => {\n    if (!referenceRef.current || !floatingRef.current) {\n      return;\n    }\n    const config = {\n      placement,\n      strategy,\n      middleware: latestMiddleware\n    };\n    if (platformRef.current) {\n      config.platform = platformRef.current;\n    }\n    computePosition(referenceRef.current, floatingRef.current, config).then((data2) => {\n      const fullData = {\n        ...data2,\n        // The floating element's position may be recomputed while it's closed\n        // but still mounted (such as when transitioning out). To ensure\n        // `isPositioned` will be `false` initially on the next open, avoid\n        // setting it to `true` when `open === false` (must be specified).\n        isPositioned: openRef.current !== false\n      };\n      if (isMountedRef.current && !deepEqual(dataRef.current, fullData)) {\n        dataRef.current = fullData;\n        En(() => {\n          setData(fullData);\n        });\n      }\n    });\n  }, [latestMiddleware, placement, strategy, platformRef, openRef]);\n  index$1(() => {\n    if (open === false && dataRef.current.isPositioned) {\n      dataRef.current.isPositioned = false;\n      setData((data2) => ({\n        ...data2,\n        isPositioned: false\n      }));\n    }\n  }, [open]);\n  const isMountedRef = A$3(false);\n  index$1(() => {\n    isMountedRef.current = true;\n    return () => {\n      isMountedRef.current = false;\n    };\n  }, []);\n  index$1(() => {\n    if (referenceEl) referenceRef.current = referenceEl;\n    if (floatingEl) floatingRef.current = floatingEl;\n    if (referenceEl && floatingEl) {\n      if (whileElementsMountedRef.current) {\n        return whileElementsMountedRef.current(referenceEl, floatingEl, update);\n      }\n      update();\n    }\n  }, [referenceEl, floatingEl, update, whileElementsMountedRef, hasWhileElementsMounted]);\n  const refs = T$5(() => ({\n    reference: referenceRef,\n    floating: floatingRef,\n    setReference,\n    setFloating\n  }), [setReference, setFloating]);\n  const elements = T$5(() => ({\n    reference: referenceEl,\n    floating: floatingEl\n  }), [referenceEl, floatingEl]);\n  const floatingStyles = T$5(() => {\n    const initialStyles = {\n      position: strategy,\n      left: 0,\n      top: 0\n    };\n    if (!elements.floating) {\n      return initialStyles;\n    }\n    const x2 = roundByDPR(elements.floating, data.x);\n    const y2 = roundByDPR(elements.floating, data.y);\n    if (transform) {\n      return {\n        ...initialStyles,\n        transform: \"translate(\" + x2 + \"px, \" + y2 + \"px)\",\n        ...getDPR(elements.floating) >= 1.5 && {\n          willChange: \"transform\"\n        }\n      };\n    }\n    return {\n      position: strategy,\n      left: x2,\n      top: y2\n    };\n  }, [strategy, transform, elements.floating, data.x, data.y]);\n  return T$5(() => ({\n    ...data,\n    update,\n    refs,\n    elements,\n    floatingStyles\n  }), [data, update, refs, elements, floatingStyles]);\n}\nconst offset = (options, deps) => ({\n  ...offset$1(options),\n  options: [options, deps]\n});\nconst shift = (options, deps) => ({\n  ...shift$1(options),\n  options: [options, deps]\n});\nconst flip = (options, deps) => ({\n  ...flip$1(options),\n  options: [options, deps]\n});\nconst size = (options, deps) => ({\n  ...size$1(options),\n  options: [options, deps]\n});\nconst SafeReact = {\n  ...t$4\n};\nconst useInsertionEffect = SafeReact.useInsertionEffect;\nconst useSafeInsertionEffect = useInsertionEffect || ((fn2) => fn2());\nfunction useEffectEvent(callback) {\n  const ref = A$3(() => {\n    if (true) {\n      throw new Error(\"Cannot call an event handler while rendering.\");\n    }\n  });\n  useSafeInsertionEffect(() => {\n    ref.current = callback;\n  });\n  return q$3(function() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return ref.current == null ? void 0 : ref.current(...args);\n  }, []);\n}\nvar index = typeof document !== \"undefined\" ? _$3 : y$6;\nlet serverHandoffComplete = false;\nlet count = 0;\nconst genId = () => (\n  // Ensure the id is unique with multiple independent versions of Floating UI\n  // on <React 18\n  \"floating-ui-\" + Math.random().toString(36).slice(2, 6) + count++\n);\nfunction useFloatingId() {\n  const [id, setId] = d$4(() => serverHandoffComplete ? genId() : void 0);\n  index(() => {\n    if (id == null) {\n      setId(genId());\n    }\n  }, []);\n  y$6(() => {\n    serverHandoffComplete = true;\n  }, []);\n  return id;\n}\nconst useReactId = SafeReact.useId;\nconst useId = useReactId || useFloatingId;\nlet devMessageSet;\nif (true) {\n  devMessageSet = /* @__PURE__ */ new Set();\n}\nfunction warn() {\n  var _devMessageSet;\n  for (var _len = arguments.length, messages = new Array(_len), _key = 0; _key < _len; _key++) {\n    messages[_key] = arguments[_key];\n  }\n  const message = \"Floating UI: \" + messages.join(\" \");\n  if (!((_devMessageSet = devMessageSet) != null && _devMessageSet.has(message))) {\n    var _devMessageSet2;\n    (_devMessageSet2 = devMessageSet) == null || _devMessageSet2.add(message);\n    console.warn(message);\n  }\n}\nfunction error() {\n  var _devMessageSet3;\n  for (var _len2 = arguments.length, messages = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    messages[_key2] = arguments[_key2];\n  }\n  const message = \"Floating UI: \" + messages.join(\" \");\n  if (!((_devMessageSet3 = devMessageSet) != null && _devMessageSet3.has(message))) {\n    var _devMessageSet4;\n    (_devMessageSet4 = devMessageSet) == null || _devMessageSet4.add(message);\n    console.error(message);\n  }\n}\nfunction createPubSub() {\n  const map = /* @__PURE__ */ new Map();\n  return {\n    emit(event, data) {\n      var _map$get;\n      (_map$get = map.get(event)) == null || _map$get.forEach((handler) => handler(data));\n    },\n    on(event, listener) {\n      map.set(event, [...map.get(event) || [], listener]);\n    },\n    off(event, listener) {\n      var _map$get2;\n      map.set(event, ((_map$get2 = map.get(event)) == null ? void 0 : _map$get2.filter((l2) => l2 !== listener)) || []);\n    }\n  };\n}\nconst FloatingNodeContext = /* @__PURE__ */ K$3(null);\nconst FloatingTreeContext = /* @__PURE__ */ K$3(null);\nconst useFloatingParentNodeId = () => {\n  var _React$useContext;\n  return ((_React$useContext = x$4(FloatingNodeContext)) == null ? void 0 : _React$useContext.id) || null;\n};\nconst useFloatingTree = () => x$4(FloatingTreeContext);\nconst FOCUSABLE_ATTRIBUTE = \"data-floating-ui-focusable\";\nfunction useFloatingRootContext(options) {\n  const {\n    open = false,\n    onOpenChange: onOpenChangeProp,\n    elements: elementsProp\n  } = options;\n  const floatingId = useId();\n  const dataRef = A$3({});\n  const [events] = d$4(() => createPubSub());\n  const nested = useFloatingParentNodeId() != null;\n  if (true) {\n    const optionDomReference = elementsProp.reference;\n    if (optionDomReference && !isElement(optionDomReference)) {\n      error(\"Cannot pass a virtual element to the `elements.reference` option,\", \"as it must be a real DOM element. Use `refs.setPositionReference()`\", \"instead.\");\n    }\n  }\n  const [positionReference, setPositionReference] = d$4(elementsProp.reference);\n  const onOpenChange = useEffectEvent((open2, event, reason) => {\n    dataRef.current.openEvent = open2 ? event : void 0;\n    events.emit(\"openchange\", {\n      open: open2,\n      event,\n      reason,\n      nested\n    });\n    onOpenChangeProp == null || onOpenChangeProp(open2, event, reason);\n  });\n  const refs = T$5(() => ({\n    setPositionReference\n  }), []);\n  const elements = T$5(() => ({\n    reference: positionReference || elementsProp.reference || null,\n    floating: elementsProp.floating || null,\n    domReference: elementsProp.reference\n  }), [positionReference, elementsProp.reference, elementsProp.floating]);\n  return T$5(() => ({\n    dataRef,\n    open,\n    onOpenChange,\n    elements,\n    events,\n    floatingId,\n    refs\n  }), [open, onOpenChange, elements, events, floatingId, refs]);\n}\nfunction useFloating(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    nodeId\n  } = options;\n  const internalRootContext = useFloatingRootContext({\n    ...options,\n    elements: {\n      reference: null,\n      floating: null,\n      ...options.elements\n    }\n  });\n  const rootContext = options.rootContext || internalRootContext;\n  const computedElements = rootContext.elements;\n  const [_domReference, setDomReference] = d$4(null);\n  const [positionReference, _setPositionReference] = d$4(null);\n  const optionDomReference = computedElements == null ? void 0 : computedElements.domReference;\n  const domReference = optionDomReference || _domReference;\n  const domReferenceRef = A$3(null);\n  const tree = useFloatingTree();\n  index(() => {\n    if (domReference) {\n      domReferenceRef.current = domReference;\n    }\n  }, [domReference]);\n  const position = useFloating$1({\n    ...options,\n    elements: {\n      ...computedElements,\n      ...positionReference && {\n        reference: positionReference\n      }\n    }\n  });\n  const setPositionReference = q$3((node) => {\n    const computedPositionReference = isElement(node) ? {\n      getBoundingClientRect: () => node.getBoundingClientRect(),\n      contextElement: node\n    } : node;\n    _setPositionReference(computedPositionReference);\n    position.refs.setReference(computedPositionReference);\n  }, [position.refs]);\n  const setReference = q$3((node) => {\n    if (isElement(node) || node === null) {\n      domReferenceRef.current = node;\n      setDomReference(node);\n    }\n    if (isElement(position.refs.reference.current) || position.refs.reference.current === null || // Don't allow setting virtual elements using the old technique back to\n    // `null` to support `positionReference` + an unstable `reference`\n    // callback ref.\n    node !== null && !isElement(node)) {\n      position.refs.setReference(node);\n    }\n  }, [position.refs]);\n  const refs = T$5(() => ({\n    ...position.refs,\n    setReference,\n    setPositionReference,\n    domReference: domReferenceRef\n  }), [position.refs, setReference, setPositionReference]);\n  const elements = T$5(() => ({\n    ...position.elements,\n    domReference\n  }), [position.elements, domReference]);\n  const context = T$5(() => ({\n    ...position,\n    ...rootContext,\n    refs,\n    elements,\n    nodeId\n  }), [position, refs, elements, nodeId, rootContext]);\n  index(() => {\n    rootContext.dataRef.current.floatingContext = context;\n    const node = tree == null ? void 0 : tree.nodesRef.current.find((node2) => node2.id === nodeId);\n    if (node) {\n      node.context = context;\n    }\n  });\n  return T$5(() => ({\n    ...position,\n    context,\n    refs,\n    elements\n  }), [position, refs, elements, context]);\n}\nconst ACTIVE_KEY = \"active\";\nconst SELECTED_KEY = \"selected\";\nfunction mergeProps(userProps, propsList, elementKey) {\n  const map = /* @__PURE__ */ new Map();\n  const isItem = elementKey === \"item\";\n  let domUserProps = userProps;\n  if (isItem && userProps) {\n    const {\n      [ACTIVE_KEY]: _2,\n      [SELECTED_KEY]: __,\n      ...validProps\n    } = userProps;\n    domUserProps = validProps;\n  }\n  return {\n    ...elementKey === \"floating\" && {\n      tabIndex: -1,\n      [FOCUSABLE_ATTRIBUTE]: \"\"\n    },\n    ...domUserProps,\n    ...propsList.map((value) => {\n      const propsOrGetProps = value ? value[elementKey] : null;\n      if (typeof propsOrGetProps === \"function\") {\n        return userProps ? propsOrGetProps(userProps) : null;\n      }\n      return propsOrGetProps;\n    }).concat(userProps).reduce((acc, props) => {\n      if (!props) {\n        return acc;\n      }\n      Object.entries(props).forEach((_ref) => {\n        let [key, value] = _ref;\n        if (isItem && [ACTIVE_KEY, SELECTED_KEY].includes(key)) {\n          return;\n        }\n        if (key.indexOf(\"on\") === 0) {\n          if (!map.has(key)) {\n            map.set(key, []);\n          }\n          if (typeof value === \"function\") {\n            var _map$get;\n            (_map$get = map.get(key)) == null || _map$get.push(value);\n            acc[key] = function() {\n              var _map$get2;\n              for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n                args[_key] = arguments[_key];\n              }\n              return (_map$get2 = map.get(key)) == null ? void 0 : _map$get2.map((fn2) => fn2(...args)).find((val) => val !== void 0);\n            };\n          }\n        } else {\n          acc[key] = value;\n        }\n      });\n      return acc;\n    }, {})\n  };\n}\nfunction useInteractions(propsList) {\n  if (propsList === void 0) {\n    propsList = [];\n  }\n  const referenceDeps = propsList.map((key) => key == null ? void 0 : key.reference);\n  const floatingDeps = propsList.map((key) => key == null ? void 0 : key.floating);\n  const itemDeps = propsList.map((key) => key == null ? void 0 : key.item);\n  const getReferenceProps = q$3(\n    (userProps) => mergeProps(userProps, propsList, \"reference\"),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    referenceDeps\n  );\n  const getFloatingProps = q$3(\n    (userProps) => mergeProps(userProps, propsList, \"floating\"),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    floatingDeps\n  );\n  const getItemProps = q$3(\n    (userProps) => mergeProps(userProps, propsList, \"item\"),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    itemDeps\n  );\n  return T$5(() => ({\n    getReferenceProps,\n    getFloatingProps,\n    getItemProps\n  }), [getReferenceProps, getFloatingProps, getItemProps]);\n}\nfunction getArgsWithCustomFloatingHeight(state, height) {\n  return {\n    ...state,\n    rects: {\n      ...state.rects,\n      floating: {\n        ...state.rects.floating,\n        height\n      }\n    }\n  };\n}\nconst inner = (props) => ({\n  name: \"inner\",\n  options: props,\n  async fn(state) {\n    const {\n      listRef,\n      overflowRef,\n      onFallbackChange,\n      offset: innerOffset = 0,\n      index: index2 = 0,\n      minItemsVisible = 4,\n      referenceOverflowThreshold = 0,\n      scrollRef,\n      ...detectOverflowOptions\n    } = evaluate(props, state);\n    const {\n      rects,\n      elements: {\n        floating\n      }\n    } = state;\n    const item = listRef.current[index2];\n    const scrollEl = (scrollRef == null ? void 0 : scrollRef.current) || floating;\n    const clientTop = floating.clientTop || scrollEl.clientTop;\n    const floatingIsBordered = floating.clientTop !== 0;\n    const scrollElIsBordered = scrollEl.clientTop !== 0;\n    const floatingIsScrollEl = floating === scrollEl;\n    if (true) {\n      if (!state.placement.startsWith(\"bottom\")) {\n        warn('`placement` side must be \"bottom\" when using the `inner`', \"middleware.\");\n      }\n    }\n    if (!item) {\n      return {};\n    }\n    const nextArgs = {\n      ...state,\n      ...await offset(-item.offsetTop - floating.clientTop - rects.reference.height / 2 - item.offsetHeight / 2 - innerOffset).fn(state)\n    };\n    const overflow = await detectOverflow(getArgsWithCustomFloatingHeight(nextArgs, scrollEl.scrollHeight + clientTop + floating.clientTop), detectOverflowOptions);\n    const refOverflow = await detectOverflow(nextArgs, {\n      ...detectOverflowOptions,\n      elementContext: \"reference\"\n    });\n    const diffY = max(0, overflow.top);\n    const nextY = nextArgs.y + diffY;\n    const isScrollable = scrollEl.scrollHeight > scrollEl.clientHeight;\n    const rounder = isScrollable ? (v2) => v2 : round;\n    const maxHeight = rounder(max(0, scrollEl.scrollHeight + (floatingIsBordered && floatingIsScrollEl || scrollElIsBordered ? clientTop * 2 : 0) - diffY - max(0, overflow.bottom)));\n    scrollEl.style.maxHeight = maxHeight + \"px\";\n    scrollEl.scrollTop = diffY;\n    if (onFallbackChange) {\n      const shouldFallback = scrollEl.offsetHeight < item.offsetHeight * min(minItemsVisible, listRef.current.length) - 1 || refOverflow.top >= -referenceOverflowThreshold || refOverflow.bottom >= -referenceOverflowThreshold;\n      En(() => onFallbackChange(shouldFallback));\n    }\n    if (overflowRef) {\n      overflowRef.current = await detectOverflow(getArgsWithCustomFloatingHeight({\n        ...nextArgs,\n        y: nextY\n      }, scrollEl.offsetHeight + clientTop + floating.clientTop), detectOverflowOptions);\n    }\n    return {\n      y: nextY\n    };\n  }\n});\nfunction useInnerOffset(context, props) {\n  const {\n    open,\n    elements\n  } = context;\n  const {\n    enabled = true,\n    overflowRef,\n    scrollRef,\n    onChange: unstable_onChange\n  } = props;\n  const onChange = useEffectEvent(unstable_onChange);\n  const controlledScrollingRef = A$3(false);\n  const prevScrollTopRef = A$3(null);\n  const initialOverflowRef = A$3(null);\n  y$6(() => {\n    if (!enabled) return;\n    function onWheel(e2) {\n      if (e2.ctrlKey || !el || overflowRef.current == null) {\n        return;\n      }\n      const dY = e2.deltaY;\n      const isAtTop = overflowRef.current.top >= -0.5;\n      const isAtBottom = overflowRef.current.bottom >= -0.5;\n      const remainingScroll = el.scrollHeight - el.clientHeight;\n      const sign = dY < 0 ? -1 : 1;\n      const method = dY < 0 ? \"max\" : \"min\";\n      if (el.scrollHeight <= el.clientHeight) {\n        return;\n      }\n      if (!isAtTop && dY > 0 || !isAtBottom && dY < 0) {\n        e2.preventDefault();\n        En(() => {\n          onChange((d2) => d2 + Math[method](dY, remainingScroll * sign));\n        });\n      } else if (/firefox/i.test(getUserAgent())) {\n        el.scrollTop += dY;\n      }\n    }\n    const el = (scrollRef == null ? void 0 : scrollRef.current) || elements.floating;\n    if (open && el) {\n      el.addEventListener(\"wheel\", onWheel);\n      requestAnimationFrame(() => {\n        prevScrollTopRef.current = el.scrollTop;\n        if (overflowRef.current != null) {\n          initialOverflowRef.current = {\n            ...overflowRef.current\n          };\n        }\n      });\n      return () => {\n        prevScrollTopRef.current = null;\n        initialOverflowRef.current = null;\n        el.removeEventListener(\"wheel\", onWheel);\n      };\n    }\n  }, [enabled, open, elements.floating, overflowRef, scrollRef, onChange]);\n  const floating = T$5(() => ({\n    onKeyDown() {\n      controlledScrollingRef.current = true;\n    },\n    onWheel() {\n      controlledScrollingRef.current = false;\n    },\n    onPointerMove() {\n      controlledScrollingRef.current = false;\n    },\n    onScroll() {\n      const el = (scrollRef == null ? void 0 : scrollRef.current) || elements.floating;\n      if (!overflowRef.current || !el || !controlledScrollingRef.current) {\n        return;\n      }\n      if (prevScrollTopRef.current !== null) {\n        const scrollDiff = el.scrollTop - prevScrollTopRef.current;\n        if (overflowRef.current.bottom < -0.5 && scrollDiff < -1 || overflowRef.current.top < -0.5 && scrollDiff > 1) {\n          En(() => onChange((d2) => d2 + scrollDiff));\n        }\n      }\n      requestAnimationFrame(() => {\n        prevScrollTopRef.current = el.scrollTop;\n      });\n    }\n  }), [elements.floating, onChange, overflowRef, scrollRef]);\n  return T$5(() => enabled ? {\n    floating\n  } : {}, [enabled, floating]);\n}\nlet y$2 = K$3({ styles: void 0, setReference: () => {\n}, setFloating: () => {\n}, getReferenceProps: () => ({}), getFloatingProps: () => ({}), slot: {} });\ny$2.displayName = \"FloatingContext\";\nlet H$1 = K$3(null);\nH$1.displayName = \"PlacementContext\";\nfunction xe(e2) {\n  return T$5(() => e2 ? typeof e2 == \"string\" ? { to: e2 } : e2 : null, [e2]);\n}\nfunction ye() {\n  return x$4(y$2).setReference;\n}\nfunction Fe() {\n  return x$4(y$2).getReferenceProps;\n}\nfunction be() {\n  let { getFloatingProps: e2, slot: t2 } = x$4(y$2);\n  return q$3((...n2) => Object.assign({}, e2(...n2), { \"data-anchor\": t2.anchor }), [e2, t2]);\n}\nfunction Re(e2 = null) {\n  e2 === false && (e2 = null), typeof e2 == \"string\" && (e2 = { to: e2 });\n  let t2 = x$4(H$1), n2 = T$5(() => e2, [JSON.stringify(e2, (r2, o3) => {\n    var u2;\n    return (u2 = o3 == null ? void 0 : o3.outerHTML) != null ? u2 : o3;\n  })]);\n  n$3(() => {\n    t2 == null || t2(n2 != null ? n2 : null);\n  }, [t2, n2]);\n  let l2 = x$4(y$2);\n  return T$5(() => [l2.setFloating, e2 ? l2.styles : {}], [l2.setFloating, e2, l2.styles]);\n}\nlet q$1 = 4;\nfunction Me({ children: e2, enabled: t2 = true }) {\n  let [n2, l2] = d$4(null), [r2, o3] = d$4(0), u2 = A$3(null), [f2, s2] = d$4(null);\n  pe(f2);\n  let i2 = t2 && n2 !== null && f2 !== null, { to: F2 = \"bottom\", gap: E2 = 0, offset: v2 = 0, padding: c2 = 0, inner: P2 } = ce(n2, f2), [a3, p2 = \"center\"] = F2.split(\" \");\n  n$3(() => {\n    i2 && o3(0);\n  }, [i2]);\n  let { refs: b2, floatingStyles: w2, context: g2 } = useFloating({ open: i2, placement: a3 === \"selection\" ? p2 === \"center\" ? \"bottom\" : `bottom-${p2}` : p2 === \"center\" ? `${a3}` : `${a3}-${p2}`, strategy: \"absolute\", transform: false, middleware: [offset({ mainAxis: a3 === \"selection\" ? 0 : E2, crossAxis: v2 }), shift({ padding: c2 }), a3 !== \"selection\" && flip({ padding: c2 }), a3 === \"selection\" && P2 ? inner({ ...P2, padding: c2, overflowRef: u2, offset: r2, minItemsVisible: q$1, referenceOverflowThreshold: c2, onFallbackChange(h2) {\n    var O2, W2;\n    if (!h2) return;\n    let d2 = g2.elements.floating;\n    if (!d2) return;\n    let T2 = parseFloat(getComputedStyle(d2).scrollPaddingBottom) || 0, $2 = Math.min(q$1, d2.childElementCount), L2 = 0, N2 = 0;\n    for (let m2 of (W2 = (O2 = g2.elements.floating) == null ? void 0 : O2.childNodes) != null ? W2 : []) if (m2 instanceof HTMLElement) {\n      let x2 = m2.offsetTop, k2 = x2 + m2.clientHeight + T2, S2 = d2.scrollTop, U2 = S2 + d2.clientHeight;\n      if (x2 >= S2 && k2 <= U2) $2--;\n      else {\n        N2 = Math.max(0, Math.min(k2, U2) - Math.max(x2, S2)), L2 = m2.clientHeight;\n        break;\n      }\n    }\n    $2 >= 1 && o3((m2) => {\n      let x2 = L2 * $2 - N2 + T2;\n      return m2 >= x2 ? m2 : x2;\n    });\n  } }) : null, size({ padding: c2, apply({ availableWidth: h2, availableHeight: d2, elements: T2 }) {\n    Object.assign(T2.floating.style, { overflow: \"auto\", maxWidth: `${h2}px`, maxHeight: `min(var(--anchor-max-height, 100vh), ${d2}px)` });\n  } })].filter(Boolean), whileElementsMounted: autoUpdate }), [I2 = a3, B2 = p2] = g2.placement.split(\"-\");\n  a3 === \"selection\" && (I2 = \"selection\");\n  let G2 = T$5(() => ({ anchor: [I2, B2].filter(Boolean).join(\" \") }), [I2, B2]), K2 = useInnerOffset(g2, { overflowRef: u2, onChange: o3 }), { getReferenceProps: Q2, getFloatingProps: X2 } = useInteractions([K2]), Y2 = o$4((h2) => {\n    s2(h2), b2.setFloating(h2);\n  });\n  return _$4(H$1.Provider, { value: l2 }, _$4(y$2.Provider, { value: { setFloating: Y2, setReference: b2.setReference, styles: w2, getReferenceProps: Q2, getFloatingProps: X2, slot: G2 } }, e2));\n}\nfunction pe(e2) {\n  n$3(() => {\n    if (!e2) return;\n    let t2 = new MutationObserver(() => {\n      let n2 = window.getComputedStyle(e2).maxHeight, l2 = parseFloat(n2);\n      if (isNaN(l2)) return;\n      let r2 = parseInt(n2);\n      isNaN(r2) || l2 !== r2 && (e2.style.maxHeight = `${Math.ceil(l2)}px`);\n    });\n    return t2.observe(e2, { attributes: true, attributeFilter: [\"style\"] }), () => {\n      t2.disconnect();\n    };\n  }, [e2]);\n}\nfunction ce(e2, t2) {\n  var o3, u2, f2;\n  let n2 = V((o3 = e2 == null ? void 0 : e2.gap) != null ? o3 : \"var(--anchor-gap, 0)\", t2), l2 = V((u2 = e2 == null ? void 0 : e2.offset) != null ? u2 : \"var(--anchor-offset, 0)\", t2), r2 = V((f2 = e2 == null ? void 0 : e2.padding) != null ? f2 : \"var(--anchor-padding, 0)\", t2);\n  return { ...e2, gap: n2, offset: l2, padding: r2 };\n}\nfunction V(e2, t2, n2 = void 0) {\n  let l2 = p$2(), r2 = o$4((s2, i2) => {\n    if (s2 == null) return [n2, null];\n    if (typeof s2 == \"number\") return [s2, null];\n    if (typeof s2 == \"string\") {\n      if (!i2) return [n2, null];\n      let F2 = J$2(s2, i2);\n      return [F2, (E2) => {\n        let v2 = D(s2);\n        {\n          let c2 = v2.map((P2) => window.getComputedStyle(i2).getPropertyValue(P2));\n          l2.requestAnimationFrame(function P2() {\n            l2.nextFrame(P2);\n            let a3 = false;\n            for (let [b2, w2] of v2.entries()) {\n              let g2 = window.getComputedStyle(i2).getPropertyValue(w2);\n              if (c2[b2] !== g2) {\n                c2[b2] = g2, a3 = true;\n                break;\n              }\n            }\n            if (!a3) return;\n            let p2 = J$2(s2, i2);\n            F2 !== p2 && (E2(p2), F2 = p2);\n          });\n        }\n        return l2.dispose;\n      }];\n    }\n    return [n2, null];\n  }), o3 = T$5(() => r2(e2, t2)[0], [e2, t2]), [u2 = o3, f2] = d$4();\n  return n$3(() => {\n    let [s2, i2] = r2(e2, t2);\n    if (f2(s2), !!i2) return i2(f2);\n  }, [e2, t2]), u2;\n}\nfunction D(e2) {\n  let t2 = /var\\((.*)\\)/.exec(e2);\n  if (t2) {\n    let n2 = t2[1].indexOf(\",\");\n    if (n2 === -1) return [t2[1]];\n    let l2 = t2[1].slice(0, n2).trim(), r2 = t2[1].slice(n2 + 1).trim();\n    return r2 ? [l2, ...D(r2)] : [l2];\n  }\n  return [];\n}\nfunction J$2(e2, t2) {\n  let n2 = document.createElement(\"div\");\n  t2.appendChild(n2), n2.style.setProperty(\"margin-top\", \"0px\", \"important\"), n2.style.setProperty(\"margin-top\", e2, \"important\");\n  let l2 = parseFloat(window.getComputedStyle(n2).marginTop) || 0;\n  return t2.removeChild(n2), l2;\n}\nlet n = K$3(null);\nn.displayName = \"OpenClosedContext\";\nvar i$2 = ((e2) => (e2[e2.Open = 1] = \"Open\", e2[e2.Closed = 2] = \"Closed\", e2[e2.Closing = 4] = \"Closing\", e2[e2.Opening = 8] = \"Opening\", e2))(i$2 || {});\nfunction u$2() {\n  return x$4(n);\n}\nfunction c$3({ value: o3, children: t2 }) {\n  return Rn.createElement(n.Provider, { value: o3 }, t2);\n}\nvar withSelector = { exports: {} };\nvar useSyncExternalStoreWithSelector_production = {};\n/**\n * @license React\n * use-sync-external-store-with-selector.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nvar hasRequiredUseSyncExternalStoreWithSelector_production;\nfunction requireUseSyncExternalStoreWithSelector_production() {\n  if (hasRequiredUseSyncExternalStoreWithSelector_production) return useSyncExternalStoreWithSelector_production;\n  hasRequiredUseSyncExternalStoreWithSelector_production = 1;\n  var React = t$4;\n  function is(x2, y2) {\n    return x2 === y2 && (0 !== x2 || 1 / x2 === 1 / y2) || x2 !== x2 && y2 !== y2;\n  }\n  var objectIs = \"function\" === typeof Object.is ? Object.is : is, useSyncExternalStore = React.useSyncExternalStore, useRef = React.useRef, useEffect = React.useEffect, useMemo = React.useMemo, useDebugValue = React.useDebugValue;\n  useSyncExternalStoreWithSelector_production.useSyncExternalStoreWithSelector = function(subscribe, getSnapshot, getServerSnapshot, selector, isEqual) {\n    var instRef = useRef(null);\n    if (null === instRef.current) {\n      var inst = { hasValue: false, value: null };\n      instRef.current = inst;\n    } else inst = instRef.current;\n    instRef = useMemo(\n      function() {\n        function memoizedSelector(nextSnapshot) {\n          if (!hasMemo) {\n            hasMemo = true;\n            memoizedSnapshot = nextSnapshot;\n            nextSnapshot = selector(nextSnapshot);\n            if (void 0 !== isEqual && inst.hasValue) {\n              var currentSelection = inst.value;\n              if (isEqual(currentSelection, nextSnapshot))\n                return memoizedSelection = currentSelection;\n            }\n            return memoizedSelection = nextSnapshot;\n          }\n          currentSelection = memoizedSelection;\n          if (objectIs(memoizedSnapshot, nextSnapshot)) return currentSelection;\n          var nextSelection = selector(nextSnapshot);\n          if (void 0 !== isEqual && isEqual(currentSelection, nextSelection))\n            return memoizedSnapshot = nextSnapshot, currentSelection;\n          memoizedSnapshot = nextSnapshot;\n          return memoizedSelection = nextSelection;\n        }\n        var hasMemo = false, memoizedSnapshot, memoizedSelection, maybeGetServerSnapshot = void 0 === getServerSnapshot ? null : getServerSnapshot;\n        return [\n          function() {\n            return memoizedSelector(getSnapshot());\n          },\n          null === maybeGetServerSnapshot ? void 0 : function() {\n            return memoizedSelector(maybeGetServerSnapshot());\n          }\n        ];\n      },\n      [getSnapshot, getServerSnapshot, selector, isEqual]\n    );\n    var value = useSyncExternalStore(subscribe, instRef[0], instRef[1]);\n    useEffect(\n      function() {\n        inst.hasValue = true;\n        inst.value = value;\n      },\n      [value]\n    );\n    useDebugValue(value);\n    return value;\n  };\n  return useSyncExternalStoreWithSelector_production;\n}\nvar useSyncExternalStoreWithSelector_development = {};\n/**\n * @license React\n * use-sync-external-store-with-selector.development.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nvar hasRequiredUseSyncExternalStoreWithSelector_development;\nfunction requireUseSyncExternalStoreWithSelector_development() {\n  if (hasRequiredUseSyncExternalStoreWithSelector_development) return useSyncExternalStoreWithSelector_development;\n  hasRequiredUseSyncExternalStoreWithSelector_development = 1;\n   true && function() {\n    function is(x2, y2) {\n      return x2 === y2 && (0 !== x2 || 1 / x2 === 1 / y2) || x2 !== x2 && y2 !== y2;\n    }\n    \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ && \"function\" === typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart && __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());\n    var React = t$4, objectIs = \"function\" === typeof Object.is ? Object.is : is, useSyncExternalStore = React.useSyncExternalStore, useRef = React.useRef, useEffect = React.useEffect, useMemo = React.useMemo, useDebugValue = React.useDebugValue;\n    useSyncExternalStoreWithSelector_development.useSyncExternalStoreWithSelector = function(subscribe, getSnapshot, getServerSnapshot, selector, isEqual) {\n      var instRef = useRef(null);\n      if (null === instRef.current) {\n        var inst = { hasValue: false, value: null };\n        instRef.current = inst;\n      } else inst = instRef.current;\n      instRef = useMemo(\n        function() {\n          function memoizedSelector(nextSnapshot) {\n            if (!hasMemo) {\n              hasMemo = true;\n              memoizedSnapshot = nextSnapshot;\n              nextSnapshot = selector(nextSnapshot);\n              if (void 0 !== isEqual && inst.hasValue) {\n                var currentSelection = inst.value;\n                if (isEqual(currentSelection, nextSnapshot))\n                  return memoizedSelection = currentSelection;\n              }\n              return memoizedSelection = nextSnapshot;\n            }\n            currentSelection = memoizedSelection;\n            if (objectIs(memoizedSnapshot, nextSnapshot))\n              return currentSelection;\n            var nextSelection = selector(nextSnapshot);\n            if (void 0 !== isEqual && isEqual(currentSelection, nextSelection))\n              return memoizedSnapshot = nextSnapshot, currentSelection;\n            memoizedSnapshot = nextSnapshot;\n            return memoizedSelection = nextSelection;\n          }\n          var hasMemo = false, memoizedSnapshot, memoizedSelection, maybeGetServerSnapshot = void 0 === getServerSnapshot ? null : getServerSnapshot;\n          return [\n            function() {\n              return memoizedSelector(getSnapshot());\n            },\n            null === maybeGetServerSnapshot ? void 0 : function() {\n              return memoizedSelector(maybeGetServerSnapshot());\n            }\n          ];\n        },\n        [getSnapshot, getServerSnapshot, selector, isEqual]\n      );\n      var value = useSyncExternalStore(subscribe, instRef[0], instRef[1]);\n      useEffect(\n        function() {\n          inst.hasValue = true;\n          inst.value = value;\n        },\n        [value]\n      );\n      useDebugValue(value);\n      return value;\n    };\n    \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ && \"function\" === typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop && __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error());\n  }();\n  return useSyncExternalStoreWithSelector_development;\n}\nvar hasRequiredWithSelector;\nfunction requireWithSelector() {\n  if (hasRequiredWithSelector) return withSelector.exports;\n  hasRequiredWithSelector = 1;\n  if (false) {} else {\n    withSelector.exports = requireUseSyncExternalStoreWithSelector_development();\n  }\n  return withSelector.exports;\n}\nvar withSelectorExports = requireWithSelector();\nvar f$1 = (t2, e2, r2) => {\n  if (!e2.has(t2)) throw TypeError(\"Cannot \" + r2);\n};\nvar a$3 = (t2, e2, r2) => (f$1(t2, e2, \"read from private field\"), r2 ? r2.call(t2) : e2.get(t2)), l$2 = (t2, e2, r2) => {\n  if (e2.has(t2)) throw TypeError(\"Cannot add the same private member more than once\");\n  e2 instanceof WeakSet ? e2.add(t2) : e2.set(t2, r2);\n}, c$2 = (t2, e2, r2, n2) => (f$1(t2, e2, \"write to private field\"), e2.set(t2, r2), r2);\nvar i$1, s$4, o$1;\nclass m {\n  constructor(e2) {\n    l$2(this, i$1, {});\n    l$2(this, s$4, new a$7(() => /* @__PURE__ */ new Set()));\n    l$2(this, o$1, /* @__PURE__ */ new Set());\n    c$2(this, i$1, e2);\n  }\n  get state() {\n    return a$3(this, i$1);\n  }\n  subscribe(e2, r2) {\n    let n2 = { selector: e2, callback: r2, current: e2(a$3(this, i$1)) };\n    return a$3(this, o$1).add(n2), () => {\n      a$3(this, o$1).delete(n2);\n    };\n  }\n  on(e2, r2) {\n    return a$3(this, s$4).get(e2).add(r2), () => {\n      a$3(this, s$4).get(e2).delete(r2);\n    };\n  }\n  send(e2) {\n    c$2(this, i$1, this.reduce(a$3(this, i$1), e2));\n    for (let r2 of a$3(this, o$1)) {\n      let n2 = r2.selector(a$3(this, i$1));\n      h$1(r2.current, n2) || (r2.current = n2, r2.callback(n2));\n    }\n    for (let r2 of a$3(this, s$4).get(e2.type)) r2(a$3(this, i$1), e2);\n  }\n}\ni$1 = /* @__PURE__ */ new WeakMap(), s$4 = /* @__PURE__ */ new WeakMap(), o$1 = /* @__PURE__ */ new WeakMap();\nfunction h$1(t2, e2) {\n  return Object.is(t2, e2) ? true : typeof t2 != \"object\" || t2 === null || typeof e2 != \"object\" || e2 === null ? false : Array.isArray(t2) && Array.isArray(e2) ? t2.length !== e2.length ? false : u$1(t2[Symbol.iterator](), e2[Symbol.iterator]()) : t2 instanceof Map && e2 instanceof Map || t2 instanceof Set && e2 instanceof Set ? t2.size !== e2.size ? false : u$1(t2.entries(), e2.entries()) : S$2(t2) && S$2(e2) ? u$1(Object.entries(t2)[Symbol.iterator](), Object.entries(e2)[Symbol.iterator]()) : false;\n}\nfunction u$1(t2, e2) {\n  do {\n    let r2 = t2.next(), n2 = e2.next();\n    if (r2.done && n2.done) return true;\n    if (r2.done || n2.done || !Object.is(r2.value, n2.value)) return false;\n  } while (true);\n}\nfunction S$2(t2) {\n  if (Object.prototype.toString.call(t2) !== \"[object Object]\") return false;\n  let e2 = Object.getPrototypeOf(t2);\n  return e2 === null || Object.getPrototypeOf(e2) === null;\n}\nfunction g$1(t2) {\n  let [e2, r2] = t2(), n2 = o$5();\n  return (...b2) => {\n    e2(...b2), n2.dispose(), n2.microTask(r2);\n  };\n}\nfunction S$1(e2, n2, r2 = h$1) {\n  return withSelectorExports.useSyncExternalStoreWithSelector(o$4((i2) => e2.subscribe(s$3, i2)), o$4(() => e2.state), o$4(() => e2.state), o$4(n2), r2);\n}\nfunction s$3(e2) {\n  return e2;\n}\nfunction u(l2) {\n  throw new Error(\"Unexpected object: \" + l2);\n}\nvar c$1 = ((i2) => (i2[i2.First = 0] = \"First\", i2[i2.Previous = 1] = \"Previous\", i2[i2.Next = 2] = \"Next\", i2[i2.Last = 3] = \"Last\", i2[i2.Specific = 4] = \"Specific\", i2[i2.Nothing = 5] = \"Nothing\", i2))(c$1 || {});\nfunction f(l2, n2) {\n  let t2 = n2.resolveItems();\n  if (t2.length <= 0) return null;\n  let r2 = n2.resolveActiveIndex(), s2 = r2 != null ? r2 : -1;\n  switch (l2.focus) {\n    case 0: {\n      for (let e2 = 0; e2 < t2.length; ++e2) if (!n2.resolveDisabled(t2[e2], e2, t2)) return e2;\n      return r2;\n    }\n    case 1: {\n      s2 === -1 && (s2 = t2.length);\n      for (let e2 = s2 - 1; e2 >= 0; --e2) if (!n2.resolveDisabled(t2[e2], e2, t2)) return e2;\n      return r2;\n    }\n    case 2: {\n      for (let e2 = s2 + 1; e2 < t2.length; ++e2) if (!n2.resolveDisabled(t2[e2], e2, t2)) return e2;\n      return r2;\n    }\n    case 3: {\n      for (let e2 = t2.length - 1; e2 >= 0; --e2) if (!n2.resolveDisabled(t2[e2], e2, t2)) return e2;\n      return r2;\n    }\n    case 4: {\n      for (let e2 = 0; e2 < t2.length; ++e2) if (n2.resolveId(t2[e2], e2, t2) === l2.id) return e2;\n      return r2;\n    }\n    case 5:\n      return null;\n    default:\n      u(l2);\n  }\n}\nfunction c(t2) {\n  let r2 = o$4(t2), e2 = A$3(false);\n  y$6(() => (e2.current = false, () => {\n    e2.current = true, t$3(() => {\n      e2.current && r2();\n    });\n  }), [r2]);\n}\nfunction s$2() {\n  let r2 = typeof document == \"undefined\";\n  return \"useSyncExternalStore\" in t$4 ? ((o3) => o3.useSyncExternalStore)(t$4)(() => () => {\n  }, () => false, () => !r2) : false;\n}\nfunction l$1() {\n  let r2 = s$2(), [e2, n2] = d$4(s$7.isHandoffComplete);\n  return e2 && s$7.isHandoffComplete === false && n2(false), y$6(() => {\n    e2 !== true && n2(true);\n  }, [e2]), y$6(() => s$7.handoff(), []), r2 ? false : e2;\n}\nlet e = K$3(false);\nfunction a$2() {\n  return x$4(e);\n}\nfunction j(t2) {\n  let o3 = a$2(), n2 = x$4(b$1), [r2, u2] = d$4(() => {\n    var s2, a3;\n    if (!o3 && n2 !== null) return (s2 = n2.current) != null ? s2 : null;\n    if (s$7.isServer) return null;\n    let e2 = t2 == null ? void 0 : t2.getElementById(\"stagewise-toolbar-portal-root\");\n    if (e2) return e2;\n    if (t2 === null) return null;\n    let l2 = t2.createElement(\"div\");\n    return l2.setAttribute(\"id\", \"stagewise-toolbar-portal-root\"), l2.style.pointerEvents = \"auto\", ((a3 = t2.querySelector(\"stagewise-companion-anchor\")) != null ? a3 : t2.body).appendChild(l2);\n  });\n  return y$6(() => {\n    var l2;\n    if (r2 === null) return;\n    const e2 = (l2 = t2 == null ? void 0 : t2.querySelector(\"stagewise-companion-anchor\")) != null ? l2 : t2 == null ? void 0 : t2.body;\n    e2 != null && e2.contains(r2) || e2 == null || e2.appendChild(r2);\n  }, [r2, t2]), y$6(() => {\n    o3 || n2 !== null && u2(n2.current);\n  }, [n2, u2, o3]), r2;\n}\nlet M$1 = k$3, I = K$1(function(o3, n2) {\n  let { ownerDocument: r2 = null, ...u2 } = o3, e2 = A$3(null), l2 = y$5(T$3((i2) => {\n    e2.current = i2;\n  }), n2), R2 = n$1(e2), s2 = r2 != null ? r2 : R2, a3 = j(s2), [p2] = d$4(() => {\n    var i2;\n    return s$7.isServer ? null : (i2 = s2 == null ? void 0 : s2.createElement(\"div\")) != null ? i2 : null;\n  }), f2 = x$4(y$1), H2 = l$1();\n  n$3(() => {\n    !a3 || !p2 || a3.contains(p2) || (p2.setAttribute(\"data-headlessui-portal\", \"\"), a3.appendChild(p2));\n  }, [a3, p2]), n$3(() => {\n    if (p2 && f2) return f2.register(p2);\n  }, [f2, p2]), c(() => {\n    var i2;\n    !a3 || !p2 || (p2 instanceof Node && a3.contains(p2) && a3.removeChild(p2), a3.childNodes.length <= 0 && ((i2 = a3.parentElement) == null || i2.removeChild(a3)));\n  });\n  let h2 = L$2();\n  return H2 ? !a3 || !p2 ? null : $$1(h2({ ourProps: { ref: l2 }, theirProps: u2, slot: {}, defaultTag: M$1, name: \"Portal\" }), p2) : null;\n});\nfunction q(t2, o3) {\n  let n2 = y$5(o3), { enabled: r2 = true, ownerDocument: u2, ...e2 } = t2, l2 = L$2();\n  return r2 ? Rn.createElement(I, { ...e2, ownerDocument: u2, ref: n2 }) : l2({ ourProps: { ref: n2 }, theirProps: e2, slot: {}, defaultTag: M$1, name: \"Portal\" });\n}\nlet J$1 = k$3, b$1 = K$3(null);\nfunction X(t2, o3) {\n  let { target: n2, ...r2 } = t2, e2 = { ref: y$5(o3) }, l2 = L$2();\n  return Rn.createElement(b$1.Provider, { value: n2 }, l2({ ourProps: e2, theirProps: r2, defaultTag: J$1, name: \"Popover.Group\" }));\n}\nlet y$1 = K$3(null);\nlet k = K$1(q), B = K$1(X), oe = Object.assign(k, { Group: B });\nfunction s$1(n2, t2) {\n  let e2 = A$3({ left: 0, top: 0 });\n  if (n$3(() => {\n    if (!t2) return;\n    let r2 = t2.getBoundingClientRect();\n    r2 && (e2.current = r2);\n  }, [n2, t2]), t2 == null || !n2 || t2 === document.activeElement) return false;\n  let o3 = t2.getBoundingClientRect();\n  return o3.top !== e2.current.top || o3.left !== e2.current.left;\n}\nlet a$1 = /([\\u2700-\\u27BF]|[\\uE000-\\uF8FF]|\\uD83C[\\uDC00-\\uDFFF]|\\uD83D[\\uDC00-\\uDFFF]|[\\u2011-\\u26FF]|\\uD83E[\\uDD10-\\uDDFF])/g;\nfunction o2(e2) {\n  var r2, i2;\n  let n2 = (r2 = e2.innerText) != null ? r2 : \"\", t2 = e2.cloneNode(true);\n  if (!(t2 instanceof HTMLElement)) return n2;\n  let u2 = false;\n  for (let f2 of t2.querySelectorAll('[hidden],[aria-hidden],[role=\"img\"]')) f2.remove(), u2 = true;\n  let l2 = u2 ? (i2 = t2.innerText) != null ? i2 : \"\" : n2;\n  return a$1.test(l2) && (l2 = l2.replace(a$1, \"\")), l2;\n}\nfunction g(e2) {\n  let n2 = e2.getAttribute(\"aria-label\");\n  if (typeof n2 == \"string\") return n2.trim();\n  let t2 = e2.getAttribute(\"aria-labelledby\");\n  if (t2) {\n    let u2 = t2.split(\" \").map((l2) => {\n      let r2 = document.getElementById(l2);\n      if (r2) {\n        let i2 = r2.getAttribute(\"aria-label\");\n        return typeof i2 == \"string\" ? i2.trim() : o2(r2).trim();\n      }\n      return null;\n    }).filter(Boolean);\n    if (u2.length > 0) return u2.join(\", \");\n  }\n  return o2(e2).trim();\n}\nfunction s(c2) {\n  let t2 = A$3(\"\"), r2 = A$3(\"\");\n  return o$4(() => {\n    let e2 = c2.current;\n    if (!e2) return \"\";\n    let u2 = e2.innerText;\n    if (t2.current === u2) return r2.current;\n    let n2 = g(e2).trim().toLowerCase();\n    return t2.current = u2, r2.current = n2, n2;\n  });\n}\nvar h = Object.defineProperty;\nvar y = (e2, n2, t2) => n2 in e2 ? h(e2, n2, { enumerable: true, configurable: true, writable: true, value: t2 }) : e2[n2] = t2;\nvar v = (e2, n2, t2) => (y(e2, typeof n2 != \"symbol\" ? n2 + \"\" : n2, t2), t2);\nvar M = ((t2) => (t2[t2.Open = 0] = \"Open\", t2[t2.Closed = 1] = \"Closed\", t2))(M || {}), T = ((t2) => (t2[t2.Pointer = 0] = \"Pointer\", t2[t2.Other = 1] = \"Other\", t2))(T || {}), b = ((i2) => (i2[i2.OpenMenu = 0] = \"OpenMenu\", i2[i2.CloseMenu = 1] = \"CloseMenu\", i2[i2.GoToItem = 2] = \"GoToItem\", i2[i2.Search = 3] = \"Search\", i2[i2.ClearSearch = 4] = \"ClearSearch\", i2[i2.RegisterItems = 5] = \"RegisterItems\", i2[i2.UnregisterItems = 6] = \"UnregisterItems\", i2[i2.SetButtonElement = 7] = \"SetButtonElement\", i2[i2.SetItemsElement = 8] = \"SetItemsElement\", i2[i2.SortItems = 9] = \"SortItems\", i2))(b || {});\nfunction S(e2, n2 = (t2) => t2) {\n  let t2 = e2.activeItemIndex !== null ? e2.items[e2.activeItemIndex] : null, r2 = _(n2(e2.items.slice()), (u2) => u2.dataRef.current.domRef.current), l2 = t2 ? r2.indexOf(t2) : null;\n  return l2 === -1 && (l2 = null), { items: r2, activeItemIndex: l2 };\n}\nlet F = { [1](e2) {\n  return e2.menuState === 1 ? e2 : { ...e2, activeItemIndex: null, pendingFocus: { focus: c$1.Nothing }, menuState: 1 };\n}, [0](e2, n2) {\n  return e2.menuState === 0 ? e2 : { ...e2, __demoMode: false, pendingFocus: n2.focus, menuState: 0 };\n}, [2]: (e2, n2) => {\n  var u2, m2, d2, a3, I2;\n  if (e2.menuState === 1) return e2;\n  let t2 = { ...e2, searchQuery: \"\", activationTrigger: (u2 = n2.trigger) != null ? u2 : 1, __demoMode: false };\n  if (n2.focus === c$1.Nothing) return { ...t2, activeItemIndex: null };\n  if (n2.focus === c$1.Specific) return { ...t2, activeItemIndex: e2.items.findIndex((i2) => i2.id === n2.id) };\n  if (n2.focus === c$1.Previous) {\n    let i2 = e2.activeItemIndex;\n    if (i2 !== null) {\n      let g2 = e2.items[i2].dataRef.current.domRef, o3 = f(n2, { resolveItems: () => e2.items, resolveActiveIndex: () => e2.activeItemIndex, resolveId: (s2) => s2.id, resolveDisabled: (s2) => s2.dataRef.current.disabled });\n      if (o3 !== null) {\n        let s2 = e2.items[o3].dataRef.current.domRef;\n        if (((m2 = g2.current) == null ? void 0 : m2.previousElementSibling) === s2.current || ((d2 = s2.current) == null ? void 0 : d2.previousElementSibling) === null) return { ...t2, activeItemIndex: o3 };\n      }\n    }\n  } else if (n2.focus === c$1.Next) {\n    let i2 = e2.activeItemIndex;\n    if (i2 !== null) {\n      let g2 = e2.items[i2].dataRef.current.domRef, o3 = f(n2, { resolveItems: () => e2.items, resolveActiveIndex: () => e2.activeItemIndex, resolveId: (s2) => s2.id, resolveDisabled: (s2) => s2.dataRef.current.disabled });\n      if (o3 !== null) {\n        let s2 = e2.items[o3].dataRef.current.domRef;\n        if (((a3 = g2.current) == null ? void 0 : a3.nextElementSibling) === s2.current || ((I2 = s2.current) == null ? void 0 : I2.nextElementSibling) === null) return { ...t2, activeItemIndex: o3 };\n      }\n    }\n  }\n  let r2 = S(e2), l2 = f(n2, { resolveItems: () => r2.items, resolveActiveIndex: () => r2.activeItemIndex, resolveId: (i2) => i2.id, resolveDisabled: (i2) => i2.dataRef.current.disabled });\n  return { ...t2, ...r2, activeItemIndex: l2 };\n}, [3]: (e2, n2) => {\n  let r2 = e2.searchQuery !== \"\" ? 0 : 1, l2 = e2.searchQuery + n2.value.toLowerCase(), m2 = (e2.activeItemIndex !== null ? e2.items.slice(e2.activeItemIndex + r2).concat(e2.items.slice(0, e2.activeItemIndex + r2)) : e2.items).find((a3) => {\n    var I2;\n    return ((I2 = a3.dataRef.current.textValue) == null ? void 0 : I2.startsWith(l2)) && !a3.dataRef.current.disabled;\n  }), d2 = m2 ? e2.items.indexOf(m2) : -1;\n  return d2 === -1 || d2 === e2.activeItemIndex ? { ...e2, searchQuery: l2 } : { ...e2, searchQuery: l2, activeItemIndex: d2, activationTrigger: 1 };\n}, [4](e2) {\n  return e2.searchQuery === \"\" ? e2 : { ...e2, searchQuery: \"\", searchActiveItemIndex: null };\n}, [5]: (e2, n2) => {\n  let t2 = e2.items.concat(n2.items.map((l2) => l2)), r2 = e2.activeItemIndex;\n  return e2.pendingFocus.focus !== c$1.Nothing && (r2 = f(e2.pendingFocus, { resolveItems: () => t2, resolveActiveIndex: () => e2.activeItemIndex, resolveId: (l2) => l2.id, resolveDisabled: (l2) => l2.dataRef.current.disabled })), { ...e2, items: t2, activeItemIndex: r2, pendingFocus: { focus: c$1.Nothing }, pendingShouldSort: true };\n}, [6]: (e2, n2) => {\n  let t2 = e2.items, r2 = [], l2 = new Set(n2.items);\n  for (let [u2, m2] of t2.entries()) if (l2.has(m2.id) && (r2.push(u2), l2.delete(m2.id), l2.size === 0)) break;\n  if (r2.length > 0) {\n    t2 = t2.slice();\n    for (let u2 of r2.reverse()) t2.splice(u2, 1);\n  }\n  return { ...e2, items: t2, activationTrigger: 1 };\n}, [7]: (e2, n2) => e2.buttonElement === n2.element ? e2 : { ...e2, buttonElement: n2.element }, [8]: (e2, n2) => e2.itemsElement === n2.element ? e2 : { ...e2, itemsElement: n2.element }, [9]: (e2) => e2.pendingShouldSort ? { ...e2, ...S(e2), pendingShouldSort: false } : e2 };\nclass x extends m {\n  constructor(t2) {\n    super(t2);\n    v(this, \"actions\", { registerItem: g$1(() => {\n      let t3 = [], r2 = /* @__PURE__ */ new Set();\n      return [(l2, u2) => {\n        r2.has(u2) || (r2.add(u2), t3.push({ id: l2, dataRef: u2 }));\n      }, () => (r2.clear(), this.send({ type: 5, items: t3.splice(0) }))];\n    }), unregisterItem: g$1(() => {\n      let t3 = [];\n      return [(r2) => t3.push(r2), () => this.send({ type: 6, items: t3.splice(0) })];\n    }) });\n    v(this, \"selectors\", { activeDescendantId(t3) {\n      var u2;\n      let r2 = t3.activeItemIndex, l2 = t3.items;\n      return r2 === null || (u2 = l2[r2]) == null ? void 0 : u2.id;\n    }, isActive(t3, r2) {\n      var m2;\n      let l2 = t3.activeItemIndex, u2 = t3.items;\n      return l2 !== null ? ((m2 = u2[l2]) == null ? void 0 : m2.id) === r2 : false;\n    }, shouldScrollIntoView(t3, r2) {\n      return t3.__demoMode || t3.menuState !== 0 || t3.activationTrigger === 0 ? false : this.isActive(t3, r2);\n    } });\n    this.on(5, () => {\n      requestAnimationFrame(() => {\n        this.send({ type: 9 });\n      });\n    });\n  }\n  static new({ __demoMode: t2 = false } = {}) {\n    return new x({ __demoMode: t2, menuState: t2 ? 0 : 1, buttonElement: null, itemsElement: null, items: [], searchQuery: \"\", activeItemIndex: null, activationTrigger: 1, pendingShouldSort: false, pendingFocus: { focus: c$1.Nothing } });\n  }\n  reduce(t2, r2) {\n    return u$7(r2.type, F, t2, r2);\n  }\n}\nconst a2 = K$3(null);\nfunction l(e2) {\n  let n2 = x$4(a2);\n  if (n2 === null) {\n    let t2 = new Error(`<${e2} /> is missing a parent <Menu /> component.`);\n    throw Error.captureStackTrace && Error.captureStackTrace(t2, i), t2;\n  }\n  return n2;\n}\nfunction i({ __demoMode: e2 = false } = {}) {\n  return T$5(() => x.new({ __demoMode: e2 }), []);\n}\nlet ze = k$3;\nfunction Qe(T2, E2) {\n  let { __demoMode: i$12 = false, ...a$12 } = T2, n2 = i({ __demoMode: i$12 }), [s2, o3, P2] = S$1(n2, (p2) => [p2.menuState, p2.itemsElement, p2.buttonElement]), c2 = y$5(E2), _2 = s2 === M.Open;\n  R$1(_2, [P2, o3], (p2, F2) => {\n    var A$12;\n    n2.send({ type: b.CloseMenu }), A(F2, h$2.Loose) || (p2.preventDefault(), (A$12 = n2.state.buttonElement) == null || A$12.focus());\n  });\n  let t2 = o$4(() => {\n    n2.send({ type: b.CloseMenu });\n  }), R2 = T$5(() => ({ open: s2 === M.Open, close: t2 }), [s2, t2]), I2 = { ref: c2 }, g2 = L$2();\n  return Rn.createElement(Me, null, Rn.createElement(a2.Provider, { value: n2 }, Rn.createElement(c$3, { value: u$7(s2, { [M.Open]: i$2.Open, [M.Closed]: i$2.Closed }) }, g2({ ourProps: I2, theirProps: a$12, slot: R2, defaultTag: ze, name: \"Menu\" }))));\n}\nlet Ye = \"button\";\nfunction Ze(T$12, E2) {\n  let i2 = l(\"Menu.Button\"), a3 = g$3(), { id: n2 = `headlessui-menu-button-${a3}`, disabled: s2 = false, autoFocus: o3 = false, ...P2 } = T$12, c2 = A$3(null), _2 = Fe(), t2 = y$5(E2, c2, ye(), o$4((l2) => i2.send({ type: b.SetButtonElement, element: l2 }))), R2 = o$4((l2) => {\n    switch (l2.key) {\n      case o$3.Space:\n      case o$3.Enter:\n      case o$3.ArrowDown:\n        l2.preventDefault(), l2.stopPropagation(), i2.send({ type: b.OpenMenu, focus: { focus: c$1.First } });\n        break;\n      case o$3.ArrowUp:\n        l2.preventDefault(), l2.stopPropagation(), i2.send({ type: b.OpenMenu, focus: { focus: c$1.Last } });\n        break;\n    }\n  }), I2 = o$4((l2) => {\n    switch (l2.key) {\n      case o$3.Space:\n        l2.preventDefault();\n        break;\n    }\n  }), [g2, p2] = S$1(i2, (l2) => [l2.menuState, l2.itemsElement]), F2 = o$4((l2) => {\n    var H2;\n    if (l2.button === 0) {\n      if (r$1(l2.currentTarget)) return l2.preventDefault();\n      s2 || (g2 === M.Open ? (En(() => i2.send({ type: b.CloseMenu })), (H2 = c2.current) == null || H2.focus({ preventScroll: true })) : (l2.preventDefault(), i2.send({ type: b.OpenMenu, focus: { focus: c$1.Nothing }, trigger: T.Pointer })));\n    }\n  }), { isFocusVisible: A2, focusProps: f2 } = $f7dceffc5ad7768b$export$4e328f61c538687f({ autoFocus: o3 }), { isHovered: M$12, hoverProps: L2 } = $6179b936705e76d3$export$ae780daf29e6d456({ isDisabled: s2 }), { pressed: S2, pressProps: O2 } = w$2({ disabled: s2 }), x2 = T$5(() => ({ open: g2 === M.Open, active: S2 || g2 === M.Open, disabled: s2, hover: M$12, focus: A2, autofocus: o3 }), [g2, M$12, A2, S2, s2, o3]), U2 = _$2(_2(), { ref: t2, id: n2, type: e$1(T$12, c2.current), \"aria-haspopup\": \"menu\", \"aria-controls\": p2 == null ? void 0 : p2.id, \"aria-expanded\": g2 === M.Open, disabled: s2 || void 0, autoFocus: o3, onKeyDown: R2, onKeyUp: I2, onMouseDown: F2 }, f2, L2, O2);\n  return L$2()({ ourProps: U2, theirProps: P2, slot: x2, defaultTag: Ye, name: \"Menu.Button\" });\n}\nlet et = \"div\", tt = O$1.RenderStrategy | O$1.Static;\nfunction ot(T2, E2) {\n  let i2 = g$3(), { id: a3 = `headlessui-menu-items-${i2}`, anchor: n2, portal: s2 = false, modal: o3 = true, transition: P2 = false, ...c2 } = T2, _2 = xe(n2), t2 = l(\"Menu.Items\"), [R$12, I2] = Re(_2), g2 = be(), [p2, F2] = d$4(null), A2 = y$5(E2, _2 ? R$12 : null, o$4((e2) => t2.send({ type: b.SetItemsElement, element: e2 })), F2), [f2, M$12] = S$1(t2, (e2) => [e2.menuState, e2.buttonElement]), L2 = n$1(M$12), S2 = n$1(p2);\n  _2 && (s2 = true);\n  let O2 = u$2(), [x2, U2] = x$1(P2, p2, O2 !== null ? (O2 & i$2.Open) === i$2.Open : f2 === M.Open);\n  m$2(x2, M$12, () => {\n    t2.send({ type: b.CloseMenu });\n  });\n  let G$12 = S$1(t2, (e2) => e2.__demoMode), l$12 = G$12 ? false : o3 && f2 === M.Open;\n  f$2(l$12, S2);\n  let H2 = G$12 ? false : o3 && f2 === M.Open;\n  y$4(H2, { allowed: q$3(() => [M$12, p2], [M$12, p2]) });\n  let u2 = f2 !== M.Open, ae = s$1(u2, M$12) ? false : x2;\n  y$6(() => {\n    let e2 = p2;\n    e2 && f2 === M.Open && e2 !== (S2 == null ? void 0 : S2.activeElement) && e2.focus({ preventScroll: true });\n  }, [f2, p2, S2]), F$1(f2 === M.Open, { container: p2, accept(e2) {\n    return e2.getAttribute(\"role\") === \"menuitem\" ? NodeFilter.FILTER_REJECT : e2.hasAttribute(\"role\") ? NodeFilter.FILTER_SKIP : NodeFilter.FILTER_ACCEPT;\n  }, walk(e2) {\n    e2.setAttribute(\"role\", \"none\");\n  } });\n  let q2 = p$2(), se = o$4((e2) => {\n    var N2, z2, Q2;\n    switch (q2.dispose(), e2.key) {\n      case o$3.Space:\n        if (t2.state.searchQuery !== \"\") return e2.preventDefault(), e2.stopPropagation(), t2.send({ type: b.Search, value: e2.key });\n      case o$3.Enter:\n        if (e2.preventDefault(), e2.stopPropagation(), t2.state.activeItemIndex !== null) {\n          let { dataRef: de } = t2.state.items[t2.state.activeItemIndex];\n          (z2 = (N2 = de.current) == null ? void 0 : N2.domRef.current) == null || z2.click();\n        }\n        t2.send({ type: b.CloseMenu }), G(t2.state.buttonElement);\n        break;\n      case o$3.ArrowDown:\n        return e2.preventDefault(), e2.stopPropagation(), t2.send({ type: b.GoToItem, focus: c$1.Next });\n      case o$3.ArrowUp:\n        return e2.preventDefault(), e2.stopPropagation(), t2.send({ type: b.GoToItem, focus: c$1.Previous });\n      case o$3.Home:\n      case o$3.PageUp:\n        return e2.preventDefault(), e2.stopPropagation(), t2.send({ type: b.GoToItem, focus: c$1.First });\n      case o$3.End:\n      case o$3.PageDown:\n        return e2.preventDefault(), e2.stopPropagation(), t2.send({ type: b.GoToItem, focus: c$1.Last });\n      case o$3.Escape:\n        e2.preventDefault(), e2.stopPropagation(), En(() => t2.send({ type: b.CloseMenu })), (Q2 = t2.state.buttonElement) == null || Q2.focus({ preventScroll: true });\n        break;\n      case o$3.Tab:\n        e2.preventDefault(), e2.stopPropagation(), En(() => t2.send({ type: b.CloseMenu })), j$2(t2.state.buttonElement, e2.shiftKey ? F$2.Previous : F$2.Next);\n        break;\n      default:\n        e2.key.length === 1 && (t2.send({ type: b.Search, value: e2.key }), q2.setTimeout(() => t2.send({ type: b.ClearSearch }), 350));\n        break;\n    }\n  }), le = o$4((e2) => {\n    switch (e2.key) {\n      case o$3.Space:\n        e2.preventDefault();\n        break;\n    }\n  }), pe2 = T$5(() => ({ open: f2 === M.Open }), [f2]), ie = _$2(_2 ? g2() : {}, { \"aria-activedescendant\": S$1(t2, t2.selectors.activeDescendantId), \"aria-labelledby\": S$1(t2, (e2) => {\n    var N2;\n    return (N2 = e2.buttonElement) == null ? void 0 : N2.id;\n  }), id: a3, onKeyDown: se, onKeyUp: le, role: \"menu\", tabIndex: f2 === M.Open ? 0 : void 0, ref: A2, style: { ...c2.style, ...I2, \"--button-width\": d$2(M$12, true).width }, ...R(U2) }), ue = L$2();\n  return Rn.createElement(oe, { enabled: s2 ? T2.static || x2 : false, ownerDocument: L2 }, ue({ ourProps: ie, theirProps: c2, slot: pe2, defaultTag: et, features: tt, visible: ae, name: \"Menu.Items\" }));\n}\nlet nt = k$3;\nfunction rt(T$12, E2) {\n  let i2 = g$3(), { id: a3 = `headlessui-menu-item-${i2}`, disabled: n2 = false, ...s$12 } = T$12, o3 = l(\"Menu.Item\"), P2 = S$1(o3, (u2) => o3.selectors.isActive(u2, a3)), c2 = A$3(null), _2 = y$5(E2, c2), t2 = S$1(o3, (u2) => o3.selectors.shouldScrollIntoView(u2, a3));\n  n$3(() => {\n    if (t2) return o$5().requestAnimationFrame(() => {\n      var u2, J2;\n      (J2 = (u2 = c2.current) == null ? void 0 : u2.scrollIntoView) == null || J2.call(u2, { block: \"nearest\" });\n    });\n  }, [t2, c2]);\n  let R2 = s(c2), I2 = A$3({ disabled: n2, domRef: c2, get textValue() {\n    return R2();\n  } });\n  n$3(() => {\n    I2.current.disabled = n2;\n  }, [I2, n2]), n$3(() => (o3.actions.registerItem(a3, I2), () => o3.actions.unregisterItem(a3)), [I2, a3]);\n  let g2 = o$4(() => {\n    o3.send({ type: b.CloseMenu });\n  }), p2 = o$4((u2) => {\n    if (n2) return u2.preventDefault();\n    o3.send({ type: b.CloseMenu }), G(o3.state.buttonElement);\n  }), F2 = o$4(() => {\n    if (n2) return o3.send({ type: b.GoToItem, focus: c$1.Nothing });\n    o3.send({ type: b.GoToItem, focus: c$1.Specific, id: a3 });\n  }), A2 = u$3(), f2 = o$4((u2) => {\n    A2.update(u2), !n2 && (P2 || o3.send({ type: b.GoToItem, focus: c$1.Specific, id: a3, trigger: T.Pointer }));\n  }), M2 = o$4((u2) => {\n    A2.wasMoved(u2) && (n2 || P2 || o3.send({ type: b.GoToItem, focus: c$1.Specific, id: a3, trigger: T.Pointer }));\n  }), L2 = o$4((u2) => {\n    A2.wasMoved(u2) && (n2 || P2 && o3.send({ type: b.GoToItem, focus: c$1.Nothing }));\n  }), [S2, O2] = K(), [x2, U2] = w$1(), G$12 = T$5(() => ({ active: P2, focus: P2, disabled: n2, close: g2 }), [P2, n2, g2]), l$12 = { id: a3, ref: _2, role: \"menuitem\", tabIndex: n2 === true ? void 0 : -1, \"aria-disabled\": n2 === true ? true : void 0, \"aria-labelledby\": S2, \"aria-describedby\": x2, disabled: void 0, onClick: p2, onFocus: F2, onPointerEnter: f2, onMouseEnter: f2, onPointerMove: M2, onMouseMove: M2, onPointerLeave: L2, onMouseLeave: L2 }, H2 = L$2();\n  return Rn.createElement(O2, null, Rn.createElement(U2, null, H2({ ourProps: l$12, theirProps: s$12, slot: G$12, defaultTag: nt, name: \"Menu.Item\" })));\n}\nlet at = \"div\";\nfunction st(T2, E2) {\n  let [i2, a3] = K(), n2 = T2, s2 = { ref: E2, \"aria-labelledby\": i2, role: \"group\" }, o3 = L$2();\n  return Rn.createElement(a3, null, o3({ ourProps: s2, theirProps: n2, slot: {}, defaultTag: at, name: \"Menu.Section\" }));\n}\nlet lt = \"header\";\nfunction pt(T2, E2) {\n  let i2 = g$3(), { id: a3 = `headlessui-menu-heading-${i2}`, ...n2 } = T2, s2 = P$1();\n  n$3(() => s2.register(a3), [a3, s2.register]);\n  let o3 = { id: a3, ref: E2, role: \"presentation\", ...s2.props };\n  return L$2()({ ourProps: o3, theirProps: n2, slot: {}, defaultTag: lt, name: \"Menu.Heading\" });\n}\nlet it = \"div\";\nfunction ut(T2, E2) {\n  let i2 = T2, a3 = { ref: E2, role: \"separator\" };\n  return L$2()({ ourProps: a3, theirProps: i2, slot: {}, defaultTag: it, name: \"Menu.Separator\" });\n}\nlet dt = K$1(Qe), mt = K$1(Ze), Tt = K$1(ot), ft = K$1(rt), ct = K$1(st), yt = K$1(pt), Et = K$1(ut), to = Object.assign(dt, { Button: mt, Items: Tt, Item: ft, Section: ct, Heading: yt, Separator: Et });\nlet L = \"textarea\";\nfunction H(s2, l2) {\n  let i2 = g$3(), d2 = u$6(), n2 = a$9(), { id: p2 = d2 || `headlessui-textarea-${i2}`, disabled: e2 = n2 || false, autoFocus: r2 = false, invalid: a3 = false, ...T2 } = s2, f2 = I$2(), m2 = U$1(), { isFocused: o3, focusProps: u2 } = $f7dceffc5ad7768b$export$4e328f61c538687f({ autoFocus: r2 }), { isHovered: t2, hoverProps: b2 } = $6179b936705e76d3$export$ae780daf29e6d456({ isDisabled: e2 }), y2 = _$2({ ref: l2, id: p2, \"aria-labelledby\": f2, \"aria-describedby\": m2, \"aria-invalid\": a3 ? \"true\" : void 0, disabled: e2 || void 0, autoFocus: r2 }, u2, b2), x2 = T$5(() => ({ disabled: e2, invalid: a3, hover: t2, focus: o3, autofocus: r2 }), [e2, a3, t2, o3, r2]);\n  return L$2()({ ourProps: y2, theirProps: T2, slot: x2, defaultTag: L, name: \"Textarea\" });\n}\nlet J = K$1(H);\n/**\n * @license lucide-react v0.503.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\nconst toKebabCase = (string) => string.replace(/([a-z0-9])([A-Z])/g, \"$1-$2\").toLowerCase();\nconst toCamelCase = (string) => string.replace(\n  /^([A-Z])|[\\s-_]+(\\w)/g,\n  (match, p1, p2) => p2 ? p2.toUpperCase() : p1.toLowerCase()\n);\nconst toPascalCase = (string) => {\n  const camelCase = toCamelCase(string);\n  return camelCase.charAt(0).toUpperCase() + camelCase.slice(1);\n};\nconst mergeClasses = (...classes) => classes.filter((className, index2, array) => {\n  return Boolean(className) && className.trim() !== \"\" && array.indexOf(className) === index2;\n}).join(\" \").trim();\nconst hasA11yProp = (props) => {\n  for (const prop in props) {\n    if (prop.startsWith(\"aria-\") || prop === \"role\" || prop === \"title\") {\n      return true;\n    }\n  }\n};\n/**\n * @license lucide-react v0.503.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\nvar defaultAttributes = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: 24,\n  height: 24,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n};\n/**\n * @license lucide-react v0.503.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\nconst Icon = D$1(\n  ({\n    color = \"currentColor\",\n    size: size2 = 24,\n    strokeWidth = 2,\n    absoluteStrokeWidth,\n    className = \"\",\n    children,\n    iconNode,\n    ...rest\n  }, ref) => {\n    return _$4(\n      \"svg\",\n      {\n        ref,\n        ...defaultAttributes,\n        width: size2,\n        height: size2,\n        stroke: color,\n        strokeWidth: absoluteStrokeWidth ? Number(strokeWidth) * 24 / Number(size2) : strokeWidth,\n        className: mergeClasses(\"lucide\", className),\n        ...!children && !hasA11yProp(rest) && { \"aria-hidden\": \"true\" },\n        ...rest\n      },\n      [\n        ...iconNode.map(([tag, attrs]) => _$4(tag, attrs)),\n        ...Array.isArray(children) ? children : [children]\n      ]\n    );\n  }\n);\n/**\n * @license lucide-react v0.503.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\nconst createLucideIcon = (iconName, iconNode) => {\n  const Component = D$1(\n    ({ className, ...props }, ref) => _$4(Icon, {\n      ref,\n      iconNode,\n      className: mergeClasses(\n        `lucide-${toKebabCase(toPascalCase(iconName))}`,\n        `lucide-${iconName}`,\n        className\n      ),\n      ...props\n    })\n  );\n  Component.displayName = toPascalCase(iconName);\n  return Component;\n};\n/**\n * @license lucide-react v0.503.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\nconst __iconNode$6 = [[\"path\", { d: \"m6 9 6 6 6-6\", key: \"qrunsl\" }]];\nconst ChevronDown = createLucideIcon(\"chevron-down\", __iconNode$6);\n/**\n * @license lucide-react v0.503.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\nconst __iconNode$5 = [[\"path\", { d: \"m18 15-6-6-6 6\", key: \"153udz\" }]];\nconst ChevronUp = createLucideIcon(\"chevron-up\", __iconNode$5);\n/**\n * @license lucide-react v0.503.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\nconst __iconNode$4 = [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"1\", key: \"41hilf\" }],\n  [\"circle\", { cx: \"19\", cy: \"12\", r: \"1\", key: \"1wjl8i\" }],\n  [\"circle\", { cx: \"5\", cy: \"12\", r: \"1\", key: \"1pcz8c\" }]\n];\nconst Ellipsis = createLucideIcon(\"ellipsis\", __iconNode$4);\n/**\n * @license lucide-react v0.503.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\nconst __iconNode$3 = [\n  [\"polyline\", { points: \"4 14 10 14 10 20\", key: \"11kfnr\" }],\n  [\"polyline\", { points: \"20 10 14 10 14 4\", key: \"rlmsce\" }],\n  [\"line\", { x1: \"14\", x2: \"21\", y1: \"10\", y2: \"3\", key: \"o5lafz\" }],\n  [\"line\", { x1: \"3\", x2: \"10\", y1: \"21\", y2: \"14\", key: \"1atl0r\" }]\n];\nconst Minimize2 = createLucideIcon(\"minimize-2\", __iconNode$3);\n/**\n * @license lucide-react v0.503.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\nconst __iconNode$2 = [\n  [\"path\", { d: \"M5 12h14\", key: \"1ays0h\" }],\n  [\"path\", { d: \"M12 5v14\", key: \"s699le\" }]\n];\nconst Plus = createLucideIcon(\"plus\", __iconNode$2);\n/**\n * @license lucide-react v0.503.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\nconst __iconNode$1 = [\n  [\n    \"path\",\n    {\n      d: \"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z\",\n      key: \"1ffxy3\"\n    }\n  ],\n  [\"path\", { d: \"m21.854 2.147-10.94 10.939\", key: \"12cjpa\" }]\n];\nconst Send = createLucideIcon(\"send\", __iconNode$1);\n/**\n * @license lucide-react v0.503.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\nconst __iconNode = [\n  [\"path\", { d: \"M3 6h18\", key: \"d0wm0j\" }],\n  [\"path\", { d: \"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6\", key: \"4alrt4\" }],\n  [\"path\", { d: \"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2\", key: \"v07s0e\" }],\n  [\"line\", { x1: \"10\", x2: \"10\", y1: \"11\", y2: \"17\", key: \"1uufr5\" }],\n  [\"line\", { x1: \"14\", x2: \"14\", y1: \"11\", y2: \"17\", key: \"xtxkd\" }]\n];\nconst Trash2 = createLucideIcon(\"trash-2\", __iconNode);\nconst ChatArea = M$3(() => {\n  const { chatAreaState } = useChatState();\n  if (chatAreaState === \"hidden\") return null;\n  return /* @__PURE__ */ u$9(ChatAreaBox, { children: [\n    /* @__PURE__ */ u$9(ChatAreaResizeBar, {}),\n    chatAreaState === \"compact\" && /* @__PURE__ */ u$9(ChatAreaCompact, {}),\n    chatAreaState === \"expanded\" && /* @__PURE__ */ u$9(ChatAreaExpanded, {})\n  ] });\n});\nconst ChatAreaBox = M$3(({ children }) => /* @__PURE__ */ u$9(\"div\", { className: \"h-auto w-full overflow-x-hidden\", children }));\nconst ChatAreaResizeBar = M$3(() => {\n  const { chatAreaState, setChatAreaState, stopPromptCreation } = useChatState();\n  const handleResizeBarClick = q$3(() => {\n    setChatAreaState(chatAreaState === \"compact\" ? \"expanded\" : \"compact\");\n  }, [chatAreaState, setChatAreaState]);\n  const handleCloseChatArea = q$3(() => {\n    stopPromptCreation();\n    setChatAreaState(\"hidden\");\n  }, [setChatAreaState, stopPromptCreation]);\n  return /* @__PURE__ */ u$9(\"div\", { className: \"flex w-full flex-row items-center justify-center rounded-t-3xl px-3 py-1\", children: [\n    /* @__PURE__ */ u$9(\n      H$3,\n      {\n        className: \"size-5 bg-transparent text-muted-foreground/30 transition-colors duration-100 hover:text-muted-foreground\",\n        onClick: handleResizeBarClick,\n        children: chatAreaState === \"compact\" ? /* @__PURE__ */ u$9(ChevronUp, { className: \"size-5\" }) : /* @__PURE__ */ u$9(ChevronDown, { className: \"size-5\" })\n      }\n    ),\n    /* @__PURE__ */ u$9(\n      H$3,\n      {\n        className: \"absolute right-2 flex h-fit w-fit flex-row items-center gap-1 bg-transparent p-1 text-xs text-zinc-950 opacity-50 transition-all duration-100 hover:opacity-100\",\n        onClick: handleCloseChatArea,\n        children: [\n          \"Close menu\",\n          /* @__PURE__ */ u$9(\"div\", { className: \"rounded-md bg-zinc-600 px-0.5 py-0 text-xs text-zinc-50\", children: \"esc\" })\n        ]\n      }\n    )\n  ] });\n});\nconst ChatAreaCompact = M$3(() => /* @__PURE__ */ u$9(\"div\", { className: \"flex w-full flex-col gap-1 p-3\", children: /* @__PURE__ */ u$9(\"span\", { className: \"text-sm text-zinc-950/50\", children: \"This is the compact chat area... Showing just the last response from the assistant.\" }) }));\nconst ChatAreaExpanded = M$3(() => {\n  const { chats, currentChatId, setCurrentChat, createChat } = useChatState();\n  const currentChat = chats.find((chat) => chat.id === currentChatId);\n  const hasNewChat = chats.some((chat) => chat.id === \"new_chat\");\n  const handleCreateChat = q$3(() => {\n    createChat();\n  }, [createChat]);\n  const handleSetCurrentChat = q$3(\n    (chatId) => {\n      setCurrentChat(chatId);\n    },\n    [setCurrentChat]\n  );\n  return /* @__PURE__ */ u$9(\"div\", { className: \"flex max-h-[50vh] w-full flex-col gap-3 p-3 pb-0\", children: [\n    /* @__PURE__ */ u$9(\"div\", { className: \"flex flex-1 flex-col gap-2 overflow-y-auto p-1\", children: currentChat == null ? void 0 : currentChat.messages.map((message) => /* @__PURE__ */ u$9(\n      \"div\",\n      {\n        className: `flex ${message.sender === \"assistant\" ? \"justify-start\" : \"justify-end\"}`,\n        children: /* @__PURE__ */ u$9(\n          \"div\",\n          {\n            className: `max-w-[80%] rounded-xl px-2 py-1 text-sm ${message.sender === \"assistant\" ? \"bg-zinc-950/5 text-zinc-950\" : \"bg-blue-600 text-white\"}`,\n            children: message.content\n          }\n        )\n      },\n      message.id\n    )) }),\n    /* @__PURE__ */ u$9(\"div\", { className: \"flex flex-row items-center justify-start gap-2 overflow-x-auto overflow-y-visible border-border/10 border-t pt-2 pb-2\", children: [\n      !hasNewChat && /* @__PURE__ */ u$9(\n        H$3,\n        {\n          className: \"h-6 flex-shrink-0 rounded-full bg-zinc-950/5 px-2 font-semibold text-foreground text-xs\",\n          onClick: handleCreateChat,\n          children: /* @__PURE__ */ u$9(Plus, { className: \"size-3\" })\n        }\n      ),\n      chats.map((chat) => /* @__PURE__ */ u$9(\n        H$3,\n        {\n          className: cn(\n            \"h-5 max-w-48 flex-shrink-0 overflow-hidden truncate rounded-full bg-zinc-950/5 px-2 text-muted-foreground text-xs\",\n            chat.id === currentChatId && \"bg-white/60 text-zinc-950 shadow-blue-600/50 shadow-sm\"\n          ),\n          onClick: () => handleSetCurrentChat(chat.id),\n          children: chat.title || \"New chat\"\n        },\n        chat.id\n      ))\n    ] })\n  ] });\n});\nvar LIBVERSION = \"2.0.3\", UA_MAX_LENGTH = 500, USER_AGENT = \"user-agent\", EMPTY = \"\", UNKNOWN = \"?\", FUNC_TYPE = \"function\", UNDEF_TYPE = \"undefined\", OBJ_TYPE = \"object\", STR_TYPE = \"string\", UA_BROWSER = \"browser\", UA_CPU = \"cpu\", UA_DEVICE = \"device\", UA_ENGINE = \"engine\", UA_OS = \"os\", UA_RESULT = \"result\", NAME = \"name\", TYPE = \"type\", VENDOR = \"vendor\", VERSION = \"version\", ARCHITECTURE = \"architecture\", MAJOR = \"major\", MODEL = \"model\", CONSOLE = \"console\", MOBILE = \"mobile\", TABLET = \"tablet\", SMARTTV = \"smarttv\", WEARABLE = \"wearable\", XR = \"xr\", EMBEDDED = \"embedded\", INAPP = \"inapp\", BRANDS = \"brands\", FORMFACTORS = \"formFactors\", FULLVERLIST = \"fullVersionList\", PLATFORM = \"platform\", PLATFORMVER = \"platformVersion\", BITNESS = \"bitness\", CH_HEADER = \"sec-ch-ua\", CH_HEADER_FULL_VER_LIST = CH_HEADER + \"-full-version-list\", CH_HEADER_ARCH = CH_HEADER + \"-arch\", CH_HEADER_BITNESS = CH_HEADER + \"-\" + BITNESS, CH_HEADER_FORM_FACTORS = CH_HEADER + \"-form-factors\", CH_HEADER_MOBILE = CH_HEADER + \"-\" + MOBILE, CH_HEADER_MODEL = CH_HEADER + \"-\" + MODEL, CH_HEADER_PLATFORM = CH_HEADER + \"-\" + PLATFORM, CH_HEADER_PLATFORM_VER = CH_HEADER_PLATFORM + \"-version\", CH_ALL_VALUES = [BRANDS, FULLVERLIST, MOBILE, MODEL, PLATFORM, PLATFORMVER, ARCHITECTURE, FORMFACTORS, BITNESS], AMAZON = \"Amazon\", APPLE = \"Apple\", ASUS = \"ASUS\", BLACKBERRY = \"BlackBerry\", GOOGLE = \"Google\", HUAWEI = \"Huawei\", LENOVO = \"Lenovo\", HONOR = \"Honor\", LG = \"LG\", MICROSOFT = \"Microsoft\", MOTOROLA = \"Motorola\", NVIDIA = \"Nvidia\", ONEPLUS = \"OnePlus\", OPPO = \"OPPO\", SAMSUNG = \"Samsung\", SHARP = \"Sharp\", SONY = \"Sony\", XIAOMI = \"Xiaomi\", ZEBRA = \"Zebra\", CHROME = \"Chrome\", CHROMIUM = \"Chromium\", CHROMECAST = \"Chromecast\", EDGE = \"Edge\", FIREFOX = \"Firefox\", OPERA = \"Opera\", FACEBOOK = \"Facebook\", SOGOU = \"Sogou\", PREFIX_MOBILE = \"Mobile \", SUFFIX_BROWSER = \" Browser\", WINDOWS = \"Windows\";\nvar isWindow = typeof window !== UNDEF_TYPE, NAVIGATOR = isWindow && window.navigator ? window.navigator : void 0, NAVIGATOR_UADATA = NAVIGATOR && NAVIGATOR.userAgentData ? NAVIGATOR.userAgentData : void 0;\nvar extend = function(defaultRgx, extensions) {\n  var mergedRgx = {};\n  var extraRgx = extensions;\n  if (!isExtensions(extensions)) {\n    extraRgx = {};\n    for (var i2 in extensions) {\n      for (var j2 in extensions[i2]) {\n        extraRgx[j2] = extensions[i2][j2].concat(extraRgx[j2] ? extraRgx[j2] : []);\n      }\n    }\n  }\n  for (var k2 in defaultRgx) {\n    mergedRgx[k2] = extraRgx[k2] && extraRgx[k2].length % 2 === 0 ? extraRgx[k2].concat(defaultRgx[k2]) : defaultRgx[k2];\n  }\n  return mergedRgx;\n}, enumerize = function(arr) {\n  var enums = {};\n  for (var i2 = 0; i2 < arr.length; i2++) {\n    enums[arr[i2].toUpperCase()] = arr[i2];\n  }\n  return enums;\n}, has = function(str1, str2) {\n  if (typeof str1 === OBJ_TYPE && str1.length > 0) {\n    for (var i2 in str1) {\n      if (lowerize(str1[i2]) == lowerize(str2)) return true;\n    }\n    return false;\n  }\n  return isString(str1) ? lowerize(str2).indexOf(lowerize(str1)) !== -1 : false;\n}, isExtensions = function(obj, deep) {\n  for (var prop in obj) {\n    return /^(browser|cpu|device|engine|os)$/.test(prop) || (deep ? isExtensions(obj[prop]) : false);\n  }\n}, isString = function(val) {\n  return typeof val === STR_TYPE;\n}, itemListToArray = function(header) {\n  if (!header) return void 0;\n  var arr = [];\n  var tokens = strip(/\\\\?\\\"/g, header).split(\",\");\n  for (var i2 = 0; i2 < tokens.length; i2++) {\n    if (tokens[i2].indexOf(\";\") > -1) {\n      var token = trim(tokens[i2]).split(\";v=\");\n      arr[i2] = { brand: token[0], version: token[1] };\n    } else {\n      arr[i2] = trim(tokens[i2]);\n    }\n  }\n  return arr;\n}, lowerize = function(str) {\n  return isString(str) ? str.toLowerCase() : str;\n}, majorize = function(version) {\n  return isString(version) ? strip(/[^\\d\\.]/g, version).split(\".\")[0] : void 0;\n}, setProps = function(arr) {\n  for (var i2 in arr) {\n    var propName = arr[i2];\n    if (typeof propName == OBJ_TYPE && propName.length == 2) {\n      this[propName[0]] = propName[1];\n    } else {\n      this[propName] = void 0;\n    }\n  }\n  return this;\n}, strip = function(pattern, str) {\n  return isString(str) ? str.replace(pattern, EMPTY) : str;\n}, stripQuotes = function(str) {\n  return strip(/\\\\?\\\"/g, str);\n}, trim = function(str, len) {\n  if (isString(str)) {\n    str = strip(/^\\s\\s*/, str);\n    return typeof len === UNDEF_TYPE ? str : str.substring(0, UA_MAX_LENGTH);\n  }\n};\nvar rgxMapper = function(ua, arrays) {\n  if (!ua || !arrays) return;\n  var i2 = 0, j2, k2, p2, q2, matches, match;\n  while (i2 < arrays.length && !matches) {\n    var regex = arrays[i2], props = arrays[i2 + 1];\n    j2 = k2 = 0;\n    while (j2 < regex.length && !matches) {\n      if (!regex[j2]) {\n        break;\n      }\n      matches = regex[j2++].exec(ua);\n      if (!!matches) {\n        for (p2 = 0; p2 < props.length; p2++) {\n          match = matches[++k2];\n          q2 = props[p2];\n          if (typeof q2 === OBJ_TYPE && q2.length > 0) {\n            if (q2.length === 2) {\n              if (typeof q2[1] == FUNC_TYPE) {\n                this[q2[0]] = q2[1].call(this, match);\n              } else {\n                this[q2[0]] = q2[1];\n              }\n            } else if (q2.length === 3) {\n              if (typeof q2[1] === FUNC_TYPE && !(q2[1].exec && q2[1].test)) {\n                this[q2[0]] = match ? q2[1].call(this, match, q2[2]) : void 0;\n              } else {\n                this[q2[0]] = match ? match.replace(q2[1], q2[2]) : void 0;\n              }\n            } else if (q2.length === 4) {\n              this[q2[0]] = match ? q2[3].call(this, match.replace(q2[1], q2[2])) : void 0;\n            }\n          } else {\n            this[q2] = match ? match : void 0;\n          }\n        }\n      }\n    }\n    i2 += 2;\n  }\n}, strMapper = function(str, map) {\n  for (var i2 in map) {\n    if (typeof map[i2] === OBJ_TYPE && map[i2].length > 0) {\n      for (var j2 = 0; j2 < map[i2].length; j2++) {\n        if (has(map[i2][j2], str)) {\n          return i2 === UNKNOWN ? void 0 : i2;\n        }\n      }\n    } else if (has(map[i2], str)) {\n      return i2 === UNKNOWN ? void 0 : i2;\n    }\n  }\n  return map.hasOwnProperty(\"*\") ? map[\"*\"] : str;\n};\nvar windowsVersionMap = {\n  \"ME\": \"4.90\",\n  \"NT 3.11\": \"NT3.51\",\n  \"NT 4.0\": \"NT4.0\",\n  \"2000\": \"NT 5.0\",\n  \"XP\": [\"NT 5.1\", \"NT 5.2\"],\n  \"Vista\": \"NT 6.0\",\n  \"7\": \"NT 6.1\",\n  \"8\": \"NT 6.2\",\n  \"8.1\": \"NT 6.3\",\n  \"10\": [\"NT 6.4\", \"NT 10.0\"],\n  \"RT\": \"ARM\"\n}, formFactorsMap = {\n  \"embedded\": \"Automotive\",\n  \"mobile\": \"Mobile\",\n  \"tablet\": [\"Tablet\", \"EInk\"],\n  \"smarttv\": \"TV\",\n  \"wearable\": \"Watch\",\n  \"xr\": [\"VR\", \"XR\"],\n  \"?\": [\"Desktop\", \"Unknown\"],\n  \"*\": void 0\n};\nvar defaultRegexes = {\n  browser: [\n    [\n      // Most common regardless engine\n      /\\b(?:crmo|crios)\\/([\\w\\.]+)/i\n      // Chrome for Android/iOS\n    ],\n    [VERSION, [NAME, PREFIX_MOBILE + \"Chrome\"]],\n    [\n      /edg(?:e|ios|a)?\\/([\\w\\.]+)/i\n      // Microsoft Edge\n    ],\n    [VERSION, [NAME, \"Edge\"]],\n    [\n      // Presto based\n      /(opera mini)\\/([-\\w\\.]+)/i,\n      // Opera Mini\n      /(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i,\n      // Opera Mobi/Tablet\n      /(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i\n      // Opera\n    ],\n    [NAME, VERSION],\n    [\n      /opios[\\/ ]+([\\w\\.]+)/i\n      // Opera mini on iphone >= 8.0\n    ],\n    [VERSION, [NAME, OPERA + \" Mini\"]],\n    [\n      /\\bop(?:rg)?x\\/([\\w\\.]+)/i\n      // Opera GX\n    ],\n    [VERSION, [NAME, OPERA + \" GX\"]],\n    [\n      /\\bopr\\/([\\w\\.]+)/i\n      // Opera Webkit\n    ],\n    [VERSION, [NAME, OPERA]],\n    [\n      // Mixed\n      /\\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\\/ ]?([\\w\\.]+)/i\n      // Baidu\n    ],\n    [VERSION, [NAME, \"Baidu\"]],\n    [\n      /\\b(?:mxbrowser|mxios|myie2)\\/?([-\\w\\.]*)\\b/i\n      // Maxthon\n    ],\n    [VERSION, [NAME, \"Maxthon\"]],\n    [\n      /(kindle)\\/([\\w\\.]+)/i,\n      // Kindle\n      /(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\\/ ]?([\\w\\.]*)/i,\n      // Lunascape/Maxthon/Netfront/Jasmine/Blazer/Sleipnir\n      // Trident based\n      /(avant|iemobile|slim(?:browser|boat|jet))[\\/ ]?([\\d\\.]*)/i,\n      // Avant/IEMobile/SlimBrowser/SlimBoat/Slimjet\n      /(?:ms|\\()(ie) ([\\w\\.]+)/i,\n      // Internet Explorer\n      // Blink/Webkit/KHTML based                                         // Flock/RockMelt/Midori/Epiphany/Silk/Skyfire/Bolt/Iron/Iridium/PhantomJS/Bowser/QupZilla/Falkon/LG Browser/Otter/qutebrowser/Dooble\n      /(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon|otter|dooble|(?:lg |qute)browser)\\/([-\\w\\.]+)/i,\n      // Rekonq/Puffin/Brave/Whale/QQBrowserLite/QQ//Vivaldi/DuckDuckGo/Klar/Helio/Dragon\n      /(heytap|ovi|115|surf)browser\\/([\\d\\.]+)/i,\n      // HeyTap/Ovi/115/Surf\n      /(ecosia|weibo)(?:__| \\w+@)([\\d\\.]+)/i\n      // Ecosia/Weibo\n    ],\n    [NAME, VERSION],\n    [\n      /quark(?:pc)?\\/([-\\w\\.]+)/i\n      // Quark\n    ],\n    [VERSION, [NAME, \"Quark\"]],\n    [\n      /\\bddg\\/([\\w\\.]+)/i\n      // DuckDuckGo\n    ],\n    [VERSION, [NAME, \"DuckDuckGo\"]],\n    [\n      /(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i\n      // UCBrowser\n    ],\n    [VERSION, [NAME, \"UCBrowser\"]],\n    [\n      /microm.+\\bqbcore\\/([\\w\\.]+)/i,\n      // WeChat Desktop for Windows Built-in Browser\n      /\\bqbcore\\/([\\w\\.]+).+microm/i,\n      /micromessenger\\/([\\w\\.]+)/i\n      // WeChat\n    ],\n    [VERSION, [NAME, \"WeChat\"]],\n    [\n      /konqueror\\/([\\w\\.]+)/i\n      // Konqueror\n    ],\n    [VERSION, [NAME, \"Konqueror\"]],\n    [\n      /trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i\n      // IE11\n    ],\n    [VERSION, [NAME, \"IE\"]],\n    [\n      /ya(?:search)?browser\\/([\\w\\.]+)/i\n      // Yandex\n    ],\n    [VERSION, [NAME, \"Yandex\"]],\n    [\n      /slbrowser\\/([\\w\\.]+)/i\n      // Smart Lenovo Browser\n    ],\n    [VERSION, [NAME, \"Smart \" + LENOVO + SUFFIX_BROWSER]],\n    [\n      /(avast|avg)\\/([\\w\\.]+)/i\n      // Avast/AVG Secure Browser\n    ],\n    [[NAME, /(.+)/, \"$1 Secure\" + SUFFIX_BROWSER], VERSION],\n    [\n      /\\bfocus\\/([\\w\\.]+)/i\n      // Firefox Focus\n    ],\n    [VERSION, [NAME, FIREFOX + \" Focus\"]],\n    [\n      /\\bopt\\/([\\w\\.]+)/i\n      // Opera Touch\n    ],\n    [VERSION, [NAME, OPERA + \" Touch\"]],\n    [\n      /coc_coc\\w+\\/([\\w\\.]+)/i\n      // Coc Coc Browser\n    ],\n    [VERSION, [NAME, \"Coc Coc\"]],\n    [\n      /dolfin\\/([\\w\\.]+)/i\n      // Dolphin\n    ],\n    [VERSION, [NAME, \"Dolphin\"]],\n    [\n      /coast\\/([\\w\\.]+)/i\n      // Opera Coast\n    ],\n    [VERSION, [NAME, OPERA + \" Coast\"]],\n    [\n      /miuibrowser\\/([\\w\\.]+)/i\n      // MIUI Browser\n    ],\n    [VERSION, [NAME, \"MIUI\" + SUFFIX_BROWSER]],\n    [\n      /fxios\\/([\\w\\.-]+)/i\n      // Firefox for iOS\n    ],\n    [VERSION, [NAME, PREFIX_MOBILE + FIREFOX]],\n    [\n      /\\bqihoobrowser\\/?([\\w\\.]*)/i\n      // 360\n    ],\n    [VERSION, [NAME, \"360\"]],\n    [\n      /\\b(qq)\\/([\\w\\.]+)/i\n      // QQ\n    ],\n    [[NAME, /(.+)/, \"$1Browser\"], VERSION],\n    [\n      /(oculus|sailfish|huawei|vivo|pico)browser\\/([\\w\\.]+)/i\n    ],\n    [[NAME, /(.+)/, \"$1\" + SUFFIX_BROWSER], VERSION],\n    [\n      // Oculus/Sailfish/HuaweiBrowser/VivoBrowser/PicoBrowser\n      /samsungbrowser\\/([\\w\\.]+)/i\n      // Samsung Internet\n    ],\n    [VERSION, [NAME, SAMSUNG + \" Internet\"]],\n    [\n      /metasr[\\/ ]?([\\d\\.]+)/i\n      // Sogou Explorer\n    ],\n    [VERSION, [NAME, SOGOU + \" Explorer\"]],\n    [\n      /(sogou)mo\\w+\\/([\\d\\.]+)/i\n      // Sogou Mobile\n    ],\n    [[NAME, SOGOU + \" Mobile\"], VERSION],\n    [\n      /(electron)\\/([\\w\\.]+) safari/i,\n      // Electron-based App\n      /(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i,\n      // Tesla\n      /m?(qqbrowser|2345(?=browser|chrome|explorer))\\w*[\\/ ]?v?([\\w\\.]+)/i\n      // QQ/2345\n    ],\n    [NAME, VERSION],\n    [\n      /(lbbrowser|rekonq)/i\n      // LieBao Browser/Rekonq\n    ],\n    [NAME],\n    [\n      /ome\\/([\\w\\.]+) \\w* ?(iron) saf/i,\n      // Iron\n      /ome\\/([\\w\\.]+).+qihu (360)[es]e/i\n      // 360\n    ],\n    [VERSION, NAME],\n    [\n      // WebView\n      /((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i\n      // Facebook App for iOS & Android\n    ],\n    [[NAME, FACEBOOK], VERSION, [TYPE, INAPP]],\n    [\n      /(Klarna)\\/([\\w\\.]+)/i,\n      // Klarna Shopping Browser for iOS & Android\n      /(kakao(?:talk|story))[\\/ ]([\\w\\.]+)/i,\n      // Kakao App\n      /(naver)\\(.*?(\\d+\\.[\\w\\.]+).*\\)/i,\n      // Naver InApp\n      /(daum)apps[\\/ ]([\\w\\.]+)/i,\n      // Daum App\n      /safari (line)\\/([\\w\\.]+)/i,\n      // Line App for iOS\n      /\\b(line)\\/([\\w\\.]+)\\/iab/i,\n      // Line App for Android\n      /(alipay)client\\/([\\w\\.]+)/i,\n      // Alipay\n      /(twitter)(?:and| f.+e\\/([\\w\\.]+))/i,\n      // Twitter\n      /(instagram|snapchat)[\\/ ]([-\\w\\.]+)/i\n      // Instagram/Snapchat\n    ],\n    [NAME, VERSION, [TYPE, INAPP]],\n    [\n      /\\bgsa\\/([\\w\\.]+) .*safari\\//i\n      // Google Search Appliance on iOS\n    ],\n    [VERSION, [NAME, \"GSA\"], [TYPE, INAPP]],\n    [\n      /musical_ly(?:.+app_?version\\/|_)([\\w\\.]+)/i\n      // TikTok\n    ],\n    [VERSION, [NAME, \"TikTok\"], [TYPE, INAPP]],\n    [\n      /\\[(linkedin)app\\]/i\n      // LinkedIn App for iOS & Android\n    ],\n    [NAME, [TYPE, INAPP]],\n    [\n      /(chromium)[\\/ ]([-\\w\\.]+)/i\n      // Chromium\n    ],\n    [NAME, VERSION],\n    [\n      /headlesschrome(?:\\/([\\w\\.]+)| )/i\n      // Chrome Headless\n    ],\n    [VERSION, [NAME, CHROME + \" Headless\"]],\n    [\n      / wv\\).+(chrome)\\/([\\w\\.]+)/i\n      // Chrome WebView\n    ],\n    [[NAME, CHROME + \" WebView\"], VERSION],\n    [\n      /droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i\n      // Android Browser\n    ],\n    [VERSION, [NAME, \"Android\" + SUFFIX_BROWSER]],\n    [\n      /chrome\\/([\\w\\.]+) mobile/i\n      // Chrome Mobile\n    ],\n    [VERSION, [NAME, PREFIX_MOBILE + \"Chrome\"]],\n    [\n      /(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i\n      // Chrome/OmniWeb/Arora/Tizen/Nokia\n    ],\n    [NAME, VERSION],\n    [\n      /version\\/([\\w\\.\\,]+) .*mobile(?:\\/\\w+ | ?)safari/i\n      // Safari Mobile\n    ],\n    [VERSION, [NAME, PREFIX_MOBILE + \"Safari\"]],\n    [\n      /iphone .*mobile(?:\\/\\w+ | ?)safari/i\n    ],\n    [[NAME, PREFIX_MOBILE + \"Safari\"]],\n    [\n      /version\\/([\\w\\.\\,]+) .*(safari)/i\n      // Safari\n    ],\n    [VERSION, NAME],\n    [\n      /webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i\n      // Safari < 3.0\n    ],\n    [NAME, [VERSION, \"1\"]],\n    [\n      /(webkit|khtml)\\/([\\w\\.]+)/i\n    ],\n    [NAME, VERSION],\n    [\n      // Gecko based\n      /(?:mobile|tablet);.*(firefox)\\/([\\w\\.-]+)/i\n      // Firefox Mobile\n    ],\n    [[NAME, PREFIX_MOBILE + FIREFOX], VERSION],\n    [\n      /(navigator|netscape\\d?)\\/([-\\w\\.]+)/i\n      // Netscape\n    ],\n    [[NAME, \"Netscape\"], VERSION],\n    [\n      /(wolvic|librewolf)\\/([\\w\\.]+)/i\n      // Wolvic/LibreWolf\n    ],\n    [NAME, VERSION],\n    [\n      /mobile vr; rv:([\\w\\.]+)\\).+firefox/i\n      // Firefox Reality\n    ],\n    [VERSION, [NAME, FIREFOX + \" Reality\"]],\n    [\n      /ekiohf.+(flow)\\/([\\w\\.]+)/i,\n      // Flow\n      /(swiftfox)/i,\n      // Swiftfox\n      /(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\\/ ]?([\\w\\.\\+]+)/i,\n      // IceDragon/Iceweasel/Camino/Chimera/Fennec/Maemo/Minimo/Conkeror\n      /(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([-\\w\\.]+)$/i,\n      // Firefox/SeaMonkey/K-Meleon/IceCat/IceApe/Firebird/Phoenix\n      /(firefox)\\/([\\w\\.]+)/i,\n      // Other Firefox-based\n      /(mozilla)\\/([\\w\\.]+) .+rv\\:.+gecko\\/\\d+/i,\n      // Mozilla\n      // Other\n      /(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,\n      // Polaris/Lynx/Dillo/iCab/Doris/Amaya/w3m/NetSurf/Obigo/Mosaic/Go/ICE/UP.Browser/Ladybird\n      /\\b(links) \\(([\\w\\.]+)/i\n      // Links\n    ],\n    [NAME, [VERSION, /_/g, \".\"]],\n    [\n      /(cobalt)\\/([\\w\\.]+)/i\n      // Cobalt\n    ],\n    [NAME, [VERSION, /[^\\d\\.]+./, EMPTY]]\n  ],\n  cpu: [\n    [\n      /\\b((amd|x|x86[-_]?|wow|win)64)\\b/i\n      // AMD64 (x64)\n    ],\n    [[ARCHITECTURE, \"amd64\"]],\n    [\n      /(ia32(?=;))/i,\n      // IA32 (quicktime)\n      /\\b((i[346]|x)86)(pc)?\\b/i\n      // IA32 (x86)\n    ],\n    [[ARCHITECTURE, \"ia32\"]],\n    [\n      /\\b(aarch64|arm(v?[89]e?l?|_?64))\\b/i\n      // ARM64\n    ],\n    [[ARCHITECTURE, \"arm64\"]],\n    [\n      /\\b(arm(v[67])?ht?n?[fl]p?)\\b/i\n      // ARMHF\n    ],\n    [[ARCHITECTURE, \"armhf\"]],\n    [\n      // PocketPC mistakenly identified as PowerPC\n      /( (ce|mobile); ppc;|\\/[\\w\\.]+arm\\b)/i\n    ],\n    [[ARCHITECTURE, \"arm\"]],\n    [\n      /((ppc|powerpc)(64)?)( mac|;|\\))/i\n      // PowerPC\n    ],\n    [[ARCHITECTURE, /ower/, EMPTY, lowerize]],\n    [\n      / sun4\\w[;\\)]/i\n      // SPARC\n    ],\n    [[ARCHITECTURE, \"sparc\"]],\n    [\n      /\\b(avr32|ia64(?=;)|68k(?=\\))|\\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\\b|pa-risc)/i\n      // IA64, 68K, ARM/64, AVR/32, IRIX/64, MIPS/64, SPARC/64, PA-RISC\n    ],\n    [[ARCHITECTURE, lowerize]]\n  ],\n  device: [\n    [\n      //////////////////////////\n      // MOBILES & TABLETS\n      /////////////////////////\n      // Samsung\n      /\\b(sch-i[89]0\\d|shw-m380s|sm-[ptx]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i\n    ],\n    [MODEL, [VENDOR, SAMSUNG], [TYPE, TABLET]],\n    [\n      /\\b((?:s[cgp]h|gt|sm)-(?![lr])\\w+|sc[g-]?[\\d]+a?|galaxy nexus)/i,\n      /samsung[- ]((?!sm-[lr])[-\\w]+)/i,\n      /sec-(sgh\\w+)/i\n    ],\n    [MODEL, [VENDOR, SAMSUNG], [TYPE, MOBILE]],\n    [\n      // Apple\n      /(?:\\/|\\()(ip(?:hone|od)[\\w, ]*)(?:\\/|;)/i\n      // iPod/iPhone\n    ],\n    [MODEL, [VENDOR, APPLE], [TYPE, MOBILE]],\n    [\n      /\\((ipad);[-\\w\\),; ]+apple/i,\n      // iPad\n      /applecoremedia\\/[\\w\\.]+ \\((ipad)/i,\n      /\\b(ipad)\\d\\d?,\\d\\d?[;\\]].+ios/i\n    ],\n    [MODEL, [VENDOR, APPLE], [TYPE, TABLET]],\n    [\n      /(macintosh);/i\n    ],\n    [MODEL, [VENDOR, APPLE]],\n    [\n      // Sharp\n      /\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i\n    ],\n    [MODEL, [VENDOR, SHARP], [TYPE, MOBILE]],\n    [\n      // Honor\n      /\\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\\)|;)/i\n    ],\n    [MODEL, [VENDOR, HONOR], [TYPE, TABLET]],\n    [\n      /honor([-\\w ]+)[;\\)]/i\n    ],\n    [MODEL, [VENDOR, HONOR], [TYPE, MOBILE]],\n    [\n      // Huawei\n      /\\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\\w\\. ]*(?= bui|\\)))\\b(?!.+d\\/s)/i\n    ],\n    [MODEL, [VENDOR, HUAWEI], [TYPE, TABLET]],\n    [\n      /(?:huawei)([-\\w ]+)[;\\)]/i,\n      /\\b(nexus 6p|\\w{2,4}e?-[atu]?[ln][\\dx][012359c][adn]?)\\b(?!.+d\\/s)/i\n    ],\n    [MODEL, [VENDOR, HUAWEI], [TYPE, MOBILE]],\n    [\n      // Xiaomi\n      /oid[^\\)]+; (2[\\dbc]{4}(182|283|rp\\w{2})[cgl]|m2105k81a?c)(?: bui|\\))/i,\n      /\\b((?:red)?mi[-_ ]?pad[\\w- ]*)(?: bui|\\))/i\n      // Mi Pad tablets\n    ],\n    [[MODEL, /_/g, \" \"], [VENDOR, XIAOMI], [TYPE, TABLET]],\n    [\n      /\\b(poco[\\w ]+|m2\\d{3}j\\d\\d[a-z]{2})(?: bui|\\))/i,\n      // Xiaomi POCO\n      /\\b; (\\w+) build\\/hm\\1/i,\n      // Xiaomi Hongmi 'numeric' models\n      /\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i,\n      // Xiaomi Hongmi\n      /\\b(redmi[\\-_ ]?(?:note|k)?[\\w_ ]+)(?: bui|\\))/i,\n      // Xiaomi Redmi\n      /oid[^\\)]+; (m?[12][0-389][01]\\w{3,6}[c-y])( bui|; wv|\\))/i,\n      // Xiaomi Redmi 'numeric' models\n      /\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\\d?\\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\\))/i,\n      // Xiaomi Mi\n      / ([\\w ]+) miui\\/v?\\d/i\n    ],\n    [[MODEL, /_/g, \" \"], [VENDOR, XIAOMI], [TYPE, MOBILE]],\n    [\n      // OPPO\n      /; (\\w+) bui.+ oppo/i,\n      /\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i\n    ],\n    [MODEL, [VENDOR, OPPO], [TYPE, MOBILE]],\n    [\n      /\\b(opd2(\\d{3}a?))(?: bui|\\))/i\n    ],\n    [MODEL, [VENDOR, strMapper, { \"OnePlus\": [\"304\", \"403\", \"203\"], \"*\": OPPO }], [TYPE, TABLET]],\n    [\n      // BLU Vivo Series\n      /(vivo (5r?|6|8l?|go|one|s|x[il]?[2-4]?)[\\w\\+ ]*)(?: bui|\\))/i\n    ],\n    [MODEL, [VENDOR, \"BLU\"], [TYPE, MOBILE]],\n    [\n      // Vivo\n      /; vivo (\\w+)(?: bui|\\))/i,\n      /\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i\n    ],\n    [MODEL, [VENDOR, \"Vivo\"], [TYPE, MOBILE]],\n    [\n      // Realme\n      /\\b(rmx[1-3]\\d{3})(?: bui|;|\\))/i\n    ],\n    [MODEL, [VENDOR, \"Realme\"], [TYPE, MOBILE]],\n    [\n      // Motorola\n      /\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i,\n      /\\bmot(?:orola)?[- ](\\w*)/i,\n      /((?:moto(?! 360)[\\w\\(\\) ]+|xt\\d{3,4}|nexus 6)(?= bui|\\)))/i\n    ],\n    [MODEL, [VENDOR, MOTOROLA], [TYPE, MOBILE]],\n    [\n      /\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i\n    ],\n    [MODEL, [VENDOR, MOTOROLA], [TYPE, TABLET]],\n    [\n      // LG\n      /((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i\n    ],\n    [MODEL, [VENDOR, LG], [TYPE, TABLET]],\n    [\n      /(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i,\n      /\\blg[-e;\\/ ]+(?!.*(?:browser|netcast|android tv|watch))(\\w+)/i,\n      /\\blg-?([\\d\\w]+) bui/i\n    ],\n    [MODEL, [VENDOR, LG], [TYPE, MOBILE]],\n    [\n      // Lenovo\n      /(ideatab[-\\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\\d{3,4}(?:f[cu]|xu|[av])|yt\\d?-[jx]?\\d+[lfmx])( bui|;|\\)|\\/)/i,\n      /lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\\w- ]+?)|tb[\\w-]{6,7})( bui|;|\\)|\\/)/i\n    ],\n    [MODEL, [VENDOR, LENOVO], [TYPE, TABLET]],\n    [\n      // Nokia\n      /(nokia) (t[12][01])/i\n    ],\n    [VENDOR, MODEL, [TYPE, TABLET]],\n    [\n      /(?:maemo|nokia).*(n900|lumia \\d+|rm-\\d+)/i,\n      /nokia[-_ ]?(([-\\w\\. ]*))/i\n    ],\n    [[MODEL, /_/g, \" \"], [TYPE, MOBILE], [VENDOR, \"Nokia\"]],\n    [\n      // Google\n      /(pixel (c|tablet))\\b/i\n      // Google Pixel C/Tablet\n    ],\n    [MODEL, [VENDOR, GOOGLE], [TYPE, TABLET]],\n    [\n      /droid.+; (pixel[\\daxl ]{0,6})(?: bui|\\))/i\n      // Google Pixel\n    ],\n    [MODEL, [VENDOR, GOOGLE], [TYPE, MOBILE]],\n    [\n      // Sony\n      /droid.+; (a?\\d[0-2]{2}so|[c-g]\\d{4}|so[-gl]\\w+|xq-a\\w[4-7][12])(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i\n    ],\n    [MODEL, [VENDOR, SONY], [TYPE, MOBILE]],\n    [\n      /sony tablet [ps]/i,\n      /\\b(?:sony)?sgp\\w+(?: bui|\\))/i\n    ],\n    [[MODEL, \"Xperia Tablet\"], [VENDOR, SONY], [TYPE, TABLET]],\n    [\n      // OnePlus\n      / (kb2005|in20[12]5|be20[12][59])\\b/i,\n      /(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i\n    ],\n    [MODEL, [VENDOR, ONEPLUS], [TYPE, MOBILE]],\n    [\n      // Amazon\n      /(alexa)webm/i,\n      /(kf[a-z]{2}wi|aeo(?!bc)\\w\\w)( bui|\\))/i,\n      // Kindle Fire without Silk / Echo Show\n      /(kf[a-z]+)( bui|\\)).+silk\\//i\n      // Kindle Fire HD\n    ],\n    [MODEL, [VENDOR, AMAZON], [TYPE, TABLET]],\n    [\n      /((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i\n      // Fire Phone\n    ],\n    [[MODEL, /(.+)/g, \"Fire Phone $1\"], [VENDOR, AMAZON], [TYPE, MOBILE]],\n    [\n      // BlackBerry\n      /(playbook);[-\\w\\),; ]+(rim)/i\n      // BlackBerry PlayBook\n    ],\n    [MODEL, VENDOR, [TYPE, TABLET]],\n    [\n      /\\b((?:bb[a-f]|st[hv])100-\\d)/i,\n      /\\(bb10; (\\w+)/i\n      // BlackBerry 10\n    ],\n    [MODEL, [VENDOR, BLACKBERRY], [TYPE, MOBILE]],\n    [\n      // Asus\n      /(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i\n    ],\n    [MODEL, [VENDOR, ASUS], [TYPE, TABLET]],\n    [\n      / (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i\n    ],\n    [MODEL, [VENDOR, ASUS], [TYPE, MOBILE]],\n    [\n      // HTC\n      /(nexus 9)/i\n      // HTC Nexus 9\n    ],\n    [MODEL, [VENDOR, \"HTC\"], [TYPE, TABLET]],\n    [\n      /(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i,\n      // HTC\n      // ZTE\n      /(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i,\n      /(alcatel|geeksphone|nexian|panasonic(?!(?:;|\\.))|sony(?!-bra))[-_ ]?([-\\w]*)/i\n      // Alcatel/GeeksPhone/Nexian/Panasonic/Sony\n    ],\n    [VENDOR, [MODEL, /_/g, \" \"], [TYPE, MOBILE]],\n    [\n      // TCL\n      /tcl (xess p17aa)/i,\n      /droid [\\w\\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])(_\\w(\\w|\\w\\w))?(\\)| bui)/i\n    ],\n    [MODEL, [VENDOR, \"TCL\"], [TYPE, TABLET]],\n    [\n      /droid [\\w\\.]+; (418(?:7d|8v)|5087z|5102l|61(?:02[dh]|25[adfh]|27[ai]|56[dh]|59k|65[ah])|a509dl|t(?:43(?:0w|1[adepqu])|50(?:6d|7[adju])|6(?:09dl|10k|12b|71[efho]|76[hjk])|7(?:66[ahju]|67[hw]|7[045][bh]|71[hk]|73o|76[ho]|79w|81[hks]?|82h|90[bhsy]|99b)|810[hs]))(_\\w(\\w|\\w\\w))?(\\)| bui)/i\n    ],\n    [MODEL, [VENDOR, \"TCL\"], [TYPE, MOBILE]],\n    [\n      // itel\n      /(itel) ((\\w+))/i\n    ],\n    [[VENDOR, lowerize], MODEL, [TYPE, strMapper, { \"tablet\": [\"p10001l\", \"w7001\"], \"*\": \"mobile\" }]],\n    [\n      // Acer\n      /droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i\n    ],\n    [MODEL, [VENDOR, \"Acer\"], [TYPE, TABLET]],\n    [\n      // Meizu\n      /droid.+; (m[1-5] note) bui/i,\n      /\\bmz-([-\\w]{2,})/i\n    ],\n    [MODEL, [VENDOR, \"Meizu\"], [TYPE, MOBILE]],\n    [\n      // Ulefone\n      /; ((?:power )?armor(?:[\\w ]{0,8}))(?: bui|\\))/i\n    ],\n    [MODEL, [VENDOR, \"Ulefone\"], [TYPE, MOBILE]],\n    [\n      // Energizer\n      /; (energy ?\\w+)(?: bui|\\))/i,\n      /; energizer ([\\w ]+)(?: bui|\\))/i\n    ],\n    [MODEL, [VENDOR, \"Energizer\"], [TYPE, MOBILE]],\n    [\n      // Cat\n      /; cat (b35);/i,\n      /; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\\))/i\n    ],\n    [MODEL, [VENDOR, \"Cat\"], [TYPE, MOBILE]],\n    [\n      // Smartfren\n      /((?:new )?andromax[\\w- ]+)(?: bui|\\))/i\n    ],\n    [MODEL, [VENDOR, \"Smartfren\"], [TYPE, MOBILE]],\n    [\n      // Nothing\n      /droid.+; (a(?:015|06[35]|142p?))/i\n    ],\n    [MODEL, [VENDOR, \"Nothing\"], [TYPE, MOBILE]],\n    [\n      // Archos\n      /; (x67 5g|tikeasy \\w+|ac[1789]\\d\\w+)( b|\\))/i,\n      /archos ?(5|gamepad2?|([\\w ]*[t1789]|hello) ?\\d+[\\w ]*)( b|\\))/i\n    ],\n    [MODEL, [VENDOR, \"Archos\"], [TYPE, TABLET]],\n    [\n      /archos ([\\w ]+)( b|\\))/i,\n      /; (ac[3-6]\\d\\w{2,8})( b|\\))/i\n    ],\n    [MODEL, [VENDOR, \"Archos\"], [TYPE, MOBILE]],\n    [\n      // MIXED\n      /(imo) (tab \\w+)/i,\n      // IMO\n      /(infinix) (x1101b?)/i\n      // Infinix XPad\n    ],\n    [VENDOR, MODEL, [TYPE, TABLET]],\n    [\n      /(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\\w]*)/i,\n      // BlackBerry/BenQ/Palm/Sony-Ericsson/Acer/Asus/Dell/Meizu/Motorola/Polytron/Infinix/Tecno/Micromax/Advan\n      /; (blu|hmd|imo|tcl)[_ ]([\\w\\+ ]+?)(?: bui|\\)|; r)/i,\n      // BLU/HMD/IMO/TCL\n      /(hp) ([\\w ]+\\w)/i,\n      // HP iPAQ\n      /(microsoft); (lumia[\\w ]+)/i,\n      // Microsoft Lumia\n      /(lenovo)[-_ ]?([-\\w ]+?)(?: bui|\\)|\\/)/i,\n      // Lenovo\n      /(oppo) ?([\\w ]+) bui/i\n      // OPPO\n    ],\n    [VENDOR, MODEL, [TYPE, MOBILE]],\n    [\n      /(kobo)\\s(ereader|touch)/i,\n      // Kobo\n      /(hp).+(touchpad(?!.+tablet)|tablet)/i,\n      // HP TouchPad\n      /(kindle)\\/([\\w\\.]+)/i\n      // Kindle\n    ],\n    [VENDOR, MODEL, [TYPE, TABLET]],\n    [\n      /(surface duo)/i\n      // Surface Duo\n    ],\n    [MODEL, [VENDOR, MICROSOFT], [TYPE, TABLET]],\n    [\n      /droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i\n      // Fairphone\n    ],\n    [MODEL, [VENDOR, \"Fairphone\"], [TYPE, MOBILE]],\n    [\n      /((?:tegranote|shield t(?!.+d tv))[\\w- ]*?)(?: b|\\))/i\n      // Nvidia Tablets\n    ],\n    [MODEL, [VENDOR, NVIDIA], [TYPE, TABLET]],\n    [\n      /(sprint) (\\w+)/i\n      // Sprint Phones\n    ],\n    [VENDOR, MODEL, [TYPE, MOBILE]],\n    [\n      /(kin\\.[onetw]{3})/i\n      // Microsoft Kin\n    ],\n    [[MODEL, /\\./g, \" \"], [VENDOR, MICROSOFT], [TYPE, MOBILE]],\n    [\n      /droid.+; ([c6]+|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i\n      // Zebra\n    ],\n    [MODEL, [VENDOR, ZEBRA], [TYPE, TABLET]],\n    [\n      /droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i\n    ],\n    [MODEL, [VENDOR, ZEBRA], [TYPE, MOBILE]],\n    [\n      ///////////////////\n      // SMARTTVS\n      ///////////////////\n      /smart-tv.+(samsung)/i\n      // Samsung\n    ],\n    [VENDOR, [TYPE, SMARTTV]],\n    [\n      /hbbtv.+maple;(\\d+)/i\n    ],\n    [[MODEL, /^/, \"SmartTV\"], [VENDOR, SAMSUNG], [TYPE, SMARTTV]],\n    [\n      /tcast.+(lg)e?. ([-\\w]+)/i\n      // LG SmartTV\n    ],\n    [VENDOR, MODEL, [TYPE, SMARTTV]],\n    [\n      /(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i\n    ],\n    [[VENDOR, LG], [TYPE, SMARTTV]],\n    [\n      /(apple) ?tv/i\n      // Apple TV\n    ],\n    [VENDOR, [MODEL, APPLE + \" TV\"], [TYPE, SMARTTV]],\n    [\n      /crkey.*devicetype\\/chromecast/i\n      // Google Chromecast Third Generation\n    ],\n    [[MODEL, CHROMECAST + \" Third Generation\"], [VENDOR, GOOGLE], [TYPE, SMARTTV]],\n    [\n      /crkey.*devicetype\\/([^/]*)/i\n      // Google Chromecast with specific device type\n    ],\n    [[MODEL, /^/, \"Chromecast \"], [VENDOR, GOOGLE], [TYPE, SMARTTV]],\n    [\n      /fuchsia.*crkey/i\n      // Google Chromecast Nest Hub\n    ],\n    [[MODEL, CHROMECAST + \" Nest Hub\"], [VENDOR, GOOGLE], [TYPE, SMARTTV]],\n    [\n      /crkey/i\n      // Google Chromecast, Linux-based or unknown\n    ],\n    [[MODEL, CHROMECAST], [VENDOR, GOOGLE], [TYPE, SMARTTV]],\n    [\n      /(portaltv)/i\n      // Facebook Portal TV\n    ],\n    [MODEL, [VENDOR, FACEBOOK], [TYPE, SMARTTV]],\n    [\n      /droid.+aft(\\w+)( bui|\\))/i\n      // Fire TV\n    ],\n    [MODEL, [VENDOR, AMAZON], [TYPE, SMARTTV]],\n    [\n      /(shield \\w+ tv)/i\n      // Nvidia Shield TV\n    ],\n    [MODEL, [VENDOR, NVIDIA], [TYPE, SMARTTV]],\n    [\n      /\\(dtv[\\);].+(aquos)/i,\n      /(aquos-tv[\\w ]+)\\)/i\n      // Sharp\n    ],\n    [MODEL, [VENDOR, SHARP], [TYPE, SMARTTV]],\n    [\n      /(bravia[\\w ]+)( bui|\\))/i\n      // Sony\n    ],\n    [MODEL, [VENDOR, SONY], [TYPE, SMARTTV]],\n    [\n      /(mi(tv|box)-?\\w+) bui/i\n      // Xiaomi\n    ],\n    [MODEL, [VENDOR, XIAOMI], [TYPE, SMARTTV]],\n    [\n      /Hbbtv.*(technisat) (.*);/i\n      // TechniSAT\n    ],\n    [VENDOR, MODEL, [TYPE, SMARTTV]],\n    [\n      /\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i,\n      // Roku\n      /hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w\\+ ]*; *([\\w\\d][^;]*);([^;]*)/i\n      // HbbTV devices\n    ],\n    [[VENDOR, trim], [MODEL, trim], [TYPE, SMARTTV]],\n    [\n      // SmartTV from Unidentified Vendors\n      /droid.+; ([\\w- ]+) (?:android tv|smart[- ]?tv)/i\n    ],\n    [MODEL, [TYPE, SMARTTV]],\n    [\n      /\\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\\b/i\n    ],\n    [[TYPE, SMARTTV]],\n    [\n      ///////////////////\n      // CONSOLES\n      ///////////////////\n      /(ouya)/i,\n      // Ouya\n      /(nintendo) (\\w+)/i\n      // Nintendo\n    ],\n    [VENDOR, MODEL, [TYPE, CONSOLE]],\n    [\n      /droid.+; (shield)( bui|\\))/i\n      // Nvidia Portable\n    ],\n    [MODEL, [VENDOR, NVIDIA], [TYPE, CONSOLE]],\n    [\n      /(playstation \\w+)/i\n      // Playstation\n    ],\n    [MODEL, [VENDOR, SONY], [TYPE, CONSOLE]],\n    [\n      /\\b(xbox(?: one)?(?!; xbox))[\\); ]/i\n      // Microsoft Xbox\n    ],\n    [MODEL, [VENDOR, MICROSOFT], [TYPE, CONSOLE]],\n    [\n      ///////////////////\n      // WEARABLES\n      ///////////////////\n      /\\b(sm-[lr]\\d\\d[0156][fnuw]?s?|gear live)\\b/i\n      // Samsung Galaxy Watch\n    ],\n    [MODEL, [VENDOR, SAMSUNG], [TYPE, WEARABLE]],\n    [\n      /((pebble))app/i,\n      // Pebble\n      /(asus|google|lg|oppo) ((pixel |zen)?watch[\\w ]*)( bui|\\))/i\n      // Asus ZenWatch / LG Watch / Pixel Watch\n    ],\n    [VENDOR, MODEL, [TYPE, WEARABLE]],\n    [\n      /(ow(?:19|20)?we?[1-3]{1,3})/i\n      // Oppo Watch\n    ],\n    [MODEL, [VENDOR, OPPO], [TYPE, WEARABLE]],\n    [\n      /(watch)(?: ?os[,\\/]|\\d,\\d\\/)[\\d\\.]+/i\n      // Apple Watch\n    ],\n    [MODEL, [VENDOR, APPLE], [TYPE, WEARABLE]],\n    [\n      /(opwwe\\d{3})/i\n      // OnePlus Watch\n    ],\n    [MODEL, [VENDOR, ONEPLUS], [TYPE, WEARABLE]],\n    [\n      /(moto 360)/i\n      // Motorola 360\n    ],\n    [MODEL, [VENDOR, MOTOROLA], [TYPE, WEARABLE]],\n    [\n      /(smartwatch 3)/i\n      // Sony SmartWatch\n    ],\n    [MODEL, [VENDOR, SONY], [TYPE, WEARABLE]],\n    [\n      /(g watch r)/i\n      // LG G Watch R\n    ],\n    [MODEL, [VENDOR, LG], [TYPE, WEARABLE]],\n    [\n      /droid.+; (wt63?0{2,3})\\)/i\n    ],\n    [MODEL, [VENDOR, ZEBRA], [TYPE, WEARABLE]],\n    [\n      ///////////////////\n      // XR\n      ///////////////////\n      /droid.+; (glass) \\d/i\n      // Google Glass\n    ],\n    [MODEL, [VENDOR, GOOGLE], [TYPE, XR]],\n    [\n      /(pico) (4|neo3(?: link|pro)?)/i\n      // Pico\n    ],\n    [VENDOR, MODEL, [TYPE, XR]],\n    [\n      /(quest( \\d| pro)?s?).+vr/i\n      // Meta Quest\n    ],\n    [MODEL, [VENDOR, FACEBOOK], [TYPE, XR]],\n    [\n      ///////////////////\n      // EMBEDDED\n      ///////////////////\n      /(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i\n      // Tesla\n    ],\n    [VENDOR, [TYPE, EMBEDDED]],\n    [\n      /(aeobc)\\b/i\n      // Echo Dot\n    ],\n    [MODEL, [VENDOR, AMAZON], [TYPE, EMBEDDED]],\n    [\n      /(homepod).+mac os/i\n      // Apple HomePod\n    ],\n    [MODEL, [VENDOR, APPLE], [TYPE, EMBEDDED]],\n    [\n      /windows iot/i\n    ],\n    [[TYPE, EMBEDDED]],\n    [\n      ////////////////////\n      // MIXED (GENERIC)\n      ///////////////////\n      /droid .+?; ([^;]+?)(?: bui|; wv\\)|\\) applew).+?(mobile|vr|\\d) safari/i\n    ],\n    [MODEL, [TYPE, strMapper, { \"mobile\": \"Mobile\", \"xr\": \"VR\", \"*\": TABLET }]],\n    [\n      /\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i\n      // Unidentifiable Tablet\n    ],\n    [[TYPE, TABLET]],\n    [\n      /(phone|mobile(?:[;\\/]| [ \\w\\/\\.]*safari)|pda(?=.+windows ce))/i\n      // Unidentifiable Mobile\n    ],\n    [[TYPE, MOBILE]],\n    [\n      /droid .+?; ([\\w\\. -]+)( bui|\\))/i\n      // Generic Android Device\n    ],\n    [MODEL, [VENDOR, \"Generic\"]]\n  ],\n  engine: [\n    [\n      /windows.+ edge\\/([\\w\\.]+)/i\n      // EdgeHTML\n    ],\n    [VERSION, [NAME, EDGE + \"HTML\"]],\n    [\n      /(arkweb)\\/([\\w\\.]+)/i\n      // ArkWeb\n    ],\n    [NAME, VERSION],\n    [\n      /webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i\n      // Blink\n    ],\n    [VERSION, [NAME, \"Blink\"]],\n    [\n      /(presto)\\/([\\w\\.]+)/i,\n      // Presto\n      /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\\/([\\w\\.]+)/i,\n      // WebKit/Trident/NetFront/NetSurf/Amaya/Lynx/w3m/Goanna/Servo\n      /ekioh(flow)\\/([\\w\\.]+)/i,\n      // Flow\n      /(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i,\n      // KHTML/Tasman/Links\n      /(icab)[\\/ ]([23]\\.[\\d\\.]+)/i,\n      // iCab\n      /\\b(libweb)/i\n      // LibWeb\n    ],\n    [NAME, VERSION],\n    [\n      /ladybird\\//i\n    ],\n    [[NAME, \"LibWeb\"]],\n    [\n      /rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i\n      // Gecko\n    ],\n    [VERSION, NAME]\n  ],\n  os: [\n    [\n      // Windows\n      /microsoft (windows) (vista|xp)/i\n      // Windows (iTunes)\n    ],\n    [NAME, VERSION],\n    [\n      /(windows (?:phone(?: os)?|mobile|iot))[\\/ ]?([\\d\\.\\w ]*)/i\n      // Windows Phone\n    ],\n    [NAME, [VERSION, strMapper, windowsVersionMap]],\n    [\n      /windows nt 6\\.2; (arm)/i,\n      // Windows RT\n      /windows[\\/ ]([ntce\\d\\. ]+\\w)(?!.+xbox)/i,\n      /(?:win(?=3|9|n)|win 9x )([nt\\d\\.]+)/i\n    ],\n    [[VERSION, strMapper, windowsVersionMap], [NAME, WINDOWS]],\n    [\n      // iOS/macOS\n      /[adehimnop]{4,7}\\b(?:.*os ([\\w]+) like mac|; opera)/i,\n      // iOS\n      /(?:ios;fbsv\\/|iphone.+ios[\\/ ])([\\d\\.]+)/i,\n      /cfnetwork\\/.+darwin/i\n    ],\n    [[VERSION, /_/g, \".\"], [NAME, \"iOS\"]],\n    [\n      /(mac os x) ?([\\w\\. ]*)/i,\n      /(macintosh|mac_powerpc\\b)(?!.+haiku)/i\n      // Mac OS\n    ],\n    [[NAME, \"macOS\"], [VERSION, /_/g, \".\"]],\n    [\n      // Google Chromecast\n      /android ([\\d\\.]+).*crkey/i\n      // Google Chromecast, Android-based\n    ],\n    [VERSION, [NAME, CHROMECAST + \" Android\"]],\n    [\n      /fuchsia.*crkey\\/([\\d\\.]+)/i\n      // Google Chromecast, Fuchsia-based\n    ],\n    [VERSION, [NAME, CHROMECAST + \" Fuchsia\"]],\n    [\n      /crkey\\/([\\d\\.]+).*devicetype\\/smartspeaker/i\n      // Google Chromecast, Linux-based Smart Speaker\n    ],\n    [VERSION, [NAME, CHROMECAST + \" SmartSpeaker\"]],\n    [\n      /linux.*crkey\\/([\\d\\.]+)/i\n      // Google Chromecast, Legacy Linux-based\n    ],\n    [VERSION, [NAME, CHROMECAST + \" Linux\"]],\n    [\n      /crkey\\/([\\d\\.]+)/i\n      // Google Chromecast, unknown\n    ],\n    [VERSION, [NAME, CHROMECAST]],\n    [\n      // Mobile OSes\n      /droid ([\\w\\.]+)\\b.+(android[- ]x86|harmonyos)/i\n      // Android-x86/HarmonyOS\n    ],\n    [VERSION, NAME],\n    [\n      /(ubuntu) ([\\w\\.]+) like android/i\n      // Ubuntu Touch\n    ],\n    [[NAME, /(.+)/, \"$1 Touch\"], VERSION],\n    [\n      // Android/Blackberry/WebOS/QNX/Bada/RIM/KaiOS/Maemo/MeeGo/S40/Sailfish OS/OpenHarmony/Tizen\n      /(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\\w*[-\\/\\.; ]?([\\d\\.]*)/i\n    ],\n    [NAME, VERSION],\n    [\n      /\\(bb(10);/i\n      // BlackBerry 10\n    ],\n    [VERSION, [NAME, BLACKBERRY]],\n    [\n      /(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\\/ ]?([\\w\\.]*)/i\n      // Symbian\n    ],\n    [VERSION, [NAME, \"Symbian\"]],\n    [\n      /mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i\n      // Firefox OS\n    ],\n    [VERSION, [NAME, FIREFOX + \" OS\"]],\n    [\n      /web0s;.+rt(tv)/i,\n      /\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i\n      // WebOS\n    ],\n    [VERSION, [NAME, \"webOS\"]],\n    [\n      /watch(?: ?os[,\\/]|\\d,\\d\\/)([\\d\\.]+)/i\n      // watchOS\n    ],\n    [VERSION, [NAME, \"watchOS\"]],\n    [\n      // Google ChromeOS\n      /(cros) [\\w]+(?:\\)| ([\\w\\.]+)\\b)/i\n      // Chromium OS\n    ],\n    [[NAME, \"Chrome OS\"], VERSION],\n    [\n      // Smart TVs\n      /panasonic;(viera)/i,\n      // Panasonic Viera\n      /(netrange)mmh/i,\n      // Netrange\n      /(nettv)\\/(\\d+\\.[\\w\\.]+)/i,\n      // NetTV\n      // Console\n      /(nintendo|playstation) (\\w+)/i,\n      // Nintendo/Playstation\n      /(xbox); +xbox ([^\\);]+)/i,\n      // Microsoft Xbox (360, One, X, S, Series X, Series S)\n      /(pico) .+os([\\w\\.]+)/i,\n      // Pico\n      // Other\n      /\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i,\n      // Joli/Palm\n      /(mint)[\\/\\(\\) ]?(\\w*)/i,\n      // Mint\n      /(mageia|vectorlinux)[; ]/i,\n      // Mageia/VectorLinux\n      /([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,\n      // Ubuntu/Debian/SUSE/Gentoo/Arch/Slackware/Fedora/Mandriva/CentOS/PCLinuxOS/RedHat/Zenwalk/Linpus/Raspbian/Plan9/Minix/RISCOS/Contiki/Deepin/Manjaro/elementary/Sabayon/Linspire\n      /(hurd|linux)(?: arm\\w*| x86\\w*| ?)([\\w\\.]*)/i,\n      // Hurd/Linux\n      /(gnu) ?([\\w\\.]*)/i,\n      // GNU\n      /\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i,\n      // FreeBSD/NetBSD/OpenBSD/PC-BSD/GhostBSD/DragonFly\n      /(haiku) (\\w+)/i\n      // Haiku\n    ],\n    [NAME, VERSION],\n    [\n      /(sunos) ?([\\w\\.\\d]*)/i\n      // Solaris\n    ],\n    [[NAME, \"Solaris\"], VERSION],\n    [\n      /((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i,\n      // Solaris\n      /(aix) ((\\d)(?=\\.|\\)| )[\\w\\.])*/i,\n      // AIX\n      /\\b(beos|os\\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,\n      // BeOS/OS2/AmigaOS/MorphOS/OpenVMS/Fuchsia/HP-UX/SerenityOS\n      /(unix) ?([\\w\\.]*)/i\n      // UNIX\n    ],\n    [NAME, VERSION]\n  ]\n};\nvar defaultProps = function() {\n  var props = { init: {}, isIgnore: {}, isIgnoreRgx: {}, toString: {} };\n  setProps.call(props.init, [\n    [UA_BROWSER, [NAME, VERSION, MAJOR, TYPE]],\n    [UA_CPU, [ARCHITECTURE]],\n    [UA_DEVICE, [TYPE, MODEL, VENDOR]],\n    [UA_ENGINE, [NAME, VERSION]],\n    [UA_OS, [NAME, VERSION]]\n  ]);\n  setProps.call(props.isIgnore, [\n    [UA_BROWSER, [VERSION, MAJOR]],\n    [UA_ENGINE, [VERSION]],\n    [UA_OS, [VERSION]]\n  ]);\n  setProps.call(props.isIgnoreRgx, [\n    [UA_BROWSER, / ?browser$/i],\n    [UA_OS, / ?os$/i]\n  ]);\n  setProps.call(props.toString, [\n    [UA_BROWSER, [NAME, VERSION]],\n    [UA_CPU, [ARCHITECTURE]],\n    [UA_DEVICE, [VENDOR, MODEL]],\n    [UA_ENGINE, [NAME, VERSION]],\n    [UA_OS, [NAME, VERSION]]\n  ]);\n  return props;\n}();\nvar createIData = function(item, itemType) {\n  var init_props = defaultProps.init[itemType], is_ignoreProps = defaultProps.isIgnore[itemType] || 0, is_ignoreRgx = defaultProps.isIgnoreRgx[itemType] || 0, toString_props = defaultProps.toString[itemType] || 0;\n  function IData() {\n    setProps.call(this, init_props);\n  }\n  IData.prototype.getItem = function() {\n    return item;\n  };\n  IData.prototype.withClientHints = function() {\n    if (!NAVIGATOR_UADATA) {\n      return item.parseCH().get();\n    }\n    return NAVIGATOR_UADATA.getHighEntropyValues(CH_ALL_VALUES).then(function(res) {\n      return item.setCH(new UACHData(res, false)).parseCH().get();\n    });\n  };\n  IData.prototype.withFeatureCheck = function() {\n    return item.detectFeature().get();\n  };\n  if (itemType != UA_RESULT) {\n    IData.prototype.is = function(strToCheck) {\n      var is = false;\n      for (var i2 in this) {\n        if (this.hasOwnProperty(i2) && !has(is_ignoreProps, i2) && lowerize(is_ignoreRgx ? strip(is_ignoreRgx, this[i2]) : this[i2]) == lowerize(is_ignoreRgx ? strip(is_ignoreRgx, strToCheck) : strToCheck)) {\n          is = true;\n          if (strToCheck != UNDEF_TYPE) break;\n        } else if (strToCheck == UNDEF_TYPE && is) {\n          is = !is;\n          break;\n        }\n      }\n      return is;\n    };\n    IData.prototype.toString = function() {\n      var str = EMPTY;\n      for (var i2 in toString_props) {\n        if (typeof this[toString_props[i2]] !== UNDEF_TYPE) {\n          str += (str ? \" \" : EMPTY) + this[toString_props[i2]];\n        }\n      }\n      return str || UNDEF_TYPE;\n    };\n  }\n  if (!NAVIGATOR_UADATA) {\n    IData.prototype.then = function(cb) {\n      var that = this;\n      var IDataResolve = function() {\n        for (var prop in that) {\n          if (that.hasOwnProperty(prop)) {\n            this[prop] = that[prop];\n          }\n        }\n      };\n      IDataResolve.prototype = {\n        is: IData.prototype.is,\n        toString: IData.prototype.toString\n      };\n      var resolveData = new IDataResolve();\n      cb(resolveData);\n      return resolveData;\n    };\n  }\n  return new IData();\n};\nfunction UACHData(uach, isHttpUACH) {\n  uach = uach || {};\n  setProps.call(this, CH_ALL_VALUES);\n  if (isHttpUACH) {\n    setProps.call(this, [\n      [BRANDS, itemListToArray(uach[CH_HEADER])],\n      [FULLVERLIST, itemListToArray(uach[CH_HEADER_FULL_VER_LIST])],\n      [MOBILE, /\\?1/.test(uach[CH_HEADER_MOBILE])],\n      [MODEL, stripQuotes(uach[CH_HEADER_MODEL])],\n      [PLATFORM, stripQuotes(uach[CH_HEADER_PLATFORM])],\n      [PLATFORMVER, stripQuotes(uach[CH_HEADER_PLATFORM_VER])],\n      [ARCHITECTURE, stripQuotes(uach[CH_HEADER_ARCH])],\n      [FORMFACTORS, itemListToArray(uach[CH_HEADER_FORM_FACTORS])],\n      [BITNESS, stripQuotes(uach[CH_HEADER_BITNESS])]\n    ]);\n  } else {\n    for (var prop in uach) {\n      if (this.hasOwnProperty(prop) && typeof uach[prop] !== UNDEF_TYPE) this[prop] = uach[prop];\n    }\n  }\n}\nfunction UAItem(itemType, ua, rgxMap, uaCH) {\n  this.get = function(prop) {\n    if (!prop) return this.data;\n    return this.data.hasOwnProperty(prop) ? this.data[prop] : void 0;\n  };\n  this.set = function(prop, val) {\n    this.data[prop] = val;\n    return this;\n  };\n  this.setCH = function(ch) {\n    this.uaCH = ch;\n    return this;\n  };\n  this.detectFeature = function() {\n    if (NAVIGATOR && NAVIGATOR.userAgent == this.ua) {\n      switch (this.itemType) {\n        case UA_BROWSER:\n          if (NAVIGATOR.brave && typeof NAVIGATOR.brave.isBrave == FUNC_TYPE) {\n            this.set(NAME, \"Brave\");\n          }\n          break;\n        case UA_DEVICE:\n          if (!this.get(TYPE) && NAVIGATOR_UADATA && NAVIGATOR_UADATA[MOBILE]) {\n            this.set(TYPE, MOBILE);\n          }\n          if (this.get(MODEL) == \"Macintosh\" && NAVIGATOR && typeof NAVIGATOR.standalone !== UNDEF_TYPE && NAVIGATOR.maxTouchPoints && NAVIGATOR.maxTouchPoints > 2) {\n            this.set(MODEL, \"iPad\").set(TYPE, TABLET);\n          }\n          break;\n        case UA_OS:\n          if (!this.get(NAME) && NAVIGATOR_UADATA && NAVIGATOR_UADATA[PLATFORM]) {\n            this.set(NAME, NAVIGATOR_UADATA[PLATFORM]);\n          }\n          break;\n        case UA_RESULT:\n          var data = this.data;\n          var detect = function(itemType2) {\n            return data[itemType2].getItem().detectFeature().get();\n          };\n          this.set(UA_BROWSER, detect(UA_BROWSER)).set(UA_CPU, detect(UA_CPU)).set(UA_DEVICE, detect(UA_DEVICE)).set(UA_ENGINE, detect(UA_ENGINE)).set(UA_OS, detect(UA_OS));\n      }\n    }\n    return this;\n  };\n  this.parseUA = function() {\n    if (this.itemType != UA_RESULT) {\n      rgxMapper.call(this.data, this.ua, this.rgxMap);\n    }\n    if (this.itemType == UA_BROWSER) {\n      this.set(MAJOR, majorize(this.get(VERSION)));\n    }\n    return this;\n  };\n  this.parseCH = function() {\n    var uaCH2 = this.uaCH, rgxMap2 = this.rgxMap;\n    switch (this.itemType) {\n      case UA_BROWSER:\n      case UA_ENGINE:\n        var brands = uaCH2[FULLVERLIST] || uaCH2[BRANDS], prevName;\n        if (brands) {\n          for (var i2 in brands) {\n            var brandName = brands[i2].brand || brands[i2], brandVersion = brands[i2].version;\n            if (this.itemType == UA_BROWSER && !/not.a.brand/i.test(brandName) && (!prevName || /chrom/i.test(prevName) && brandName != CHROMIUM)) {\n              brandName = strMapper(brandName, {\n                \"Chrome\": \"Google Chrome\",\n                \"Edge\": \"Microsoft Edge\",\n                \"Chrome WebView\": \"Android WebView\",\n                \"Chrome Headless\": \"HeadlessChrome\",\n                \"Huawei Browser\": \"HuaweiBrowser\",\n                \"MIUI Browser\": \"Miui Browser\",\n                \"Opera Mobi\": \"OperaMobile\",\n                \"Yandex\": \"YaBrowser\"\n              });\n              this.set(NAME, brandName).set(VERSION, brandVersion).set(MAJOR, majorize(brandVersion));\n              prevName = brandName;\n            }\n            if (this.itemType == UA_ENGINE && brandName == CHROMIUM) {\n              this.set(VERSION, brandVersion);\n            }\n          }\n        }\n        break;\n      case UA_CPU:\n        var archName = uaCH2[ARCHITECTURE];\n        if (archName) {\n          if (archName && uaCH2[BITNESS] == \"64\") archName += \"64\";\n          rgxMapper.call(this.data, archName + \";\", rgxMap2);\n        }\n        break;\n      case UA_DEVICE:\n        if (uaCH2[MOBILE]) {\n          this.set(TYPE, MOBILE);\n        }\n        if (uaCH2[MODEL]) {\n          this.set(MODEL, uaCH2[MODEL]);\n          if (!this.get(TYPE) || !this.get(VENDOR)) {\n            var reParse = {};\n            rgxMapper.call(reParse, \"droid 9; \" + uaCH2[MODEL] + \")\", rgxMap2);\n            if (!this.get(TYPE) && !!reParse.type) {\n              this.set(TYPE, reParse.type);\n            }\n            if (!this.get(VENDOR) && !!reParse.vendor) {\n              this.set(VENDOR, reParse.vendor);\n            }\n          }\n        }\n        if (uaCH2[FORMFACTORS]) {\n          var ff;\n          if (typeof uaCH2[FORMFACTORS] !== \"string\") {\n            var idx = 0;\n            while (!ff && idx < uaCH2[FORMFACTORS].length) {\n              ff = strMapper(uaCH2[FORMFACTORS][idx++], formFactorsMap);\n            }\n          } else {\n            ff = strMapper(uaCH2[FORMFACTORS], formFactorsMap);\n          }\n          this.set(TYPE, ff);\n        }\n        break;\n      case UA_OS:\n        var osName = uaCH2[PLATFORM];\n        if (osName) {\n          var osVersion = uaCH2[PLATFORMVER];\n          if (osName == WINDOWS) osVersion = parseInt(majorize(osVersion), 10) >= 13 ? \"11\" : \"10\";\n          this.set(NAME, osName).set(VERSION, osVersion);\n        }\n        if (this.get(NAME) == WINDOWS && uaCH2[MODEL] == \"Xbox\") {\n          this.set(NAME, \"Xbox\").set(VERSION, void 0);\n        }\n        break;\n      case UA_RESULT:\n        var data = this.data;\n        var parse = function(itemType2) {\n          return data[itemType2].getItem().setCH(uaCH2).parseCH().get();\n        };\n        this.set(UA_BROWSER, parse(UA_BROWSER)).set(UA_CPU, parse(UA_CPU)).set(UA_DEVICE, parse(UA_DEVICE)).set(UA_ENGINE, parse(UA_ENGINE)).set(UA_OS, parse(UA_OS));\n    }\n    return this;\n  };\n  setProps.call(this, [\n    [\"itemType\", itemType],\n    [\"ua\", ua],\n    [\"uaCH\", uaCH],\n    [\"rgxMap\", rgxMap],\n    [\"data\", createIData(this, itemType)]\n  ]);\n  return this;\n}\nfunction UAParser(ua, extensions, headers) {\n  if (typeof ua === OBJ_TYPE) {\n    if (isExtensions(ua, true)) {\n      if (typeof extensions === OBJ_TYPE) {\n        headers = extensions;\n      }\n      extensions = ua;\n    } else {\n      headers = ua;\n      extensions = void 0;\n    }\n    ua = void 0;\n  } else if (typeof ua === STR_TYPE && !isExtensions(extensions, true)) {\n    headers = extensions;\n    extensions = void 0;\n  }\n  if (headers && typeof headers.append === FUNC_TYPE) {\n    var kv = {};\n    headers.forEach(function(v2, k2) {\n      kv[k2] = v2;\n    });\n    headers = kv;\n  }\n  if (!(this instanceof UAParser)) {\n    return new UAParser(ua, extensions, headers).getResult();\n  }\n  var userAgent = typeof ua === STR_TYPE ? ua : (\n    // Passed user-agent string\n    headers && headers[USER_AGENT] ? headers[USER_AGENT] : (\n      // User-Agent from passed headers\n      NAVIGATOR && NAVIGATOR.userAgent ? NAVIGATOR.userAgent : (\n        // navigator.userAgent\n        EMPTY\n      )\n    )\n  ), httpUACH = new UACHData(headers, true), regexMap = extensions ? extend(defaultRegexes, extensions) : defaultRegexes, createItemFunc = function(itemType) {\n    if (itemType == UA_RESULT) {\n      return function() {\n        return new UAItem(itemType, userAgent, regexMap, httpUACH).set(\"ua\", userAgent).set(UA_BROWSER, this.getBrowser()).set(UA_CPU, this.getCPU()).set(UA_DEVICE, this.getDevice()).set(UA_ENGINE, this.getEngine()).set(UA_OS, this.getOS()).get();\n      };\n    } else {\n      return function() {\n        return new UAItem(itemType, userAgent, regexMap[itemType], httpUACH).parseUA().get();\n      };\n    }\n  };\n  setProps.call(this, [\n    [\"getBrowser\", createItemFunc(UA_BROWSER)],\n    [\"getCPU\", createItemFunc(UA_CPU)],\n    [\"getDevice\", createItemFunc(UA_DEVICE)],\n    [\"getEngine\", createItemFunc(UA_ENGINE)],\n    [\"getOS\", createItemFunc(UA_OS)],\n    [\"getResult\", createItemFunc(UA_RESULT)],\n    [\"getUA\", function() {\n      return userAgent;\n    }],\n    [\"setUA\", function(ua2) {\n      if (isString(ua2))\n        userAgent = ua2.length > UA_MAX_LENGTH ? trim(ua2, UA_MAX_LENGTH) : ua2;\n      return this;\n    }]\n  ]).setUA(userAgent);\n  return this;\n}\nUAParser.VERSION = LIBVERSION;\nUAParser.BROWSER = enumerize([NAME, VERSION, MAJOR, TYPE]);\nUAParser.CPU = enumerize([ARCHITECTURE]);\nUAParser.DEVICE = enumerize([MODEL, VENDOR, TYPE, CONSOLE, MOBILE, SMARTTV, TABLET, WEARABLE, EMBEDDED]);\nUAParser.ENGINE = UAParser.OS = enumerize([NAME, VERSION]);\nconst useBrowserInfo = () => {\n  const browserInfo = T$5(() => {\n    {\n      const parser = new UAParser();\n      const result = parser.getResult();\n      return {\n        browser: result.browser,\n        engine: result.engine,\n        os: result.os,\n        device: result.device,\n        cpu: result.cpu\n      };\n    }\n  }, []);\n  return browserInfo;\n};\nfunction useHotkeyListenerComboText(action) {\n  const userAgent = useBrowserInfo();\n  return userAgent.os.name.toLowerCase().includes(\"mac\") ? hotkeyActionDefinitions[action].keyComboMac : hotkeyActionDefinitions[action].keyComboDefault;\n}\nfunction ChatBox() {\n  const chatState = useChatState();\n  const currentChat = T$5(\n    () => chatState.chats.find((c2) => c2.id === chatState.currentChatId),\n    [chatState.chats, chatState.currentChatId]\n  );\n  const currentInput = T$5(\n    () => (currentChat == null ? void 0 : currentChat.inputValue) || \"\",\n    [currentChat == null ? void 0 : currentChat.inputValue]\n  );\n  const showBigBox = T$5(() => {\n    return currentInput.split(\"\\n\").length > 1 || currentInput.length > 30;\n  }, [currentInput]);\n  const handleInputChange = q$3(\n    (value) => {\n      chatState.setChatInput(chatState.currentChatId, value);\n    },\n    [chatState.setChatInput, chatState.currentChatId]\n  );\n  const handleSubmit = q$3(() => {\n    if (!currentChat || !currentInput.trim()) return;\n    chatState.addMessage(currentChat.id, currentInput);\n  }, [currentChat, currentInput, chatState.addMessage]);\n  const handleKeyDown = q$3(\n    (e2) => {\n      if (e2.key === \"Enter\" && !e2.shiftKey) {\n        e2.preventDefault();\n        handleSubmit();\n      }\n    },\n    [handleSubmit]\n  );\n  const inputRef = A$3(null);\n  y$6(() => {\n    var _a, _b, _c;\n    const blurHandler = () => {\n      var _a2;\n      return (_a2 = inputRef.current) == null ? void 0 : _a2.focus();\n    };\n    if (chatState.isPromptCreationActive) {\n      (_a = inputRef.current) == null ? void 0 : _a.focus();\n      (_b = inputRef.current) == null ? void 0 : _b.addEventListener(\"blur\", blurHandler);\n    } else {\n      (_c = inputRef.current) == null ? void 0 : _c.blur();\n    }\n    return () => {\n      var _a2;\n      (_a2 = inputRef.current) == null ? void 0 : _a2.removeEventListener(\"blur\", blurHandler);\n    };\n  }, [chatState.isPromptCreationActive]);\n  const buttonClassName = T$5(\n    () => cn(\n      \"flex size-6 items-center justify-center rounded-full bg-transparent p-1 text-zinc-950 opacity-20\",\n      currentInput.length > 0 && \"bg-blue-600 text-white opacity-100\"\n    ),\n    [currentInput.length]\n  );\n  const textareaClassName = T$5(\n    () => cn(\n      \"w-full flex-1 resize-none bg-transparent text-zinc-950 placeholder:text-zinc-950/50 focus:outline-none\",\n      showBigBox ? \"h-[4.5em]\" : \"h-6\"\n    ),\n    [showBigBox]\n  );\n  const ctrlAltCText = useHotkeyListenerComboText(HotkeyActions.CTRL_ALT_C);\n  return /* @__PURE__ */ u$9(\n    \"div\",\n    {\n      className: cn(\n        \"flex h-fit w-80 flex-1 flex-row items-end gap-1 rounded-2xl border border-border/10 bg-zinc-950/5 p-1.5 pl-2 text-sm text-zinc-950 shadow-inner transition-all duration-150 placeholder:text-zinc-950/70\",\n        chatState.isPromptCreationActive && \"ring-2 ring-blue-600\"\n      ),\n      onClick: () => chatState.startPromptCreation(),\n      role: \"button\",\n      tabIndex: 0,\n      children: [\n        /* @__PURE__ */ u$9(\n          J,\n          {\n            ref: inputRef,\n            className: textareaClassName,\n            rows: showBigBox ? 4 : 1,\n            value: currentInput,\n            onChange: (e2) => handleInputChange(e2.currentTarget.value),\n            onKeyDown: handleKeyDown,\n            placeholder: chatState.isPromptCreationActive ? \"Enter prompt...\" : `What do you want to change? (${ctrlAltCText})`\n          }\n        ),\n        /* @__PURE__ */ u$9(\n          H$3,\n          {\n            className: buttonClassName,\n            disabled: currentInput.length === 0,\n            onClick: handleSubmit,\n            children: /* @__PURE__ */ u$9(Send, { className: \"size-3\" })\n          }\n        )\n      ]\n    }\n  );\n}\nconst DropdownMenu = to;\nconst DropdownMenuButton = D$1(\n  (props, ref) => {\n    return /* @__PURE__ */ u$9(mt, { as: k$3, ref, ...props });\n  }\n);\nconst DropdownMenuContent = D$1(\n  (props, ref) => {\n    return /* @__PURE__ */ u$9(\n      Tt,\n      {\n        ref,\n        anchor: \"bottom\",\n        transition: true,\n        portal: true,\n        ...props,\n        className: cn(\n          \"z-50 flex w-fit min-w-24 max-w-90 flex-col items-stretch justify-start gap-1 rounded-lg border border-border/30 border-solid bg-background/60 p-1 shadow-black/50 shadow-lg outline-none backdrop-blur-md data-focus:outline-none\",\n          props.className\n        )\n      }\n    );\n  }\n);\nconst DropdownMenuItemStyles = \"w-full flex flex-row select-none items-center justify-start gap-2 p-2 pr-6 truncate overflow-hidden rounded-md hover:bg-zinc-950/10 focus:text-zinc-900 cursor-pointer transition-color duration-150 text-sm font-normal text-foreground\";\nconst DropdownMenuButttonItem = D$1(\n  (props, ref) => {\n    return /* @__PURE__ */ u$9(ft, { ref, children: /* @__PURE__ */ u$9(\n      H$3,\n      {\n        ...props,\n        className: cn(DropdownMenuItemStyles, props.className)\n      }\n    ) });\n  }\n);\nD$1(\n  (props, ref) => {\n    return /* @__PURE__ */ u$9(ft, { ref, children: /* @__PURE__ */ u$9(\"a\", { ...props, className: cn(DropdownMenuItemStyles, props.className) }) });\n  }\n);\nfunction ToolbarItem(props) {\n  return /* @__PURE__ */ u$9(\"div\", { className: \"flex h-full shrink-0 items-center justify-center\", children: [\n    props.children,\n    props.badgeContent && /* @__PURE__ */ u$9(\n      \"div\",\n      {\n        className: cn(\n          \"bg-blue-600 text-white\",\n          props.badgeClassName,\n          \"-bottom-0.5 -right-1 pointer-events-none absolute flex h-4 w-max min-w-4 max-w-8 select-none items-center justify-center truncate rounded-full px-1 font-semibold text-xs\"\n        ),\n        children: props.badgeContent\n      }\n    ),\n    props.statusDot && /* @__PURE__ */ u$9(\n      \"div\",\n      {\n        className: cn(\n          \"bg-rose-600\",\n          props.statusDotClassName,\n          \"pointer-events-none absolute top-0 right-0 size-1.5 rounded-full\"\n        )\n      }\n    )\n  ] });\n}\nconst ToolbarButton = D$1(\n  ({\n    badgeContent,\n    badgeClassName,\n    statusDot,\n    statusDotClassName,\n    tooltipHint,\n    variant = \"default\",\n    ...props\n  }, ref) => {\n    const button = /* @__PURE__ */ u$9(\n      H$3,\n      {\n        ref,\n        ...props,\n        className: cn(\n          \"flex items-center justify-center rounded-full p-1 text-zinc-950 hover:bg-zinc-950/5\",\n          variant === \"default\" ? \"size-8\" : \"h-8 rounded-full\"\n        )\n      }\n    );\n    return /* @__PURE__ */ u$9(\n      ToolbarItem,\n      {\n        badgeContent,\n        badgeClassName,\n        statusDot,\n        statusDotClassName,\n        children: button\n      }\n    );\n  }\n);\nToolbarButton.displayName = \"ToolbarButton\";\nfunction ToolbarSection({ children }) {\n  return /* @__PURE__ */ u$9(\"div\", { className: \"fade-in slide-in-from-bottom-2 flex max-h-full max-w-sm animate-in snap-start flex-row items-center justify-between gap-2 border-x border-r-border/30 border-l-transparent px-3 first:pl-0 last:border-r-transparent last:pr-0\", children });\n}\nfunction MoreActionsButton() {\n  const minimizeCompanion = useAppState((state) => state.minimize);\n  const plugins = usePlugins();\n  const pluginTools = T$5(() => {\n    return plugins.flatMap((plugin) => plugin.actions);\n  }, [plugins]);\n  return /* @__PURE__ */ u$9(ToolbarSection, { children: /* @__PURE__ */ u$9(DropdownMenu, { children: [\n    /* @__PURE__ */ u$9(DropdownMenuButton, { children: /* @__PURE__ */ u$9(ToolbarButton, { children: /* @__PURE__ */ u$9(Ellipsis, { className: \"size-4\" }) }) }),\n    /* @__PURE__ */ u$9(DropdownMenuContent, { children: [\n      pluginTools.map((tool) => /* @__PURE__ */ u$9(DropdownMenuButttonItem, { onClick: tool.execute, children: tool.name })),\n      /* @__PURE__ */ u$9(DropdownMenuButttonItem, { onClick: minimizeCompanion, children: [\n        /* @__PURE__ */ u$9(Minimize2, { className: \"size-4\" }),\n        \"Minimize companion\"\n      ] })\n    ] })\n  ] }) });\n}\nconst DraggableContext = K$3(\n  null\n);\nconst DraggableProvider = ({\n  containerRef,\n  children,\n  snapAreas,\n  onDragStart,\n  onDragEnd\n}) => {\n  const [borderLocation, setBorderLocation] = d$4({\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0\n  });\n  const dragStartListeners = A$3(/* @__PURE__ */ new Set());\n  const dragEndListeners = A$3(/* @__PURE__ */ new Set());\n  const registerDragStart = q$3((cb) => {\n    dragStartListeners.current.add(cb);\n    return () => dragStartListeners.current.delete(cb);\n  }, []);\n  const registerDragEnd = q$3((cb) => {\n    dragEndListeners.current.add(cb);\n    return () => dragEndListeners.current.delete(cb);\n  }, []);\n  const emitDragStart = q$3(() => {\n    if (onDragStart) onDragStart();\n    dragStartListeners.current.forEach((cb) => cb());\n  }, [onDragStart]);\n  const emitDragEnd = q$3(() => {\n    if (onDragEnd) onDragEnd();\n    dragEndListeners.current.forEach((cb) => cb());\n  }, [onDragEnd]);\n  const contextValue = {\n    borderLocation,\n    snapAreas,\n    registerDragStart,\n    registerDragEnd,\n    emitDragStart,\n    emitDragEnd\n  };\n  y$6(() => {\n    if (!containerRef.current) return;\n    const updateBorderLocation = () => {\n      const rect = containerRef.current.getBoundingClientRect();\n      setBorderLocation({\n        top: rect.top,\n        left: rect.left,\n        right: rect.right,\n        bottom: rect.bottom\n      });\n    };\n    updateBorderLocation();\n    const resizeObserver = new ResizeObserver(updateBorderLocation);\n    resizeObserver.observe(containerRef.current);\n    const handleScroll = () => {\n      requestAnimationFrame(updateBorderLocation);\n    };\n    window.addEventListener(\"scroll\", handleScroll, true);\n    let parent = containerRef.current.parentElement;\n    while (parent) {\n      parent.addEventListener(\"scroll\", handleScroll);\n      parent = parent.parentElement;\n    }\n    return () => {\n      var _a;\n      resizeObserver.disconnect();\n      window.removeEventListener(\"scroll\", handleScroll, true);\n      parent = (_a = containerRef.current) == null ? void 0 : _a.parentElement;\n      while (parent) {\n        parent.removeEventListener(\"scroll\", handleScroll);\n        parent = parent.parentElement;\n      }\n    };\n  }, [containerRef]);\n  return /* @__PURE__ */ u$9(DraggableContext.Provider, { value: contextValue, children });\n};\nfunction useDraggable(config) {\n  const providerData = x$4(DraggableContext);\n  const latestProviderDataRef = A$3(providerData);\n  y$6(() => {\n    latestProviderDataRef.current = providerData;\n  }, [providerData]);\n  const movingElementRef = A$3(null);\n  const dragInitiatorRef = A$3(null);\n  const [movingElementNode, setMovingElementNode] = d$4(null);\n  const [dragInitiatorNode, setDragInitiatorNode] = d$4(null);\n  const mouseToDraggableCenterOffsetRef = A$3(null);\n  const mouseDownPosRef = A$3(null);\n  const currentMousePosRef = A$3(null);\n  const isDraggingRef = A$3(false);\n  const persistedRelativeCenterRef = A$3(config.initialRelativeCenter);\n  const [currentSnapArea, setCurrentSnapArea] = d$4(null);\n  const {\n    startThreshold = 3,\n    areaSnapThreshold = 60,\n    // px, default threshold for snapping\n    onDragStart,\n    onDragEnd,\n    initialSnapArea,\n    springStiffness = 0.3,\n    // Default spring stiffness\n    springDampness = 0.5\n    // Default spring dampness\n    // initialRelativeCenter is used to initialize persistedRelativeCenterRef\n  } = config;\n  const animatedPositionRef = A$3(null);\n  const velocityRef = A$3({ x: 0, y: 0 });\n  const hasAnimatedOnceRef = A$3(false);\n  y$6(() => {\n    if (initialSnapArea && providerData && providerData.borderLocation && providerData.snapAreas && providerData.snapAreas[initialSnapArea] && !isDraggingRef.current) {\n      const { top, left, right, bottom } = providerData.borderLocation;\n      const width = right - left;\n      const height = bottom - top;\n      const areaCenters = {\n        topLeft: { x: left, y: top },\n        topCenter: { x: left + width / 2, y: top },\n        topRight: { x: right, y: top },\n        centerLeft: { x: left, y: top + height / 2 },\n        center: { x: left + width / 2, y: top + height / 2 },\n        centerRight: { x: right, y: top + height / 2 },\n        bottomLeft: { x: left, y: bottom },\n        bottomCenter: { x: left + width / 2, y: bottom },\n        bottomRight: { x: right, y: bottom }\n      };\n      const center = areaCenters[initialSnapArea];\n      if (center && window.innerWidth > 0 && window.innerHeight > 0) {\n        const relX = (center.x - left) / (right - left);\n        const relY = (center.y - top) / (bottom - top);\n        persistedRelativeCenterRef.current = { x: relX, y: relY };\n      }\n    }\n  }, [initialSnapArea, providerData]);\n  function getSnapAreaCenters(borderLocation) {\n    const { top, left, right, bottom } = borderLocation;\n    const width = right - left;\n    const height = bottom - top;\n    return {\n      topLeft: { x: left, y: top },\n      topCenter: { x: left + width / 2, y: top },\n      topRight: { x: right, y: top },\n      centerLeft: { x: left, y: top + height / 2 },\n      center: { x: left + width / 2, y: top + height / 2 },\n      centerRight: { x: right, y: top + height / 2 },\n      bottomLeft: { x: left, y: bottom },\n      bottomCenter: { x: left + width / 2, y: bottom },\n      bottomRight: { x: right, y: bottom }\n    };\n  }\n  const updateDraggablePosition = q$3(() => {\n    var _a, _b;\n    const draggableEl = movingElementRef.current;\n    if (!draggableEl) return;\n    const draggableWidth = draggableEl.offsetWidth;\n    const draggableHeight = draggableEl.offsetHeight;\n    const offsetParent = draggableEl.offsetParent;\n    let parentViewportLeft = 0;\n    let parentViewportTop = 0;\n    let parentWidth = window.innerWidth;\n    let parentHeight = window.innerHeight;\n    if (offsetParent) {\n      const opRect = offsetParent.getBoundingClientRect();\n      parentViewportLeft = opRect.left;\n      parentViewportTop = opRect.top;\n      parentWidth = offsetParent.offsetWidth || window.innerWidth;\n      parentHeight = offsetParent.offsetHeight || window.innerHeight;\n    }\n    let targetViewportCenterX = null;\n    let targetViewportCenterY = null;\n    const currentDesiredRelativeCenter = persistedRelativeCenterRef.current;\n    let snapArea = null;\n    let snapTarget = null;\n    const provider = latestProviderDataRef.current;\n    if (isDraggingRef.current && mouseToDraggableCenterOffsetRef.current && currentMousePosRef.current && provider && provider.borderLocation && provider.snapAreas) {\n      const dragCenter = {\n        x: currentMousePosRef.current.x - mouseToDraggableCenterOffsetRef.current.x,\n        y: currentMousePosRef.current.y - mouseToDraggableCenterOffsetRef.current.y\n      };\n      const areaCenters = getSnapAreaCenters(provider.borderLocation);\n      let minDist = Number.POSITIVE_INFINITY;\n      let closestArea = null;\n      let closestCenter = null;\n      for (const area in provider.snapAreas) {\n        if (provider.snapAreas[area]) {\n          const center = areaCenters[area];\n          if (!center) continue;\n          const dist = Math.hypot(\n            center.x - dragCenter.x,\n            center.y - dragCenter.y\n          );\n          if (dist < minDist) {\n            minDist = dist;\n            closestArea = area;\n            closestCenter = center;\n          }\n        }\n      }\n      if (closestArea && closestCenter && minDist <= areaSnapThreshold) {\n        snapArea = closestArea;\n        snapTarget = closestCenter;\n      }\n    }\n    if (isDraggingRef.current && snapTarget) {\n      targetViewportCenterX = snapTarget.x;\n      targetViewportCenterY = snapTarget.y;\n      setCurrentSnapArea(snapArea);\n    } else if (isDraggingRef.current && mouseToDraggableCenterOffsetRef.current && currentMousePosRef.current) {\n      targetViewportCenterX = currentMousePosRef.current.x - mouseToDraggableCenterOffsetRef.current.x;\n      targetViewportCenterY = currentMousePosRef.current.y - mouseToDraggableCenterOffsetRef.current.y;\n      setCurrentSnapArea(null);\n    } else {\n      if (currentDesiredRelativeCenter && parentWidth > 0 && parentHeight > 0) {\n        const isTopHalf2 = currentDesiredRelativeCenter.y <= 0.5;\n        const isLeftHalf2 = currentDesiredRelativeCenter.x <= 0.5;\n        if (isLeftHalf2) {\n          const targetCenterXInParent = parentWidth * currentDesiredRelativeCenter.x;\n          targetViewportCenterX = parentViewportLeft + targetCenterXInParent;\n        } else {\n          const targetCenterXInParent = parentWidth * (1 - currentDesiredRelativeCenter.x);\n          targetViewportCenterX = parentViewportLeft + parentWidth - targetCenterXInParent;\n        }\n        if (isTopHalf2) {\n          const targetCenterYInParent = parentHeight * currentDesiredRelativeCenter.y;\n          targetViewportCenterY = parentViewportTop + targetCenterYInParent;\n        } else {\n          const targetCenterYInParent = parentHeight * (1 - currentDesiredRelativeCenter.y);\n          targetViewportCenterY = parentViewportTop + parentHeight - targetCenterYInParent;\n        }\n      } else {\n        if (!((_a = movingElementRef.current) == null ? void 0 : _a.style.left) && !((_b = movingElementRef.current) == null ? void 0 : _b.style.top)) {\n          console.warn(\n            \"useDraggable: Cannot determine position. Parent has no dimensions or initialRelativeCenter was not effectively set.\"\n          );\n        }\n        return;\n      }\n      setCurrentSnapArea(null);\n    }\n    if (targetViewportCenterX === null || targetViewportCenterY === null) {\n      return;\n    }\n    const { borderLocation } = latestProviderDataRef.current || {\n      borderLocation: void 0\n    };\n    if (borderLocation && draggableWidth > 0 && draggableHeight > 0) {\n      const providerRectWidth = borderLocation.right - borderLocation.left;\n      const providerRectHeight = borderLocation.bottom - borderLocation.top;\n      let clampedCenterX = targetViewportCenterX;\n      let clampedCenterY = targetViewportCenterY;\n      if (draggableWidth >= providerRectWidth) {\n        clampedCenterX = borderLocation.left + providerRectWidth / 2;\n      } else {\n        const minX = borderLocation.left + draggableWidth / 2;\n        const maxX = borderLocation.right - draggableWidth / 2;\n        clampedCenterX = Math.max(minX, Math.min(clampedCenterX, maxX));\n      }\n      if (draggableHeight >= providerRectHeight) {\n        clampedCenterY = borderLocation.top + providerRectHeight / 2;\n      } else {\n        const minY = borderLocation.top + draggableHeight / 2;\n        const maxY = borderLocation.bottom - draggableHeight / 2;\n        clampedCenterY = Math.max(minY, Math.min(clampedCenterY, maxY));\n      }\n      targetViewportCenterX = clampedCenterX;\n      targetViewportCenterY = clampedCenterY;\n    }\n    if (!animatedPositionRef.current) {\n      animatedPositionRef.current = {\n        x: targetViewportCenterX,\n        y: targetViewportCenterY\n      };\n      velocityRef.current = { x: 0, y: 0 };\n      const targetElementStyleX2 = targetViewportCenterX - draggableWidth / 2;\n      const targetElementStyleY2 = targetViewportCenterY - draggableHeight / 2;\n      const isTopHalf2 = currentDesiredRelativeCenter ? currentDesiredRelativeCenter.y <= 0.5 : true;\n      const isLeftHalf2 = currentDesiredRelativeCenter ? currentDesiredRelativeCenter.x <= 0.5 : true;\n      const elStyle2 = draggableEl.style;\n      elStyle2.right = \"\";\n      elStyle2.bottom = \"\";\n      elStyle2.left = \"\";\n      elStyle2.top = \"\";\n      if (isLeftHalf2) {\n        const styleLeftPx = targetElementStyleX2 - parentViewportLeft;\n        elStyle2.left = parentWidth > 0 ? `${(styleLeftPx / parentWidth * 100).toFixed(2)}%` : \"0px\";\n        elStyle2.right = \"\";\n      } else {\n        const styleRightPx = parentViewportLeft + parentWidth - (targetElementStyleX2 + draggableWidth);\n        elStyle2.right = parentWidth > 0 ? `${(styleRightPx / parentWidth * 100).toFixed(2)}%` : \"0px\";\n        elStyle2.left = \"\";\n      }\n      if (isTopHalf2) {\n        const styleTopPx = targetElementStyleY2 - parentViewportTop;\n        elStyle2.top = parentHeight > 0 ? `${(styleTopPx / parentHeight * 100).toFixed(2)}%` : \"0px\";\n        elStyle2.bottom = \"\";\n      } else {\n        const styleBottomPx = parentViewportTop + parentHeight - (targetElementStyleY2 + draggableHeight);\n        elStyle2.bottom = parentHeight > 0 ? `${(styleBottomPx / parentHeight * 100).toFixed(2)}%` : \"0px\";\n        elStyle2.top = \"\";\n      }\n      hasAnimatedOnceRef.current = true;\n      return;\n    }\n    if (!hasAnimatedOnceRef.current) {\n      hasAnimatedOnceRef.current = true;\n      return;\n    }\n    const pos = animatedPositionRef.current;\n    const vel = velocityRef.current;\n    const dx = targetViewportCenterX - pos.x;\n    const dy = targetViewportCenterY - pos.y;\n    const ax = springStiffness * dx - springDampness * vel.x;\n    const ay = springStiffness * dy - springDampness * vel.y;\n    vel.x += ax;\n    vel.y += ay;\n    pos.x += vel.x;\n    pos.y += vel.y;\n    const threshold = 0.5;\n    if (Math.abs(dx) < threshold && Math.abs(dy) < threshold && Math.abs(vel.x) < threshold && Math.abs(vel.y) < threshold) {\n      pos.x = targetViewportCenterX;\n      pos.y = targetViewportCenterY;\n      vel.x = 0;\n      vel.y = 0;\n    }\n    animatedPositionRef.current = { ...pos };\n    velocityRef.current = { ...vel };\n    const targetElementStyleX = pos.x - draggableWidth / 2;\n    const targetElementStyleY = pos.y - draggableHeight / 2;\n    const isTopHalf = currentDesiredRelativeCenter ? currentDesiredRelativeCenter.y <= 0.5 : true;\n    const isLeftHalf = currentDesiredRelativeCenter ? currentDesiredRelativeCenter.x <= 0.5 : true;\n    const elStyle = draggableEl.style;\n    elStyle.right = \"\";\n    elStyle.bottom = \"\";\n    elStyle.left = \"\";\n    elStyle.top = \"\";\n    if (isLeftHalf) {\n      const styleLeftPx = targetElementStyleX - parentViewportLeft;\n      elStyle.left = parentWidth > 0 ? `${(styleLeftPx / parentWidth * 100).toFixed(2)}%` : \"0px\";\n      elStyle.right = \"\";\n    } else {\n      const styleRightPx = parentViewportLeft + parentWidth - (targetElementStyleX + draggableWidth);\n      elStyle.right = parentWidth > 0 ? `${(styleRightPx / parentWidth * 100).toFixed(2)}%` : \"0px\";\n      elStyle.left = \"\";\n    }\n    if (isTopHalf) {\n      const styleTopPx = targetElementStyleY - parentViewportTop;\n      elStyle.top = parentHeight > 0 ? `${(styleTopPx / parentHeight * 100).toFixed(2)}%` : \"0px\";\n      elStyle.bottom = \"\";\n    } else {\n      const styleBottomPx = parentViewportTop + parentHeight - (targetElementStyleY + draggableHeight);\n      elStyle.bottom = parentHeight > 0 ? `${(styleBottomPx / parentHeight * 100).toFixed(2)}%` : \"0px\";\n      elStyle.top = \"\";\n    }\n    if (Math.abs(pos.x - targetViewportCenterX) > threshold || Math.abs(pos.y - targetViewportCenterY) > threshold || Math.abs(vel.x) > threshold || Math.abs(vel.y) > threshold || isDraggingRef.current) {\n      requestAnimationFrame(updateDraggablePosition);\n    }\n  }, [areaSnapThreshold, springStiffness, springDampness]);\n  const mouseUpHandler = q$3(\n    (e2) => {\n      var _a;\n      if (isDraggingRef.current) {\n        if (onDragEnd) onDragEnd();\n        if ((_a = latestProviderDataRef.current) == null ? void 0 : _a.emitDragEnd) {\n          latestProviderDataRef.current.emitDragEnd();\n        }\n        const draggableEl = movingElementRef.current;\n        const provider = latestProviderDataRef.current;\n        if (draggableEl && provider && provider.borderLocation) {\n          const draggableWidth = draggableEl.offsetWidth;\n          const draggableHeight = draggableEl.offsetHeight;\n          const offsetParent = draggableEl.offsetParent;\n          let parentViewportLeft = 0;\n          let parentViewportTop = 0;\n          let parentWidth = window.innerWidth;\n          let parentHeight = window.innerHeight;\n          if (offsetParent) {\n            const opRect = offsetParent.getBoundingClientRect();\n            parentViewportLeft = opRect.left;\n            parentViewportTop = opRect.top;\n            parentWidth = offsetParent.offsetWidth || window.innerWidth;\n            parentHeight = offsetParent.offsetHeight || window.innerHeight;\n          }\n          let releasedCenterX = 0;\n          let releasedCenterY = 0;\n          if (currentMousePosRef.current && mouseToDraggableCenterOffsetRef.current) {\n            releasedCenterX = currentMousePosRef.current.x - mouseToDraggableCenterOffsetRef.current.x;\n            releasedCenterY = currentMousePosRef.current.y - mouseToDraggableCenterOffsetRef.current.y;\n          } else {\n            if (animatedPositionRef.current) {\n              releasedCenterX = animatedPositionRef.current.x;\n              releasedCenterY = animatedPositionRef.current.y;\n            }\n          }\n          const borderLocation = provider.borderLocation;\n          const minX = borderLocation.left + draggableWidth / 2;\n          const maxX = borderLocation.right - draggableWidth / 2;\n          const minY = borderLocation.top + draggableHeight / 2;\n          const maxY = borderLocation.bottom - draggableHeight / 2;\n          releasedCenterX = Math.max(minX, Math.min(releasedCenterX, maxX));\n          releasedCenterY = Math.max(minY, Math.min(releasedCenterY, maxY));\n          const areaCenters = getSnapAreaCenters(borderLocation);\n          let minDist = Number.POSITIVE_INFINITY;\n          let closestArea = null;\n          let closestCenter = null;\n          for (const area in provider.snapAreas) {\n            if (provider.snapAreas[area]) {\n              const center = areaCenters[area];\n              if (!center) continue;\n              const dist = Math.hypot(\n                center.x - releasedCenterX,\n                center.y - releasedCenterY\n              );\n              if (dist < minDist) {\n                minDist = dist;\n                closestArea = area;\n                closestCenter = center;\n              }\n            }\n          }\n          if (closestArea && closestCenter && minDist <= areaSnapThreshold) {\n            setCurrentSnapArea(closestArea);\n            const relX = (closestCenter.x - parentViewportLeft) / parentWidth;\n            const relY = (closestCenter.y - parentViewportTop) / parentHeight;\n            persistedRelativeCenterRef.current = { x: relX, y: relY };\n          } else {\n            setCurrentSnapArea(null);\n            const relX = (releasedCenterX - parentViewportLeft) / parentWidth;\n            const relY = (releasedCenterY - parentViewportTop) / parentHeight;\n            persistedRelativeCenterRef.current = { x: relX, y: relY };\n          }\n        }\n      }\n      mouseDownPosRef.current = null;\n      isDraggingRef.current = false;\n      console.log(\"Stop moving\");\n      window.removeEventListener(\"mousemove\", mouseMoveHandler, {\n        capture: true\n      });\n      window.removeEventListener(\"mouseup\", mouseUpHandler, {\n        capture: true\n      });\n      if (movingElementRef.current) {\n        movingElementRef.current.style.userSelect = \"\";\n      }\n      document.body.style.userSelect = \"\";\n      document.body.style.cursor = \"\";\n    },\n    [onDragEnd, areaSnapThreshold]\n  );\n  const mouseMoveHandler = q$3(\n    (e2) => {\n      var _a;\n      if (!mouseDownPosRef.current) return;\n      const distance = Math.hypot(\n        e2.clientX - mouseDownPosRef.current.x,\n        e2.clientY - mouseDownPosRef.current.y\n      );\n      if (distance > startThreshold && !isDraggingRef.current) {\n        isDraggingRef.current = true;\n        if (movingElementRef.current) {\n          movingElementRef.current.style.userSelect = \"none\";\n        }\n        document.body.style.userSelect = \"none\";\n        document.body.style.cursor = \"grabbing\";\n        if (onDragStart) onDragStart();\n        if ((_a = latestProviderDataRef.current) == null ? void 0 : _a.emitDragStart) {\n          latestProviderDataRef.current.emitDragStart();\n        }\n        requestAnimationFrame(updateDraggablePosition);\n        console.log(\"Start dragging\");\n      }\n      currentMousePosRef.current = { x: e2.clientX, y: e2.clientY };\n    },\n    [startThreshold, onDragStart, updateDraggablePosition]\n  );\n  const mouseDownHandler = q$3(\n    (e2) => {\n      console.log(\"Mouse down on draggable/handle area\");\n      if (e2.button !== 0) {\n        return;\n      }\n      const handleNode = dragInitiatorRef.current;\n      const draggableItemNode = movingElementRef.current;\n      if (handleNode) {\n        if (!handleNode.contains(e2.target) && e2.target !== handleNode) {\n          console.log(\n            \"Mousedown was not on the handle element or its children. Current target:\",\n            e2.target,\n            \"Expected handle:\",\n            handleNode,\n            \"Ignoring drag start.\"\n          );\n          return;\n        }\n      } else if (draggableItemNode) {\n        if (!draggableItemNode.contains(e2.target) && e2.target !== draggableItemNode) {\n          console.log(\n            \"Mousedown was not on the draggable item or its children (no handle specified). Current target:\",\n            e2.target,\n            \"Expected draggable item:\",\n            draggableItemNode,\n            \"Ignoring drag start.\"\n          );\n          return;\n        }\n      } else {\n        console.error(\n          \"Draggable element or handle ref not set in mouseDownHandler\"\n        );\n        return;\n      }\n      console.log(\"Valid drag target. Proceeding with drag setup.\");\n      mouseDownPosRef.current = { x: e2.clientX, y: e2.clientY };\n      if (!movingElementRef.current) {\n        console.error(\"Draggable element ref not set in mouseDownHandler\");\n        return;\n      }\n      const rect = movingElementRef.current.getBoundingClientRect();\n      const currentDraggableCenterX = rect.left + rect.width / 2;\n      const currentDraggableCenterY = rect.top + rect.height / 2;\n      mouseToDraggableCenterOffsetRef.current = {\n        x: e2.clientX - currentDraggableCenterX,\n        y: e2.clientY - currentDraggableCenterY\n      };\n      window.addEventListener(\"mousemove\", mouseMoveHandler, {\n        capture: true\n      });\n      window.addEventListener(\"mouseup\", mouseUpHandler, {\n        capture: true\n      });\n    },\n    [mouseMoveHandler, mouseUpHandler]\n  );\n  y$6(() => {\n    const elementToListenOn = dragInitiatorNode || movingElementNode;\n    if (elementToListenOn) {\n      elementToListenOn.addEventListener(\"mousedown\", mouseDownHandler);\n    }\n    return () => {\n      if (elementToListenOn) {\n        elementToListenOn.removeEventListener(\"mousedown\", mouseDownHandler);\n      }\n      if (isDraggingRef.current) {\n        if (onDragEnd) {\n          onDragEnd();\n        }\n        isDraggingRef.current = false;\n        if (movingElementNode) {\n          movingElementNode.style.userSelect = \"\";\n        }\n        document.body.style.userSelect = \"\";\n        document.body.style.cursor = \"\";\n        window.removeEventListener(\"mousemove\", mouseMoveHandler, {\n          capture: true\n        });\n        window.removeEventListener(\"mouseup\", mouseUpHandler, {\n          capture: true\n        });\n      }\n    };\n  }, [\n    movingElementNode,\n    dragInitiatorNode,\n    mouseDownHandler,\n    onDragEnd,\n    mouseMoveHandler,\n    mouseUpHandler\n  ]);\n  y$6(() => {\n    if (movingElementNode && persistedRelativeCenterRef.current && !isDraggingRef.current) {\n      requestAnimationFrame(updateDraggablePosition);\n    }\n  }, [\n    movingElementNode,\n    providerData,\n    // Triggers on container resize/scroll via DraggableProvider\n    persistedRelativeCenterRef,\n    // Triggers if the persistedRelativeCenterRef changes\n    updateDraggablePosition\n    // Stable callback\n  ]);\n  const draggableRefCallback = q$3((node) => {\n    setMovingElementNode(node);\n    movingElementRef.current = node;\n  }, []);\n  const handleRefCallback = q$3((node) => {\n    setDragInitiatorNode(node);\n    dragInitiatorRef.current = node;\n  }, []);\n  return {\n    draggableRef: draggableRefCallback,\n    handleRef: handleRefCallback,\n    position: {\n      snapArea: currentSnapArea,\n      isTopHalf: persistedRelativeCenterRef.current ? persistedRelativeCenterRef.current.y <= 0.5 : true,\n      isLeftHalf: persistedRelativeCenterRef.current ? persistedRelativeCenterRef.current.x <= 0.5 : true\n    }\n  };\n}\nfunction ToolbarDraggableBox() {\n  const provider = x$4(DraggableContext);\n  const borderLocation = provider == null ? void 0 : provider.borderLocation;\n  const isReady = !!borderLocation && borderLocation.right - borderLocation.left > 0 && borderLocation.bottom - borderLocation.top > 0;\n  const draggable = useDraggable({\n    startThreshold: 10,\n    initialSnapArea: \"bottomCenter\"\n  });\n  if (!isReady) return null;\n  return /* @__PURE__ */ u$9(\n    \"div\",\n    {\n      ref: draggable.draggableRef,\n      className: \"pointer-events-auto absolute p-0.5\",\n      children: /* @__PURE__ */ u$9(\"div\", { className: \"pointer-events-auto flex w-96 max-w-[80vw] flex-col items-start justify-center rounded-3xl border border-border/30 border-solid bg-zinc-50/80 p-0 shadow-lg backdrop-blur-lg transition-colors\", children: [\n        /* @__PURE__ */ u$9(ChatArea, {}),\n        /* @__PURE__ */ u$9(\n          \"div\",\n          {\n            ref: draggable.handleRef,\n            className: \"flex w-full flex-row items-center justify-center rounded-3xl border-border/30 border-t bg-background/40 p-1.5 shadow-lg transition-colors first:border-none\",\n            children: [\n              /* @__PURE__ */ u$9(ChatBox, {}),\n              /* @__PURE__ */ u$9(MoreActionsButton, {})\n            ]\n          }\n        )\n      ] })\n    }\n  );\n}\nfunction ToolbarArea() {\n  const containerRef = A$3(null);\n  return /* @__PURE__ */ u$9(\"div\", { className: \"absolute size-full\", children: /* @__PURE__ */ u$9(\"div\", { className: \"absolute inset-4\", ref: containerRef, children: /* @__PURE__ */ u$9(\n    DraggableProvider,\n    {\n      containerRef,\n      snapAreas: {\n        topLeft: true,\n        topCenter: true,\n        topRight: true,\n        centerLeft: true,\n        center: true,\n        centerRight: true,\n        bottomLeft: true,\n        bottomCenter: true,\n        bottomRight: true\n      },\n      children: /* @__PURE__ */ u$9(ToolbarDraggableBox, {})\n    }\n  ) }) });\n}\nconst Logo = ({\n  color = \"default\",\n  loading = false,\n  loadingSpeed = \"slow\",\n  ...props\n}) => {\n  const colorStyle = {\n    default: \"fill-stagewise-700 stroke-none\",\n    black: \"fill-zinc-950 stroke-none\",\n    white: \"fill-white stroke-none\",\n    gray: \"fill-zinc-500/50 stroke-none\",\n    current: \"fill-current stroke-none\",\n    gradient: \"fill-white stroke-black/30 stroke-1\"\n  };\n  return /* @__PURE__ */ u$9(\n    \"div\",\n    {\n      className: `relative ${color === \"gradient\" ? \"overflow-hidden rounded-full\" : \"overflow-visible\"} ${props.className || \"\"} ${loading ? \"drop-shadow-xl\" : \"\"} aspect-square`,\n      children: [\n        color === \"gradient\" && /* @__PURE__ */ u$9(\"div\", { className: \"absolute inset-0\", children: [\n          /* @__PURE__ */ u$9(\"div\", { className: \"absolute inset-0 size-full bg-gradient-to-tr from-indigo-700 via-blue-500 to-teal-500\" }),\n          /* @__PURE__ */ u$9(\"div\", { className: \"absolute top-1/2 left-1/2 size-9/12 bg-[radial-gradient(circle,rgba(219,39,119,0.2)_0%,rgba(219,39,119,0)_100%)]\" }),\n          /* @__PURE__ */ u$9(\"div\", { className: \"absolute right-1/2 bottom-1/2 size-full bg-[radial-gradient(circle,rgba(219,39,119,0.2)_0%,rgba(219,39,119,0)_100%)]\" }),\n          /* @__PURE__ */ u$9(\"div\", { className: \"absolute top-0 left-[-10%] size-[120%] bg-[radial-gradient(circle,rgba(255,255,255,0)_60%,rgba(255,255,255,0.2)_70%)]\" }),\n          /* @__PURE__ */ u$9(\"div\", { className: \"absolute top-[-20%] left-0 h-[120%] w-full bg-[radial-gradient(circle,rgba(55,48,163,0)_55%,rgba(55,48,163,0.35)_73%)]\" })\n        ] }),\n        /* @__PURE__ */ u$9(\n          \"svg\",\n          {\n            className: `absolute overflow-visible ${color === \"gradient\" ? \"top-[25%] left-[25%] h-[50%] w-[50%] drop-shadow-indigo-950 drop-shadow-xs\" : \"top-0 left-0 h-full w-full\"}`,\n            viewBox: \"0 0 2048 2048\",\n            children: [\n              /* @__PURE__ */ u$9(\"title\", { children: \"stagewise\" }),\n              /* @__PURE__ */ u$9(\n                \"ellipse\",\n                {\n                  className: colorStyle[color] + (loading ? \" animate-pulse\" : \"\"),\n                  id: \"path3\",\n                  ry: \"624\",\n                  rx: \"624\",\n                  cy: \"1024\",\n                  cx: \"1024\"\n                }\n              )\n            ]\n          }\n        ),\n        /* @__PURE__ */ u$9(\n          \"svg\",\n          {\n            className: `absolute overflow-visible ${color === \"gradient\" ? \"top-[25%] left-[25%] h-[50%] w-[50%]\" : \"top-0 left-0 h-full w-full\"}`,\n            viewBox: \"0 0 2048 2048\",\n            children: /* @__PURE__ */ u$9(\n              \"path\",\n              {\n                id: \"path4\",\n                className: `origin-center ${colorStyle[color]}${loading ? loadingSpeed === \"fast\" ? \" animate-spin-fast\" : \" animate-spin-slow\" : \"\"}`,\n                d: \"M 1024 0 A 1024 1024 0 0 0 0 1024 A 1024 1024 0 0 0 1024 2048 L 1736 2048 L 1848 2048 C 1958.7998 2048 2048 1958.7998 2048 1848 L 2048 1736 L 2048 1024 A 1024 1024 0 0 0 1024 0 z M 1024.9414 200 A 824 824 0 0 1 1848.9414 1024 A 824 824 0 0 1 1024.9414 1848 A 824 824 0 0 1 200.94141 1024 A 824 824 0 0 1 1024.9414 200 z \"\n              }\n            )\n          }\n        )\n      ]\n    }\n  );\n};\nfunction ExpandButton() {\n  const expand = useAppState((state) => state.expand);\n  return /* @__PURE__ */ u$9(\n    \"button\",\n    {\n      type: \"button\",\n      onClick: () => expand(),\n      className: \"pointer-events-auto absolute bottom-3 left-3 size-12 rounded-full bg-transparent opacity-80 shadow-sm transition-all duration-500 hover:opacity-100 hover:shadow-lg\",\n      children: /* @__PURE__ */ u$9(Logo, { color: \"gradient\" })\n    }\n  );\n}\nfunction ElementSelector(props) {\n  const lastHoveredElement = A$3(null);\n  const handleMouseMove = q$3(\n    (event) => {\n      const target = event.target;\n      if (target.closest(\".companion\")) return;\n      const refElement = getElementAtPoint(event.clientX, event.clientY);\n      if (props.ignoreList.includes(refElement)) return;\n      if (lastHoveredElement.current !== refElement) {\n        lastHoveredElement.current = refElement;\n        props.onElementHovered(refElement);\n      }\n    },\n    [props]\n  );\n  const handleMouseLeave = q$3(() => {\n    lastHoveredElement.current = null;\n    props.onElementUnhovered();\n  }, [props]);\n  const handleMouseClick = q$3(() => {\n    if (!lastHoveredElement.current) return;\n    if (props.ignoreList.includes(lastHoveredElement.current)) return;\n    props.onElementSelected(lastHoveredElement.current);\n  }, [props]);\n  return /* @__PURE__ */ u$9(\n    \"div\",\n    {\n      className: \"pointer-events-auto fixed inset-0 h-screen w-screen\",\n      onMouseMove: handleMouseMove,\n      onMouseLeave: handleMouseLeave,\n      onClick: handleMouseClick,\n      role: \"button\",\n      tabIndex: 0\n    }\n  );\n}\nfunction useWindowSize() {\n  const [size2, setSize] = d$4({\n    width: window.innerWidth,\n    height: window.innerHeight\n  });\n  const handleResize = q$3(\n    () => setSize({\n      width: window.innerWidth,\n      height: window.innerHeight\n    }),\n    []\n  );\n  useEventListener(\"resize\", handleResize);\n  return size2;\n}\nfunction ContextItemProposal({\n  refElement,\n  ...props\n}) {\n  const boxRef = A$3(null);\n  const windowSize = useWindowSize();\n  const updateBoxPosition = q$3(() => {\n    if (boxRef.current) {\n      if (refElement) {\n        const referenceRect = refElement.getBoundingClientRect();\n        boxRef.current.style.top = `${referenceRect.top}px`;\n        boxRef.current.style.left = `${referenceRect.left}px`;\n        boxRef.current.style.width = `${referenceRect.width}px`;\n        boxRef.current.style.height = `${referenceRect.height}px`;\n        boxRef.current.style.display = void 0;\n      } else {\n        boxRef.current.style.height = \"0px\";\n        boxRef.current.style.width = \"0px\";\n        boxRef.current.style.top = `${windowSize.height / 2}px`;\n        boxRef.current.style.left = `${windowSize.width / 2}px`;\n        boxRef.current.style.display = \"none\";\n      }\n    }\n  }, [refElement, windowSize.height, windowSize.width]);\n  useCyclicUpdate(updateBoxPosition, 30);\n  return /* @__PURE__ */ u$9(\n    \"div\",\n    {\n      ...props,\n      className: \"fixed flex items-center justify-center overflow-hidden rounded-lg border-2 border-blue-600/80 bg-blue-600/20 text-white backdrop-blur-xs transition-all duration-100\",\n      ref: boxRef,\n      children: /* @__PURE__ */ u$9(Plus, { className: \"size-6 drop-shadow-black drop-shadow-md\" })\n    }\n  );\n}\nfunction ContextItem({ refElement, ...props }) {\n  const boxRef = A$3(null);\n  const windowSize = useWindowSize();\n  const updateBoxPosition = q$3(() => {\n    if (boxRef.current) {\n      if (refElement) {\n        const referenceRect = refElement.getBoundingClientRect();\n        boxRef.current.style.top = `${referenceRect.top}px`;\n        boxRef.current.style.left = `${referenceRect.left}px`;\n        boxRef.current.style.width = `${referenceRect.width}px`;\n        boxRef.current.style.height = `${referenceRect.height}px`;\n        boxRef.current.style.display = void 0;\n      } else {\n        boxRef.current.style.height = \"0px\";\n        boxRef.current.style.width = \"0px\";\n        boxRef.current.style.top = `${windowSize.height / 2}px`;\n        boxRef.current.style.left = `${windowSize.width / 2}px`;\n        boxRef.current.style.display = \"none\";\n      }\n    }\n  }, [refElement, windowSize.height, windowSize.width]);\n  useCyclicUpdate(updateBoxPosition, 30);\n  const chatState = useChatState();\n  const handleDeleteClick = q$3(() => {\n    chatState.removeChatDomContext(chatState.currentChatId, refElement);\n  }, [chatState, refElement]);\n  return /* @__PURE__ */ u$9(\n    \"div\",\n    {\n      ...props,\n      className: \"pointer-events-auto fixed flex cursor-pointer items-center justify-center overflow-hidden rounded-lg border-2 border-green-600/80 bg-green-600/5 text-transparent transition-all duration-0 hover:border-red-600/80 hover:bg-red-600/20 hover:text-white hover:backdrop-blur-sm\",\n      ref: boxRef,\n      onClick: handleDeleteClick,\n      role: \"button\",\n      tabIndex: 0,\n      children: /* @__PURE__ */ u$9(Trash2, { className: \"size-6 drop-shadow-black drop-shadow-md\" })\n    }\n  );\n}\nfunction SelectorCanvas() {\n  const { chats, currentChatId, addChatDomContext, isPromptCreationActive } = useChatState();\n  const currentChat = T$5(\n    () => chats.find((chat) => chat.id === currentChatId),\n    [currentChatId, chats]\n  );\n  const shouldShow = isPromptCreationActive;\n  const contextElements = T$5(() => {\n    return (currentChat == null ? void 0 : currentChat.domContextElements) || [];\n  }, [currentChat]);\n  const [hoveredElement, setHoveredElement] = d$4(\n    null\n  );\n  const addElementToContext = q$3(\n    (el) => {\n      addChatDomContext(currentChatId, el);\n    },\n    [addChatDomContext, currentChatId]\n  );\n  if (!shouldShow) return null;\n  return /* @__PURE__ */ u$9(k$3, { children: [\n    hoveredElement && /* @__PURE__ */ u$9(ContextItemProposal, { refElement: hoveredElement }),\n    /* @__PURE__ */ u$9(\n      ElementSelector,\n      {\n        ignoreList: contextElements,\n        onElementHovered: setHoveredElement,\n        onElementSelected: addElementToContext,\n        onElementUnhovered: () => setHoveredElement(null)\n      }\n    ),\n    contextElements.map((el) => /* @__PURE__ */ u$9(ContextItem, { refElement: el }))\n  ] });\n}\nfunction DesktopLayout() {\n  const minimized = useAppState((state) => state.minimized);\n  return /* @__PURE__ */ u$9(\"div\", { className: cn(\"fixed inset-0 h-screen w-screen\"), children: [\n    /* @__PURE__ */ u$9(SelectorCanvas, {}),\n    !minimized && /* @__PURE__ */ u$9(ToolbarArea, {}),\n    minimized && /* @__PURE__ */ u$9(ExpandButton, {})\n  ] });\n}\nfunction ClickBlocker(props) {\n  return /* @__PURE__ */ u$9(\n    \"div\",\n    {\n      className: cn(\n        typeof props.enable === \"undefined\" || props.enable ? \"pointer-events-auto\" : \"pointer-events-none\",\n        props.className\n      ),\n      onClick: props.onClick,\n      role: \"button\",\n      tabIndex: 0\n    }\n  );\n}\nfunction FocusLock() {\n  const focusInCompanion = A$3(false);\n  y$6(() => {\n    const originalFocus = HTMLElement.prototype.focus;\n    HTMLElement.prototype.focus = function(...args) {\n      const shadowRoot = this.getRootNode();\n      const isInCompanion = shadowRoot instanceof ShadowRoot && shadowRoot.host instanceof HTMLElement && shadowRoot.host.nodeName === \"STAGEWISE-COMPANION-ANCHOR\";\n      if (!isInCompanion && focusInCompanion.current) {\n        return;\n      }\n      originalFocus.apply(this, args);\n    };\n    return () => {\n      HTMLElement.prototype.focus = originalFocus;\n    };\n  }, []);\n  useEventListener(\n    \"focusin\",\n    (event) => {\n      if (event.target.localName === companionAnchorTagName) {\n        focusInCompanion.current = true;\n      }\n    },\n    { capture: true }\n  );\n  useEventListener(\n    \"focusout\",\n    (event) => {\n      if (event.target.localName === companionAnchorTagName) {\n        focusInCompanion.current = false;\n      }\n    },\n    { capture: true }\n  );\n  return null;\n}\nfunction VisibilityManager({ children }) {\n  return children;\n}\nfunction App(config) {\n  const isMainAppBlocked = useAppState((state) => state.isMainAppBlocked);\n  return /* @__PURE__ */ u$9(k$3, { children: [\n    /* @__PURE__ */ u$9(FocusLock, {}),\n    /* @__PURE__ */ u$9(\n      ClickBlocker,\n      {\n        className: \"fixed inset-0 h-screen w-screen\",\n        enable: isMainAppBlocked\n      }\n    ),\n    /* @__PURE__ */ u$9(ContextProviders, { config, children: [\n      /* @__PURE__ */ u$9(HotkeyListener, {}),\n      /* @__PURE__ */ u$9(VisibilityManager, { children: /* @__PURE__ */ u$9(DesktopLayout, {}) })\n    ] })\n  ] });\n}\nfunction initToolbar(config) {\n  if (!document.body)\n    throw new Error(\"stagewise companion cannot find document.body\");\n  if (document.body.querySelector(companionAnchorTagName)) {\n    console.warn(\n      \"A stagewise companion anchor already exists. Aborting this instance.\"\n    );\n    throw new Error(\"A stagewise companion anchor already exists.\");\n  }\n  const shadowDomAnchor = document.createElement(companionAnchorTagName);\n  shadowDomAnchor.style.position = \"fixed\";\n  shadowDomAnchor.style.top = \"0px\";\n  shadowDomAnchor.style.left = \"0px\";\n  shadowDomAnchor.style.right = \"0px\";\n  shadowDomAnchor.style.bottom = \"0px\";\n  shadowDomAnchor.style.pointerEvents = \"none\";\n  shadowDomAnchor.style.zIndex = \"2147483647\";\n  const eventBlocker = (ev) => {\n    ev.stopPropagation();\n  };\n  shadowDomAnchor.onclick = eventBlocker;\n  shadowDomAnchor.onmousedown = eventBlocker;\n  shadowDomAnchor.onmouseup = eventBlocker;\n  shadowDomAnchor.onmousemove = eventBlocker;\n  shadowDomAnchor.ondblclick = eventBlocker;\n  shadowDomAnchor.oncontextmenu = eventBlocker;\n  shadowDomAnchor.onwheel = eventBlocker;\n  shadowDomAnchor.onfocus = eventBlocker;\n  shadowDomAnchor.onblur = eventBlocker;\n  document.body.appendChild(shadowDomAnchor);\n  const fontLinkNode = document.createElement(\"link\");\n  fontLinkNode.rel = \"stylesheet\";\n  fontLinkNode.href = `https://rsms.me/inter/inter.css`;\n  document.head.appendChild(fontLinkNode);\n  const styleNode = document.createElement(\"style\");\n  styleNode.append(document.createTextNode(appStyle));\n  document.head.appendChild(styleNode);\n  E$3(_$4(App, config), shadowDomAnchor);\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhZ2V3aXNlL3Rvb2xiYXIvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLHdFQUF3RTtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG9CQUFvQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLG9CQUFvQjtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxZQUFZLHVLQUF1SztBQUNsTztBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxTQUFTO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLFNBQVMsa1JBQWtSLGNBQWM7QUFDaFYsdUJBQXVCLFNBQVM7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixzQkFBc0I7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUZBQXFGLDJCQUEyQjtBQUNoSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzTkFBc047QUFDdE47QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUFPO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxJQUFJO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLG9CQUFvQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLGdDQUFnQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixpREFBaUQ7QUFDM0U7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQix5QkFBeUI7QUFDbkQ7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQix1QkFBdUI7QUFDakQ7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLDRCQUE0QiwrQ0FBK0M7QUFDM0U7QUFDQTtBQUNBLDRCQUE0Qiw2Q0FBNkM7QUFDekU7QUFDQTtBQUNBLDRCQUE0QiwrQ0FBK0M7QUFDM0U7QUFDQTtBQUNBLDRCQUE0Qiw4Q0FBOEM7QUFDMUU7QUFDQTtBQUNBLDRCQUE0QixnREFBZ0Q7QUFDNUU7QUFDQTtBQUNBLDRCQUE0Qiw4Q0FBOEM7QUFDMUU7QUFDQTtBQUNBLDRCQUE0QiwrQ0FBK0M7QUFDM0U7QUFDQTtBQUNBLDRCQUE0Qiw4Q0FBOEM7QUFDMUU7QUFDQTtBQUNBLDRCQUE0QixnREFBZ0Q7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsNEJBQTRCLDZDQUE2QztBQUN6RTtBQUNBO0FBQ0EsNEJBQTRCLDRDQUE0QztBQUN4RTtBQUNBO0FBQ0EsNEJBQTRCLDhDQUE4QztBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsNEJBQTRCLHVCQUF1QjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSw0QkFBNEIsa0RBQWtEO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLGNBQWM7QUFDcEQsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLHFCQUFxQjtBQUMzRCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MscUJBQXFCO0FBQzNELEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFlBQVksY0FBYztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkIsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLFlBQVksY0FBYztBQUMxQixZQUFZLHlCQUF5QjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsNkJBQTZCO0FBQzVDO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDZCQUE2QjtBQUNoRCxxQkFBcUI7QUFDckIsV0FBVztBQUNYO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDZCQUE2QjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsZUFBZTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsWUFBWSxNQUFNO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxVQUFVO0FBQ1Ysb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxNQUFNO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCxjQUFjO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCx1QkFBdUIsc0JBQXNCLGNBQWM7QUFDL0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLElBQUk7QUFDSjtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsSUFBSTtBQUNKO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQSx5QkFBeUIsb0JBQW9CO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixJQUFJO0FBQ0osYUFBYTtBQUNiLElBQUk7QUFDSixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFlBQVksY0FBYztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxNQUFNO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLE1BQU07QUFDbEI7QUFDQSwrQkFBK0IsNkNBQTZDO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLE1BQU07QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsUUFBUTtBQUNSLDhDQUE4Qyw2Q0FBNkM7QUFDM0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLFFBQVE7QUFDUiw4Q0FBOEMsNkNBQTZDO0FBQzNGO0FBQ0E7QUFDQSw2RkFBNkYscUNBQXFDO0FBQ2xJLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYywyQ0FBMkM7QUFDekQ7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFlBQVksTUFBTTtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsWUFBWSxNQUFNO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsV0FBVztBQUNYO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxNQUFNO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsMEZBQTBGLGtCQUFrQjtBQUM1Ryx5Q0FBeUMsY0FBYztBQUN2RDtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLDBDQUEwQztBQUNyRTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiwwQ0FBMEM7QUFDakU7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsc0RBQXNEO0FBQ3ZEO0FBQ0Esb0NBQW9DLFNBQVM7QUFDN0MsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0Msc0JBQXNCO0FBQzVELHNDQUFzQyxzQkFBc0I7QUFDNUQ7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILHNDQUFzQyxzQkFBc0I7QUFDNUQsa0NBQWtDLHNCQUFzQjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSx3QkFBd0IsdUJBQXVCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixLQUFLLEVBQUUsY0FBYztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLEtBQUs7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCwyREFBMkQsd0JBQXdCO0FBQ25GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGdDQUFnQztBQUNuRDtBQUNBO0FBQ0EsdUJBQXVCLG9DQUFvQztBQUMzRCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxXQUFXO0FBQzlDO0FBQ0EsdUJBQXVCLDhCQUE4QjtBQUNyRDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsR0FBRztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixRQUFRO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsSUFBSSxHQUFHLE1BQU0sSUFBSSxJQUFJO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiw2QkFBNkIsNkJBQTZCLFlBQVk7QUFDaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qiw2QkFBNkI7QUFDMUQ7QUFDQTtBQUNBLDhCQUE4QixVQUFVO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLGNBQWM7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixJQUFJLEdBQUcsTUFBTSxJQUFJLElBQUk7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixXQUFXO0FBQzlCLGFBQWEsSUFBSTtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLGVBQWUsV0FBVztBQUMxQixTQUFTLElBQUk7QUFDYjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhIQUE4SDtBQUM5SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsNEJBQTRCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsb0JBQW9CO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLG9CQUFvQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsSUFBSTtBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSw0REFBNEQsTUFBTTtBQUNsRTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGtCQUFrQjtBQUNyQztBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHNCQUFzQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLE9BQU87QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxJQUFJO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixpQkFBaUIsSUFBSTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksYUFBYTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUUsYUFBYTtBQUM5RTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsVUFBVTtBQUNqRDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQSxtREFBbUQsMkJBQTJCO0FBQzlFO0FBQ0EsNENBQTRDLG9CQUFvQjtBQUNoRSwyQ0FBMkMsc0JBQXNCO0FBQ2pFO0FBQ0EsaUNBQWlDLGlCQUFpQjtBQUNsRCwrQkFBK0Isa0JBQWtCO0FBQ2pEO0FBQ0EsMENBQTBDLHlCQUF5QjtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLENBQUM7QUFDRCw2QkFBNkIsVUFBVTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsVUFBVSxTQUFTO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsOEJBQThCO0FBQ3ZFO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxrQ0FBa0M7QUFDbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsUUFBUTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxpQkFBaUI7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSx5REFBeUQsNkJBQTZCO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGlEQUFpRCxvREFBb0QsZ0RBQWdELDhHQUE4RyxVQUFVLEdBQUcsR0FBRyxHQUFHO0FBQ3RSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixTQUFTO0FBQzFCLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSwyREFBMkQsU0FBUztBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDJCQUEyQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxhQUFhO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsNEJBQTRCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGlCQUFpQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMscUJBQXFCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsMENBQTBDO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLEtBQStCLEVBQUUsRUFBVztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLFNBQVMsS0FBK0IsRUFBRSxFQUkzQztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksU0FBUyxLQUErQixFQUFFLEVBSTNDO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLFFBQVEsc0VBQXNFO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSwrREFBK0Q7QUFDdkU7QUFDQTtBQUNBLEdBQUc7QUFDSCxRQUFRLDhDQUE4QztBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFD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Q0EsUUFBUTtBQUNSO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiw2QkFBNkI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFlBQVk7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixZQUFZO0FBQ2xDLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsWUFBWTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sSUFBSTtBQUNWO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxJQUFxQztBQUM3QztBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSx3RUFBd0UsYUFBYTtBQUNyRjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksSUFBcUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwRUFBMEUsYUFBYTtBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkVBQTZFLGVBQWU7QUFDNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLE1BQU0sSUFBcUM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0ZBQWtGLGFBQWE7QUFDL0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSyxJQUFJO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNO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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsSUFBSTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxnQkFBZ0I7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQ7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEM7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1EO0FBQ25ELFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQSxtREFBbUQ7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FB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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEM7QUFDNUMsNENBQTRDO0FBQzVDLCtDQUErQywrQ0FBK0MsR0FBRztBQUNqRyxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0UiLCJzb3VyY2VzIjpbIi9Vc2Vycy9kYXVyZW56aHVudXNzb3YvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BzdGFnZXdpc2UvdG9vbGJhci9kaXN0L2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBuJDQsIGwkNCwgdSRhLCBpJDgsIHIkNSwgbyQ5LCBlJDUsIGYkOSwgYyQ3LCBzJDksIGEkYiwgaCQ2LCBwJDQgPSB7fSwgeSQ3ID0gW10sIHYkMyA9IC9hY2l0fGV4KD86c3xnfG58cHwkKXxycGh8Z3JpZHxvd3N8bW5jfG50d3xpbmVbY2hdfHpvb3xeb3JkfGl0ZXJhL2ksIHckNSA9IEFycmF5LmlzQXJyYXk7XG5mdW5jdGlvbiBkJDUobjIsIGwyKSB7XG4gIGZvciAodmFyIHUyIGluIGwyKSBuMlt1Ml0gPSBsMlt1Ml07XG4gIHJldHVybiBuMjtcbn1cbmZ1bmN0aW9uIGckNChuMikge1xuICBuMiAmJiBuMi5wYXJlbnROb2RlICYmIG4yLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobjIpO1xufVxuZnVuY3Rpb24gXyQ0KGwyLCB1MiwgdDIpIHtcbiAgdmFyIGkyLCByMiwgbzMsIGUyID0ge307XG4gIGZvciAobzMgaW4gdTIpIFwia2V5XCIgPT0gbzMgPyBpMiA9IHUyW28zXSA6IFwicmVmXCIgPT0gbzMgPyByMiA9IHUyW28zXSA6IGUyW28zXSA9IHUyW28zXTtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIChlMi5jaGlsZHJlbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAzID8gbiQ0LmNhbGwoYXJndW1lbnRzLCAyKSA6IHQyKSwgXCJmdW5jdGlvblwiID09IHR5cGVvZiBsMiAmJiBudWxsICE9IGwyLmRlZmF1bHRQcm9wcykgZm9yIChvMyBpbiBsMi5kZWZhdWx0UHJvcHMpIG51bGwgPT0gZTJbbzNdICYmIChlMltvM10gPSBsMi5kZWZhdWx0UHJvcHNbbzNdKTtcbiAgcmV0dXJuIG0kNihsMiwgZTIsIGkyLCByMiwgbnVsbCk7XG59XG5mdW5jdGlvbiBtJDYobjIsIHQyLCBpMiwgcjIsIG8zKSB7XG4gIHZhciBlMiA9IHsgdHlwZTogbjIsIHByb3BzOiB0Miwga2V5OiBpMiwgcmVmOiByMiwgX19rOiBudWxsLCBfXzogbnVsbCwgX19iOiAwLCBfX2U6IG51bGwsIF9fYzogbnVsbCwgY29uc3RydWN0b3I6IHZvaWQgMCwgX192OiBudWxsID09IG8zID8gKyt1JGEgOiBvMywgX19pOiAtMSwgX191OiAwIH07XG4gIHJldHVybiBudWxsID09IG8zICYmIG51bGwgIT0gbCQ0LnZub2RlICYmIGwkNC52bm9kZShlMiksIGUyO1xufVxuZnVuY3Rpb24gYiQ1KCkge1xuICByZXR1cm4geyBjdXJyZW50OiBudWxsIH07XG59XG5mdW5jdGlvbiBrJDMobjIpIHtcbiAgcmV0dXJuIG4yLmNoaWxkcmVuO1xufVxuZnVuY3Rpb24geCQ1KG4yLCBsMikge1xuICB0aGlzLnByb3BzID0gbjIsIHRoaXMuY29udGV4dCA9IGwyO1xufVxuZnVuY3Rpb24gUyQ1KG4yLCBsMikge1xuICBpZiAobnVsbCA9PSBsMikgcmV0dXJuIG4yLl9fID8gUyQ1KG4yLl9fLCBuMi5fX2kgKyAxKSA6IG51bGw7XG4gIGZvciAodmFyIHUyOyBsMiA8IG4yLl9fay5sZW5ndGg7IGwyKyspIGlmIChudWxsICE9ICh1MiA9IG4yLl9fa1tsMl0pICYmIG51bGwgIT0gdTIuX19lKSByZXR1cm4gdTIuX19lO1xuICByZXR1cm4gXCJmdW5jdGlvblwiID09IHR5cGVvZiBuMi50eXBlID8gUyQ1KG4yKSA6IG51bGw7XG59XG5mdW5jdGlvbiBDJDUobjIpIHtcbiAgdmFyIGwyLCB1MjtcbiAgaWYgKG51bGwgIT0gKG4yID0gbjIuX18pICYmIG51bGwgIT0gbjIuX19jKSB7XG4gICAgZm9yIChuMi5fX2UgPSBuMi5fX2MuYmFzZSA9IG51bGwsIGwyID0gMDsgbDIgPCBuMi5fX2subGVuZ3RoOyBsMisrKSBpZiAobnVsbCAhPSAodTIgPSBuMi5fX2tbbDJdKSAmJiBudWxsICE9IHUyLl9fZSkge1xuICAgICAgbjIuX19lID0gbjIuX19jLmJhc2UgPSB1Mi5fX2U7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIEMkNShuMik7XG4gIH1cbn1cbmZ1bmN0aW9uIE0kNChuMikge1xuICAoIW4yLl9fZCAmJiAobjIuX19kID0gdHJ1ZSkgJiYgaSQ4LnB1c2gobjIpICYmICEkJDIuX19yKysgfHwgciQ1ICE9IGwkNC5kZWJvdW5jZVJlbmRlcmluZykgJiYgKChyJDUgPSBsJDQuZGVib3VuY2VSZW5kZXJpbmcpIHx8IG8kOSkoJCQyKTtcbn1cbmZ1bmN0aW9uICQkMigpIHtcbiAgZm9yICh2YXIgbjIsIHUyLCB0MiwgcjIsIG8zLCBmMiwgYzIsIHMyID0gMTsgaSQ4Lmxlbmd0aDsgKSBpJDgubGVuZ3RoID4gczIgJiYgaSQ4LnNvcnQoZSQ1KSwgbjIgPSBpJDguc2hpZnQoKSwgczIgPSBpJDgubGVuZ3RoLCBuMi5fX2QgJiYgKHQyID0gdm9pZCAwLCBvMyA9IChyMiA9ICh1MiA9IG4yKS5fX3YpLl9fZSwgZjIgPSBbXSwgYzIgPSBbXSwgdTIuX19QICYmICgodDIgPSBkJDUoe30sIHIyKSkuX192ID0gcjIuX192ICsgMSwgbCQ0LnZub2RlICYmIGwkNC52bm9kZSh0MiksIE8kMyh1Mi5fX1AsIHQyLCByMiwgdTIuX19uLCB1Mi5fX1AubmFtZXNwYWNlVVJJLCAzMiAmIHIyLl9fdSA/IFtvM10gOiBudWxsLCBmMiwgbnVsbCA9PSBvMyA/IFMkNShyMikgOiBvMywgISEoMzIgJiByMi5fX3UpLCBjMiksIHQyLl9fdiA9IHIyLl9fdiwgdDIuX18uX19rW3QyLl9faV0gPSB0MiwgeiQzKGYyLCB0MiwgYzIpLCB0Mi5fX2UgIT0gbzMgJiYgQyQ1KHQyKSkpO1xuICAkJDIuX19yID0gMDtcbn1cbmZ1bmN0aW9uIEkkNChuMiwgbDIsIHUyLCB0MiwgaTIsIHIyLCBvMywgZTIsIGYyLCBjMiwgczIpIHtcbiAgdmFyIGEzLCBoMiwgdjIsIHcyLCBkMiwgZzIsIF8yID0gdDIgJiYgdDIuX19rIHx8IHkkNywgbTIgPSBsMi5sZW5ndGg7XG4gIGZvciAoZjIgPSBQJDYodTIsIGwyLCBfMiwgZjIsIG0yKSwgYTMgPSAwOyBhMyA8IG0yOyBhMysrKSBudWxsICE9ICh2MiA9IHUyLl9fa1thM10pICYmIChoMiA9IC0xID09IHYyLl9faSA/IHAkNCA6IF8yW3YyLl9faV0gfHwgcCQ0LCB2Mi5fX2kgPSBhMywgZzIgPSBPJDMobjIsIHYyLCBoMiwgaTIsIHIyLCBvMywgZTIsIGYyLCBjMiwgczIpLCB3MiA9IHYyLl9fZSwgdjIucmVmICYmIGgyLnJlZiAhPSB2Mi5yZWYgJiYgKGgyLnJlZiAmJiBxJDQoaDIucmVmLCBudWxsLCB2MiksIHMyLnB1c2godjIucmVmLCB2Mi5fX2MgfHwgdzIsIHYyKSksIG51bGwgPT0gZDIgJiYgbnVsbCAhPSB3MiAmJiAoZDIgPSB3MiksIDQgJiB2Mi5fX3UgfHwgaDIuX19rID09PSB2Mi5fX2sgPyBmMiA9IEEkNCh2MiwgZjIsIG4yKSA6IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgdjIudHlwZSAmJiB2b2lkIDAgIT09IGcyID8gZjIgPSBnMiA6IHcyICYmIChmMiA9IHcyLm5leHRTaWJsaW5nKSwgdjIuX191ICY9IC03KTtcbiAgcmV0dXJuIHUyLl9fZSA9IGQyLCBmMjtcbn1cbmZ1bmN0aW9uIFAkNihuMiwgbDIsIHUyLCB0MiwgaTIpIHtcbiAgdmFyIHIyLCBvMywgZTIsIGYyLCBjMiwgczIgPSB1Mi5sZW5ndGgsIGEzID0gczIsIGgyID0gMDtcbiAgZm9yIChuMi5fX2sgPSBuZXcgQXJyYXkoaTIpLCByMiA9IDA7IHIyIDwgaTI7IHIyKyspIG51bGwgIT0gKG8zID0gbDJbcjJdKSAmJiBcImJvb2xlYW5cIiAhPSB0eXBlb2YgbzMgJiYgXCJmdW5jdGlvblwiICE9IHR5cGVvZiBvMyA/IChmMiA9IHIyICsgaDIsIChvMyA9IG4yLl9fa1tyMl0gPSBcInN0cmluZ1wiID09IHR5cGVvZiBvMyB8fCBcIm51bWJlclwiID09IHR5cGVvZiBvMyB8fCBcImJpZ2ludFwiID09IHR5cGVvZiBvMyB8fCBvMy5jb25zdHJ1Y3RvciA9PSBTdHJpbmcgPyBtJDYobnVsbCwgbzMsIG51bGwsIG51bGwsIG51bGwpIDogdyQ1KG8zKSA/IG0kNihrJDMsIHsgY2hpbGRyZW46IG8zIH0sIG51bGwsIG51bGwsIG51bGwpIDogbnVsbCA9PSBvMy5jb25zdHJ1Y3RvciAmJiBvMy5fX2IgPiAwID8gbSQ2KG8zLnR5cGUsIG8zLnByb3BzLCBvMy5rZXksIG8zLnJlZiA/IG8zLnJlZiA6IG51bGwsIG8zLl9fdikgOiBvMykuX18gPSBuMiwgbzMuX19iID0gbjIuX19iICsgMSwgZTIgPSBudWxsLCAtMSAhPSAoYzIgPSBvMy5fX2kgPSBMJDQobzMsIHUyLCBmMiwgYTMpKSAmJiAoYTMtLSwgKGUyID0gdTJbYzJdKSAmJiAoZTIuX191IHw9IDIpKSwgbnVsbCA9PSBlMiB8fCBudWxsID09IGUyLl9fdiA/ICgtMSA9PSBjMiAmJiAoaTIgPiBzMiA/IGgyLS0gOiBpMiA8IHMyICYmIGgyKyspLCBcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIG8zLnR5cGUgJiYgKG8zLl9fdSB8PSA0KSkgOiBjMiAhPSBmMiAmJiAoYzIgPT0gZjIgLSAxID8gaDItLSA6IGMyID09IGYyICsgMSA/IGgyKysgOiAoYzIgPiBmMiA/IGgyLS0gOiBoMisrLCBvMy5fX3UgfD0gNCkpKSA6IG4yLl9fa1tyMl0gPSBudWxsO1xuICBpZiAoYTMpIGZvciAocjIgPSAwOyByMiA8IHMyOyByMisrKSBudWxsICE9IChlMiA9IHUyW3IyXSkgJiYgMCA9PSAoMiAmIGUyLl9fdSkgJiYgKGUyLl9fZSA9PSB0MiAmJiAodDIgPSBTJDUoZTIpKSwgQiQzKGUyLCBlMikpO1xuICByZXR1cm4gdDI7XG59XG5mdW5jdGlvbiBBJDQobjIsIGwyLCB1Mikge1xuICB2YXIgdDIsIGkyO1xuICBpZiAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBuMi50eXBlKSB7XG4gICAgZm9yICh0MiA9IG4yLl9faywgaTIgPSAwOyB0MiAmJiBpMiA8IHQyLmxlbmd0aDsgaTIrKykgdDJbaTJdICYmICh0MltpMl0uX18gPSBuMiwgbDIgPSBBJDQodDJbaTJdLCBsMiwgdTIpKTtcbiAgICByZXR1cm4gbDI7XG4gIH1cbiAgbjIuX19lICE9IGwyICYmIChsMiAmJiBuMi50eXBlICYmICF1Mi5jb250YWlucyhsMikgJiYgKGwyID0gUyQ1KG4yKSksIHUyLmluc2VydEJlZm9yZShuMi5fX2UsIGwyIHx8IG51bGwpLCBsMiA9IG4yLl9fZSk7XG4gIGRvIHtcbiAgICBsMiA9IGwyICYmIGwyLm5leHRTaWJsaW5nO1xuICB9IHdoaWxlIChudWxsICE9IGwyICYmIDggPT0gbDIubm9kZVR5cGUpO1xuICByZXR1cm4gbDI7XG59XG5mdW5jdGlvbiBIJDYobjIsIGwyKSB7XG4gIHJldHVybiBsMiA9IGwyIHx8IFtdLCBudWxsID09IG4yIHx8IFwiYm9vbGVhblwiID09IHR5cGVvZiBuMiB8fCAodyQ1KG4yKSA/IG4yLnNvbWUoZnVuY3Rpb24objMpIHtcbiAgICBIJDYobjMsIGwyKTtcbiAgfSkgOiBsMi5wdXNoKG4yKSksIGwyO1xufVxuZnVuY3Rpb24gTCQ0KG4yLCBsMiwgdTIsIHQyKSB7XG4gIHZhciBpMiwgcjIsIG8zID0gbjIua2V5LCBlMiA9IG4yLnR5cGUsIGYyID0gbDJbdTJdO1xuICBpZiAobnVsbCA9PT0gZjIgJiYgbnVsbCA9PSBuMi5rZXkgfHwgZjIgJiYgbzMgPT0gZjIua2V5ICYmIGUyID09IGYyLnR5cGUgJiYgMCA9PSAoMiAmIGYyLl9fdSkpIHJldHVybiB1MjtcbiAgaWYgKHQyID4gKG51bGwgIT0gZjIgJiYgMCA9PSAoMiAmIGYyLl9fdSkgPyAxIDogMCkpIGZvciAoaTIgPSB1MiAtIDEsIHIyID0gdTIgKyAxOyBpMiA+PSAwIHx8IHIyIDwgbDIubGVuZ3RoOyApIHtcbiAgICBpZiAoaTIgPj0gMCkge1xuICAgICAgaWYgKChmMiA9IGwyW2kyXSkgJiYgMCA9PSAoMiAmIGYyLl9fdSkgJiYgbzMgPT0gZjIua2V5ICYmIGUyID09IGYyLnR5cGUpIHJldHVybiBpMjtcbiAgICAgIGkyLS07XG4gICAgfVxuICAgIGlmIChyMiA8IGwyLmxlbmd0aCkge1xuICAgICAgaWYgKChmMiA9IGwyW3IyXSkgJiYgMCA9PSAoMiAmIGYyLl9fdSkgJiYgbzMgPT0gZjIua2V5ICYmIGUyID09IGYyLnR5cGUpIHJldHVybiByMjtcbiAgICAgIHIyKys7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cbmZ1bmN0aW9uIFQkNihuMiwgbDIsIHUyKSB7XG4gIFwiLVwiID09IGwyWzBdID8gbjIuc2V0UHJvcGVydHkobDIsIG51bGwgPT0gdTIgPyBcIlwiIDogdTIpIDogbjJbbDJdID0gbnVsbCA9PSB1MiA/IFwiXCIgOiBcIm51bWJlclwiICE9IHR5cGVvZiB1MiB8fCB2JDMudGVzdChsMikgPyB1MiA6IHUyICsgXCJweFwiO1xufVxuZnVuY3Rpb24gaiQ1KG4yLCBsMiwgdTIsIHQyLCBpMikge1xuICB2YXIgcjI7XG4gIG46IGlmIChcInN0eWxlXCIgPT0gbDIpIGlmIChcInN0cmluZ1wiID09IHR5cGVvZiB1MikgbjIuc3R5bGUuY3NzVGV4dCA9IHUyO1xuICBlbHNlIHtcbiAgICBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgdDIgJiYgKG4yLnN0eWxlLmNzc1RleHQgPSB0MiA9IFwiXCIpLCB0MikgZm9yIChsMiBpbiB0MikgdTIgJiYgbDIgaW4gdTIgfHwgVCQ2KG4yLnN0eWxlLCBsMiwgXCJcIik7XG4gICAgaWYgKHUyKSBmb3IgKGwyIGluIHUyKSB0MiAmJiB1MltsMl0gPT0gdDJbbDJdIHx8IFQkNihuMi5zdHlsZSwgbDIsIHUyW2wyXSk7XG4gIH1cbiAgZWxzZSBpZiAoXCJvXCIgPT0gbDJbMF0gJiYgXCJuXCIgPT0gbDJbMV0pIHIyID0gbDIgIT0gKGwyID0gbDIucmVwbGFjZShmJDksIFwiJDFcIikpLCBsMiA9IGwyLnRvTG93ZXJDYXNlKCkgaW4gbjIgfHwgXCJvbkZvY3VzT3V0XCIgPT0gbDIgfHwgXCJvbkZvY3VzSW5cIiA9PSBsMiA/IGwyLnRvTG93ZXJDYXNlKCkuc2xpY2UoMikgOiBsMi5zbGljZSgyKSwgbjIubCB8fCAobjIubCA9IHt9KSwgbjIubFtsMiArIHIyXSA9IHUyLCB1MiA/IHQyID8gdTIudSA9IHQyLnUgOiAodTIudSA9IGMkNywgbjIuYWRkRXZlbnRMaXN0ZW5lcihsMiwgcjIgPyBhJGIgOiBzJDksIHIyKSkgOiBuMi5yZW1vdmVFdmVudExpc3RlbmVyKGwyLCByMiA/IGEkYiA6IHMkOSwgcjIpO1xuICBlbHNlIHtcbiAgICBpZiAoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiID09IGkyKSBsMiA9IGwyLnJlcGxhY2UoL3hsaW5rKEh8OmgpLywgXCJoXCIpLnJlcGxhY2UoL3NOYW1lJC8sIFwic1wiKTtcbiAgICBlbHNlIGlmIChcIndpZHRoXCIgIT0gbDIgJiYgXCJoZWlnaHRcIiAhPSBsMiAmJiBcImhyZWZcIiAhPSBsMiAmJiBcImxpc3RcIiAhPSBsMiAmJiBcImZvcm1cIiAhPSBsMiAmJiBcInRhYkluZGV4XCIgIT0gbDIgJiYgXCJkb3dubG9hZFwiICE9IGwyICYmIFwicm93U3BhblwiICE9IGwyICYmIFwiY29sU3BhblwiICE9IGwyICYmIFwicm9sZVwiICE9IGwyICYmIFwicG9wb3ZlclwiICE9IGwyICYmIGwyIGluIG4yKSB0cnkge1xuICAgICAgbjJbbDJdID0gbnVsbCA9PSB1MiA/IFwiXCIgOiB1MjtcbiAgICAgIGJyZWFrIG47XG4gICAgfSBjYXRjaCAobjMpIHtcbiAgICB9XG4gICAgXCJmdW5jdGlvblwiID09IHR5cGVvZiB1MiB8fCAobnVsbCA9PSB1MiB8fCBmYWxzZSA9PT0gdTIgJiYgXCItXCIgIT0gbDJbNF0gPyBuMi5yZW1vdmVBdHRyaWJ1dGUobDIpIDogbjIuc2V0QXR0cmlidXRlKGwyLCBcInBvcG92ZXJcIiA9PSBsMiAmJiAxID09IHUyID8gXCJcIiA6IHUyKSk7XG4gIH1cbn1cbmZ1bmN0aW9uIEYkNihuMikge1xuICByZXR1cm4gZnVuY3Rpb24odTIpIHtcbiAgICBpZiAodGhpcy5sKSB7XG4gICAgICB2YXIgdDIgPSB0aGlzLmxbdTIudHlwZSArIG4yXTtcbiAgICAgIGlmIChudWxsID09IHUyLnQpIHUyLnQgPSBjJDcrKztcbiAgICAgIGVsc2UgaWYgKHUyLnQgPCB0Mi51KSByZXR1cm47XG4gICAgICByZXR1cm4gdDIobCQ0LmV2ZW50ID8gbCQ0LmV2ZW50KHUyKSA6IHUyKTtcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBPJDMobjIsIHUyLCB0MiwgaTIsIHIyLCBvMywgZTIsIGYyLCBjMiwgczIpIHtcbiAgdmFyIGEzLCBoMiwgcDIsIHkyLCB2MiwgXzIsIG0yLCBiMiwgUzIsIEMyLCBNMiwgJDIsIFAyLCBBMiwgSDIsIEwyLCBUMiwgajIgPSB1Mi50eXBlO1xuICBpZiAobnVsbCAhPSB1Mi5jb25zdHJ1Y3RvcikgcmV0dXJuIG51bGw7XG4gIDEyOCAmIHQyLl9fdSAmJiAoYzIgPSAhISgzMiAmIHQyLl9fdSksIG8zID0gW2YyID0gdTIuX19lID0gdDIuX19lXSksIChhMyA9IGwkNC5fX2IpICYmIGEzKHUyKTtcbiAgbjogaWYgKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgajIpIHRyeSB7XG4gICAgaWYgKGIyID0gdTIucHJvcHMsIFMyID0gXCJwcm90b3R5cGVcIiBpbiBqMiAmJiBqMi5wcm90b3R5cGUucmVuZGVyLCBDMiA9IChhMyA9IGoyLmNvbnRleHRUeXBlKSAmJiBpMlthMy5fX2NdLCBNMiA9IGEzID8gQzIgPyBDMi5wcm9wcy52YWx1ZSA6IGEzLl9fIDogaTIsIHQyLl9fYyA/IG0yID0gKGgyID0gdTIuX19jID0gdDIuX19jKS5fXyA9IGgyLl9fRSA6IChTMiA/IHUyLl9fYyA9IGgyID0gbmV3IGoyKGIyLCBNMikgOiAodTIuX19jID0gaDIgPSBuZXcgeCQ1KGIyLCBNMiksIGgyLmNvbnN0cnVjdG9yID0gajIsIGgyLnJlbmRlciA9IEQkMyksIEMyICYmIEMyLnN1YihoMiksIGgyLnByb3BzID0gYjIsIGgyLnN0YXRlIHx8IChoMi5zdGF0ZSA9IHt9KSwgaDIuY29udGV4dCA9IE0yLCBoMi5fX24gPSBpMiwgcDIgPSBoMi5fX2QgPSB0cnVlLCBoMi5fX2ggPSBbXSwgaDIuX3NiID0gW10pLCBTMiAmJiBudWxsID09IGgyLl9fcyAmJiAoaDIuX19zID0gaDIuc3RhdGUpLCBTMiAmJiBudWxsICE9IGoyLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyAmJiAoaDIuX19zID09IGgyLnN0YXRlICYmIChoMi5fX3MgPSBkJDUoe30sIGgyLl9fcykpLCBkJDUoaDIuX19zLCBqMi5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMoYjIsIGgyLl9fcykpKSwgeTIgPSBoMi5wcm9wcywgdjIgPSBoMi5zdGF0ZSwgaDIuX192ID0gdTIsIHAyKSBTMiAmJiBudWxsID09IGoyLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyAmJiBudWxsICE9IGgyLmNvbXBvbmVudFdpbGxNb3VudCAmJiBoMi5jb21wb25lbnRXaWxsTW91bnQoKSwgUzIgJiYgbnVsbCAhPSBoMi5jb21wb25lbnREaWRNb3VudCAmJiBoMi5fX2gucHVzaChoMi5jb21wb25lbnREaWRNb3VudCk7XG4gICAgZWxzZSB7XG4gICAgICBpZiAoUzIgJiYgbnVsbCA9PSBqMi5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgJiYgYjIgIT09IHkyICYmIG51bGwgIT0gaDIuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyAmJiBoMi5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKGIyLCBNMiksICFoMi5fX2UgJiYgbnVsbCAhPSBoMi5zaG91bGRDb21wb25lbnRVcGRhdGUgJiYgZmFsc2UgPT09IGgyLnNob3VsZENvbXBvbmVudFVwZGF0ZShiMiwgaDIuX19zLCBNMikgfHwgdTIuX192ID09IHQyLl9fdikge1xuICAgICAgICBmb3IgKHUyLl9fdiAhPSB0Mi5fX3YgJiYgKGgyLnByb3BzID0gYjIsIGgyLnN0YXRlID0gaDIuX19zLCBoMi5fX2QgPSBmYWxzZSksIHUyLl9fZSA9IHQyLl9fZSwgdTIuX19rID0gdDIuX19rLCB1Mi5fX2suc29tZShmdW5jdGlvbihuMykge1xuICAgICAgICAgIG4zICYmIChuMy5fXyA9IHUyKTtcbiAgICAgICAgfSksICQyID0gMDsgJDIgPCBoMi5fc2IubGVuZ3RoOyAkMisrKSBoMi5fX2gucHVzaChoMi5fc2JbJDJdKTtcbiAgICAgICAgaDIuX3NiID0gW10sIGgyLl9faC5sZW5ndGggJiYgZTIucHVzaChoMik7XG4gICAgICAgIGJyZWFrIG47XG4gICAgICB9XG4gICAgICBudWxsICE9IGgyLmNvbXBvbmVudFdpbGxVcGRhdGUgJiYgaDIuY29tcG9uZW50V2lsbFVwZGF0ZShiMiwgaDIuX19zLCBNMiksIFMyICYmIG51bGwgIT0gaDIuY29tcG9uZW50RGlkVXBkYXRlICYmIGgyLl9faC5wdXNoKGZ1bmN0aW9uKCkge1xuICAgICAgICBoMi5jb21wb25lbnREaWRVcGRhdGUoeTIsIHYyLCBfMik7XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGgyLmNvbnRleHQgPSBNMiwgaDIucHJvcHMgPSBiMiwgaDIuX19QID0gbjIsIGgyLl9fZSA9IGZhbHNlLCBQMiA9IGwkNC5fX3IsIEEyID0gMCwgUzIpIHtcbiAgICAgIGZvciAoaDIuc3RhdGUgPSBoMi5fX3MsIGgyLl9fZCA9IGZhbHNlLCBQMiAmJiBQMih1MiksIGEzID0gaDIucmVuZGVyKGgyLnByb3BzLCBoMi5zdGF0ZSwgaDIuY29udGV4dCksIEgyID0gMDsgSDIgPCBoMi5fc2IubGVuZ3RoOyBIMisrKSBoMi5fX2gucHVzaChoMi5fc2JbSDJdKTtcbiAgICAgIGgyLl9zYiA9IFtdO1xuICAgIH0gZWxzZSBkbyB7XG4gICAgICBoMi5fX2QgPSBmYWxzZSwgUDIgJiYgUDIodTIpLCBhMyA9IGgyLnJlbmRlcihoMi5wcm9wcywgaDIuc3RhdGUsIGgyLmNvbnRleHQpLCBoMi5zdGF0ZSA9IGgyLl9fcztcbiAgICB9IHdoaWxlIChoMi5fX2QgJiYgKytBMiA8IDI1KTtcbiAgICBoMi5zdGF0ZSA9IGgyLl9fcywgbnVsbCAhPSBoMi5nZXRDaGlsZENvbnRleHQgJiYgKGkyID0gZCQ1KGQkNSh7fSwgaTIpLCBoMi5nZXRDaGlsZENvbnRleHQoKSkpLCBTMiAmJiAhcDIgJiYgbnVsbCAhPSBoMi5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSAmJiAoXzIgPSBoMi5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSh5MiwgdjIpKSwgTDIgPSBhMywgbnVsbCAhPSBhMyAmJiBhMy50eXBlID09PSBrJDMgJiYgbnVsbCA9PSBhMy5rZXkgJiYgKEwyID0gTiQyKGEzLnByb3BzLmNoaWxkcmVuKSksIGYyID0gSSQ0KG4yLCB3JDUoTDIpID8gTDIgOiBbTDJdLCB1MiwgdDIsIGkyLCByMiwgbzMsIGUyLCBmMiwgYzIsIHMyKSwgaDIuYmFzZSA9IHUyLl9fZSwgdTIuX191ICY9IC0xNjEsIGgyLl9faC5sZW5ndGggJiYgZTIucHVzaChoMiksIG0yICYmIChoMi5fX0UgPSBoMi5fXyA9IG51bGwpO1xuICB9IGNhdGNoIChuMykge1xuICAgIGlmICh1Mi5fX3YgPSBudWxsLCBjMiB8fCBudWxsICE9IG8zKSBpZiAobjMudGhlbikge1xuICAgICAgZm9yICh1Mi5fX3UgfD0gYzIgPyAxNjAgOiAxMjg7IGYyICYmIDggPT0gZjIubm9kZVR5cGUgJiYgZjIubmV4dFNpYmxpbmc7ICkgZjIgPSBmMi5uZXh0U2libGluZztcbiAgICAgIG8zW28zLmluZGV4T2YoZjIpXSA9IG51bGwsIHUyLl9fZSA9IGYyO1xuICAgIH0gZWxzZSBmb3IgKFQyID0gbzMubGVuZ3RoOyBUMi0tOyApIGckNChvM1tUMl0pO1xuICAgIGVsc2UgdTIuX19lID0gdDIuX19lLCB1Mi5fX2sgPSB0Mi5fX2s7XG4gICAgbCQ0Ll9fZShuMywgdTIsIHQyKTtcbiAgfVxuICBlbHNlIG51bGwgPT0gbzMgJiYgdTIuX192ID09IHQyLl9fdiA/ICh1Mi5fX2sgPSB0Mi5fX2ssIHUyLl9fZSA9IHQyLl9fZSkgOiBmMiA9IHUyLl9fZSA9IFYkMih0Mi5fX2UsIHUyLCB0MiwgaTIsIHIyLCBvMywgZTIsIGMyLCBzMik7XG4gIHJldHVybiAoYTMgPSBsJDQuZGlmZmVkKSAmJiBhMyh1MiksIDEyOCAmIHUyLl9fdSA/IHZvaWQgMCA6IGYyO1xufVxuZnVuY3Rpb24geiQzKG4yLCB1MiwgdDIpIHtcbiAgZm9yICh2YXIgaTIgPSAwOyBpMiA8IHQyLmxlbmd0aDsgaTIrKykgcSQ0KHQyW2kyXSwgdDJbKytpMl0sIHQyWysraTJdKTtcbiAgbCQ0Ll9fYyAmJiBsJDQuX19jKHUyLCBuMiksIG4yLnNvbWUoZnVuY3Rpb24odTMpIHtcbiAgICB0cnkge1xuICAgICAgbjIgPSB1My5fX2gsIHUzLl9faCA9IFtdLCBuMi5zb21lKGZ1bmN0aW9uKG4zKSB7XG4gICAgICAgIG4zLmNhbGwodTMpO1xuICAgICAgfSk7XG4gICAgfSBjYXRjaCAobjMpIHtcbiAgICAgIGwkNC5fX2UobjMsIHUzLl9fdik7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIE4kMihuMikge1xuICByZXR1cm4gXCJvYmplY3RcIiAhPSB0eXBlb2YgbjIgfHwgbnVsbCA9PSBuMiB8fCBuMi5fX2IgJiYgbjIuX19iID4gMCA/IG4yIDogdyQ1KG4yKSA/IG4yLm1hcChOJDIpIDogZCQ1KHt9LCBuMik7XG59XG5mdW5jdGlvbiBWJDIodTIsIHQyLCBpMiwgcjIsIG8zLCBlMiwgZjIsIGMyLCBzMikge1xuICB2YXIgYTMsIGgyLCB5MiwgdjIsIGQyLCBfMiwgbTIsIGIyID0gaTIucHJvcHMsIGsyID0gdDIucHJvcHMsIHgyID0gdDIudHlwZTtcbiAgaWYgKFwic3ZnXCIgPT0geDIgPyBvMyA9IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiA6IFwibWF0aFwiID09IHgyID8gbzMgPSBcImh0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aC9NYXRoTUxcIiA6IG8zIHx8IChvMyA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiKSwgbnVsbCAhPSBlMikge1xuICAgIGZvciAoYTMgPSAwOyBhMyA8IGUyLmxlbmd0aDsgYTMrKykgaWYgKChkMiA9IGUyW2EzXSkgJiYgXCJzZXRBdHRyaWJ1dGVcIiBpbiBkMiA9PSAhIXgyICYmICh4MiA/IGQyLmxvY2FsTmFtZSA9PSB4MiA6IDMgPT0gZDIubm9kZVR5cGUpKSB7XG4gICAgICB1MiA9IGQyLCBlMlthM10gPSBudWxsO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIGlmIChudWxsID09IHUyKSB7XG4gICAgaWYgKG51bGwgPT0geDIpIHJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShrMik7XG4gICAgdTIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobzMsIHgyLCBrMi5pcyAmJiBrMiksIGMyICYmIChsJDQuX19tICYmIGwkNC5fX20odDIsIGUyKSwgYzIgPSBmYWxzZSksIGUyID0gbnVsbDtcbiAgfVxuICBpZiAobnVsbCA9PSB4MikgYjIgPT09IGsyIHx8IGMyICYmIHUyLmRhdGEgPT0gazIgfHwgKHUyLmRhdGEgPSBrMik7XG4gIGVsc2Uge1xuICAgIGlmIChlMiA9IGUyICYmIG4kNC5jYWxsKHUyLmNoaWxkTm9kZXMpLCBiMiA9IGkyLnByb3BzIHx8IHAkNCwgIWMyICYmIG51bGwgIT0gZTIpIGZvciAoYjIgPSB7fSwgYTMgPSAwOyBhMyA8IHUyLmF0dHJpYnV0ZXMubGVuZ3RoOyBhMysrKSBiMlsoZDIgPSB1Mi5hdHRyaWJ1dGVzW2EzXSkubmFtZV0gPSBkMi52YWx1ZTtcbiAgICBmb3IgKGEzIGluIGIyKSBpZiAoZDIgPSBiMlthM10sIFwiY2hpbGRyZW5cIiA9PSBhMykgO1xuICAgIGVsc2UgaWYgKFwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIiA9PSBhMykgeTIgPSBkMjtcbiAgICBlbHNlIGlmICghKGEzIGluIGsyKSkge1xuICAgICAgaWYgKFwidmFsdWVcIiA9PSBhMyAmJiBcImRlZmF1bHRWYWx1ZVwiIGluIGsyIHx8IFwiY2hlY2tlZFwiID09IGEzICYmIFwiZGVmYXVsdENoZWNrZWRcIiBpbiBrMikgY29udGludWU7XG4gICAgICBqJDUodTIsIGEzLCBudWxsLCBkMiwgbzMpO1xuICAgIH1cbiAgICBmb3IgKGEzIGluIGsyKSBkMiA9IGsyW2EzXSwgXCJjaGlsZHJlblwiID09IGEzID8gdjIgPSBkMiA6IFwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIiA9PSBhMyA/IGgyID0gZDIgOiBcInZhbHVlXCIgPT0gYTMgPyBfMiA9IGQyIDogXCJjaGVja2VkXCIgPT0gYTMgPyBtMiA9IGQyIDogYzIgJiYgXCJmdW5jdGlvblwiICE9IHR5cGVvZiBkMiB8fCBiMlthM10gPT09IGQyIHx8IGokNSh1MiwgYTMsIGQyLCBiMlthM10sIG8zKTtcbiAgICBpZiAoaDIpIGMyIHx8IHkyICYmIChoMi5fX2h0bWwgPT0geTIuX19odG1sIHx8IGgyLl9faHRtbCA9PSB1Mi5pbm5lckhUTUwpIHx8ICh1Mi5pbm5lckhUTUwgPSBoMi5fX2h0bWwpLCB0Mi5fX2sgPSBbXTtcbiAgICBlbHNlIGlmICh5MiAmJiAodTIuaW5uZXJIVE1MID0gXCJcIiksIEkkNChcInRlbXBsYXRlXCIgPT0gdDIudHlwZSA/IHUyLmNvbnRlbnQgOiB1MiwgdyQ1KHYyKSA/IHYyIDogW3YyXSwgdDIsIGkyLCByMiwgXCJmb3JlaWduT2JqZWN0XCIgPT0geDIgPyBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIiA6IG8zLCBlMiwgZjIsIGUyID8gZTJbMF0gOiBpMi5fX2sgJiYgUyQ1KGkyLCAwKSwgYzIsIHMyKSwgbnVsbCAhPSBlMikgZm9yIChhMyA9IGUyLmxlbmd0aDsgYTMtLTsgKSBnJDQoZTJbYTNdKTtcbiAgICBjMiB8fCAoYTMgPSBcInZhbHVlXCIsIFwicHJvZ3Jlc3NcIiA9PSB4MiAmJiBudWxsID09IF8yID8gdTIucmVtb3ZlQXR0cmlidXRlKFwidmFsdWVcIikgOiBudWxsICE9IF8yICYmIChfMiAhPT0gdTJbYTNdIHx8IFwicHJvZ3Jlc3NcIiA9PSB4MiAmJiAhXzIgfHwgXCJvcHRpb25cIiA9PSB4MiAmJiBfMiAhPSBiMlthM10pICYmIGokNSh1MiwgYTMsIF8yLCBiMlthM10sIG8zKSwgYTMgPSBcImNoZWNrZWRcIiwgbnVsbCAhPSBtMiAmJiBtMiAhPSB1MlthM10gJiYgaiQ1KHUyLCBhMywgbTIsIGIyW2EzXSwgbzMpKTtcbiAgfVxuICByZXR1cm4gdTI7XG59XG5mdW5jdGlvbiBxJDQobjIsIHUyLCB0Mikge1xuICB0cnkge1xuICAgIGlmIChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIG4yKSB7XG4gICAgICB2YXIgaTIgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIG4yLl9fdTtcbiAgICAgIGkyICYmIG4yLl9fdSgpLCBpMiAmJiBudWxsID09IHUyIHx8IChuMi5fX3UgPSBuMih1MikpO1xuICAgIH0gZWxzZSBuMi5jdXJyZW50ID0gdTI7XG4gIH0gY2F0Y2ggKG4zKSB7XG4gICAgbCQ0Ll9fZShuMywgdDIpO1xuICB9XG59XG5mdW5jdGlvbiBCJDMobjIsIHUyLCB0Mikge1xuICB2YXIgaTIsIHIyO1xuICBpZiAobCQ0LnVubW91bnQgJiYgbCQ0LnVubW91bnQobjIpLCAoaTIgPSBuMi5yZWYpICYmIChpMi5jdXJyZW50ICYmIGkyLmN1cnJlbnQgIT0gbjIuX19lIHx8IHEkNChpMiwgbnVsbCwgdTIpKSwgbnVsbCAhPSAoaTIgPSBuMi5fX2MpKSB7XG4gICAgaWYgKGkyLmNvbXBvbmVudFdpbGxVbm1vdW50KSB0cnkge1xuICAgICAgaTIuY29tcG9uZW50V2lsbFVubW91bnQoKTtcbiAgICB9IGNhdGNoIChuMykge1xuICAgICAgbCQ0Ll9fZShuMywgdTIpO1xuICAgIH1cbiAgICBpMi5iYXNlID0gaTIuX19QID0gbnVsbDtcbiAgfVxuICBpZiAoaTIgPSBuMi5fX2spIGZvciAocjIgPSAwOyByMiA8IGkyLmxlbmd0aDsgcjIrKykgaTJbcjJdICYmIEIkMyhpMltyMl0sIHUyLCB0MiB8fCBcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIG4yLnR5cGUpO1xuICB0MiB8fCBnJDQobjIuX19lKSwgbjIuX19jID0gbjIuX18gPSBuMi5fX2UgPSB2b2lkIDA7XG59XG5mdW5jdGlvbiBEJDMobjIsIGwyLCB1Mikge1xuICByZXR1cm4gdGhpcy5jb25zdHJ1Y3RvcihuMiwgdTIpO1xufVxuZnVuY3Rpb24gRSQzKHUyLCB0MiwgaTIpIHtcbiAgdmFyIHIyLCBvMywgZTIsIGYyO1xuICB0MiA9PSBkb2N1bWVudCAmJiAodDIgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLCBsJDQuX18gJiYgbCQ0Ll9fKHUyLCB0MiksIG8zID0gKHIyID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBpMikgPyBudWxsIDogaTIgJiYgaTIuX19rIHx8IHQyLl9faywgZTIgPSBbXSwgZjIgPSBbXSwgTyQzKHQyLCB1MiA9ICghcjIgJiYgaTIgfHwgdDIpLl9fayA9IF8kNChrJDMsIG51bGwsIFt1Ml0pLCBvMyB8fCBwJDQsIHAkNCwgdDIubmFtZXNwYWNlVVJJLCAhcjIgJiYgaTIgPyBbaTJdIDogbzMgPyBudWxsIDogdDIuZmlyc3RDaGlsZCA/IG4kNC5jYWxsKHQyLmNoaWxkTm9kZXMpIDogbnVsbCwgZTIsICFyMiAmJiBpMiA/IGkyIDogbzMgPyBvMy5fX2UgOiB0Mi5maXJzdENoaWxkLCByMiwgZjIpLCB6JDMoZTIsIHUyLCBmMik7XG59XG5mdW5jdGlvbiBHJDMobjIsIGwyKSB7XG4gIEUkMyhuMiwgbDIsIEckMyk7XG59XG5mdW5jdGlvbiBKJDQobDIsIHUyLCB0Mikge1xuICB2YXIgaTIsIHIyLCBvMywgZTIsIGYyID0gZCQ1KHt9LCBsMi5wcm9wcyk7XG4gIGZvciAobzMgaW4gbDIudHlwZSAmJiBsMi50eXBlLmRlZmF1bHRQcm9wcyAmJiAoZTIgPSBsMi50eXBlLmRlZmF1bHRQcm9wcyksIHUyKSBcImtleVwiID09IG8zID8gaTIgPSB1MltvM10gOiBcInJlZlwiID09IG8zID8gcjIgPSB1MltvM10gOiBmMltvM10gPSBudWxsID09IHUyW28zXSAmJiBudWxsICE9IGUyID8gZTJbbzNdIDogdTJbbzNdO1xuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgKGYyLmNoaWxkcmVuID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgPyBuJDQuY2FsbChhcmd1bWVudHMsIDIpIDogdDIpLCBtJDYobDIudHlwZSwgZjIsIGkyIHx8IGwyLmtleSwgcjIgfHwgbDIucmVmLCBudWxsKTtcbn1cbmZ1bmN0aW9uIEskMyhuMikge1xuICBmdW5jdGlvbiBsMihuMykge1xuICAgIHZhciB1MiwgdDI7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q2hpbGRDb250ZXh0IHx8ICh1MiA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCksICh0MiA9IHt9KVtsMi5fX2NdID0gdGhpcywgdGhpcy5nZXRDaGlsZENvbnRleHQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0MjtcbiAgICB9LCB0aGlzLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICB1MiA9IG51bGw7XG4gICAgfSwgdGhpcy5zaG91bGRDb21wb25lbnRVcGRhdGUgPSBmdW5jdGlvbihuNCkge1xuICAgICAgdGhpcy5wcm9wcy52YWx1ZSAhPSBuNC52YWx1ZSAmJiB1Mi5mb3JFYWNoKGZ1bmN0aW9uKG41KSB7XG4gICAgICAgIG41Ll9fZSA9IHRydWUsIE0kNChuNSk7XG4gICAgICB9KTtcbiAgICB9LCB0aGlzLnN1YiA9IGZ1bmN0aW9uKG40KSB7XG4gICAgICB1Mi5hZGQobjQpO1xuICAgICAgdmFyIGwzID0gbjQuY29tcG9uZW50V2lsbFVubW91bnQ7XG4gICAgICBuNC5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB1MiAmJiB1Mi5kZWxldGUobjQpLCBsMyAmJiBsMy5jYWxsKG40KTtcbiAgICAgIH07XG4gICAgfSksIG4zLmNoaWxkcmVuO1xuICB9XG4gIHJldHVybiBsMi5fX2MgPSBcIl9fY0NcIiArIGgkNisrLCBsMi5fXyA9IG4yLCBsMi5Qcm92aWRlciA9IGwyLl9fbCA9IChsMi5Db25zdW1lciA9IGZ1bmN0aW9uKG4zLCBsMykge1xuICAgIHJldHVybiBuMy5jaGlsZHJlbihsMyk7XG4gIH0pLmNvbnRleHRUeXBlID0gbDIsIGwyO1xufVxubiQ0ID0geSQ3LnNsaWNlLCBsJDQgPSB7IF9fZTogZnVuY3Rpb24objIsIGwyLCB1MiwgdDIpIHtcbiAgZm9yICh2YXIgaTIsIHIyLCBvMzsgbDIgPSBsMi5fXzsgKSBpZiAoKGkyID0gbDIuX19jKSAmJiAhaTIuX18pIHRyeSB7XG4gICAgaWYgKChyMiA9IGkyLmNvbnN0cnVjdG9yKSAmJiBudWxsICE9IHIyLmdldERlcml2ZWRTdGF0ZUZyb21FcnJvciAmJiAoaTIuc2V0U3RhdGUocjIuZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yKG4yKSksIG8zID0gaTIuX19kKSwgbnVsbCAhPSBpMi5jb21wb25lbnREaWRDYXRjaCAmJiAoaTIuY29tcG9uZW50RGlkQ2F0Y2gobjIsIHQyIHx8IHt9KSwgbzMgPSBpMi5fX2QpLCBvMykgcmV0dXJuIGkyLl9fRSA9IGkyO1xuICB9IGNhdGNoIChsMykge1xuICAgIG4yID0gbDM7XG4gIH1cbiAgdGhyb3cgbjI7XG59IH0sIHUkYSA9IDAsIHgkNS5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbihuMiwgbDIpIHtcbiAgdmFyIHUyO1xuICB1MiA9IG51bGwgIT0gdGhpcy5fX3MgJiYgdGhpcy5fX3MgIT0gdGhpcy5zdGF0ZSA/IHRoaXMuX19zIDogdGhpcy5fX3MgPSBkJDUoe30sIHRoaXMuc3RhdGUpLCBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIG4yICYmIChuMiA9IG4yKGQkNSh7fSwgdTIpLCB0aGlzLnByb3BzKSksIG4yICYmIGQkNSh1MiwgbjIpLCBudWxsICE9IG4yICYmIHRoaXMuX192ICYmIChsMiAmJiB0aGlzLl9zYi5wdXNoKGwyKSwgTSQ0KHRoaXMpKTtcbn0sIHgkNS5wcm90b3R5cGUuZm9yY2VVcGRhdGUgPSBmdW5jdGlvbihuMikge1xuICB0aGlzLl9fdiAmJiAodGhpcy5fX2UgPSB0cnVlLCBuMiAmJiB0aGlzLl9faC5wdXNoKG4yKSwgTSQ0KHRoaXMpKTtcbn0sIHgkNS5wcm90b3R5cGUucmVuZGVyID0gayQzLCBpJDggPSBbXSwgbyQ5ID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBQcm9taXNlID8gUHJvbWlzZS5wcm90b3R5cGUudGhlbi5iaW5kKFByb21pc2UucmVzb2x2ZSgpKSA6IHNldFRpbWVvdXQsIGUkNSA9IGZ1bmN0aW9uKG4yLCBsMikge1xuICByZXR1cm4gbjIuX192Ll9fYiAtIGwyLl9fdi5fX2I7XG59LCAkJDIuX19yID0gMCwgZiQ5ID0gLyhQb2ludGVyQ2FwdHVyZSkkfENhcHR1cmUkL2ksIGMkNyA9IDAsIHMkOSA9IEYkNihmYWxzZSksIGEkYiA9IEYkNih0cnVlKSwgaCQ2ID0gMDtcbmNvbnN0IGFwcFN0eWxlID0gJy8qISB0YWlsd2luZGNzcyB2NC4xLjUgfCBNSVQgTGljZW5zZSB8IGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tICovXFxuQGxheWVyIHByb3BlcnRpZXN7QHN1cHBvcnRzICgoLXdlYmtpdC1oeXBoZW5zOm5vbmUpIGFuZCAobm90IChtYXJnaW4tdHJpbTppbmxpbmUpKSkgb3IgKCgtbW96LW9yaWVudDppbmxpbmUpIGFuZCAobm90IChjb2xvcjpyZ2IoZnJvbSByZWQgciBnIGIpKSkpe3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yICosc3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgOmJlZm9yZSxzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciA6YWZ0ZXIsc3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgOjpiYWNrZHJvcHstLXR3LXJvdGF0ZS14OmluaXRpYWw7LS10dy1yb3RhdGUteTppbml0aWFsOy0tdHctcm90YXRlLXo6aW5pdGlhbDstLXR3LXNrZXcteDppbml0aWFsOy0tdHctc2tldy15OmluaXRpYWw7LS10dy1ib3JkZXItc3R5bGU6c29saWQ7LS10dy1ncmFkaWVudC1wb3NpdGlvbjppbml0aWFsOy0tdHctZ3JhZGllbnQtZnJvbTojMDAwMDstLXR3LWdyYWRpZW50LXZpYTojMDAwMDstLXR3LWdyYWRpZW50LXRvOiMwMDAwOy0tdHctZ3JhZGllbnQtc3RvcHM6aW5pdGlhbDstLXR3LWdyYWRpZW50LXZpYS1zdG9wczppbml0aWFsOy0tdHctZ3JhZGllbnQtZnJvbS1wb3NpdGlvbjowJTstLXR3LWdyYWRpZW50LXZpYS1wb3NpdGlvbjo1MCU7LS10dy1ncmFkaWVudC10by1wb3NpdGlvbjoxMDAlOy0tdHctZm9udC13ZWlnaHQ6aW5pdGlhbDstLXR3LXNoYWRvdzowIDAgIzAwMDA7LS10dy1zaGFkb3ctY29sb3I6aW5pdGlhbDstLXR3LXNoYWRvdy1hbHBoYToxMDAlOy0tdHctaW5zZXQtc2hhZG93OjAgMCAjMDAwMDstLXR3LWluc2V0LXNoYWRvdy1jb2xvcjppbml0aWFsOy0tdHctaW5zZXQtc2hhZG93LWFscGhhOjEwMCU7LS10dy1yaW5nLWNvbG9yOmluaXRpYWw7LS10dy1yaW5nLXNoYWRvdzowIDAgIzAwMDA7LS10dy1pbnNldC1yaW5nLWNvbG9yOmluaXRpYWw7LS10dy1pbnNldC1yaW5nLXNoYWRvdzowIDAgIzAwMDA7LS10dy1yaW5nLWluc2V0OmluaXRpYWw7LS10dy1yaW5nLW9mZnNldC13aWR0aDowcHg7LS10dy1yaW5nLW9mZnNldC1jb2xvcjojZmZmOy0tdHctcmluZy1vZmZzZXQtc2hhZG93OjAgMCAjMDAwMDstLXR3LWJsdXI6aW5pdGlhbDstLXR3LWJyaWdodG5lc3M6aW5pdGlhbDstLXR3LWNvbnRyYXN0OmluaXRpYWw7LS10dy1ncmF5c2NhbGU6aW5pdGlhbDstLXR3LWh1ZS1yb3RhdGU6aW5pdGlhbDstLXR3LWludmVydDppbml0aWFsOy0tdHctb3BhY2l0eTppbml0aWFsOy0tdHctc2F0dXJhdGU6aW5pdGlhbDstLXR3LXNlcGlhOmluaXRpYWw7LS10dy1kcm9wLXNoYWRvdzppbml0aWFsOy0tdHctZHJvcC1zaGFkb3ctY29sb3I6aW5pdGlhbDstLXR3LWRyb3Atc2hhZG93LWFscGhhOjEwMCU7LS10dy1kcm9wLXNoYWRvdy1zaXplOmluaXRpYWw7LS10dy1iYWNrZHJvcC1ibHVyOmluaXRpYWw7LS10dy1iYWNrZHJvcC1icmlnaHRuZXNzOmluaXRpYWw7LS10dy1iYWNrZHJvcC1jb250cmFzdDppbml0aWFsOy0tdHctYmFja2Ryb3AtZ3JheXNjYWxlOmluaXRpYWw7LS10dy1iYWNrZHJvcC1odWUtcm90YXRlOmluaXRpYWw7LS10dy1iYWNrZHJvcC1pbnZlcnQ6aW5pdGlhbDstLXR3LWJhY2tkcm9wLW9wYWNpdHk6aW5pdGlhbDstLXR3LWJhY2tkcm9wLXNhdHVyYXRlOmluaXRpYWw7LS10dy1iYWNrZHJvcC1zZXBpYTppbml0aWFsOy0tdHctZHVyYXRpb246aW5pdGlhbH19fUBsYXllciB0aGVtZXtzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvcixzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvcnstLWZvbnQtc2Fuczp1aS1zYW5zLXNlcmlmLHN5c3RlbS11aSxzYW5zLXNlcmlmLFwiQXBwbGUgQ29sb3IgRW1vamlcIixcIlNlZ29lIFVJIEVtb2ppXCIsXCJTZWdvZSBVSSBTeW1ib2xcIixcIk5vdG8gQ29sb3IgRW1vamlcIjstLWZvbnQtbW9ubzp1aS1tb25vc3BhY2UsU0ZNb25vLVJlZ3VsYXIsTWVubG8sTW9uYWNvLENvbnNvbGFzLFwiTGliZXJhdGlvbiBNb25vXCIsXCJDb3VyaWVyIE5ld1wiLG1vbm9zcGFjZTstLWNvbG9yLXJlZC02MDA6b2tsY2goNTcuNyUgLjI0NSAyNy4zMjUpOy0tY29sb3ItZ3JlZW4tNjAwOm9rbGNoKDYyLjclIC4xOTQgMTQ5LjIxNCk7LS1jb2xvci10ZWFsLTUwMDpva2xjaCg3MC40JSAuMTQgMTgyLjUwMyk7LS1jb2xvci1ibHVlLTUwMDpva2xjaCg2Mi4zJSAuMjE0IDI1OS44MTUpOy0tY29sb3ItYmx1ZS02MDA6b2tsY2goNTQuNiUgLjI0NSAyNjIuODgxKTstLWNvbG9yLWluZGlnby03MDA6b2tsY2goNDUuNyUgLjI0IDI3Ny4wMjMpOy0tY29sb3ItaW5kaWdvLTk1MDpva2xjaCgyNS43JSAuMDkgMjgxLjI4OCk7LS1jb2xvci1yb3NlLTYwMDpva2xjaCg1OC42JSAuMjUzIDE3LjU4NSk7LS1jb2xvci16aW5jLTUwOm9rbGNoKDk4LjUlIDAgMCk7LS1jb2xvci16aW5jLTEwMDpva2xjaCg5Ni43JSAuMDAxIDI4Ni4zNzUpOy0tY29sb3ItemluYy01MDA6b2tsY2goNTUuMiUgLjAxNiAyODUuOTM4KTstLWNvbG9yLXppbmMtNjAwOm9rbGNoKDQ0LjIlIC4wMTcgMjg1Ljc4Nik7LS1jb2xvci16aW5jLTcwMDpva2xjaCgzNyUgLjAxMyAyODUuODA1KTstLWNvbG9yLXppbmMtOTAwOm9rbGNoKDIxJSAuMDA2IDI4NS44ODUpOy0tY29sb3ItemluYy05NTA6b2tsY2goMTQuMSUgLjAwNSAyODUuODIzKTstLWNvbG9yLWJsYWNrOiMwMDA7LS1jb2xvci13aGl0ZTojZmZmOy0tc3BhY2luZzouMjVyZW07LS1jb250YWluZXItc206MjRyZW07LS10ZXh0LXhzOi43NXJlbTstLXRleHQteHMtLWxpbmUtaGVpZ2h0OmNhbGMoMS8uNzUpOy0tdGV4dC1zbTouODc1cmVtOy0tdGV4dC1zbS0tbGluZS1oZWlnaHQ6Y2FsYygxLjI1Ly44NzUpOy0tdGV4dC1iYXNlOjFyZW07LS10ZXh0LWJhc2UtLWxpbmUtaGVpZ2h0OmNhbGMoMS41LzEpOy0tZm9udC13ZWlnaHQtbm9ybWFsOjQwMDstLWZvbnQtd2VpZ2h0LXNlbWlib2xkOjYwMDstLWZvbnQtd2VpZ2h0LWJvbGQ6NzAwOy0tcmFkaXVzLW1kOi4zNzVyZW07LS1yYWRpdXMtbGc6LjVyZW07LS1yYWRpdXMteGw6Ljc1cmVtOy0tcmFkaXVzLTJ4bDoxcmVtOy0tcmFkaXVzLTN4bDoxLjVyZW07LS1kcm9wLXNoYWRvdy14czowIDFweCAxcHggIzAwMDAwMDBkOy0tZHJvcC1zaGFkb3ctbWQ6MCAzcHggM3B4ICMwMDAwMDAxZjstLWRyb3Atc2hhZG93LXhsOjAgOXB4IDdweCAjMDAwMDAwMWE7LS1hbmltYXRlLXB1bHNlOnB1bHNlIDJzIGN1YmljLWJlemllciguNCwwLC42LDEpaW5maW5pdGU7LS1ibHVyLXhzOjRweDstLWJsdXItc206OHB4Oy0tYmx1ci1tZDoxMnB4Oy0tYmx1ci1sZzoxNnB4Oy0tZGVmYXVsdC10cmFuc2l0aW9uLWR1cmF0aW9uOi4xNXM7LS1kZWZhdWx0LXRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllciguNCwwLC4yLDEpOy0tZGVmYXVsdC1mb250LWZhbWlseTp2YXIoLS1mb250LXNhbnMpOy0tZGVmYXVsdC1tb25vLWZvbnQtZmFtaWx5OnZhcigtLWZvbnQtbW9ubyk7LS1jb2xvci1iYWNrZ3JvdW5kOnZhcigtLWNvbG9yLXdoaXRlKTstLWNvbG9yLWZvcmVncm91bmQ6dmFyKC0tY29sb3ItemluYy05NTApOy0tY29sb3ItbXV0ZWQtZm9yZWdyb3VuZDp2YXIoLS1jb2xvci16aW5jLTcwMCk7LS1jb2xvci1ib3JkZXI6dmFyKC0tY29sb3ItemluYy01MDApfX1AbGF5ZXIgYmFzZXtzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAqLHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIDphZnRlcixzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciA6YmVmb3JlLHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIDo6YmFja2Ryb3B7Ym94LXNpemluZzpib3JkZXItYm94O2JvcmRlcjowIHNvbGlkO21hcmdpbjowO3BhZGRpbmc6MH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciA6OmZpbGUtc2VsZWN0b3ItYnV0dG9ue2JveC1zaXppbmc6Ym9yZGVyLWJveDtib3JkZXI6MCBzb2xpZDttYXJnaW46MDtwYWRkaW5nOjB9OndoZXJlKHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yKSxzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvcnstd2Via2l0LXRleHQtc2l6ZS1hZGp1c3Q6MTAwJTstbW96LXRhYi1zaXplOjQ7LW8tdGFiLXNpemU6NDt0YWItc2l6ZTo0O2xpbmUtaGVpZ2h0OjEuNTtmb250LWZhbWlseTp2YXIoLS1kZWZhdWx0LWZvbnQtZmFtaWx5LHVpLXNhbnMtc2VyaWYsc3lzdGVtLXVpLHNhbnMtc2VyaWYsXCJBcHBsZSBDb2xvciBFbW9qaVwiLFwiU2Vnb2UgVUkgRW1vamlcIixcIlNlZ29lIFVJIFN5bWJvbFwiLFwiTm90byBDb2xvciBFbW9qaVwiKTtmb250LWZlYXR1cmUtc2V0dGluZ3M6dmFyKC0tZGVmYXVsdC1mb250LWZlYXR1cmUtc2V0dGluZ3Msbm9ybWFsKTtmb250LXZhcmlhdGlvbi1zZXR0aW5nczp2YXIoLS1kZWZhdWx0LWZvbnQtdmFyaWF0aW9uLXNldHRpbmdzLG5vcm1hbCk7LXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOnRyYW5zcGFyZW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIGhye2hlaWdodDowO2NvbG9yOmluaGVyaXQ7Ym9yZGVyLXRvcC13aWR0aDoxcHh9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgYWJicjp3aGVyZShbdGl0bGVdKXstd2Via2l0LXRleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmUgZG90dGVkO3RleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmUgZG90dGVkfXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIGgxLHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIGgyLHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIGgzLHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIGg0LHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIGg1LHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIGg2e2ZvbnQtc2l6ZTppbmhlcml0O2ZvbnQtd2VpZ2h0OmluaGVyaXR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgYXtjb2xvcjppbmhlcml0Oy13ZWJraXQtdGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7LXdlYmtpdC10ZXh0LWRlY29yYXRpb246aW5oZXJpdDstd2Via2l0LXRleHQtZGVjb3JhdGlvbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIGIsc3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3Igc3Ryb25ne2ZvbnQtd2VpZ2h0OmJvbGRlcn1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciBjb2RlLHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIGtiZCxzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciBzYW1wLHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIHByZXtmb250LWZhbWlseTp2YXIoLS1kZWZhdWx0LW1vbm8tZm9udC1mYW1pbHksdWktbW9ub3NwYWNlLFNGTW9uby1SZWd1bGFyLE1lbmxvLE1vbmFjbyxDb25zb2xhcyxcIkxpYmVyYXRpb24gTW9ub1wiLFwiQ291cmllciBOZXdcIixtb25vc3BhY2UpO2ZvbnQtZmVhdHVyZS1zZXR0aW5nczp2YXIoLS1kZWZhdWx0LW1vbm8tZm9udC1mZWF0dXJlLXNldHRpbmdzLG5vcm1hbCk7Zm9udC12YXJpYXRpb24tc2V0dGluZ3M6dmFyKC0tZGVmYXVsdC1tb25vLWZvbnQtdmFyaWF0aW9uLXNldHRpbmdzLG5vcm1hbCk7Zm9udC1zaXplOjFlbX1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciBzbWFsbHtmb250LXNpemU6ODAlfXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIHN1YixzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciBzdXB7dmVydGljYWwtYWxpZ246YmFzZWxpbmU7Zm9udC1zaXplOjc1JTtsaW5lLWhlaWdodDowO3Bvc2l0aW9uOnJlbGF0aXZlfXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIHN1Yntib3R0b206LS4yNWVtfXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIHN1cHt0b3A6LS41ZW19c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgdGFibGV7dGV4dC1pbmRlbnQ6MDtib3JkZXItY29sb3I6aW5oZXJpdDtib3JkZXItY29sbGFwc2U6Y29sbGFwc2V9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgOi1tb3otZm9jdXNyaW5ne291dGxpbmU6YXV0b31zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciBwcm9ncmVzc3t2ZXJ0aWNhbC1hbGlnbjpiYXNlbGluZX1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciBzdW1tYXJ5e2Rpc3BsYXk6bGlzdC1pdGVtfXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIG9sLHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIHVsLHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIG1lbnV7bGlzdC1zdHlsZTpub25lfXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIGltZyxzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciBzdmcsc3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgdmlkZW8sc3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgY2FudmFzLHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIGF1ZGlvLHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIGlmcmFtZSxzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciBlbWJlZCxzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciBvYmplY3R7dmVydGljYWwtYWxpZ246bWlkZGxlO2Rpc3BsYXk6YmxvY2t9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgaW1nLHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIHZpZGVve21heC13aWR0aDoxMDAlO2hlaWdodDphdXRvfXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIGJ1dHRvbixzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciBpbnB1dCxzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciBzZWxlY3Qsc3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3Igb3B0Z3JvdXAsc3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgdGV4dGFyZWF7Zm9udDppbmhlcml0O2ZvbnQtZmVhdHVyZS1zZXR0aW5nczppbmhlcml0O2ZvbnQtdmFyaWF0aW9uLXNldHRpbmdzOmluaGVyaXQ7bGV0dGVyLXNwYWNpbmc6aW5oZXJpdDtjb2xvcjppbmhlcml0O29wYWNpdHk6MTtiYWNrZ3JvdW5kLWNvbG9yOiMwMDAwO2JvcmRlci1yYWRpdXM6MH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciA6OmZpbGUtc2VsZWN0b3ItYnV0dG9ue2ZvbnQ6aW5oZXJpdDtmb250LWZlYXR1cmUtc2V0dGluZ3M6aW5oZXJpdDtmb250LXZhcmlhdGlvbi1zZXR0aW5nczppbmhlcml0O2xldHRlci1zcGFjaW5nOmluaGVyaXQ7Y29sb3I6aW5oZXJpdDtvcGFjaXR5OjE7YmFja2dyb3VuZC1jb2xvcjojMDAwMDtib3JkZXItcmFkaXVzOjB9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgOndoZXJlKHNlbGVjdDppcyhbbXVsdGlwbGVdLFtzaXplXSkpIG9wdGdyb3Vwe2ZvbnQtd2VpZ2h0OmJvbGRlcn1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciA6d2hlcmUoc2VsZWN0OmlzKFttdWx0aXBsZV0sW3NpemVdKSkgb3B0Z3JvdXAgb3B0aW9ue3BhZGRpbmctaW5saW5lLXN0YXJ0OjIwcHh9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgOjpmaWxlLXNlbGVjdG9yLWJ1dHRvbnttYXJnaW4taW5saW5lLWVuZDo0cHh9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgOjotbW96LXBsYWNlaG9sZGVye29wYWNpdHk6MX1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciA6OnBsYWNlaG9sZGVye29wYWNpdHk6MX1Ac3VwcG9ydHMgKG5vdCAoLXdlYmtpdC1hcHBlYXJhbmNlOi1hcHBsZS1wYXktYnV0dG9uKSkgb3IgKGNvbnRhaW4taW50cmluc2ljLXNpemU6MXB4KXtzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciA6Oi1tb3otcGxhY2Vob2xkZXJ7Y29sb3I6Y3VycmVudENvbG9yfXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIDo6cGxhY2Vob2xkZXJ7Y29sb3I6Y3VycmVudENvbG9yfUBzdXBwb3J0cyAoY29sb3I6Y29sb3ItbWl4KGluIGxhYiwgcmVkLCByZWQpKXtzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciA6Oi1tb3otcGxhY2Vob2xkZXJ7Y29sb3I6Y29sb3ItbWl4KGluIG9rbGFiLGN1cnJlbnRjb2xvciA1MCUsdHJhbnNwYXJlbnQpfXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIDo6cGxhY2Vob2xkZXJ7Y29sb3I6Y29sb3ItbWl4KGluIG9rbGFiLGN1cnJlbnRjb2xvciA1MCUsdHJhbnNwYXJlbnQpfX19c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgdGV4dGFyZWF7cmVzaXplOnZlcnRpY2FsfXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIDo6LXdlYmtpdC1zZWFyY2gtZGVjb3JhdGlvbnstd2Via2l0LWFwcGVhcmFuY2U6bm9uZX1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciA6Oi13ZWJraXQtZGF0ZS1hbmQtdGltZS12YWx1ZXttaW4taGVpZ2h0OjFsaDt0ZXh0LWFsaWduOmluaGVyaXR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgOjotd2Via2l0LWRhdGV0aW1lLWVkaXR7ZGlzcGxheTppbmxpbmUtZmxleH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciA6Oi13ZWJraXQtZGF0ZXRpbWUtZWRpdC1maWVsZHMtd3JhcHBlcntwYWRkaW5nOjB9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgOjotd2Via2l0LWRhdGV0aW1lLWVkaXR7cGFkZGluZy1ibG9jazowfXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIDo6LXdlYmtpdC1kYXRldGltZS1lZGl0LXllYXItZmllbGR7cGFkZGluZy1ibG9jazowfXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIDo6LXdlYmtpdC1kYXRldGltZS1lZGl0LW1vbnRoLWZpZWxke3BhZGRpbmctYmxvY2s6MH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciA6Oi13ZWJraXQtZGF0ZXRpbWUtZWRpdC1kYXktZmllbGR7cGFkZGluZy1ibG9jazowfXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIDo6LXdlYmtpdC1kYXRldGltZS1lZGl0LWhvdXItZmllbGR7cGFkZGluZy1ibG9jazowfXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIDo6LXdlYmtpdC1kYXRldGltZS1lZGl0LW1pbnV0ZS1maWVsZHtwYWRkaW5nLWJsb2NrOjB9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgOjotd2Via2l0LWRhdGV0aW1lLWVkaXQtc2Vjb25kLWZpZWxke3BhZGRpbmctYmxvY2s6MH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciA6Oi13ZWJraXQtZGF0ZXRpbWUtZWRpdC1taWxsaXNlY29uZC1maWVsZHtwYWRkaW5nLWJsb2NrOjB9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgOjotd2Via2l0LWRhdGV0aW1lLWVkaXQtbWVyaWRpZW0tZmllbGR7cGFkZGluZy1ibG9jazowfXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIDotbW96LXVpLWludmFsaWR7Ym94LXNoYWRvdzpub25lfXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIGJ1dHRvbixzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciBpbnB1dDp3aGVyZShbdHlwZT1idXR0b25dLFt0eXBlPXJlc2V0XSxbdHlwZT1zdWJtaXRdKXstd2Via2l0LWFwcGVhcmFuY2U6YnV0dG9uOy1tb3otYXBwZWFyYW5jZTpidXR0b247YXBwZWFyYW5jZTpidXR0b259c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgOjpmaWxlLXNlbGVjdG9yLWJ1dHRvbnstd2Via2l0LWFwcGVhcmFuY2U6YnV0dG9uOy1tb3otYXBwZWFyYW5jZTpidXR0b247YXBwZWFyYW5jZTpidXR0b259c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgOjotd2Via2l0LWlubmVyLXNwaW4tYnV0dG9ue2hlaWdodDphdXRvfXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIDo6LXdlYmtpdC1vdXRlci1zcGluLWJ1dHRvbntoZWlnaHQ6YXV0b31zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciBbaGlkZGVuXTp3aGVyZSg6bm90KFtoaWRkZW49dW50aWwtZm91bmRdKSl7ZGlzcGxheTpub25lIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciBzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAqe21pbi13aWR0aDowO21pbi1oZWlnaHQ6MDtwb3NpdGlvbjpyZWxhdGl2ZX19QGxheWVyIGNvbXBvbmVudHM7QGxheWVyIHV0aWxpdGllc3tzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucG9pbnRlci1ldmVudHMtYXV0b3twb2ludGVyLWV2ZW50czphdXRvIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucG9pbnRlci1ldmVudHMtbm9uZXtwb2ludGVyLWV2ZW50czpub25lIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAudmlzaWJsZXt2aXNpYmlsaXR5OnZpc2libGUhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5hYnNvbHV0ZXtwb3NpdGlvbjphYnNvbHV0ZSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmZpeGVke3Bvc2l0aW9uOmZpeGVkIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucmVsYXRpdmV7cG9zaXRpb246cmVsYXRpdmUhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5pbnNldC0we2luc2V0OmNhbGModmFyKC0tc3BhY2luZykqMCkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5pbnNldC00e2luc2V0OmNhbGModmFyKC0tc3BhY2luZykqNCkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC50b3AtMHt0b3A6Y2FsYyh2YXIoLS1zcGFjaW5nKSowKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnRvcC0xXFxcXC8ye3RvcDo1MCUhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC50b3AtXFxcXFstMjBcXFxcJVxcXFxde3RvcDotMjAlIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAudG9wLVxcXFxbMjVcXFxcJVxcXFxde3RvcDoyNSUhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC4tcmlnaHQtMXtyaWdodDpjYWxjKHZhcigtLXNwYWNpbmcpKi0xKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnJpZ2h0LTB7cmlnaHQ6Y2FsYyh2YXIoLS1zcGFjaW5nKSowKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnJpZ2h0LTFcXFxcLzJ7cmlnaHQ6NTAlIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucmlnaHQtMntyaWdodDpjYWxjKHZhcigtLXNwYWNpbmcpKjIpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuLWJvdHRvbS0wXFxcXC41e2JvdHRvbTpjYWxjKHZhcigtLXNwYWNpbmcpKi0uNSkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5ib3R0b20tMVxcXFwvMntib3R0b206NTAlIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYm90dG9tLTN7Ym90dG9tOmNhbGModmFyKC0tc3BhY2luZykqMykhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5sZWZ0LTB7bGVmdDpjYWxjKHZhcigtLXNwYWNpbmcpKjApIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAubGVmdC0xXFxcXC8ye2xlZnQ6NTAlIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAubGVmdC0ze2xlZnQ6Y2FsYyh2YXIoLS1zcGFjaW5nKSozKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmxlZnQtXFxcXFstMTBcXFxcJVxcXFxde2xlZnQ6LTEwJSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmxlZnQtXFxcXFsyNVxcXFwlXFxcXF17bGVmdDoyNSUhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC56LTUwe3otaW5kZXg6NTAhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5jb250YWluZXJ7d2lkdGg6MTAwJSFpbXBvcnRhbnR9QG1lZGlhIChtaW4td2lkdGg6NDByZW0pe3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5jb250YWluZXJ7bWF4LXdpZHRoOjQwcmVtIWltcG9ydGFudH19QG1lZGlhIChtaW4td2lkdGg6NDhyZW0pe3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5jb250YWluZXJ7bWF4LXdpZHRoOjQ4cmVtIWltcG9ydGFudH19QG1lZGlhIChtaW4td2lkdGg6NjRyZW0pe3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5jb250YWluZXJ7bWF4LXdpZHRoOjY0cmVtIWltcG9ydGFudH19QG1lZGlhIChtaW4td2lkdGg6ODByZW0pe3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5jb250YWluZXJ7bWF4LXdpZHRoOjgwcmVtIWltcG9ydGFudH19QG1lZGlhIChtaW4td2lkdGg6OTZyZW0pe3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5jb250YWluZXJ7bWF4LXdpZHRoOjk2cmVtIWltcG9ydGFudH19c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJsb2Nre2Rpc3BsYXk6YmxvY2shaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5jb250ZW50c3tkaXNwbGF5OmNvbnRlbnRzIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuZmxleHtkaXNwbGF5OmZsZXghaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5oaWRkZW57ZGlzcGxheTpub25lIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuaW5saW5le2Rpc3BsYXk6aW5saW5lIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYXNwZWN0LXNxdWFyZXthc3BlY3QtcmF0aW86MSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnNpemUtMHt3aWR0aDpjYWxjKHZhcigtLXNwYWNpbmcpKjApIWltcG9ydGFudDtoZWlnaHQ6Y2FsYyh2YXIoLS1zcGFjaW5nKSowKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnNpemUtMVxcXFwuNXt3aWR0aDpjYWxjKHZhcigtLXNwYWNpbmcpKjEuNSkhaW1wb3J0YW50O2hlaWdodDpjYWxjKHZhcigtLXNwYWNpbmcpKjEuNSkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5zaXplLTJcXFxcLzN7d2lkdGg6NjYuNjY2NyUhaW1wb3J0YW50O2hlaWdodDo2Ni42NjY3JSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnNpemUtM3t3aWR0aDpjYWxjKHZhcigtLXNwYWNpbmcpKjMpIWltcG9ydGFudDtoZWlnaHQ6Y2FsYyh2YXIoLS1zcGFjaW5nKSozKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnNpemUtNHt3aWR0aDpjYWxjKHZhcigtLXNwYWNpbmcpKjQpIWltcG9ydGFudDtoZWlnaHQ6Y2FsYyh2YXIoLS1zcGFjaW5nKSo0KSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnNpemUtNXt3aWR0aDpjYWxjKHZhcigtLXNwYWNpbmcpKjUpIWltcG9ydGFudDtoZWlnaHQ6Y2FsYyh2YXIoLS1zcGFjaW5nKSo1KSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnNpemUtNnt3aWR0aDpjYWxjKHZhcigtLXNwYWNpbmcpKjYpIWltcG9ydGFudDtoZWlnaHQ6Y2FsYyh2YXIoLS1zcGFjaW5nKSo2KSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnNpemUtOHt3aWR0aDpjYWxjKHZhcigtLXNwYWNpbmcpKjgpIWltcG9ydGFudDtoZWlnaHQ6Y2FsYyh2YXIoLS1zcGFjaW5nKSo4KSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnNpemUtOVxcXFwvMTJ7d2lkdGg6NzUlIWltcG9ydGFudDtoZWlnaHQ6NzUlIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuc2l6ZS0xMnt3aWR0aDpjYWxjKHZhcigtLXNwYWNpbmcpKjEyKSFpbXBvcnRhbnQ7aGVpZ2h0OmNhbGModmFyKC0tc3BhY2luZykqMTIpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuc2l6ZS1cXFxcWzEyMFxcXFwlXFxcXF17d2lkdGg6MTIwJSFpbXBvcnRhbnQ7aGVpZ2h0OjEyMCUhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5zaXplLWZ1bGx7d2lkdGg6MTAwJSFpbXBvcnRhbnQ7aGVpZ2h0OjEwMCUhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5oLTR7aGVpZ2h0OmNhbGModmFyKC0tc3BhY2luZykqNCkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5oLTV7aGVpZ2h0OmNhbGModmFyKC0tc3BhY2luZykqNSkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5oLTZ7aGVpZ2h0OmNhbGModmFyKC0tc3BhY2luZykqNikhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5oLTh7aGVpZ2h0OmNhbGModmFyKC0tc3BhY2luZykqOCkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5oLVxcXFxbNFxcXFwuNWVtXFxcXF17aGVpZ2h0OjQuNWVtIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuaC1cXFxcWzUwXFxcXCVcXFxcXXtoZWlnaHQ6NTAlIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuaC1cXFxcWzEyMFxcXFwlXFxcXF17aGVpZ2h0OjEyMCUhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5oLWF1dG97aGVpZ2h0OmF1dG8haW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5oLWZpdHtoZWlnaHQ6LW1vei1maXQtY29udGVudCFpbXBvcnRhbnQ7aGVpZ2h0OmZpdC1jb250ZW50IWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuaC1mdWxse2hlaWdodDoxMDAlIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuaC1zY3JlZW57aGVpZ2h0OjEwMHZoIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAubWF4LWgtXFxcXFs1MHZoXFxcXF17bWF4LWhlaWdodDo1MHZoIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAubWF4LWgtZnVsbHttYXgtaGVpZ2h0OjEwMCUhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC53LTB7d2lkdGg6Y2FsYyh2YXIoLS1zcGFjaW5nKSowKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnctNnt3aWR0aDpjYWxjKHZhcigtLXNwYWNpbmcpKjYpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAudy04MHt3aWR0aDpjYWxjKHZhcigtLXNwYWNpbmcpKjgwKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnctOTZ7d2lkdGg6Y2FsYyh2YXIoLS1zcGFjaW5nKSo5NikhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC53LVxcXFxbNTBcXFxcJVxcXFxde3dpZHRoOjUwJSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnctZml0e3dpZHRoOi1tb3otZml0LWNvbnRlbnQhaW1wb3J0YW50O3dpZHRoOmZpdC1jb250ZW50IWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAudy1mdWxse3dpZHRoOjEwMCUhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC53LW1heHt3aWR0aDotbW96LW1heC1jb250ZW50IWltcG9ydGFudDt3aWR0aDptYXgtY29udGVudCFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnctc2NyZWVue3dpZHRoOjEwMHZ3IWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAubWF4LXctOHttYXgtd2lkdGg6Y2FsYyh2YXIoLS1zcGFjaW5nKSo4KSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLm1heC13LTQ4e21heC13aWR0aDpjYWxjKHZhcigtLXNwYWNpbmcpKjQ4KSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLm1heC13LTkwe21heC13aWR0aDpjYWxjKHZhcigtLXNwYWNpbmcpKjkwKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLm1heC13LVxcXFxbODBcXFxcJVxcXFxde21heC13aWR0aDo4MCUhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5tYXgtdy1cXFxcWzgwdndcXFxcXXttYXgtd2lkdGg6ODB2dyFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLm1heC13LXNte21heC13aWR0aDp2YXIoLS1jb250YWluZXItc20pIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAubWluLXctNHttaW4td2lkdGg6Y2FsYyh2YXIoLS1zcGFjaW5nKSo0KSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLm1pbi13LTI0e21pbi13aWR0aDpjYWxjKHZhcigtLXNwYWNpbmcpKjI0KSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmZsZXgtMXtmbGV4OjEhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5mbGV4LXNocmluay0wLHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5zaHJpbmstMHtmbGV4LXNocmluazowIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAub3JpZ2luLWNlbnRlcnt0cmFuc2Zvcm0tb3JpZ2luOjUwJSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnRyYW5zZm9ybXt0cmFuc2Zvcm06dmFyKC0tdHctcm90YXRlLXgsKXZhcigtLXR3LXJvdGF0ZS15LCl2YXIoLS10dy1yb3RhdGUteiwpdmFyKC0tdHctc2tldy14LCl2YXIoLS10dy1za2V3LXksKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmFuaW1hdGUtcHVsc2V7YW5pbWF0aW9uOnZhcigtLWFuaW1hdGUtcHVsc2UpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuY3Vyc29yLWdyYWJ7Y3Vyc29yOmdyYWIhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5jdXJzb3ItcG9pbnRlcntjdXJzb3I6cG9pbnRlciFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnJlc2l6ZXtyZXNpemU6Ym90aCFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnJlc2l6ZS1ub25le3Jlc2l6ZTpub25lIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuc25hcC1zdGFydHtzY3JvbGwtc25hcC1hbGlnbjpzdGFydCFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmZsZXgtY29se2ZsZXgtZGlyZWN0aW9uOmNvbHVtbiFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmZsZXgtcm93e2ZsZXgtZGlyZWN0aW9uOnJvdyFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLml0ZW1zLWNlbnRlcnthbGlnbi1pdGVtczpjZW50ZXIhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5pdGVtcy1lbmR7YWxpZ24taXRlbXM6ZmxleC1lbmQhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5pdGVtcy1zdGFydHthbGlnbi1pdGVtczpmbGV4LXN0YXJ0IWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuaXRlbXMtc3RyZXRjaHthbGlnbi1pdGVtczpzdHJldGNoIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuanVzdGlmeS1iZXR3ZWVue2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuanVzdGlmeS1jZW50ZXJ7anVzdGlmeS1jb250ZW50OmNlbnRlciFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmp1c3RpZnktZW5ke2p1c3RpZnktY29udGVudDpmbGV4LWVuZCFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmp1c3RpZnktc3RhcnR7anVzdGlmeS1jb250ZW50OmZsZXgtc3RhcnQhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5nYXAtMXtnYXA6Y2FsYyh2YXIoLS1zcGFjaW5nKSoxKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmdhcC0ye2dhcDpjYWxjKHZhcigtLXNwYWNpbmcpKjIpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuZ2FwLTN7Z2FwOmNhbGModmFyKC0tc3BhY2luZykqMykhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC50cnVuY2F0ZXt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzIWltcG9ydGFudDt3aGl0ZS1zcGFjZTpub3dyYXAhaW1wb3J0YW50O292ZXJmbG93OmhpZGRlbiFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLm92ZXJmbG93LWhpZGRlbntvdmVyZmxvdzpoaWRkZW4haW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5vdmVyZmxvdy12aXNpYmxle292ZXJmbG93OnZpc2libGUhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5vdmVyZmxvdy14LWF1dG97b3ZlcmZsb3cteDphdXRvIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAub3ZlcmZsb3cteC1oaWRkZW57b3ZlcmZsb3cteDpoaWRkZW4haW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5vdmVyZmxvdy15LWF1dG97b3ZlcmZsb3cteTphdXRvIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAub3ZlcmZsb3cteS12aXNpYmxle292ZXJmbG93LXk6dmlzaWJsZSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnJvdW5kZWR7Ym9yZGVyLXJhZGl1czouMjVyZW0haW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5yb3VuZGVkLTJ4bHtib3JkZXItcmFkaXVzOnZhcigtLXJhZGl1cy0yeGwpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucm91bmRlZC0zeGx7Ym9yZGVyLXJhZGl1czp2YXIoLS1yYWRpdXMtM3hsKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnJvdW5kZWQtZnVsbHtib3JkZXItcmFkaXVzOjMuNDAyODJlMzhweCFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnJvdW5kZWQtbGd7Ym9yZGVyLXJhZGl1czp2YXIoLS1yYWRpdXMtbGcpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucm91bmRlZC1tZHtib3JkZXItcmFkaXVzOnZhcigtLXJhZGl1cy1tZCkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5yb3VuZGVkLXhse2JvcmRlci1yYWRpdXM6dmFyKC0tcmFkaXVzLXhsKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnJvdW5kZWQtdC0zeGx7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czp2YXIoLS1yYWRpdXMtM3hsKSFpbXBvcnRhbnQ7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6dmFyKC0tcmFkaXVzLTN4bCkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5ib3JkZXJ7Ym9yZGVyLXN0eWxlOnZhcigtLXR3LWJvcmRlci1zdHlsZSkhaW1wb3J0YW50O2JvcmRlci13aWR0aDoxcHghaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5ib3JkZXItMntib3JkZXItc3R5bGU6dmFyKC0tdHctYm9yZGVyLXN0eWxlKSFpbXBvcnRhbnQ7Ym9yZGVyLXdpZHRoOjJweCFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJvcmRlci14e2JvcmRlci1pbmxpbmUtc3R5bGU6dmFyKC0tdHctYm9yZGVyLXN0eWxlKSFpbXBvcnRhbnQ7Ym9yZGVyLWlubGluZS13aWR0aDoxcHghaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5ib3JkZXItdHtib3JkZXItdG9wLXN0eWxlOnZhcigtLXR3LWJvcmRlci1zdHlsZSkhaW1wb3J0YW50O2JvcmRlci10b3Atd2lkdGg6MXB4IWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYm9yZGVyLXJ7Ym9yZGVyLXJpZ2h0LXN0eWxlOnZhcigtLXR3LWJvcmRlci1zdHlsZSkhaW1wb3J0YW50O2JvcmRlci1yaWdodC13aWR0aDoxcHghaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5ib3JkZXItc29saWR7LS10dy1ib3JkZXItc3R5bGU6c29saWQhaW1wb3J0YW50O2JvcmRlci1zdHlsZTpzb2xpZCFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJvcmRlci1ibHVlLTYwMFxcXFwvODB7Ym9yZGVyLWNvbG9yOiMxNTVkZmNjYyFpbXBvcnRhbnR9QHN1cHBvcnRzIChjb2xvcjpjb2xvci1taXgoaW4gbGFiLCByZWQsIHJlZCkpe3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5ib3JkZXItYmx1ZS02MDBcXFxcLzgwe2JvcmRlci1jb2xvcjpjb2xvci1taXgoaW4gb2tsYWIsdmFyKC0tY29sb3ItYmx1ZS02MDApODAlLHRyYW5zcGFyZW50KSFpbXBvcnRhbnR9fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5ib3JkZXItYm9yZGVyXFxcXC8xMHtib3JkZXItY29sb3I6IzcxNzE3YjFhIWltcG9ydGFudH1Ac3VwcG9ydHMgKGNvbG9yOmNvbG9yLW1peChpbiBsYWIsIHJlZCwgcmVkKSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJvcmRlci1ib3JkZXJcXFxcLzEwe2JvcmRlci1jb2xvcjpjb2xvci1taXgoaW4gb2tsYWIsdmFyKC0tY29sb3ItYm9yZGVyKTEwJSx0cmFuc3BhcmVudCkhaW1wb3J0YW50fX1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYm9yZGVyLWJvcmRlclxcXFwvMjB7Ym9yZGVyLWNvbG9yOiM3MTcxN2IzMyFpbXBvcnRhbnR9QHN1cHBvcnRzIChjb2xvcjpjb2xvci1taXgoaW4gbGFiLCByZWQsIHJlZCkpe3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5ib3JkZXItYm9yZGVyXFxcXC8yMHtib3JkZXItY29sb3I6Y29sb3ItbWl4KGluIG9rbGFiLHZhcigtLWNvbG9yLWJvcmRlcikyMCUsdHJhbnNwYXJlbnQpIWltcG9ydGFudH19c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJvcmRlci1ib3JkZXJcXFxcLzMwe2JvcmRlci1jb2xvcjojNzE3MTdiNGQhaW1wb3J0YW50fUBzdXBwb3J0cyAoY29sb3I6Y29sb3ItbWl4KGluIGxhYiwgcmVkLCByZWQpKXtzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYm9yZGVyLWJvcmRlclxcXFwvMzB7Ym9yZGVyLWNvbG9yOmNvbG9yLW1peChpbiBva2xhYix2YXIoLS1jb2xvci1ib3JkZXIpMzAlLHRyYW5zcGFyZW50KSFpbXBvcnRhbnR9fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5ib3JkZXItZ3JlZW4tNjAwXFxcXC84MHtib3JkZXItY29sb3I6IzAwYTU0NGNjIWltcG9ydGFudH1Ac3VwcG9ydHMgKGNvbG9yOmNvbG9yLW1peChpbiBsYWIsIHJlZCwgcmVkKSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJvcmRlci1ncmVlbi02MDBcXFxcLzgwe2JvcmRlci1jb2xvcjpjb2xvci1taXgoaW4gb2tsYWIsdmFyKC0tY29sb3ItZ3JlZW4tNjAwKTgwJSx0cmFuc3BhcmVudCkhaW1wb3J0YW50fX1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYm9yZGVyLXItYm9yZGVyXFxcXC8zMHtib3JkZXItcmlnaHQtY29sb3I6IzcxNzE3YjRkIWltcG9ydGFudH1Ac3VwcG9ydHMgKGNvbG9yOmNvbG9yLW1peChpbiBsYWIsIHJlZCwgcmVkKSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJvcmRlci1yLWJvcmRlclxcXFwvMzB7Ym9yZGVyLXJpZ2h0LWNvbG9yOmNvbG9yLW1peChpbiBva2xhYix2YXIoLS1jb2xvci1ib3JkZXIpMzAlLHRyYW5zcGFyZW50KSFpbXBvcnRhbnR9fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5ib3JkZXItbC10cmFuc3BhcmVudHtib3JkZXItbGVmdC1jb2xvcjojMDAwMCFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJnLWJhY2tncm91bmRcXFxcLzQwe2JhY2tncm91bmQtY29sb3I6I2ZmZjYhaW1wb3J0YW50fUBzdXBwb3J0cyAoY29sb3I6Y29sb3ItbWl4KGluIGxhYiwgcmVkLCByZWQpKXtzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYmctYmFja2dyb3VuZFxcXFwvNDB7YmFja2dyb3VuZC1jb2xvcjpjb2xvci1taXgoaW4gb2tsYWIsdmFyKC0tY29sb3ItYmFja2dyb3VuZCk0MCUsdHJhbnNwYXJlbnQpIWltcG9ydGFudH19c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJnLWJhY2tncm91bmRcXFxcLzYwe2JhY2tncm91bmQtY29sb3I6I2ZmZjkhaW1wb3J0YW50fUBzdXBwb3J0cyAoY29sb3I6Y29sb3ItbWl4KGluIGxhYiwgcmVkLCByZWQpKXtzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYmctYmFja2dyb3VuZFxcXFwvNjB7YmFja2dyb3VuZC1jb2xvcjpjb2xvci1taXgoaW4gb2tsYWIsdmFyKC0tY29sb3ItYmFja2dyb3VuZCk2MCUsdHJhbnNwYXJlbnQpIWltcG9ydGFudH19c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJnLWJsdWUtNjAwe2JhY2tncm91bmQtY29sb3I6dmFyKC0tY29sb3ItYmx1ZS02MDApIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYmctYmx1ZS02MDBcXFxcLzIwe2JhY2tncm91bmQtY29sb3I6IzE1NWRmYzMzIWltcG9ydGFudH1Ac3VwcG9ydHMgKGNvbG9yOmNvbG9yLW1peChpbiBsYWIsIHJlZCwgcmVkKSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJnLWJsdWUtNjAwXFxcXC8yMHtiYWNrZ3JvdW5kLWNvbG9yOmNvbG9yLW1peChpbiBva2xhYix2YXIoLS1jb2xvci1ibHVlLTYwMCkyMCUsdHJhbnNwYXJlbnQpIWltcG9ydGFudH19c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJnLWdyZWVuLTYwMFxcXFwvNXtiYWNrZ3JvdW5kLWNvbG9yOiMwMGE1NDQwZCFpbXBvcnRhbnR9QHN1cHBvcnRzIChjb2xvcjpjb2xvci1taXgoaW4gbGFiLCByZWQsIHJlZCkpe3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5iZy1ncmVlbi02MDBcXFxcLzV7YmFja2dyb3VuZC1jb2xvcjpjb2xvci1taXgoaW4gb2tsYWIsdmFyKC0tY29sb3ItZ3JlZW4tNjAwKTUlLHRyYW5zcGFyZW50KSFpbXBvcnRhbnR9fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5iZy1yb3NlLTYwMHtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWNvbG9yLXJvc2UtNjAwKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJnLXRyYW5zcGFyZW50e2JhY2tncm91bmQtY29sb3I6IzAwMDAhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5iZy13aGl0ZVxcXFwvNjB7YmFja2dyb3VuZC1jb2xvcjojZmZmOSFpbXBvcnRhbnR9QHN1cHBvcnRzIChjb2xvcjpjb2xvci1taXgoaW4gbGFiLCByZWQsIHJlZCkpe3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5iZy13aGl0ZVxcXFwvNjB7YmFja2dyb3VuZC1jb2xvcjpjb2xvci1taXgoaW4gb2tsYWIsdmFyKC0tY29sb3Itd2hpdGUpNjAlLHRyYW5zcGFyZW50KSFpbXBvcnRhbnR9fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5iZy16aW5jLTUwXFxcXC84MHtiYWNrZ3JvdW5kLWNvbG9yOiNmYWZhZmFjYyFpbXBvcnRhbnR9QHN1cHBvcnRzIChjb2xvcjpjb2xvci1taXgoaW4gbGFiLCByZWQsIHJlZCkpe3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5iZy16aW5jLTUwXFxcXC84MHtiYWNrZ3JvdW5kLWNvbG9yOmNvbG9yLW1peChpbiBva2xhYix2YXIoLS1jb2xvci16aW5jLTUwKTgwJSx0cmFuc3BhcmVudCkhaW1wb3J0YW50fX1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYmctemluYy01MDB7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1jb2xvci16aW5jLTUwMCkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5iZy16aW5jLTUwMFxcXFwvMTB7YmFja2dyb3VuZC1jb2xvcjojNzE3MTdiMWEhaW1wb3J0YW50fUBzdXBwb3J0cyAoY29sb3I6Y29sb3ItbWl4KGluIGxhYiwgcmVkLCByZWQpKXtzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYmctemluYy01MDBcXFxcLzEwe2JhY2tncm91bmQtY29sb3I6Y29sb3ItbWl4KGluIG9rbGFiLHZhcigtLWNvbG9yLXppbmMtNTAwKTEwJSx0cmFuc3BhcmVudCkhaW1wb3J0YW50fX1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYmctemluYy02MDB7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1jb2xvci16aW5jLTYwMCkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5iZy16aW5jLTk1MFxcXFwvNXtiYWNrZ3JvdW5kLWNvbG9yOiMwOTA5MGIwZCFpbXBvcnRhbnR9QHN1cHBvcnRzIChjb2xvcjpjb2xvci1taXgoaW4gbGFiLCByZWQsIHJlZCkpe3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5iZy16aW5jLTk1MFxcXFwvNXtiYWNrZ3JvdW5kLWNvbG9yOmNvbG9yLW1peChpbiBva2xhYix2YXIoLS1jb2xvci16aW5jLTk1MCk1JSx0cmFuc3BhcmVudCkhaW1wb3J0YW50fX1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYmctZ3JhZGllbnQtdG8tdHJ7LS10dy1ncmFkaWVudC1wb3NpdGlvbjp0byB0b3AgcmlnaHQgaW4gb2tsYWIhaW1wb3J0YW50O2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KHZhcigtLXR3LWdyYWRpZW50LXN0b3BzKSkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5iZy1cXFxcW3JhZGlhbC1ncmFkaWVudFxcXFwoY2lyY2xlXFxcXCxyZ2JhXFxcXCg1NVxcXFwsNDhcXFxcLDE2M1xcXFwsMFxcXFwpXzU1XFxcXCVcXFxcLHJnYmFcXFxcKDU1XFxcXCw0OFxcXFwsMTYzXFxcXCwwXFxcXC4zNVxcXFwpXzczXFxcXCVcXFxcKVxcXFxde2JhY2tncm91bmQtaW1hZ2U6cmFkaWFsLWdyYWRpZW50KGNpcmNsZSwjMzczMGEzMDAgNTUlLCMzNzMwYTM1OSA3MyUpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYmctXFxcXFtyYWRpYWwtZ3JhZGllbnRcXFxcKGNpcmNsZVxcXFwscmdiYVxcXFwoMjE5XFxcXCwzOVxcXFwsMTE5XFxcXCwwXFxcXC4yXFxcXClfMFxcXFwlXFxcXCxyZ2JhXFxcXCgyMTlcXFxcLDM5XFxcXCwxMTlcXFxcLDBcXFxcKV8xMDBcXFxcJVxcXFwpXFxcXF17YmFja2dyb3VuZC1pbWFnZTpyYWRpYWwtZ3JhZGllbnQoY2lyY2xlLCNkYjI3NzczMyAwJSwjZGIyNzc3MDAgMTAwJSkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5iZy1cXFxcW3JhZGlhbC1ncmFkaWVudFxcXFwoY2lyY2xlXFxcXCxyZ2JhXFxcXCgyNTVcXFxcLDI1NVxcXFwsMjU1XFxcXCwwXFxcXClfNjBcXFxcJVxcXFwscmdiYVxcXFwoMjU1XFxcXCwyNTVcXFxcLDI1NVxcXFwsMFxcXFwuMlxcXFwpXzcwXFxcXCVcXFxcKVxcXFxde2JhY2tncm91bmQtaW1hZ2U6cmFkaWFsLWdyYWRpZW50KGNpcmNsZSwjZmZmMCA2MCUsI2ZmZjMgNzAlKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmZyb20taW5kaWdvLTcwMHstLXR3LWdyYWRpZW50LWZyb206dmFyKC0tY29sb3ItaW5kaWdvLTcwMCkhaW1wb3J0YW50Oy0tdHctZ3JhZGllbnQtc3RvcHM6dmFyKC0tdHctZ3JhZGllbnQtdmlhLXN0b3BzLHZhcigtLXR3LWdyYWRpZW50LXBvc2l0aW9uKSx2YXIoLS10dy1ncmFkaWVudC1mcm9tKXZhcigtLXR3LWdyYWRpZW50LWZyb20tcG9zaXRpb24pLHZhcigtLXR3LWdyYWRpZW50LXRvKXZhcigtLXR3LWdyYWRpZW50LXRvLXBvc2l0aW9uKSkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC52aWEtYmx1ZS01MDB7LS10dy1ncmFkaWVudC12aWE6dmFyKC0tY29sb3ItYmx1ZS01MDApIWltcG9ydGFudDstLXR3LWdyYWRpZW50LXZpYS1zdG9wczp2YXIoLS10dy1ncmFkaWVudC1wb3NpdGlvbiksdmFyKC0tdHctZ3JhZGllbnQtZnJvbSl2YXIoLS10dy1ncmFkaWVudC1mcm9tLXBvc2l0aW9uKSx2YXIoLS10dy1ncmFkaWVudC12aWEpdmFyKC0tdHctZ3JhZGllbnQtdmlhLXBvc2l0aW9uKSx2YXIoLS10dy1ncmFkaWVudC10byl2YXIoLS10dy1ncmFkaWVudC10by1wb3NpdGlvbikhaW1wb3J0YW50Oy0tdHctZ3JhZGllbnQtc3RvcHM6dmFyKC0tdHctZ3JhZGllbnQtdmlhLXN0b3BzKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnRvLXRlYWwtNTAwey0tdHctZ3JhZGllbnQtdG86dmFyKC0tY29sb3ItdGVhbC01MDApIWltcG9ydGFudDstLXR3LWdyYWRpZW50LXN0b3BzOnZhcigtLXR3LWdyYWRpZW50LXZpYS1zdG9wcyx2YXIoLS10dy1ncmFkaWVudC1wb3NpdGlvbiksdmFyKC0tdHctZ3JhZGllbnQtZnJvbSl2YXIoLS10dy1ncmFkaWVudC1mcm9tLXBvc2l0aW9uKSx2YXIoLS10dy1ncmFkaWVudC10byl2YXIoLS10dy1ncmFkaWVudC10by1wb3NpdGlvbikpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuZmlsbC1jdXJyZW50e2ZpbGw6Y3VycmVudENvbG9yIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuZmlsbC13aGl0ZXtmaWxsOnZhcigtLWNvbG9yLXdoaXRlKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmZpbGwtemluYy01MDBcXFxcLzUwe2ZpbGw6IzcxNzE3YjgwIWltcG9ydGFudH1Ac3VwcG9ydHMgKGNvbG9yOmNvbG9yLW1peChpbiBsYWIsIHJlZCwgcmVkKSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmZpbGwtemluYy01MDBcXFxcLzUwe2ZpbGw6Y29sb3ItbWl4KGluIG9rbGFiLHZhcigtLWNvbG9yLXppbmMtNTAwKTUwJSx0cmFuc3BhcmVudCkhaW1wb3J0YW50fX1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuZmlsbC16aW5jLTk1MHtmaWxsOnZhcigtLWNvbG9yLXppbmMtOTUwKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnN0cm9rZS1ibGFja1xcXFwvMzB7c3Ryb2tlOiMwMDAwMDA0ZCFpbXBvcnRhbnR9QHN1cHBvcnRzIChjb2xvcjpjb2xvci1taXgoaW4gbGFiLCByZWQsIHJlZCkpe3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5zdHJva2UtYmxhY2tcXFxcLzMwe3N0cm9rZTpjb2xvci1taXgoaW4gb2tsYWIsdmFyKC0tY29sb3ItYmxhY2spMzAlLHRyYW5zcGFyZW50KSFpbXBvcnRhbnR9fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5zdHJva2Utbm9uZXtzdHJva2U6bm9uZSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnN0cm9rZS0xe3N0cm9rZS13aWR0aDoxcHghaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5wLTB7cGFkZGluZzpjYWxjKHZhcigtLXNwYWNpbmcpKjApIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucC0wXFxcXC41e3BhZGRpbmc6Y2FsYyh2YXIoLS1zcGFjaW5nKSouNSkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5wLTF7cGFkZGluZzpjYWxjKHZhcigtLXNwYWNpbmcpKjEpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucC0xXFxcXC41e3BhZGRpbmc6Y2FsYyh2YXIoLS1zcGFjaW5nKSoxLjUpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucC0ye3BhZGRpbmc6Y2FsYyh2YXIoLS1zcGFjaW5nKSoyKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnAtM3twYWRkaW5nOmNhbGModmFyKC0tc3BhY2luZykqMykhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5weC0wXFxcXC41e3BhZGRpbmctaW5saW5lOmNhbGModmFyKC0tc3BhY2luZykqLjUpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucHgtMXtwYWRkaW5nLWlubGluZTpjYWxjKHZhcigtLXNwYWNpbmcpKjEpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucHgtMntwYWRkaW5nLWlubGluZTpjYWxjKHZhcigtLXNwYWNpbmcpKjIpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucHgtM3twYWRkaW5nLWlubGluZTpjYWxjKHZhcigtLXNwYWNpbmcpKjMpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucHktMHtwYWRkaW5nLWJsb2NrOmNhbGModmFyKC0tc3BhY2luZykqMCkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5weS0xe3BhZGRpbmctYmxvY2s6Y2FsYyh2YXIoLS1zcGFjaW5nKSoxKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnB0LTJ7cGFkZGluZy10b3A6Y2FsYyh2YXIoLS1zcGFjaW5nKSoyKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnByLTZ7cGFkZGluZy1yaWdodDpjYWxjKHZhcigtLXNwYWNpbmcpKjYpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucGItMHtwYWRkaW5nLWJvdHRvbTpjYWxjKHZhcigtLXNwYWNpbmcpKjApIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucGItMntwYWRkaW5nLWJvdHRvbTpjYWxjKHZhcigtLXNwYWNpbmcpKjIpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucGwtMntwYWRkaW5nLWxlZnQ6Y2FsYyh2YXIoLS1zcGFjaW5nKSoyKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnRleHQtYmFzZXtmb250LXNpemU6dmFyKC0tdGV4dC1iYXNlKSFpbXBvcnRhbnQ7bGluZS1oZWlnaHQ6dmFyKC0tdHctbGVhZGluZyx2YXIoLS10ZXh0LWJhc2UtLWxpbmUtaGVpZ2h0KSkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC50ZXh0LXNte2ZvbnQtc2l6ZTp2YXIoLS10ZXh0LXNtKSFpbXBvcnRhbnQ7bGluZS1oZWlnaHQ6dmFyKC0tdHctbGVhZGluZyx2YXIoLS10ZXh0LXNtLS1saW5lLWhlaWdodCkpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAudGV4dC14c3tmb250LXNpemU6dmFyKC0tdGV4dC14cykhaW1wb3J0YW50O2xpbmUtaGVpZ2h0OnZhcigtLXR3LWxlYWRpbmcsdmFyKC0tdGV4dC14cy0tbGluZS1oZWlnaHQpKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmZvbnQtYm9sZHstLXR3LWZvbnQtd2VpZ2h0OnZhcigtLWZvbnQtd2VpZ2h0LWJvbGQpIWltcG9ydGFudDtmb250LXdlaWdodDp2YXIoLS1mb250LXdlaWdodC1ib2xkKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmZvbnQtbm9ybWFsey0tdHctZm9udC13ZWlnaHQ6dmFyKC0tZm9udC13ZWlnaHQtbm9ybWFsKSFpbXBvcnRhbnQ7Zm9udC13ZWlnaHQ6dmFyKC0tZm9udC13ZWlnaHQtbm9ybWFsKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmZvbnQtc2VtaWJvbGR7LS10dy1mb250LXdlaWdodDp2YXIoLS1mb250LXdlaWdodC1zZW1pYm9sZCkhaW1wb3J0YW50O2ZvbnQtd2VpZ2h0OnZhcigtLWZvbnQtd2VpZ2h0LXNlbWlib2xkKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnRleHQtYm9yZGVyXFxcXC82MHtjb2xvcjojNzE3MTdiOTkhaW1wb3J0YW50fUBzdXBwb3J0cyAoY29sb3I6Y29sb3ItbWl4KGluIGxhYiwgcmVkLCByZWQpKXtzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAudGV4dC1ib3JkZXJcXFxcLzYwe2NvbG9yOmNvbG9yLW1peChpbiBva2xhYix2YXIoLS1jb2xvci1ib3JkZXIpNjAlLHRyYW5zcGFyZW50KSFpbXBvcnRhbnR9fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC50ZXh0LWZvcmVncm91bmR7Y29sb3I6dmFyKC0tY29sb3ItZm9yZWdyb3VuZCkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC50ZXh0LW11dGVkLWZvcmVncm91bmR7Y29sb3I6dmFyKC0tY29sb3ItbXV0ZWQtZm9yZWdyb3VuZCkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC50ZXh0LW11dGVkLWZvcmVncm91bmRcXFxcLzMwe2NvbG9yOiMzZjNmNDY0ZCFpbXBvcnRhbnR9QHN1cHBvcnRzIChjb2xvcjpjb2xvci1taXgoaW4gbGFiLCByZWQsIHJlZCkpe3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC50ZXh0LW11dGVkLWZvcmVncm91bmRcXFxcLzMwe2NvbG9yOmNvbG9yLW1peChpbiBva2xhYix2YXIoLS1jb2xvci1tdXRlZC1mb3JlZ3JvdW5kKTMwJSx0cmFuc3BhcmVudCkhaW1wb3J0YW50fX1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAudGV4dC10cmFuc3BhcmVudHtjb2xvcjojMDAwMCFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnRleHQtd2hpdGV7Y29sb3I6dmFyKC0tY29sb3Itd2hpdGUpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAudGV4dC16aW5jLTUwe2NvbG9yOnZhcigtLWNvbG9yLXppbmMtNTApIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAudGV4dC16aW5jLTk1MHtjb2xvcjp2YXIoLS1jb2xvci16aW5jLTk1MCkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC50ZXh0LXppbmMtOTUwXFxcXC81MHtjb2xvcjojMDkwOTBiODAhaW1wb3J0YW50fUBzdXBwb3J0cyAoY29sb3I6Y29sb3ItbWl4KGluIGxhYiwgcmVkLCByZWQpKXtzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAudGV4dC16aW5jLTk1MFxcXFwvNTB7Y29sb3I6Y29sb3ItbWl4KGluIG9rbGFiLHZhcigtLWNvbG9yLXppbmMtOTUwKTUwJSx0cmFuc3BhcmVudCkhaW1wb3J0YW50fX1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAub3BhY2l0eS0yMHtvcGFjaXR5Oi4yIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAub3BhY2l0eS01MHtvcGFjaXR5Oi41IWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAub3BhY2l0eS04MHtvcGFjaXR5Oi44IWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAub3BhY2l0eS0xMDB7b3BhY2l0eToxIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuc2hhZG93ey0tdHctc2hhZG93OjAgMXB4IDNweCAwIHZhcigtLXR3LXNoYWRvdy1jb2xvciwjMDAwMDAwMWEpLDAgMXB4IDJweCAtMXB4IHZhcigtLXR3LXNoYWRvdy1jb2xvciwjMDAwMDAwMWEpIWltcG9ydGFudDtib3gtc2hhZG93OnZhcigtLXR3LWluc2V0LXNoYWRvdyksdmFyKC0tdHctaW5zZXQtcmluZy1zaGFkb3cpLHZhcigtLXR3LXJpbmctb2Zmc2V0LXNoYWRvdyksdmFyKC0tdHctcmluZy1zaGFkb3cpLHZhcigtLXR3LXNoYWRvdykhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5zaGFkb3ctaW5uZXJ7LS10dy1zaGFkb3c6aW5zZXQgMCAycHggNHB4IDAgdmFyKC0tdHctc2hhZG93LWNvbG9yLCMwMDAwMDAwZCkhaW1wb3J0YW50O2JveC1zaGFkb3c6dmFyKC0tdHctaW5zZXQtc2hhZG93KSx2YXIoLS10dy1pbnNldC1yaW5nLXNoYWRvdyksdmFyKC0tdHctcmluZy1vZmZzZXQtc2hhZG93KSx2YXIoLS10dy1yaW5nLXNoYWRvdyksdmFyKC0tdHctc2hhZG93KSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnNoYWRvdy1sZ3stLXR3LXNoYWRvdzowIDEwcHggMTVweCAtM3B4IHZhcigtLXR3LXNoYWRvdy1jb2xvciwjMDAwMDAwMWEpLDAgNHB4IDZweCAtNHB4IHZhcigtLXR3LXNoYWRvdy1jb2xvciwjMDAwMDAwMWEpIWltcG9ydGFudDtib3gtc2hhZG93OnZhcigtLXR3LWluc2V0LXNoYWRvdyksdmFyKC0tdHctaW5zZXQtcmluZy1zaGFkb3cpLHZhcigtLXR3LXJpbmctb2Zmc2V0LXNoYWRvdyksdmFyKC0tdHctcmluZy1zaGFkb3cpLHZhcigtLXR3LXNoYWRvdykhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5zaGFkb3ctc217LS10dy1zaGFkb3c6MCAxcHggM3B4IDAgdmFyKC0tdHctc2hhZG93LWNvbG9yLCMwMDAwMDAxYSksMCAxcHggMnB4IC0xcHggdmFyKC0tdHctc2hhZG93LWNvbG9yLCMwMDAwMDAxYSkhaW1wb3J0YW50O2JveC1zaGFkb3c6dmFyKC0tdHctaW5zZXQtc2hhZG93KSx2YXIoLS10dy1pbnNldC1yaW5nLXNoYWRvdyksdmFyKC0tdHctcmluZy1vZmZzZXQtc2hhZG93KSx2YXIoLS10dy1yaW5nLXNoYWRvdyksdmFyKC0tdHctc2hhZG93KSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnJpbmctMnstLXR3LXJpbmctc2hhZG93OnZhcigtLXR3LXJpbmctaW5zZXQsKTAgMCAwIGNhbGMoMnB4ICsgdmFyKC0tdHctcmluZy1vZmZzZXQtd2lkdGgpKXZhcigtLXR3LXJpbmctY29sb3IsY3VycmVudGNvbG9yKSFpbXBvcnRhbnQ7Ym94LXNoYWRvdzp2YXIoLS10dy1pbnNldC1zaGFkb3cpLHZhcigtLXR3LWluc2V0LXJpbmctc2hhZG93KSx2YXIoLS10dy1yaW5nLW9mZnNldC1zaGFkb3cpLHZhcigtLXR3LXJpbmctc2hhZG93KSx2YXIoLS10dy1zaGFkb3cpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuc2hhZG93LWJsYWNrXFxcXC81MHstLXR3LXNoYWRvdy1jb2xvcjojMDAwMDAwODAhaW1wb3J0YW50fUBzdXBwb3J0cyAoY29sb3I6Y29sb3ItbWl4KGluIGxhYiwgcmVkLCByZWQpKXtzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuc2hhZG93LWJsYWNrXFxcXC81MHstLXR3LXNoYWRvdy1jb2xvcjpjb2xvci1taXgoaW4gb2tsYWIsY29sb3ItbWl4KGluIG9rbGFiLHZhcigtLWNvbG9yLWJsYWNrKTUwJSx0cmFuc3BhcmVudCl2YXIoLS10dy1zaGFkb3ctYWxwaGEpLHRyYW5zcGFyZW50KSFpbXBvcnRhbnR9fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5zaGFkb3ctYmx1ZS02MDBcXFxcLzUwey0tdHctc2hhZG93LWNvbG9yOiMxNTVkZmM4MCFpbXBvcnRhbnR9QHN1cHBvcnRzIChjb2xvcjpjb2xvci1taXgoaW4gbGFiLCByZWQsIHJlZCkpe3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5zaGFkb3ctYmx1ZS02MDBcXFxcLzUwey0tdHctc2hhZG93LWNvbG9yOmNvbG9yLW1peChpbiBva2xhYixjb2xvci1taXgoaW4gb2tsYWIsdmFyKC0tY29sb3ItYmx1ZS02MDApNTAlLHRyYW5zcGFyZW50KXZhcigtLXR3LXNoYWRvdy1hbHBoYSksdHJhbnNwYXJlbnQpIWltcG9ydGFudH19c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnJpbmctYmx1ZS02MDB7LS10dy1yaW5nLWNvbG9yOnZhcigtLWNvbG9yLWJsdWUtNjAwKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJsdXJ7LS10dy1ibHVyOmJsdXIoOHB4KSFpbXBvcnRhbnQ7ZmlsdGVyOnZhcigtLXR3LWJsdXIsKXZhcigtLXR3LWJyaWdodG5lc3MsKXZhcigtLXR3LWNvbnRyYXN0LCl2YXIoLS10dy1ncmF5c2NhbGUsKXZhcigtLXR3LWh1ZS1yb3RhdGUsKXZhcigtLXR3LWludmVydCwpdmFyKC0tdHctc2F0dXJhdGUsKXZhcigtLXR3LXNlcGlhLCl2YXIoLS10dy1kcm9wLXNoYWRvdywpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuZHJvcC1zaGFkb3ctbWR7LS10dy1kcm9wLXNoYWRvdy1zaXplOmRyb3Atc2hhZG93KDAgM3B4IDNweCB2YXIoLS10dy1kcm9wLXNoYWRvdy1jb2xvciwjMDAwMDAwMWYpKSFpbXBvcnRhbnQ7LS10dy1kcm9wLXNoYWRvdzpkcm9wLXNoYWRvdyh2YXIoLS1kcm9wLXNoYWRvdy1tZCkpIWltcG9ydGFudDtmaWx0ZXI6dmFyKC0tdHctYmx1ciwpdmFyKC0tdHctYnJpZ2h0bmVzcywpdmFyKC0tdHctY29udHJhc3QsKXZhcigtLXR3LWdyYXlzY2FsZSwpdmFyKC0tdHctaHVlLXJvdGF0ZSwpdmFyKC0tdHctaW52ZXJ0LCl2YXIoLS10dy1zYXR1cmF0ZSwpdmFyKC0tdHctc2VwaWEsKXZhcigtLXR3LWRyb3Atc2hhZG93LCkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5kcm9wLXNoYWRvdy14bHstLXR3LWRyb3Atc2hhZG93LXNpemU6ZHJvcC1zaGFkb3coMCA5cHggN3B4IHZhcigtLXR3LWRyb3Atc2hhZG93LWNvbG9yLCMwMDAwMDAxYSkpIWltcG9ydGFudDstLXR3LWRyb3Atc2hhZG93OmRyb3Atc2hhZG93KHZhcigtLWRyb3Atc2hhZG93LXhsKSkhaW1wb3J0YW50O2ZpbHRlcjp2YXIoLS10dy1ibHVyLCl2YXIoLS10dy1icmlnaHRuZXNzLCl2YXIoLS10dy1jb250cmFzdCwpdmFyKC0tdHctZ3JheXNjYWxlLCl2YXIoLS10dy1odWUtcm90YXRlLCl2YXIoLS10dy1pbnZlcnQsKXZhcigtLXR3LXNhdHVyYXRlLCl2YXIoLS10dy1zZXBpYSwpdmFyKC0tdHctZHJvcC1zaGFkb3csKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmRyb3Atc2hhZG93LXhzey0tdHctZHJvcC1zaGFkb3ctc2l6ZTpkcm9wLXNoYWRvdygwIDFweCAxcHggdmFyKC0tdHctZHJvcC1zaGFkb3ctY29sb3IsIzAwMDAwMDBkKSkhaW1wb3J0YW50Oy0tdHctZHJvcC1zaGFkb3c6ZHJvcC1zaGFkb3codmFyKC0tZHJvcC1zaGFkb3cteHMpKSFpbXBvcnRhbnQ7ZmlsdGVyOnZhcigtLXR3LWJsdXIsKXZhcigtLXR3LWJyaWdodG5lc3MsKXZhcigtLXR3LWNvbnRyYXN0LCl2YXIoLS10dy1ncmF5c2NhbGUsKXZhcigtLXR3LWh1ZS1yb3RhdGUsKXZhcigtLXR3LWludmVydCwpdmFyKC0tdHctc2F0dXJhdGUsKXZhcigtLXR3LXNlcGlhLCl2YXIoLS10dy1kcm9wLXNoYWRvdywpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuZHJvcC1zaGFkb3ctYmxhY2t7LS10dy1kcm9wLXNoYWRvdy1jb2xvcjojMDAwIWltcG9ydGFudDstLXR3LWRyb3Atc2hhZG93OnZhcigtLXR3LWRyb3Atc2hhZG93LXNpemUpIWltcG9ydGFudH1Ac3VwcG9ydHMgKGNvbG9yOmNvbG9yLW1peChpbiBsYWIsIHJlZCwgcmVkKSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmRyb3Atc2hhZG93LWJsYWNrey0tdHctZHJvcC1zaGFkb3ctY29sb3I6Y29sb3ItbWl4KGluIG9rbGFiLHZhcigtLWNvbG9yLWJsYWNrKXZhcigtLXR3LWRyb3Atc2hhZG93LWFscGhhKSx0cmFuc3BhcmVudCkhaW1wb3J0YW50fX1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuZHJvcC1zaGFkb3ctaW5kaWdvLTk1MHstLXR3LWRyb3Atc2hhZG93LWNvbG9yOm9rbGNoKDI1LjclIC4wOSAyODEuMjg4KSFpbXBvcnRhbnQ7LS10dy1kcm9wLXNoYWRvdzp2YXIoLS10dy1kcm9wLXNoYWRvdy1zaXplKSFpbXBvcnRhbnR9QHN1cHBvcnRzIChjb2xvcjpjb2xvci1taXgoaW4gbGFiLCByZWQsIHJlZCkpe3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5kcm9wLXNoYWRvdy1pbmRpZ28tOTUwey0tdHctZHJvcC1zaGFkb3ctY29sb3I6Y29sb3ItbWl4KGluIG9rbGFiLHZhcigtLWNvbG9yLWluZGlnby05NTApdmFyKC0tdHctZHJvcC1zaGFkb3ctYWxwaGEpLHRyYW5zcGFyZW50KSFpbXBvcnRhbnR9fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5maWx0ZXJ7ZmlsdGVyOnZhcigtLXR3LWJsdXIsKXZhcigtLXR3LWJyaWdodG5lc3MsKXZhcigtLXR3LWNvbnRyYXN0LCl2YXIoLS10dy1ncmF5c2NhbGUsKXZhcigtLXR3LWh1ZS1yb3RhdGUsKXZhcigtLXR3LWludmVydCwpdmFyKC0tdHctc2F0dXJhdGUsKXZhcigtLXR3LXNlcGlhLCl2YXIoLS10dy1kcm9wLXNoYWRvdywpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYmFja2Ryb3AtYmx1ci1sZ3stLXR3LWJhY2tkcm9wLWJsdXI6Ymx1cih2YXIoLS1ibHVyLWxnKSkhaW1wb3J0YW50Oy13ZWJraXQtYmFja2Ryb3AtZmlsdGVyOnZhcigtLXR3LWJhY2tkcm9wLWJsdXIsKXZhcigtLXR3LWJhY2tkcm9wLWJyaWdodG5lc3MsKXZhcigtLXR3LWJhY2tkcm9wLWNvbnRyYXN0LCl2YXIoLS10dy1iYWNrZHJvcC1ncmF5c2NhbGUsKXZhcigtLXR3LWJhY2tkcm9wLWh1ZS1yb3RhdGUsKXZhcigtLXR3LWJhY2tkcm9wLWludmVydCwpdmFyKC0tdHctYmFja2Ryb3Atb3BhY2l0eSwpdmFyKC0tdHctYmFja2Ryb3Atc2F0dXJhdGUsKXZhcigtLXR3LWJhY2tkcm9wLXNlcGlhLCkhaW1wb3J0YW50O2JhY2tkcm9wLWZpbHRlcjp2YXIoLS10dy1iYWNrZHJvcC1ibHVyLCl2YXIoLS10dy1iYWNrZHJvcC1icmlnaHRuZXNzLCl2YXIoLS10dy1iYWNrZHJvcC1jb250cmFzdCwpdmFyKC0tdHctYmFja2Ryb3AtZ3JheXNjYWxlLCl2YXIoLS10dy1iYWNrZHJvcC1odWUtcm90YXRlLCl2YXIoLS10dy1iYWNrZHJvcC1pbnZlcnQsKXZhcigtLXR3LWJhY2tkcm9wLW9wYWNpdHksKXZhcigtLXR3LWJhY2tkcm9wLXNhdHVyYXRlLCl2YXIoLS10dy1iYWNrZHJvcC1zZXBpYSwpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYmFja2Ryb3AtYmx1ci1tZHstLXR3LWJhY2tkcm9wLWJsdXI6Ymx1cih2YXIoLS1ibHVyLW1kKSkhaW1wb3J0YW50Oy13ZWJraXQtYmFja2Ryb3AtZmlsdGVyOnZhcigtLXR3LWJhY2tkcm9wLWJsdXIsKXZhcigtLXR3LWJhY2tkcm9wLWJyaWdodG5lc3MsKXZhcigtLXR3LWJhY2tkcm9wLWNvbnRyYXN0LCl2YXIoLS10dy1iYWNrZHJvcC1ncmF5c2NhbGUsKXZhcigtLXR3LWJhY2tkcm9wLWh1ZS1yb3RhdGUsKXZhcigtLXR3LWJhY2tkcm9wLWludmVydCwpdmFyKC0tdHctYmFja2Ryb3Atb3BhY2l0eSwpdmFyKC0tdHctYmFja2Ryb3Atc2F0dXJhdGUsKXZhcigtLXR3LWJhY2tkcm9wLXNlcGlhLCkhaW1wb3J0YW50O2JhY2tkcm9wLWZpbHRlcjp2YXIoLS10dy1iYWNrZHJvcC1ibHVyLCl2YXIoLS10dy1iYWNrZHJvcC1icmlnaHRuZXNzLCl2YXIoLS10dy1iYWNrZHJvcC1jb250cmFzdCwpdmFyKC0tdHctYmFja2Ryb3AtZ3JheXNjYWxlLCl2YXIoLS10dy1iYWNrZHJvcC1odWUtcm90YXRlLCl2YXIoLS10dy1iYWNrZHJvcC1pbnZlcnQsKXZhcigtLXR3LWJhY2tkcm9wLW9wYWNpdHksKXZhcigtLXR3LWJhY2tkcm9wLXNhdHVyYXRlLCl2YXIoLS10dy1iYWNrZHJvcC1zZXBpYSwpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYmFja2Ryb3AtYmx1ci14c3stLXR3LWJhY2tkcm9wLWJsdXI6Ymx1cih2YXIoLS1ibHVyLXhzKSkhaW1wb3J0YW50Oy13ZWJraXQtYmFja2Ryb3AtZmlsdGVyOnZhcigtLXR3LWJhY2tkcm9wLWJsdXIsKXZhcigtLXR3LWJhY2tkcm9wLWJyaWdodG5lc3MsKXZhcigtLXR3LWJhY2tkcm9wLWNvbnRyYXN0LCl2YXIoLS10dy1iYWNrZHJvcC1ncmF5c2NhbGUsKXZhcigtLXR3LWJhY2tkcm9wLWh1ZS1yb3RhdGUsKXZhcigtLXR3LWJhY2tkcm9wLWludmVydCwpdmFyKC0tdHctYmFja2Ryb3Atb3BhY2l0eSwpdmFyKC0tdHctYmFja2Ryb3Atc2F0dXJhdGUsKXZhcigtLXR3LWJhY2tkcm9wLXNlcGlhLCkhaW1wb3J0YW50O2JhY2tkcm9wLWZpbHRlcjp2YXIoLS10dy1iYWNrZHJvcC1ibHVyLCl2YXIoLS10dy1iYWNrZHJvcC1icmlnaHRuZXNzLCl2YXIoLS10dy1iYWNrZHJvcC1jb250cmFzdCwpdmFyKC0tdHctYmFja2Ryb3AtZ3JheXNjYWxlLCl2YXIoLS10dy1iYWNrZHJvcC1odWUtcm90YXRlLCl2YXIoLS10dy1iYWNrZHJvcC1pbnZlcnQsKXZhcigtLXR3LWJhY2tkcm9wLW9wYWNpdHksKXZhcigtLXR3LWJhY2tkcm9wLXNhdHVyYXRlLCl2YXIoLS10dy1iYWNrZHJvcC1zZXBpYSwpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYmFja2Ryb3Atc2F0dXJhdGUtMTUwey0tdHctYmFja2Ryb3Atc2F0dXJhdGU6c2F0dXJhdGUoMTUwJSkhaW1wb3J0YW50Oy13ZWJraXQtYmFja2Ryb3AtZmlsdGVyOnZhcigtLXR3LWJhY2tkcm9wLWJsdXIsKXZhcigtLXR3LWJhY2tkcm9wLWJyaWdodG5lc3MsKXZhcigtLXR3LWJhY2tkcm9wLWNvbnRyYXN0LCl2YXIoLS10dy1iYWNrZHJvcC1ncmF5c2NhbGUsKXZhcigtLXR3LWJhY2tkcm9wLWh1ZS1yb3RhdGUsKXZhcigtLXR3LWJhY2tkcm9wLWludmVydCwpdmFyKC0tdHctYmFja2Ryb3Atb3BhY2l0eSwpdmFyKC0tdHctYmFja2Ryb3Atc2F0dXJhdGUsKXZhcigtLXR3LWJhY2tkcm9wLXNlcGlhLCkhaW1wb3J0YW50O2JhY2tkcm9wLWZpbHRlcjp2YXIoLS10dy1iYWNrZHJvcC1ibHVyLCl2YXIoLS10dy1iYWNrZHJvcC1icmlnaHRuZXNzLCl2YXIoLS10dy1iYWNrZHJvcC1jb250cmFzdCwpdmFyKC0tdHctYmFja2Ryb3AtZ3JheXNjYWxlLCl2YXIoLS10dy1iYWNrZHJvcC1odWUtcm90YXRlLCl2YXIoLS10dy1iYWNrZHJvcC1pbnZlcnQsKXZhcigtLXR3LWJhY2tkcm9wLW9wYWNpdHksKXZhcigtLXR3LWJhY2tkcm9wLXNhdHVyYXRlLCl2YXIoLS10dy1iYWNrZHJvcC1zZXBpYSwpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAudHJhbnNpdGlvbnt0cmFuc2l0aW9uLXByb3BlcnR5OmNvbG9yLGJhY2tncm91bmQtY29sb3IsYm9yZGVyLWNvbG9yLG91dGxpbmUtY29sb3IsdGV4dC1kZWNvcmF0aW9uLWNvbG9yLGZpbGwsc3Ryb2tlLC0tdHctZ3JhZGllbnQtZnJvbSwtLXR3LWdyYWRpZW50LXZpYSwtLXR3LWdyYWRpZW50LXRvLG9wYWNpdHksYm94LXNoYWRvdyx0cmFuc2Zvcm0sdHJhbnNsYXRlLHNjYWxlLHJvdGF0ZSxmaWx0ZXIsLXdlYmtpdC1iYWNrZHJvcC1maWx0ZXIsYmFja2Ryb3AtZmlsdGVyLGRpc3BsYXksdmlzaWJpbGl0eSxjb250ZW50LXZpc2liaWxpdHksb3ZlcmxheSxwb2ludGVyLWV2ZW50cyFpbXBvcnRhbnQ7dHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246dmFyKC0tdHctZWFzZSx2YXIoLS1kZWZhdWx0LXRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uKSkhaW1wb3J0YW50O3RyYW5zaXRpb24tZHVyYXRpb246dmFyKC0tdHctZHVyYXRpb24sdmFyKC0tZGVmYXVsdC10cmFuc2l0aW9uLWR1cmF0aW9uKSkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC50cmFuc2l0aW9uLWFsbHt0cmFuc2l0aW9uLXByb3BlcnR5OmFsbCFpbXBvcnRhbnQ7dHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246dmFyKC0tdHctZWFzZSx2YXIoLS1kZWZhdWx0LXRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uKSkhaW1wb3J0YW50O3RyYW5zaXRpb24tZHVyYXRpb246dmFyKC0tdHctZHVyYXRpb24sdmFyKC0tZGVmYXVsdC10cmFuc2l0aW9uLWR1cmF0aW9uKSkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC50cmFuc2l0aW9uLWNvbG9yc3t0cmFuc2l0aW9uLXByb3BlcnR5OmNvbG9yLGJhY2tncm91bmQtY29sb3IsYm9yZGVyLWNvbG9yLG91dGxpbmUtY29sb3IsdGV4dC1kZWNvcmF0aW9uLWNvbG9yLGZpbGwsc3Ryb2tlLC0tdHctZ3JhZGllbnQtZnJvbSwtLXR3LWdyYWRpZW50LXZpYSwtLXR3LWdyYWRpZW50LXRvIWltcG9ydGFudDt0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjp2YXIoLS10dy1lYXNlLHZhcigtLWRlZmF1bHQtdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb24pKSFpbXBvcnRhbnQ7dHJhbnNpdGlvbi1kdXJhdGlvbjp2YXIoLS10dy1kdXJhdGlvbix2YXIoLS1kZWZhdWx0LXRyYW5zaXRpb24tZHVyYXRpb24pKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmR1cmF0aW9uLTB7LS10dy1kdXJhdGlvbjowcyFpbXBvcnRhbnQ7dHJhbnNpdGlvbi1kdXJhdGlvbjowcyFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmR1cmF0aW9uLTEwMHstLXR3LWR1cmF0aW9uOi4xcyFpbXBvcnRhbnQ7dHJhbnNpdGlvbi1kdXJhdGlvbjouMXMhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5kdXJhdGlvbi0xNTB7LS10dy1kdXJhdGlvbjouMTVzIWltcG9ydGFudDt0cmFuc2l0aW9uLWR1cmF0aW9uOi4xNXMhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5kdXJhdGlvbi01MDB7LS10dy1kdXJhdGlvbjouNXMhaW1wb3J0YW50O3RyYW5zaXRpb24tZHVyYXRpb246LjVzIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAub3V0bGluZS1ub25ley0tdHctb3V0bGluZS1zdHlsZTpub25lIWltcG9ydGFudDtvdXRsaW5lLXN0eWxlOm5vbmUhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5zZWxlY3Qtbm9uZXstd2Via2l0LXVzZXItc2VsZWN0Om5vbmUhaW1wb3J0YW50Oy1tb3otdXNlci1zZWxlY3Q6bm9uZSFpbXBvcnRhbnQ7dXNlci1zZWxlY3Q6bm9uZSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnBsYWNlaG9sZGVyXFxcXDp0ZXh0LXppbmMtOTUwXFxcXC81MDo6LW1vei1wbGFjZWhvbGRlcntjb2xvcjojMDkwOTBiODAhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5wbGFjZWhvbGRlclxcXFw6dGV4dC16aW5jLTk1MFxcXFwvNTA6OnBsYWNlaG9sZGVye2NvbG9yOiMwOTA5MGI4MCFpbXBvcnRhbnR9QHN1cHBvcnRzIChjb2xvcjpjb2xvci1taXgoaW4gbGFiLCByZWQsIHJlZCkpe3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5wbGFjZWhvbGRlclxcXFw6dGV4dC16aW5jLTk1MFxcXFwvNTA6Oi1tb3otcGxhY2Vob2xkZXJ7Y29sb3I6Y29sb3ItbWl4KGluIG9rbGFiLHZhcigtLWNvbG9yLXppbmMtOTUwKTUwJSx0cmFuc3BhcmVudCkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5wbGFjZWhvbGRlclxcXFw6dGV4dC16aW5jLTk1MFxcXFwvNTA6OnBsYWNlaG9sZGVye2NvbG9yOmNvbG9yLW1peChpbiBva2xhYix2YXIoLS1jb2xvci16aW5jLTk1MCk1MCUsdHJhbnNwYXJlbnQpIWltcG9ydGFudH19c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnBsYWNlaG9sZGVyXFxcXDp0ZXh0LXppbmMtOTUwXFxcXC83MDo6LW1vei1wbGFjZWhvbGRlcntjb2xvcjojMDkwOTBiYjMhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5wbGFjZWhvbGRlclxcXFw6dGV4dC16aW5jLTk1MFxcXFwvNzA6OnBsYWNlaG9sZGVye2NvbG9yOiMwOTA5MGJiMyFpbXBvcnRhbnR9QHN1cHBvcnRzIChjb2xvcjpjb2xvci1taXgoaW4gbGFiLCByZWQsIHJlZCkpe3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5wbGFjZWhvbGRlclxcXFw6dGV4dC16aW5jLTk1MFxcXFwvNzA6Oi1tb3otcGxhY2Vob2xkZXJ7Y29sb3I6Y29sb3ItbWl4KGluIG9rbGFiLHZhcigtLWNvbG9yLXppbmMtOTUwKTcwJSx0cmFuc3BhcmVudCkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5wbGFjZWhvbGRlclxcXFw6dGV4dC16aW5jLTk1MFxcXFwvNzA6OnBsYWNlaG9sZGVye2NvbG9yOmNvbG9yLW1peChpbiBva2xhYix2YXIoLS1jb2xvci16aW5jLTk1MCk3MCUsdHJhbnNwYXJlbnQpIWltcG9ydGFudH19c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmZpcnN0XFxcXDpib3JkZXItbm9uZTpmaXJzdC1jaGlsZHstLXR3LWJvcmRlci1zdHlsZTpub25lIWltcG9ydGFudDtib3JkZXItc3R5bGU6bm9uZSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmZpcnN0XFxcXDpwbC0wOmZpcnN0LWNoaWxke3BhZGRpbmctbGVmdDpjYWxjKHZhcigtLXNwYWNpbmcpKjApIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAubGFzdFxcXFw6Ym9yZGVyLXItdHJhbnNwYXJlbnQ6bGFzdC1jaGlsZHtib3JkZXItcmlnaHQtY29sb3I6IzAwMDAhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5sYXN0XFxcXDpwci0wOmxhc3QtY2hpbGR7cGFkZGluZy1yaWdodDpjYWxjKHZhcigtLXNwYWNpbmcpKjApIWltcG9ydGFudH1AbWVkaWEgKGhvdmVyOmhvdmVyKXtzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuaG92ZXJcXFxcOmJvcmRlci1yZWQtNjAwXFxcXC84MDpob3Zlcntib3JkZXItY29sb3I6I2U0MDAxNGNjIWltcG9ydGFudH1Ac3VwcG9ydHMgKGNvbG9yOmNvbG9yLW1peChpbiBsYWIsIHJlZCwgcmVkKSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmhvdmVyXFxcXDpib3JkZXItcmVkLTYwMFxcXFwvODA6aG92ZXJ7Ym9yZGVyLWNvbG9yOmNvbG9yLW1peChpbiBva2xhYix2YXIoLS1jb2xvci1yZWQtNjAwKTgwJSx0cmFuc3BhcmVudCkhaW1wb3J0YW50fX1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuaG92ZXJcXFxcOmJnLXJlZC02MDBcXFxcLzIwOmhvdmVye2JhY2tncm91bmQtY29sb3I6I2U0MDAxNDMzIWltcG9ydGFudH1Ac3VwcG9ydHMgKGNvbG9yOmNvbG9yLW1peChpbiBsYWIsIHJlZCwgcmVkKSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmhvdmVyXFxcXDpiZy1yZWQtNjAwXFxcXC8yMDpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOmNvbG9yLW1peChpbiBva2xhYix2YXIoLS1jb2xvci1yZWQtNjAwKTIwJSx0cmFuc3BhcmVudCkhaW1wb3J0YW50fX1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuaG92ZXJcXFxcOmJnLXppbmMtOTUwXFxcXC81OmhvdmVye2JhY2tncm91bmQtY29sb3I6IzA5MDkwYjBkIWltcG9ydGFudH1Ac3VwcG9ydHMgKGNvbG9yOmNvbG9yLW1peChpbiBsYWIsIHJlZCwgcmVkKSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmhvdmVyXFxcXDpiZy16aW5jLTk1MFxcXFwvNTpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOmNvbG9yLW1peChpbiBva2xhYix2YXIoLS1jb2xvci16aW5jLTk1MCk1JSx0cmFuc3BhcmVudCkhaW1wb3J0YW50fX1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuaG92ZXJcXFxcOmJnLXppbmMtOTUwXFxcXC8xMDpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiMwOTA5MGIxYSFpbXBvcnRhbnR9QHN1cHBvcnRzIChjb2xvcjpjb2xvci1taXgoaW4gbGFiLCByZWQsIHJlZCkpe3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5ob3ZlclxcXFw6YmctemluYy05NTBcXFxcLzEwOmhvdmVye2JhY2tncm91bmQtY29sb3I6Y29sb3ItbWl4KGluIG9rbGFiLHZhcigtLWNvbG9yLXppbmMtOTUwKTEwJSx0cmFuc3BhcmVudCkhaW1wb3J0YW50fX1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuaG92ZXJcXFxcOnRleHQtbXV0ZWQtZm9yZWdyb3VuZDpob3Zlcntjb2xvcjp2YXIoLS1jb2xvci1tdXRlZC1mb3JlZ3JvdW5kKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmhvdmVyXFxcXDp0ZXh0LXdoaXRlOmhvdmVye2NvbG9yOnZhcigtLWNvbG9yLXdoaXRlKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmhvdmVyXFxcXDpvcGFjaXR5LTEwMDpob3ZlcntvcGFjaXR5OjEhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5ob3ZlclxcXFw6c2hhZG93LWxnOmhvdmVyey0tdHctc2hhZG93OjAgMTBweCAxNXB4IC0zcHggdmFyKC0tdHctc2hhZG93LWNvbG9yLCMwMDAwMDAxYSksMCA0cHggNnB4IC00cHggdmFyKC0tdHctc2hhZG93LWNvbG9yLCMwMDAwMDAxYSkhaW1wb3J0YW50O2JveC1zaGFkb3c6dmFyKC0tdHctaW5zZXQtc2hhZG93KSx2YXIoLS10dy1pbnNldC1yaW5nLXNoYWRvdyksdmFyKC0tdHctcmluZy1vZmZzZXQtc2hhZG93KSx2YXIoLS10dy1yaW5nLXNoYWRvdyksdmFyKC0tdHctc2hhZG93KSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmhvdmVyXFxcXDpiYWNrZHJvcC1ibHVyLXNtOmhvdmVyey0tdHctYmFja2Ryb3AtYmx1cjpibHVyKHZhcigtLWJsdXItc20pKSFpbXBvcnRhbnQ7LXdlYmtpdC1iYWNrZHJvcC1maWx0ZXI6dmFyKC0tdHctYmFja2Ryb3AtYmx1ciwpdmFyKC0tdHctYmFja2Ryb3AtYnJpZ2h0bmVzcywpdmFyKC0tdHctYmFja2Ryb3AtY29udHJhc3QsKXZhcigtLXR3LWJhY2tkcm9wLWdyYXlzY2FsZSwpdmFyKC0tdHctYmFja2Ryb3AtaHVlLXJvdGF0ZSwpdmFyKC0tdHctYmFja2Ryb3AtaW52ZXJ0LCl2YXIoLS10dy1iYWNrZHJvcC1vcGFjaXR5LCl2YXIoLS10dy1iYWNrZHJvcC1zYXR1cmF0ZSwpdmFyKC0tdHctYmFja2Ryb3Atc2VwaWEsKSFpbXBvcnRhbnQ7YmFja2Ryb3AtZmlsdGVyOnZhcigtLXR3LWJhY2tkcm9wLWJsdXIsKXZhcigtLXR3LWJhY2tkcm9wLWJyaWdodG5lc3MsKXZhcigtLXR3LWJhY2tkcm9wLWNvbnRyYXN0LCl2YXIoLS10dy1iYWNrZHJvcC1ncmF5c2NhbGUsKXZhcigtLXR3LWJhY2tkcm9wLWh1ZS1yb3RhdGUsKXZhcigtLXR3LWJhY2tkcm9wLWludmVydCwpdmFyKC0tdHctYmFja2Ryb3Atb3BhY2l0eSwpdmFyKC0tdHctYmFja2Ryb3Atc2F0dXJhdGUsKXZhcigtLXR3LWJhY2tkcm9wLXNlcGlhLCkhaW1wb3J0YW50fX1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuZm9jdXNcXFxcOmN1cnNvci1ncmFiYmluZzpmb2N1c3tjdXJzb3I6Z3JhYmJpbmchaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5mb2N1c1xcXFw6dGV4dC16aW5jLTkwMDpmb2N1c3tjb2xvcjp2YXIoLS1jb2xvci16aW5jLTkwMCkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5mb2N1c1xcXFw6b3V0bGluZS1ub25lOmZvY3VzLHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5kYXRhLWZvY3VzXFxcXDpvdXRsaW5lLW5vbmVbZGF0YS1mb2N1c117LS10dy1vdXRsaW5lLXN0eWxlOm5vbmUhaW1wb3J0YW50O291dGxpbmUtc3R5bGU6bm9uZSFpbXBvcnRhbnR9fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9ye2FsbDppbml0aWFsO2ludGVycG9sYXRlLXNpemU6YWxsb3cta2V5d29yZHM7dHJhbnNmb3JtOnRyYW5zbGF0ZSgwKTtjb2xvcjp2YXIoLS1jb2xvci16aW5jLTk1MCkhaW1wb3J0YW50O2xldHRlci1zcGFjaW5nOm5vcm1hbCFpbXBvcnRhbnQ7dGV4dC1yZW5kZXJpbmc6YXV0byFpbXBvcnRhbnQ7Zm9udC1mYW1pbHk6SW50ZXIsTm90byBDb2xvciBFbW9qaSwtYXBwbGUtc3lzdGVtLEJsaW5rTWFjU3lzdGVtRm9udCxTZWdvZSBVSSxSb2JvdG8sU0YgQ29tcGFjdCxTRiBQcm8sSGVsdmV0aWNhIE5ldWUsc2Fucy1zZXJpZiFpbXBvcnRhbnQ7Zm9udC13ZWlnaHQ6NDAwIWltcG9ydGFudDtsaW5lLWhlaWdodDpub3JtYWwhaW1wb3J0YW50fUBzdXBwb3J0cyAoZm9udC12YXJpYXRpb24tc2V0dGluZ3M6bm9ybWFsKXtzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciBzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvcntmb250LW9wdGljYWwtc2l6aW5nOmF1dG8haW1wb3J0YW50O2ZvbnQtZmFtaWx5OkludGVyVmFyaWFibGUsTm90byBDb2xvciBFbW9qaSwtYXBwbGUtc3lzdGVtLEJsaW5rTWFjU3lzdGVtRm9udCxTZWdvZSBVSSxSb2JvdG8sU0YgQ29tcGFjdCxTRiBQcm8sSGVsdmV0aWNhIE5ldWUsc2Fucy1zZXJpZiFpbXBvcnRhbnR9fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yICNoZWFkbGVzc3VpLXBvcnRhbC1yb290e3otaW5kZXg6NTAhaW1wb3J0YW50O3dpZHRoOjEwMHZ3IWltcG9ydGFudDtoZWlnaHQ6MTAwdmghaW1wb3J0YW50O3Bvc2l0aW9uOmZpeGVkIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAjaGVhZGxlc3N1aS1wb3J0YWwtcm9vdD4qe3BvaW50ZXItZXZlbnRzOmF1dG8haW1wb3J0YW50fUBwcm9wZXJ0eSAtLXR3LXJvdGF0ZS14e3N5bnRheDpcIipcIjtpbmhlcml0czpmYWxzZX1AcHJvcGVydHkgLS10dy1yb3RhdGUteXtzeW50YXg6XCIqXCI7aW5oZXJpdHM6ZmFsc2V9QHByb3BlcnR5IC0tdHctcm90YXRlLXp7c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlfUBwcm9wZXJ0eSAtLXR3LXNrZXcteHtzeW50YXg6XCIqXCI7aW5oZXJpdHM6ZmFsc2V9QHByb3BlcnR5IC0tdHctc2tldy15e3N5bnRheDpcIipcIjtpbmhlcml0czpmYWxzZX1AcHJvcGVydHkgLS10dy1ib3JkZXItc3R5bGV7c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlO2luaXRpYWwtdmFsdWU6c29saWR9QHByb3BlcnR5IC0tdHctZ3JhZGllbnQtcG9zaXRpb257c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlfUBwcm9wZXJ0eSAtLXR3LWdyYWRpZW50LWZyb217c3ludGF4OlwiPGNvbG9yPlwiO2luaGVyaXRzOmZhbHNlO2luaXRpYWwtdmFsdWU6IzAwMDB9QHByb3BlcnR5IC0tdHctZ3JhZGllbnQtdmlhe3N5bnRheDpcIjxjb2xvcj5cIjtpbmhlcml0czpmYWxzZTtpbml0aWFsLXZhbHVlOiMwMDAwfUBwcm9wZXJ0eSAtLXR3LWdyYWRpZW50LXRve3N5bnRheDpcIjxjb2xvcj5cIjtpbmhlcml0czpmYWxzZTtpbml0aWFsLXZhbHVlOiMwMDAwfUBwcm9wZXJ0eSAtLXR3LWdyYWRpZW50LXN0b3Bze3N5bnRheDpcIipcIjtpbmhlcml0czpmYWxzZX1AcHJvcGVydHkgLS10dy1ncmFkaWVudC12aWEtc3RvcHN7c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlfUBwcm9wZXJ0eSAtLXR3LWdyYWRpZW50LWZyb20tcG9zaXRpb257c3ludGF4OlwiPGxlbmd0aC1wZXJjZW50YWdlPlwiO2luaGVyaXRzOmZhbHNlO2luaXRpYWwtdmFsdWU6MCV9QHByb3BlcnR5IC0tdHctZ3JhZGllbnQtdmlhLXBvc2l0aW9ue3N5bnRheDpcIjxsZW5ndGgtcGVyY2VudGFnZT5cIjtpbmhlcml0czpmYWxzZTtpbml0aWFsLXZhbHVlOjUwJX1AcHJvcGVydHkgLS10dy1ncmFkaWVudC10by1wb3NpdGlvbntzeW50YXg6XCI8bGVuZ3RoLXBlcmNlbnRhZ2U+XCI7aW5oZXJpdHM6ZmFsc2U7aW5pdGlhbC12YWx1ZToxMDAlfUBwcm9wZXJ0eSAtLXR3LWZvbnQtd2VpZ2h0e3N5bnRheDpcIipcIjtpbmhlcml0czpmYWxzZX1AcHJvcGVydHkgLS10dy1zaGFkb3d7c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlO2luaXRpYWwtdmFsdWU6MCAwICMwMDAwfUBwcm9wZXJ0eSAtLXR3LXNoYWRvdy1jb2xvcntzeW50YXg6XCIqXCI7aW5oZXJpdHM6ZmFsc2V9QHByb3BlcnR5IC0tdHctc2hhZG93LWFscGhhe3N5bnRheDpcIjxwZXJjZW50YWdlPlwiO2luaGVyaXRzOmZhbHNlO2luaXRpYWwtdmFsdWU6MTAwJX1AcHJvcGVydHkgLS10dy1pbnNldC1zaGFkb3d7c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlO2luaXRpYWwtdmFsdWU6MCAwICMwMDAwfUBwcm9wZXJ0eSAtLXR3LWluc2V0LXNoYWRvdy1jb2xvcntzeW50YXg6XCIqXCI7aW5oZXJpdHM6ZmFsc2V9QHByb3BlcnR5IC0tdHctaW5zZXQtc2hhZG93LWFscGhhe3N5bnRheDpcIjxwZXJjZW50YWdlPlwiO2luaGVyaXRzOmZhbHNlO2luaXRpYWwtdmFsdWU6MTAwJX1AcHJvcGVydHkgLS10dy1yaW5nLWNvbG9ye3N5bnRheDpcIipcIjtpbmhlcml0czpmYWxzZX1AcHJvcGVydHkgLS10dy1yaW5nLXNoYWRvd3tzeW50YXg6XCIqXCI7aW5oZXJpdHM6ZmFsc2U7aW5pdGlhbC12YWx1ZTowIDAgIzAwMDB9QHByb3BlcnR5IC0tdHctaW5zZXQtcmluZy1jb2xvcntzeW50YXg6XCIqXCI7aW5oZXJpdHM6ZmFsc2V9QHByb3BlcnR5IC0tdHctaW5zZXQtcmluZy1zaGFkb3d7c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlO2luaXRpYWwtdmFsdWU6MCAwICMwMDAwfUBwcm9wZXJ0eSAtLXR3LXJpbmctaW5zZXR7c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlfUBwcm9wZXJ0eSAtLXR3LXJpbmctb2Zmc2V0LXdpZHRoe3N5bnRheDpcIjxsZW5ndGg+XCI7aW5oZXJpdHM6ZmFsc2U7aW5pdGlhbC12YWx1ZTowfUBwcm9wZXJ0eSAtLXR3LXJpbmctb2Zmc2V0LWNvbG9ye3N5bnRheDpcIipcIjtpbmhlcml0czpmYWxzZTtpbml0aWFsLXZhbHVlOiNmZmZ9QHByb3BlcnR5IC0tdHctcmluZy1vZmZzZXQtc2hhZG93e3N5bnRheDpcIipcIjtpbmhlcml0czpmYWxzZTtpbml0aWFsLXZhbHVlOjAgMCAjMDAwMH1AcHJvcGVydHkgLS10dy1ibHVye3N5bnRheDpcIipcIjtpbmhlcml0czpmYWxzZX1AcHJvcGVydHkgLS10dy1icmlnaHRuZXNze3N5bnRheDpcIipcIjtpbmhlcml0czpmYWxzZX1AcHJvcGVydHkgLS10dy1jb250cmFzdHtzeW50YXg6XCIqXCI7aW5oZXJpdHM6ZmFsc2V9QHByb3BlcnR5IC0tdHctZ3JheXNjYWxle3N5bnRheDpcIipcIjtpbmhlcml0czpmYWxzZX1AcHJvcGVydHkgLS10dy1odWUtcm90YXRle3N5bnRheDpcIipcIjtpbmhlcml0czpmYWxzZX1AcHJvcGVydHkgLS10dy1pbnZlcnR7c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlfUBwcm9wZXJ0eSAtLXR3LW9wYWNpdHl7c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlfUBwcm9wZXJ0eSAtLXR3LXNhdHVyYXRle3N5bnRheDpcIipcIjtpbmhlcml0czpmYWxzZX1AcHJvcGVydHkgLS10dy1zZXBpYXtzeW50YXg6XCIqXCI7aW5oZXJpdHM6ZmFsc2V9QHByb3BlcnR5IC0tdHctZHJvcC1zaGFkb3d7c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlfUBwcm9wZXJ0eSAtLXR3LWRyb3Atc2hhZG93LWNvbG9ye3N5bnRheDpcIipcIjtpbmhlcml0czpmYWxzZX1AcHJvcGVydHkgLS10dy1kcm9wLXNoYWRvdy1hbHBoYXtzeW50YXg6XCI8cGVyY2VudGFnZT5cIjtpbmhlcml0czpmYWxzZTtpbml0aWFsLXZhbHVlOjEwMCV9QHByb3BlcnR5IC0tdHctZHJvcC1zaGFkb3ctc2l6ZXtzeW50YXg6XCIqXCI7aW5oZXJpdHM6ZmFsc2V9QHByb3BlcnR5IC0tdHctYmFja2Ryb3AtYmx1cntzeW50YXg6XCIqXCI7aW5oZXJpdHM6ZmFsc2V9QHByb3BlcnR5IC0tdHctYmFja2Ryb3AtYnJpZ2h0bmVzc3tzeW50YXg6XCIqXCI7aW5oZXJpdHM6ZmFsc2V9QHByb3BlcnR5IC0tdHctYmFja2Ryb3AtY29udHJhc3R7c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlfUBwcm9wZXJ0eSAtLXR3LWJhY2tkcm9wLWdyYXlzY2FsZXtzeW50YXg6XCIqXCI7aW5oZXJpdHM6ZmFsc2V9QHByb3BlcnR5IC0tdHctYmFja2Ryb3AtaHVlLXJvdGF0ZXtzeW50YXg6XCIqXCI7aW5oZXJpdHM6ZmFsc2V9QHByb3BlcnR5IC0tdHctYmFja2Ryb3AtaW52ZXJ0e3N5bnRheDpcIipcIjtpbmhlcml0czpmYWxzZX1AcHJvcGVydHkgLS10dy1iYWNrZHJvcC1vcGFjaXR5e3N5bnRheDpcIipcIjtpbmhlcml0czpmYWxzZX1AcHJvcGVydHkgLS10dy1iYWNrZHJvcC1zYXR1cmF0ZXtzeW50YXg6XCIqXCI7aW5oZXJpdHM6ZmFsc2V9QHByb3BlcnR5IC0tdHctYmFja2Ryb3Atc2VwaWF7c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlfUBwcm9wZXJ0eSAtLXR3LWR1cmF0aW9ue3N5bnRheDpcIipcIjtpbmhlcml0czpmYWxzZX1Aa2V5ZnJhbWVzIHB1bHNlezUwJXtvcGFjaXR5Oi41fX1cXG4nO1xudmFyIGYkOCA9IDA7XG5mdW5jdGlvbiB1JDkoZTIsIHQyLCBuMiwgbzMsIGkyLCB1Mikge1xuICB0MiB8fCAodDIgPSB7fSk7XG4gIHZhciBhMywgYzIsIHAyID0gdDI7XG4gIGlmIChcInJlZlwiIGluIHAyKSBmb3IgKGMyIGluIHAyID0ge30sIHQyKSBcInJlZlwiID09IGMyID8gYTMgPSB0MltjMl0gOiBwMltjMl0gPSB0MltjMl07XG4gIHZhciBsMiA9IHsgdHlwZTogZTIsIHByb3BzOiBwMiwga2V5OiBuMiwgcmVmOiBhMywgX19rOiBudWxsLCBfXzogbnVsbCwgX19iOiAwLCBfX2U6IG51bGwsIF9fYzogbnVsbCwgY29uc3RydWN0b3I6IHZvaWQgMCwgX192OiAtLWYkOCwgX19pOiAtMSwgX191OiAwLCBfX3NvdXJjZTogaTIsIF9fc2VsZjogdTIgfTtcbiAgaWYgKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZTIgJiYgKGEzID0gZTIuZGVmYXVsdFByb3BzKSkgZm9yIChjMiBpbiBhMykgdm9pZCAwID09PSBwMltjMl0gJiYgKHAyW2MyXSA9IGEzW2MyXSk7XG4gIHJldHVybiBsJDQudm5vZGUgJiYgbCQ0LnZub2RlKGwyKSwgbDI7XG59XG52YXIgdCQ1LCByJDQsIHUkOCwgaSQ3LCBvJDggPSAwLCBmJDcgPSBbXSwgYyQ2ID0gbCQ0LCBlJDQgPSBjJDYuX19iLCBhJGEgPSBjJDYuX19yLCB2JDIgPSBjJDYuZGlmZmVkLCBsJDMgPSBjJDYuX19jLCBtJDUgPSBjJDYudW5tb3VudCwgcyQ4ID0gYyQ2Ll9fO1xuZnVuY3Rpb24gcCQzKG4yLCB0Mikge1xuICBjJDYuX19oICYmIGMkNi5fX2gociQ0LCBuMiwgbyQ4IHx8IHQyKSwgbyQ4ID0gMDtcbiAgdmFyIHUyID0gciQ0Ll9fSCB8fCAociQ0Ll9fSCA9IHsgX186IFtdLCBfX2g6IFtdIH0pO1xuICByZXR1cm4gbjIgPj0gdTIuX18ubGVuZ3RoICYmIHUyLl9fLnB1c2goe30pLCB1Mi5fX1tuMl07XG59XG5mdW5jdGlvbiBkJDQobjIpIHtcbiAgcmV0dXJuIG8kOCA9IDEsIGgkNShEJDIsIG4yKTtcbn1cbmZ1bmN0aW9uIGgkNShuMiwgdTIsIGkyKSB7XG4gIHZhciBvMyA9IHAkMyh0JDUrKywgMik7XG4gIGlmIChvMy50ID0gbjIsICFvMy5fX2MgJiYgKG8zLl9fID0gW2kyID8gaTIodTIpIDogRCQyKHZvaWQgMCwgdTIpLCBmdW5jdGlvbihuMykge1xuICAgIHZhciB0MiA9IG8zLl9fTiA/IG8zLl9fTlswXSA6IG8zLl9fWzBdLCByMiA9IG8zLnQodDIsIG4zKTtcbiAgICB0MiAhPT0gcjIgJiYgKG8zLl9fTiA9IFtyMiwgbzMuX19bMV1dLCBvMy5fX2Muc2V0U3RhdGUoe30pKTtcbiAgfV0sIG8zLl9fYyA9IHIkNCwgIXIkNC5fX2YpKSB7XG4gICAgdmFyIGYyID0gZnVuY3Rpb24objMsIHQyLCByMikge1xuICAgICAgaWYgKCFvMy5fX2MuX19IKSByZXR1cm4gdHJ1ZTtcbiAgICAgIHZhciB1MyA9IG8zLl9fYy5fX0guX18uZmlsdGVyKGZ1bmN0aW9uKG40KSB7XG4gICAgICAgIHJldHVybiAhIW40Ll9fYztcbiAgICAgIH0pO1xuICAgICAgaWYgKHUzLmV2ZXJ5KGZ1bmN0aW9uKG40KSB7XG4gICAgICAgIHJldHVybiAhbjQuX19OO1xuICAgICAgfSkpIHJldHVybiAhYzIgfHwgYzIuY2FsbCh0aGlzLCBuMywgdDIsIHIyKTtcbiAgICAgIHZhciBpMyA9IG8zLl9fYy5wcm9wcyAhPT0gbjM7XG4gICAgICByZXR1cm4gdTMuZm9yRWFjaChmdW5jdGlvbihuNCkge1xuICAgICAgICBpZiAobjQuX19OKSB7XG4gICAgICAgICAgdmFyIHQzID0gbjQuX19bMF07XG4gICAgICAgICAgbjQuX18gPSBuNC5fX04sIG40Ll9fTiA9IHZvaWQgMCwgdDMgIT09IG40Ll9fWzBdICYmIChpMyA9IHRydWUpO1xuICAgICAgICB9XG4gICAgICB9KSwgYzIgJiYgYzIuY2FsbCh0aGlzLCBuMywgdDIsIHIyKSB8fCBpMztcbiAgICB9O1xuICAgIHIkNC5fX2YgPSB0cnVlO1xuICAgIHZhciBjMiA9IHIkNC5zaG91bGRDb21wb25lbnRVcGRhdGUsIGUyID0gciQ0LmNvbXBvbmVudFdpbGxVcGRhdGU7XG4gICAgciQ0LmNvbXBvbmVudFdpbGxVcGRhdGUgPSBmdW5jdGlvbihuMywgdDIsIHIyKSB7XG4gICAgICBpZiAodGhpcy5fX2UpIHtcbiAgICAgICAgdmFyIHUzID0gYzI7XG4gICAgICAgIGMyID0gdm9pZCAwLCBmMihuMywgdDIsIHIyKSwgYzIgPSB1MztcbiAgICAgIH1cbiAgICAgIGUyICYmIGUyLmNhbGwodGhpcywgbjMsIHQyLCByMik7XG4gICAgfSwgciQ0LnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IGYyO1xuICB9XG4gIHJldHVybiBvMy5fX04gfHwgbzMuX187XG59XG5mdW5jdGlvbiB5JDYobjIsIHUyKSB7XG4gIHZhciBpMiA9IHAkMyh0JDUrKywgMyk7XG4gICFjJDYuX19zICYmIEMkNChpMi5fX0gsIHUyKSAmJiAoaTIuX18gPSBuMiwgaTIudSA9IHUyLCByJDQuX19ILl9faC5wdXNoKGkyKSk7XG59XG5mdW5jdGlvbiBfJDMobjIsIHUyKSB7XG4gIHZhciBpMiA9IHAkMyh0JDUrKywgNCk7XG4gICFjJDYuX19zICYmIEMkNChpMi5fX0gsIHUyKSAmJiAoaTIuX18gPSBuMiwgaTIudSA9IHUyLCByJDQuX19oLnB1c2goaTIpKTtcbn1cbmZ1bmN0aW9uIEEkMyhuMikge1xuICByZXR1cm4gbyQ4ID0gNSwgVCQ1KGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7IGN1cnJlbnQ6IG4yIH07XG4gIH0sIFtdKTtcbn1cbmZ1bmN0aW9uIEYkNShuMiwgdDIsIHIyKSB7XG4gIG8kOCA9IDYsIF8kMyhmdW5jdGlvbigpIHtcbiAgICBpZiAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBuMikge1xuICAgICAgdmFyIHIzID0gbjIodDIoKSk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIG4yKG51bGwpLCByMyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHIzICYmIHIzKCk7XG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAobjIpIHJldHVybiBuMi5jdXJyZW50ID0gdDIoKSwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbjIuY3VycmVudCA9IG51bGw7XG4gICAgfTtcbiAgfSwgbnVsbCA9PSByMiA/IHIyIDogcjIuY29uY2F0KG4yKSk7XG59XG5mdW5jdGlvbiBUJDUobjIsIHIyKSB7XG4gIHZhciB1MiA9IHAkMyh0JDUrKywgNyk7XG4gIHJldHVybiBDJDQodTIuX19ILCByMikgJiYgKHUyLl9fID0gbjIoKSwgdTIuX19IID0gcjIsIHUyLl9faCA9IG4yKSwgdTIuX187XG59XG5mdW5jdGlvbiBxJDMobjIsIHQyKSB7XG4gIHJldHVybiBvJDggPSA4LCBUJDUoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG4yO1xuICB9LCB0Mik7XG59XG5mdW5jdGlvbiB4JDQobjIpIHtcbiAgdmFyIHUyID0gciQ0LmNvbnRleHRbbjIuX19jXSwgaTIgPSBwJDModCQ1KyssIDkpO1xuICByZXR1cm4gaTIuYyA9IG4yLCB1MiA/IChudWxsID09IGkyLl9fICYmIChpMi5fXyA9IHRydWUsIHUyLnN1YihyJDQpKSwgdTIucHJvcHMudmFsdWUpIDogbjIuX187XG59XG5mdW5jdGlvbiBQJDUobjIsIHQyKSB7XG4gIGMkNi51c2VEZWJ1Z1ZhbHVlICYmIGMkNi51c2VEZWJ1Z1ZhbHVlKHQyID8gdDIobjIpIDogbjIpO1xufVxuZnVuY3Rpb24gYiQ0KG4yKSB7XG4gIHZhciB1MiA9IHAkMyh0JDUrKywgMTApLCBpMiA9IGQkNCgpO1xuICByZXR1cm4gdTIuX18gPSBuMiwgciQ0LmNvbXBvbmVudERpZENhdGNoIHx8IChyJDQuY29tcG9uZW50RGlkQ2F0Y2ggPSBmdW5jdGlvbihuMywgdDIpIHtcbiAgICB1Mi5fXyAmJiB1Mi5fXyhuMywgdDIpLCBpMlsxXShuMyk7XG4gIH0pLCBbaTJbMF0sIGZ1bmN0aW9uKCkge1xuICAgIGkyWzFdKHZvaWQgMCk7XG4gIH1dO1xufVxuZnVuY3Rpb24gZyQzKCkge1xuICB2YXIgbjIgPSBwJDModCQ1KyssIDExKTtcbiAgaWYgKCFuMi5fXykge1xuICAgIGZvciAodmFyIHUyID0gciQ0Ll9fdjsgbnVsbCAhPT0gdTIgJiYgIXUyLl9fbSAmJiBudWxsICE9PSB1Mi5fXzsgKSB1MiA9IHUyLl9fO1xuICAgIHZhciBpMiA9IHUyLl9fbSB8fCAodTIuX19tID0gWzAsIDBdKTtcbiAgICBuMi5fXyA9IFwiUFwiICsgaTJbMF0gKyBcIi1cIiArIGkyWzFdKys7XG4gIH1cbiAgcmV0dXJuIG4yLl9fO1xufVxuZnVuY3Rpb24gaiQ0KCkge1xuICBmb3IgKHZhciBuMjsgbjIgPSBmJDcuc2hpZnQoKTsgKSBpZiAobjIuX19QICYmIG4yLl9fSCkgdHJ5IHtcbiAgICBuMi5fX0guX19oLmZvckVhY2goeiQyKSwgbjIuX19ILl9faC5mb3JFYWNoKEIkMiksIG4yLl9fSC5fX2ggPSBbXTtcbiAgfSBjYXRjaCAodDIpIHtcbiAgICBuMi5fX0guX19oID0gW10sIGMkNi5fX2UodDIsIG4yLl9fdik7XG4gIH1cbn1cbmMkNi5fX2IgPSBmdW5jdGlvbihuMikge1xuICByJDQgPSBudWxsLCBlJDQgJiYgZSQ0KG4yKTtcbn0sIGMkNi5fXyA9IGZ1bmN0aW9uKG4yLCB0Mikge1xuICBuMiAmJiB0Mi5fX2sgJiYgdDIuX19rLl9fbSAmJiAobjIuX19tID0gdDIuX19rLl9fbSksIHMkOCAmJiBzJDgobjIsIHQyKTtcbn0sIGMkNi5fX3IgPSBmdW5jdGlvbihuMikge1xuICBhJGEgJiYgYSRhKG4yKSwgdCQ1ID0gMDtcbiAgdmFyIGkyID0gKHIkNCA9IG4yLl9fYykuX19IO1xuICBpMiAmJiAodSQ4ID09PSByJDQgPyAoaTIuX19oID0gW10sIHIkNC5fX2ggPSBbXSwgaTIuX18uZm9yRWFjaChmdW5jdGlvbihuMykge1xuICAgIG4zLl9fTiAmJiAobjMuX18gPSBuMy5fX04pLCBuMy51ID0gbjMuX19OID0gdm9pZCAwO1xuICB9KSkgOiAoaTIuX19oLmZvckVhY2goeiQyKSwgaTIuX19oLmZvckVhY2goQiQyKSwgaTIuX19oID0gW10sIHQkNSA9IDApKSwgdSQ4ID0gciQ0O1xufSwgYyQ2LmRpZmZlZCA9IGZ1bmN0aW9uKG4yKSB7XG4gIHYkMiAmJiB2JDIobjIpO1xuICB2YXIgdDIgPSBuMi5fX2M7XG4gIHQyICYmIHQyLl9fSCAmJiAodDIuX19ILl9faC5sZW5ndGggJiYgKDEgIT09IGYkNy5wdXNoKHQyKSAmJiBpJDcgPT09IGMkNi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgKChpJDcgPSBjJDYucmVxdWVzdEFuaW1hdGlvbkZyYW1lKSB8fCB3JDQpKGokNCkpLCB0Mi5fX0guX18uZm9yRWFjaChmdW5jdGlvbihuMykge1xuICAgIG4zLnUgJiYgKG4zLl9fSCA9IG4zLnUpLCBuMy51ID0gdm9pZCAwO1xuICB9KSksIHUkOCA9IHIkNCA9IG51bGw7XG59LCBjJDYuX19jID0gZnVuY3Rpb24objIsIHQyKSB7XG4gIHQyLnNvbWUoZnVuY3Rpb24objMpIHtcbiAgICB0cnkge1xuICAgICAgbjMuX19oLmZvckVhY2goeiQyKSwgbjMuX19oID0gbjMuX19oLmZpbHRlcihmdW5jdGlvbihuNCkge1xuICAgICAgICByZXR1cm4gIW40Ll9fIHx8IEIkMihuNCk7XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChyMikge1xuICAgICAgdDIuc29tZShmdW5jdGlvbihuNCkge1xuICAgICAgICBuNC5fX2ggJiYgKG40Ll9faCA9IFtdKTtcbiAgICAgIH0pLCB0MiA9IFtdLCBjJDYuX19lKHIyLCBuMy5fX3YpO1xuICAgIH1cbiAgfSksIGwkMyAmJiBsJDMobjIsIHQyKTtcbn0sIGMkNi51bm1vdW50ID0gZnVuY3Rpb24objIpIHtcbiAgbSQ1ICYmIG0kNShuMik7XG4gIHZhciB0MiwgcjIgPSBuMi5fX2M7XG4gIHIyICYmIHIyLl9fSCAmJiAocjIuX19ILl9fLmZvckVhY2goZnVuY3Rpb24objMpIHtcbiAgICB0cnkge1xuICAgICAgeiQyKG4zKTtcbiAgICB9IGNhdGNoIChuNCkge1xuICAgICAgdDIgPSBuNDtcbiAgICB9XG4gIH0pLCByMi5fX0ggPSB2b2lkIDAsIHQyICYmIGMkNi5fX2UodDIsIHIyLl9fdikpO1xufTtcbnZhciBrJDIgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHJlcXVlc3RBbmltYXRpb25GcmFtZTtcbmZ1bmN0aW9uIHckNChuMikge1xuICB2YXIgdDIsIHIyID0gZnVuY3Rpb24oKSB7XG4gICAgY2xlYXJUaW1lb3V0KHUyKSwgayQyICYmIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHQyKSwgc2V0VGltZW91dChuMik7XG4gIH0sIHUyID0gc2V0VGltZW91dChyMiwgMTAwKTtcbiAgayQyICYmICh0MiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShyMikpO1xufVxuZnVuY3Rpb24geiQyKG4yKSB7XG4gIHZhciB0MiA9IHIkNCwgdTIgPSBuMi5fX2M7XG4gIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgdTIgJiYgKG4yLl9fYyA9IHZvaWQgMCwgdTIoKSksIHIkNCA9IHQyO1xufVxuZnVuY3Rpb24gQiQyKG4yKSB7XG4gIHZhciB0MiA9IHIkNDtcbiAgbjIuX19jID0gbjIuX18oKSwgciQ0ID0gdDI7XG59XG5mdW5jdGlvbiBDJDQobjIsIHQyKSB7XG4gIHJldHVybiAhbjIgfHwgbjIubGVuZ3RoICE9PSB0Mi5sZW5ndGggfHwgdDIuc29tZShmdW5jdGlvbih0MywgcjIpIHtcbiAgICByZXR1cm4gdDMgIT09IG4yW3IyXTtcbiAgfSk7XG59XG5mdW5jdGlvbiBEJDIobjIsIHQyKSB7XG4gIHJldHVybiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHQyID8gdDIobjIpIDogdDI7XG59XG5jb25zdCBQbHVnaW5Db250ZXh0ID0gSyQzKFtdKTtcbmZ1bmN0aW9uIFBsdWdpblByb3ZpZGVyKHtcbiAgY2hpbGRyZW4sXG4gIHBsdWdpbnNcbn0pIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyB1JDkoUGx1Z2luQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogcGx1Z2lucywgY2hpbGRyZW4gfSk7XG59XG5mdW5jdGlvbiB1c2VQbHVnaW5zKCkge1xuICBjb25zdCBwbHVnaW4gPSB4JDQoUGx1Z2luQ29udGV4dCk7XG4gIGlmICghcGx1Z2luKSByZXR1cm4gW107XG4gIHJldHVybiBwbHVnaW47XG59XG5mdW5jdGlvbiBnJDIobjIsIHQyKSB7XG4gIGZvciAodmFyIGUyIGluIHQyKSBuMltlMl0gPSB0MltlMl07XG4gIHJldHVybiBuMjtcbn1cbmZ1bmN0aW9uIEUkMihuMiwgdDIpIHtcbiAgZm9yICh2YXIgZTIgaW4gbjIpIGlmIChcIl9fc291cmNlXCIgIT09IGUyICYmICEoZTIgaW4gdDIpKSByZXR1cm4gdHJ1ZTtcbiAgZm9yICh2YXIgcjIgaW4gdDIpIGlmIChcIl9fc291cmNlXCIgIT09IHIyICYmIG4yW3IyXSAhPT0gdDJbcjJdKSByZXR1cm4gdHJ1ZTtcbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gQyQzKG4yLCB0Mikge1xuICB2YXIgZTIgPSB0MigpLCByMiA9IGQkNCh7IHQ6IHsgX186IGUyLCB1OiB0MiB9IH0pLCB1MiA9IHIyWzBdLnQsIG8zID0gcjJbMV07XG4gIHJldHVybiBfJDMoZnVuY3Rpb24oKSB7XG4gICAgdTIuX18gPSBlMiwgdTIudSA9IHQyLCB4JDModTIpICYmIG8zKHsgdDogdTIgfSk7XG4gIH0sIFtuMiwgZTIsIHQyXSksIHkkNihmdW5jdGlvbigpIHtcbiAgICByZXR1cm4geCQzKHUyKSAmJiBvMyh7IHQ6IHUyIH0pLCBuMihmdW5jdGlvbigpIHtcbiAgICAgIHgkMyh1MikgJiYgbzMoeyB0OiB1MiB9KTtcbiAgICB9KTtcbiAgfSwgW24yXSksIGUyO1xufVxuZnVuY3Rpb24geCQzKG4yKSB7XG4gIHZhciB0MiwgZTIsIHIyID0gbjIudSwgdTIgPSBuMi5fXztcbiAgdHJ5IHtcbiAgICB2YXIgbzMgPSByMigpO1xuICAgIHJldHVybiAhKCh0MiA9IHUyKSA9PT0gKGUyID0gbzMpICYmICgwICE9PSB0MiB8fCAxIC8gdDIgPT0gMSAvIGUyKSB8fCB0MiAhPSB0MiAmJiBlMiAhPSBlMik7XG4gIH0gY2F0Y2ggKG4zKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cbmZ1bmN0aW9uIFIkMyhuMikge1xuICBuMigpO1xufVxuZnVuY3Rpb24gdyQzKG4yKSB7XG4gIHJldHVybiBuMjtcbn1cbmZ1bmN0aW9uIGskMSgpIHtcbiAgcmV0dXJuIFtmYWxzZSwgUiQzXTtcbn1cbnZhciBJJDMgPSBfJDM7XG5mdW5jdGlvbiBOJDEobjIsIHQyKSB7XG4gIHRoaXMucHJvcHMgPSBuMiwgdGhpcy5jb250ZXh0ID0gdDI7XG59XG5mdW5jdGlvbiBNJDMobjIsIGUyKSB7XG4gIGZ1bmN0aW9uIHIyKG4zKSB7XG4gICAgdmFyIHQyID0gdGhpcy5wcm9wcy5yZWYsIHIzID0gdDIgPT0gbjMucmVmO1xuICAgIHJldHVybiAhcjMgJiYgdDIgJiYgKHQyLmNhbGwgPyB0MihudWxsKSA6IHQyLmN1cnJlbnQgPSBudWxsKSwgZTIgPyAhZTIodGhpcy5wcm9wcywgbjMpIHx8ICFyMyA6IEUkMih0aGlzLnByb3BzLCBuMyk7XG4gIH1cbiAgZnVuY3Rpb24gdTIoZTMpIHtcbiAgICByZXR1cm4gdGhpcy5zaG91bGRDb21wb25lbnRVcGRhdGUgPSByMiwgXyQ0KG4yLCBlMyk7XG4gIH1cbiAgcmV0dXJuIHUyLmRpc3BsYXlOYW1lID0gXCJNZW1vKFwiICsgKG4yLmRpc3BsYXlOYW1lIHx8IG4yLm5hbWUpICsgXCIpXCIsIHUyLnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50ID0gdHJ1ZSwgdTIuX19mID0gdHJ1ZSwgdTI7XG59XG4oTiQxLnByb3RvdHlwZSA9IG5ldyB4JDUoKSkuaXNQdXJlUmVhY3RDb21wb25lbnQgPSB0cnVlLCBOJDEucHJvdG90eXBlLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IGZ1bmN0aW9uKG4yLCB0Mikge1xuICByZXR1cm4gRSQyKHRoaXMucHJvcHMsIG4yKSB8fCBFJDIodGhpcy5zdGF0ZSwgdDIpO1xufTtcbnZhciBUJDQgPSBsJDQuX19iO1xubCQ0Ll9fYiA9IGZ1bmN0aW9uKG4yKSB7XG4gIG4yLnR5cGUgJiYgbjIudHlwZS5fX2YgJiYgbjIucmVmICYmIChuMi5wcm9wcy5yZWYgPSBuMi5yZWYsIG4yLnJlZiA9IG51bGwpLCBUJDQgJiYgVCQ0KG4yKTtcbn07XG52YXIgQSQyID0gXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIFN5bWJvbC5mb3IgJiYgU3ltYm9sLmZvcihcInJlYWN0LmZvcndhcmRfcmVmXCIpIHx8IDM5MTE7XG5mdW5jdGlvbiBEJDEobjIpIHtcbiAgZnVuY3Rpb24gdDIodDMpIHtcbiAgICB2YXIgZTIgPSBnJDIoe30sIHQzKTtcbiAgICByZXR1cm4gZGVsZXRlIGUyLnJlZiwgbjIoZTIsIHQzLnJlZiB8fCBudWxsKTtcbiAgfVxuICByZXR1cm4gdDIuJCR0eXBlb2YgPSBBJDIsIHQyLnJlbmRlciA9IHQyLCB0Mi5wcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudCA9IHQyLl9fZiA9IHRydWUsIHQyLmRpc3BsYXlOYW1lID0gXCJGb3J3YXJkUmVmKFwiICsgKG4yLmRpc3BsYXlOYW1lIHx8IG4yLm5hbWUpICsgXCIpXCIsIHQyO1xufVxudmFyIEwkMyA9IGZ1bmN0aW9uKG4yLCB0Mikge1xuICByZXR1cm4gbnVsbCA9PSBuMiA/IG51bGwgOiBIJDYoSCQ2KG4yKS5tYXAodDIpKTtcbn0sIE8kMiA9IHsgbWFwOiBMJDMsIGZvckVhY2g6IEwkMywgY291bnQ6IGZ1bmN0aW9uKG4yKSB7XG4gIHJldHVybiBuMiA/IEgkNihuMikubGVuZ3RoIDogMDtcbn0sIG9ubHk6IGZ1bmN0aW9uKG4yKSB7XG4gIHZhciB0MiA9IEgkNihuMik7XG4gIGlmICgxICE9PSB0Mi5sZW5ndGgpIHRocm93IFwiQ2hpbGRyZW4ub25seVwiO1xuICByZXR1cm4gdDJbMF07XG59LCB0b0FycmF5OiBIJDYgfSwgRiQ0ID0gbCQ0Ll9fZTtcbmwkNC5fX2UgPSBmdW5jdGlvbihuMiwgdDIsIGUyLCByMikge1xuICBpZiAobjIudGhlbikge1xuICAgIGZvciAodmFyIHUyLCBvMyA9IHQyOyBvMyA9IG8zLl9fOyApIGlmICgodTIgPSBvMy5fX2MpICYmIHUyLl9fYykgcmV0dXJuIG51bGwgPT0gdDIuX19lICYmICh0Mi5fX2UgPSBlMi5fX2UsIHQyLl9fayA9IGUyLl9fayksIHUyLl9fYyhuMiwgdDIpO1xuICB9XG4gIEYkNChuMiwgdDIsIGUyLCByMik7XG59O1xudmFyIFUkMyA9IGwkNC51bm1vdW50O1xuZnVuY3Rpb24gViQxKG4yLCB0MiwgZTIpIHtcbiAgcmV0dXJuIG4yICYmIChuMi5fX2MgJiYgbjIuX19jLl9fSCAmJiAobjIuX19jLl9fSC5fXy5mb3JFYWNoKGZ1bmN0aW9uKG4zKSB7XG4gICAgXCJmdW5jdGlvblwiID09IHR5cGVvZiBuMy5fX2MgJiYgbjMuX19jKCk7XG4gIH0pLCBuMi5fX2MuX19IID0gbnVsbCksIG51bGwgIT0gKG4yID0gZyQyKHt9LCBuMikpLl9fYyAmJiAobjIuX19jLl9fUCA9PT0gZTIgJiYgKG4yLl9fYy5fX1AgPSB0MiksIG4yLl9fYy5fX2UgPSB0cnVlLCBuMi5fX2MgPSBudWxsKSwgbjIuX19rID0gbjIuX19rICYmIG4yLl9fay5tYXAoZnVuY3Rpb24objMpIHtcbiAgICByZXR1cm4gViQxKG4zLCB0MiwgZTIpO1xuICB9KSksIG4yO1xufVxuZnVuY3Rpb24gVyhuMiwgdDIsIGUyKSB7XG4gIHJldHVybiBuMiAmJiBlMiAmJiAobjIuX192ID0gbnVsbCwgbjIuX19rID0gbjIuX19rICYmIG4yLl9fay5tYXAoZnVuY3Rpb24objMpIHtcbiAgICByZXR1cm4gVyhuMywgdDIsIGUyKTtcbiAgfSksIG4yLl9fYyAmJiBuMi5fX2MuX19QID09PSB0MiAmJiAobjIuX19lICYmIGUyLmFwcGVuZENoaWxkKG4yLl9fZSksIG4yLl9fYy5fX2UgPSB0cnVlLCBuMi5fX2MuX19QID0gZTIpKSwgbjI7XG59XG5mdW5jdGlvbiBQJDQoKSB7XG4gIHRoaXMuX191ID0gMCwgdGhpcy5vID0gbnVsbCwgdGhpcy5fX2IgPSBudWxsO1xufVxuZnVuY3Rpb24gaiQzKG4yKSB7XG4gIHZhciB0MiA9IG4yLl9fLl9fYztcbiAgcmV0dXJuIHQyICYmIHQyLl9fYSAmJiB0Mi5fX2EobjIpO1xufVxuZnVuY3Rpb24geiQxKG4yKSB7XG4gIHZhciBlMiwgcjIsIHUyO1xuICBmdW5jdGlvbiBvMyhvNCkge1xuICAgIGlmIChlMiB8fCAoZTIgPSBuMigpKS50aGVuKGZ1bmN0aW9uKG4zKSB7XG4gICAgICByMiA9IG4zLmRlZmF1bHQgfHwgbjM7XG4gICAgfSwgZnVuY3Rpb24objMpIHtcbiAgICAgIHUyID0gbjM7XG4gICAgfSksIHUyKSB0aHJvdyB1MjtcbiAgICBpZiAoIXIyKSB0aHJvdyBlMjtcbiAgICByZXR1cm4gXyQ0KHIyLCBvNCk7XG4gIH1cbiAgcmV0dXJuIG8zLmRpc3BsYXlOYW1lID0gXCJMYXp5XCIsIG8zLl9fZiA9IHRydWUsIG8zO1xufVxuZnVuY3Rpb24gQiQxKCkge1xuICB0aGlzLmkgPSBudWxsLCB0aGlzLmwgPSBudWxsO1xufVxubCQ0LnVubW91bnQgPSBmdW5jdGlvbihuMikge1xuICB2YXIgdDIgPSBuMi5fX2M7XG4gIHQyICYmIHQyLl9fUiAmJiB0Mi5fX1IoKSwgdDIgJiYgMzIgJiBuMi5fX3UgJiYgKG4yLnR5cGUgPSBudWxsKSwgVSQzICYmIFUkMyhuMik7XG59LCAoUCQ0LnByb3RvdHlwZSA9IG5ldyB4JDUoKSkuX19jID0gZnVuY3Rpb24objIsIHQyKSB7XG4gIHZhciBlMiA9IHQyLl9fYywgcjIgPSB0aGlzO1xuICBudWxsID09IHIyLm8gJiYgKHIyLm8gPSBbXSksIHIyLm8ucHVzaChlMik7XG4gIHZhciB1MiA9IGokMyhyMi5fX3YpLCBvMyA9IGZhbHNlLCBpMiA9IGZ1bmN0aW9uKCkge1xuICAgIG8zIHx8IChvMyA9IHRydWUsIGUyLl9fUiA9IG51bGwsIHUyID8gdTIobDIpIDogbDIoKSk7XG4gIH07XG4gIGUyLl9fUiA9IGkyO1xuICB2YXIgbDIgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIS0tcjIuX191KSB7XG4gICAgICBpZiAocjIuc3RhdGUuX19hKSB7XG4gICAgICAgIHZhciBuMyA9IHIyLnN0YXRlLl9fYTtcbiAgICAgICAgcjIuX192Ll9fa1swXSA9IFcobjMsIG4zLl9fYy5fX1AsIG4zLl9fYy5fX08pO1xuICAgICAgfVxuICAgICAgdmFyIHQzO1xuICAgICAgZm9yIChyMi5zZXRTdGF0ZSh7IF9fYTogcjIuX19iID0gbnVsbCB9KTsgdDMgPSByMi5vLnBvcCgpOyApIHQzLmZvcmNlVXBkYXRlKCk7XG4gICAgfVxuICB9O1xuICByMi5fX3UrKyB8fCAzMiAmIHQyLl9fdSB8fCByMi5zZXRTdGF0ZSh7IF9fYTogcjIuX19iID0gcjIuX192Ll9fa1swXSB9KSwgbjIudGhlbihpMiwgaTIpO1xufSwgUCQ0LnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLm8gPSBbXTtcbn0sIFAkNC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24objIsIGUyKSB7XG4gIGlmICh0aGlzLl9fYikge1xuICAgIGlmICh0aGlzLl9fdi5fX2spIHtcbiAgICAgIHZhciByMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksIG8zID0gdGhpcy5fX3YuX19rWzBdLl9fYztcbiAgICAgIHRoaXMuX192Ll9fa1swXSA9IFYkMSh0aGlzLl9fYiwgcjIsIG8zLl9fTyA9IG8zLl9fUCk7XG4gICAgfVxuICAgIHRoaXMuX19iID0gbnVsbDtcbiAgfVxuICB2YXIgaTIgPSBlMi5fX2EgJiYgXyQ0KGskMywgbnVsbCwgbjIuZmFsbGJhY2spO1xuICByZXR1cm4gaTIgJiYgKGkyLl9fdSAmPSAtMzMpLCBbXyQ0KGskMywgbnVsbCwgZTIuX19hID8gbnVsbCA6IG4yLmNoaWxkcmVuKSwgaTJdO1xufTtcbnZhciBIJDUgPSBmdW5jdGlvbihuMiwgdDIsIGUyKSB7XG4gIGlmICgrK2UyWzFdID09PSBlMlswXSAmJiBuMi5sLmRlbGV0ZSh0MiksIG4yLnByb3BzLnJldmVhbE9yZGVyICYmIChcInRcIiAhPT0gbjIucHJvcHMucmV2ZWFsT3JkZXJbMF0gfHwgIW4yLmwuc2l6ZSkpIGZvciAoZTIgPSBuMi5pOyBlMjsgKSB7XG4gICAgZm9yICg7IGUyLmxlbmd0aCA+IDM7ICkgZTIucG9wKCkoKTtcbiAgICBpZiAoZTJbMV0gPCBlMlswXSkgYnJlYWs7XG4gICAgbjIuaSA9IGUyID0gZTJbMl07XG4gIH1cbn07XG5mdW5jdGlvbiBaKG4yKSB7XG4gIHJldHVybiB0aGlzLmdldENoaWxkQ29udGV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuMi5jb250ZXh0O1xuICB9LCBuMi5jaGlsZHJlbjtcbn1cbmZ1bmN0aW9uIFkobjIpIHtcbiAgdmFyIGUyID0gdGhpcywgcjIgPSBuMi5oO1xuICBpZiAoZTIuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbigpIHtcbiAgICBFJDMobnVsbCwgZTIudiksIGUyLnYgPSBudWxsLCBlMi5oID0gbnVsbDtcbiAgfSwgZTIuaCAmJiBlMi5oICE9PSByMiAmJiBlMi5jb21wb25lbnRXaWxsVW5tb3VudCgpLCAhZTIudikge1xuICAgIGZvciAodmFyIHUyID0gZTIuX192OyBudWxsICE9PSB1MiAmJiAhdTIuX19tICYmIG51bGwgIT09IHUyLl9fOyApIHUyID0gdTIuX187XG4gICAgZTIuaCA9IHIyLCBlMi52ID0geyBub2RlVHlwZTogMSwgcGFyZW50Tm9kZTogcjIsIGNoaWxkTm9kZXM6IFtdLCBfX2s6IHsgX19tOiB1Mi5fX20gfSwgY29udGFpbnM6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSwgYXBwZW5kQ2hpbGQ6IGZ1bmN0aW9uKG4zKSB7XG4gICAgICB0aGlzLmNoaWxkTm9kZXMucHVzaChuMyksIGUyLmguYXBwZW5kQ2hpbGQobjMpO1xuICAgIH0sIGluc2VydEJlZm9yZTogZnVuY3Rpb24objMsIHQyKSB7XG4gICAgICB0aGlzLmNoaWxkTm9kZXMucHVzaChuMyksIGUyLmguaW5zZXJ0QmVmb3JlKG4zLCB0Mik7XG4gICAgfSwgcmVtb3ZlQ2hpbGQ6IGZ1bmN0aW9uKG4zKSB7XG4gICAgICB0aGlzLmNoaWxkTm9kZXMuc3BsaWNlKHRoaXMuY2hpbGROb2Rlcy5pbmRleE9mKG4zKSA+Pj4gMSwgMSksIGUyLmgucmVtb3ZlQ2hpbGQobjMpO1xuICAgIH0gfTtcbiAgfVxuICBFJDMoXyQ0KFosIHsgY29udGV4dDogZTIuY29udGV4dCB9LCBuMi5fX3YpLCBlMi52KTtcbn1cbmZ1bmN0aW9uICQkMShuMiwgZTIpIHtcbiAgdmFyIHIyID0gXyQ0KFksIHsgX192OiBuMiwgaDogZTIgfSk7XG4gIHJldHVybiByMi5jb250YWluZXJJbmZvID0gZTIsIHIyO1xufVxuKEIkMS5wcm90b3R5cGUgPSBuZXcgeCQ1KCkpLl9fYSA9IGZ1bmN0aW9uKG4yKSB7XG4gIHZhciB0MiA9IHRoaXMsIGUyID0gaiQzKHQyLl9fdiksIHIyID0gdDIubC5nZXQobjIpO1xuICByZXR1cm4gcjJbMF0rKywgZnVuY3Rpb24odTIpIHtcbiAgICB2YXIgbzMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHQyLnByb3BzLnJldmVhbE9yZGVyID8gKHIyLnB1c2godTIpLCBIJDUodDIsIG4yLCByMikpIDogdTIoKTtcbiAgICB9O1xuICAgIGUyID8gZTIobzMpIDogbzMoKTtcbiAgfTtcbn0sIEIkMS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24objIpIHtcbiAgdGhpcy5pID0gbnVsbCwgdGhpcy5sID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgdmFyIHQyID0gSCQ2KG4yLmNoaWxkcmVuKTtcbiAgbjIucmV2ZWFsT3JkZXIgJiYgXCJiXCIgPT09IG4yLnJldmVhbE9yZGVyWzBdICYmIHQyLnJldmVyc2UoKTtcbiAgZm9yICh2YXIgZTIgPSB0Mi5sZW5ndGg7IGUyLS07ICkgdGhpcy5sLnNldCh0MltlMl0sIHRoaXMuaSA9IFsxLCAwLCB0aGlzLmldKTtcbiAgcmV0dXJuIG4yLmNoaWxkcmVuO1xufSwgQiQxLnByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGUgPSBCJDEucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBuMiA9IHRoaXM7XG4gIHRoaXMubC5mb3JFYWNoKGZ1bmN0aW9uKHQyLCBlMikge1xuICAgIEgkNShuMiwgZTIsIHQyKTtcbiAgfSk7XG59O1xudmFyIHEkMiA9IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIFN5bWJvbCAmJiBTeW1ib2wuZm9yICYmIFN5bWJvbC5mb3IoXCJyZWFjdC5lbGVtZW50XCIpIHx8IDYwMTAzLCBHJDIgPSAvXig/OmFjY2VudHxhbGlnbm1lbnR8YXJhYmljfGJhc2VsaW5lfGNhcHxjbGlwKD8hUGF0aFUpfGNvbG9yfGRvbWluYW50fGZpbGx8Zmxvb2R8Zm9udHxnbHlwaCg/IVIpfGhvcml6fGltYWdlKCFTKXxsZXR0ZXJ8bGlnaHRpbmd8bWFya2VyKD8hSHxXfFUpfG92ZXJsaW5lfHBhaW50fHBvaW50ZXJ8c2hhcGV8c3RvcHxzdHJpa2V0aHJvdWdofHN0cm9rZXx0ZXh0KD8hTCl8dHJhbnNmb3JtfHVuZGVybGluZXx1bmljb2RlfHVuaXRzfHZ8dmVjdG9yfHZlcnR8d29yZHx3cml0aW5nfHgoPyFDKSlbQS1aXS8sIEokMyA9IC9eb24oQW5pfFRyYXxUb3V8QmVmb3JlSW5wfENvbXBvKS8sIEskMiA9IC9bQS1aMC05XS9nLCBRID0gXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgZG9jdW1lbnQsIFgkMSA9IGZ1bmN0aW9uKG4yKSB7XG4gIHJldHVybiAoXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbCgpID8gL2ZpbHxjaGV8cmFkLyA6IC9maWx8Y2hlfHJhLykudGVzdChuMik7XG59O1xuZnVuY3Rpb24gbm4objIsIHQyLCBlMikge1xuICByZXR1cm4gbnVsbCA9PSB0Mi5fX2sgJiYgKHQyLnRleHRDb250ZW50ID0gXCJcIiksIEUkMyhuMiwgdDIpLCBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGUyICYmIGUyKCksIG4yID8gbjIuX19jIDogbnVsbDtcbn1cbmZ1bmN0aW9uIHRuKG4yLCB0MiwgZTIpIHtcbiAgcmV0dXJuIEckMyhuMiwgdDIpLCBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGUyICYmIGUyKCksIG4yID8gbjIuX19jIDogbnVsbDtcbn1cbngkNS5wcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudCA9IHt9LCBbXCJjb21wb25lbnRXaWxsTW91bnRcIiwgXCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzXCIsIFwiY29tcG9uZW50V2lsbFVwZGF0ZVwiXS5mb3JFYWNoKGZ1bmN0aW9uKHQyKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh4JDUucHJvdG90eXBlLCB0MiwgeyBjb25maWd1cmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXNbXCJVTlNBRkVfXCIgKyB0Ml07XG4gIH0sIHNldDogZnVuY3Rpb24objIpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgdDIsIHsgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWU6IG4yIH0pO1xuICB9IH0pO1xufSk7XG52YXIgZW4gPSBsJDQuZXZlbnQ7XG5mdW5jdGlvbiBybigpIHtcbn1cbmZ1bmN0aW9uIHVuKCkge1xuICByZXR1cm4gdGhpcy5jYW5jZWxCdWJibGU7XG59XG5mdW5jdGlvbiBvbigpIHtcbiAgcmV0dXJuIHRoaXMuZGVmYXVsdFByZXZlbnRlZDtcbn1cbmwkNC5ldmVudCA9IGZ1bmN0aW9uKG4yKSB7XG4gIHJldHVybiBlbiAmJiAobjIgPSBlbihuMikpLCBuMi5wZXJzaXN0ID0gcm4sIG4yLmlzUHJvcGFnYXRpb25TdG9wcGVkID0gdW4sIG4yLmlzRGVmYXVsdFByZXZlbnRlZCA9IG9uLCBuMi5uYXRpdmVFdmVudCA9IG4yO1xufTtcbnZhciBsbiwgY24kMSA9IHsgZW51bWVyYWJsZTogZmFsc2UsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuY2xhc3M7XG59IH0sIGZuID0gbCQ0LnZub2RlO1xubCQ0LnZub2RlID0gZnVuY3Rpb24objIpIHtcbiAgXCJzdHJpbmdcIiA9PSB0eXBlb2YgbjIudHlwZSAmJiBmdW5jdGlvbihuMykge1xuICAgIHZhciB0MiA9IG4zLnByb3BzLCBlMiA9IG4zLnR5cGUsIHUyID0ge30sIG8zID0gLTEgPT09IGUyLmluZGV4T2YoXCItXCIpO1xuICAgIGZvciAodmFyIGkyIGluIHQyKSB7XG4gICAgICB2YXIgbDIgPSB0MltpMl07XG4gICAgICBpZiAoIShcInZhbHVlXCIgPT09IGkyICYmIFwiZGVmYXVsdFZhbHVlXCIgaW4gdDIgJiYgbnVsbCA9PSBsMiB8fCBRICYmIFwiY2hpbGRyZW5cIiA9PT0gaTIgJiYgXCJub3NjcmlwdFwiID09PSBlMiB8fCBcImNsYXNzXCIgPT09IGkyIHx8IFwiY2xhc3NOYW1lXCIgPT09IGkyKSkge1xuICAgICAgICB2YXIgYzIgPSBpMi50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBcImRlZmF1bHRWYWx1ZVwiID09PSBpMiAmJiBcInZhbHVlXCIgaW4gdDIgJiYgbnVsbCA9PSB0Mi52YWx1ZSA/IGkyID0gXCJ2YWx1ZVwiIDogXCJkb3dubG9hZFwiID09PSBpMiAmJiB0cnVlID09PSBsMiA/IGwyID0gXCJcIiA6IFwidHJhbnNsYXRlXCIgPT09IGMyICYmIFwibm9cIiA9PT0gbDIgPyBsMiA9IGZhbHNlIDogXCJvXCIgPT09IGMyWzBdICYmIFwiblwiID09PSBjMlsxXSA/IFwib25kb3VibGVjbGlja1wiID09PSBjMiA/IGkyID0gXCJvbmRibGNsaWNrXCIgOiBcIm9uY2hhbmdlXCIgIT09IGMyIHx8IFwiaW5wdXRcIiAhPT0gZTIgJiYgXCJ0ZXh0YXJlYVwiICE9PSBlMiB8fCBYJDEodDIudHlwZSkgPyBcIm9uZm9jdXNcIiA9PT0gYzIgPyBpMiA9IFwib25mb2N1c2luXCIgOiBcIm9uYmx1clwiID09PSBjMiA/IGkyID0gXCJvbmZvY3Vzb3V0XCIgOiBKJDMudGVzdChpMikgJiYgKGkyID0gYzIpIDogYzIgPSBpMiA9IFwib25pbnB1dFwiIDogbzMgJiYgRyQyLnRlc3QoaTIpID8gaTIgPSBpMi5yZXBsYWNlKEskMiwgXCItJCZcIikudG9Mb3dlckNhc2UoKSA6IG51bGwgPT09IGwyICYmIChsMiA9IHZvaWQgMCksIFwib25pbnB1dFwiID09PSBjMiAmJiB1MltpMiA9IGMyXSAmJiAoaTIgPSBcIm9uaW5wdXRDYXB0dXJlXCIpLCB1MltpMl0gPSBsMjtcbiAgICAgIH1cbiAgICB9XG4gICAgXCJzZWxlY3RcIiA9PSBlMiAmJiB1Mi5tdWx0aXBsZSAmJiBBcnJheS5pc0FycmF5KHUyLnZhbHVlKSAmJiAodTIudmFsdWUgPSBIJDYodDIuY2hpbGRyZW4pLmZvckVhY2goZnVuY3Rpb24objQpIHtcbiAgICAgIG40LnByb3BzLnNlbGVjdGVkID0gLTEgIT0gdTIudmFsdWUuaW5kZXhPZihuNC5wcm9wcy52YWx1ZSk7XG4gICAgfSkpLCBcInNlbGVjdFwiID09IGUyICYmIG51bGwgIT0gdTIuZGVmYXVsdFZhbHVlICYmICh1Mi52YWx1ZSA9IEgkNih0Mi5jaGlsZHJlbikuZm9yRWFjaChmdW5jdGlvbihuNCkge1xuICAgICAgbjQucHJvcHMuc2VsZWN0ZWQgPSB1Mi5tdWx0aXBsZSA/IC0xICE9IHUyLmRlZmF1bHRWYWx1ZS5pbmRleE9mKG40LnByb3BzLnZhbHVlKSA6IHUyLmRlZmF1bHRWYWx1ZSA9PSBuNC5wcm9wcy52YWx1ZTtcbiAgICB9KSksIHQyLmNsYXNzICYmICF0Mi5jbGFzc05hbWUgPyAodTIuY2xhc3MgPSB0Mi5jbGFzcywgT2JqZWN0LmRlZmluZVByb3BlcnR5KHUyLCBcImNsYXNzTmFtZVwiLCBjbiQxKSkgOiAodDIuY2xhc3NOYW1lICYmICF0Mi5jbGFzcyB8fCB0Mi5jbGFzcyAmJiB0Mi5jbGFzc05hbWUpICYmICh1Mi5jbGFzcyA9IHUyLmNsYXNzTmFtZSA9IHQyLmNsYXNzTmFtZSksIG4zLnByb3BzID0gdTI7XG4gIH0objIpLCBuMi4kJHR5cGVvZiA9IHEkMiwgZm4gJiYgZm4objIpO1xufTtcbnZhciBhbiA9IGwkNC5fX3I7XG5sJDQuX19yID0gZnVuY3Rpb24objIpIHtcbiAgYW4gJiYgYW4objIpLCBsbiA9IG4yLl9fYztcbn07XG52YXIgc24gPSBsJDQuZGlmZmVkO1xubCQ0LmRpZmZlZCA9IGZ1bmN0aW9uKG4yKSB7XG4gIHNuICYmIHNuKG4yKTtcbiAgdmFyIHQyID0gbjIucHJvcHMsIGUyID0gbjIuX19lO1xuICBudWxsICE9IGUyICYmIFwidGV4dGFyZWFcIiA9PT0gbjIudHlwZSAmJiBcInZhbHVlXCIgaW4gdDIgJiYgdDIudmFsdWUgIT09IGUyLnZhbHVlICYmIChlMi52YWx1ZSA9IG51bGwgPT0gdDIudmFsdWUgPyBcIlwiIDogdDIudmFsdWUpLCBsbiA9IG51bGw7XG59O1xudmFyIGhuID0geyBSZWFjdEN1cnJlbnREaXNwYXRjaGVyOiB7IGN1cnJlbnQ6IHsgcmVhZENvbnRleHQ6IGZ1bmN0aW9uKG4yKSB7XG4gIHJldHVybiBsbi5fX25bbjIuX19jXS5wcm9wcy52YWx1ZTtcbn0sIHVzZUNhbGxiYWNrOiBxJDMsIHVzZUNvbnRleHQ6IHgkNCwgdXNlRGVidWdWYWx1ZTogUCQ1LCB1c2VEZWZlcnJlZFZhbHVlOiB3JDMsIHVzZUVmZmVjdDogeSQ2LCB1c2VJZDogZyQzLCB1c2VJbXBlcmF0aXZlSGFuZGxlOiBGJDUsIHVzZUluc2VydGlvbkVmZmVjdDogSSQzLCB1c2VMYXlvdXRFZmZlY3Q6IF8kMywgdXNlTWVtbzogVCQ1LCB1c2VSZWR1Y2VyOiBoJDUsIHVzZVJlZjogQSQzLCB1c2VTdGF0ZTogZCQ0LCB1c2VTeW5jRXh0ZXJuYWxTdG9yZTogQyQzLCB1c2VUcmFuc2l0aW9uOiBrJDEgfSB9IH0sIHZuID0gXCIxOC4zLjFcIjtcbmZ1bmN0aW9uIGRuKG4yKSB7XG4gIHJldHVybiBfJDQuYmluZChudWxsLCBuMik7XG59XG5mdW5jdGlvbiBtbihuMikge1xuICByZXR1cm4gISFuMiAmJiBuMi4kJHR5cGVvZiA9PT0gcSQyO1xufVxuZnVuY3Rpb24gcG4objIpIHtcbiAgcmV0dXJuIG1uKG4yKSAmJiBuMi50eXBlID09PSBrJDM7XG59XG5mdW5jdGlvbiB5bihuMikge1xuICByZXR1cm4gISFuMiAmJiAhIW4yLmRpc3BsYXlOYW1lICYmIChcInN0cmluZ1wiID09IHR5cGVvZiBuMi5kaXNwbGF5TmFtZSB8fCBuMi5kaXNwbGF5TmFtZSBpbnN0YW5jZW9mIFN0cmluZykgJiYgbjIuZGlzcGxheU5hbWUuc3RhcnRzV2l0aChcIk1lbW8oXCIpO1xufVxuZnVuY3Rpb24gX24objIpIHtcbiAgcmV0dXJuIG1uKG4yKSA/IEokNC5hcHBseShudWxsLCBhcmd1bWVudHMpIDogbjI7XG59XG5mdW5jdGlvbiBibihuMikge1xuICByZXR1cm4gISFuMi5fX2sgJiYgKEUkMyhudWxsLCBuMiksIHRydWUpO1xufVxuZnVuY3Rpb24gU24objIpIHtcbiAgcmV0dXJuIG4yICYmIChuMi5iYXNlIHx8IDEgPT09IG4yLm5vZGVUeXBlICYmIG4yKSB8fCBudWxsO1xufVxudmFyIGduID0gZnVuY3Rpb24objIsIHQyKSB7XG4gIHJldHVybiBuMih0Mik7XG59LCBFbiA9IGZ1bmN0aW9uKG4yLCB0Mikge1xuICByZXR1cm4gbjIodDIpO1xufSwgQ24gPSBrJDMsIHhuID0gbW4sIFJuID0geyB1c2VTdGF0ZTogZCQ0LCB1c2VJZDogZyQzLCB1c2VSZWR1Y2VyOiBoJDUsIHVzZUVmZmVjdDogeSQ2LCB1c2VMYXlvdXRFZmZlY3Q6IF8kMywgdXNlSW5zZXJ0aW9uRWZmZWN0OiBJJDMsIHVzZVRyYW5zaXRpb246IGskMSwgdXNlRGVmZXJyZWRWYWx1ZTogdyQzLCB1c2VTeW5jRXh0ZXJuYWxTdG9yZTogQyQzLCBzdGFydFRyYW5zaXRpb246IFIkMywgdXNlUmVmOiBBJDMsIHVzZUltcGVyYXRpdmVIYW5kbGU6IEYkNSwgdXNlTWVtbzogVCQ1LCB1c2VDYWxsYmFjazogcSQzLCB1c2VDb250ZXh0OiB4JDQsIHVzZURlYnVnVmFsdWU6IFAkNSwgdmVyc2lvbjogXCIxOC4zLjFcIiwgQ2hpbGRyZW46IE8kMiwgcmVuZGVyOiBubiwgaHlkcmF0ZTogdG4sIHVubW91bnRDb21wb25lbnRBdE5vZGU6IGJuLCBjcmVhdGVQb3J0YWw6ICQkMSwgY3JlYXRlRWxlbWVudDogXyQ0LCBjcmVhdGVDb250ZXh0OiBLJDMsIGNyZWF0ZUZhY3Rvcnk6IGRuLCBjbG9uZUVsZW1lbnQ6IF9uLCBjcmVhdGVSZWY6IGIkNSwgRnJhZ21lbnQ6IGskMywgaXNWYWxpZEVsZW1lbnQ6IG1uLCBpc0VsZW1lbnQ6IHhuLCBpc0ZyYWdtZW50OiBwbiwgaXNNZW1vOiB5biwgZmluZERPTU5vZGU6IFNuLCBDb21wb25lbnQ6IHgkNSwgUHVyZUNvbXBvbmVudDogTiQxLCBtZW1vOiBNJDMsIGZvcndhcmRSZWY6IEQkMSwgZmx1c2hTeW5jOiBFbiwgdW5zdGFibGVfYmF0Y2hlZFVwZGF0ZXM6IGduLCBTdHJpY3RNb2RlOiBDbiwgU3VzcGVuc2U6IFAkNCwgU3VzcGVuc2VMaXN0OiBCJDEsIGxhenk6IHokMSwgX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQ6IGhuIH07XG5jb25zdCB0JDQgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmZyZWV6ZSgvKiBAX19QVVJFX18gKi8gT2JqZWN0LmRlZmluZVByb3BlcnR5KHtcbiAgX19wcm90b19fOiBudWxsLFxuICBDaGlsZHJlbjogTyQyLFxuICBDb21wb25lbnQ6IHgkNSxcbiAgRnJhZ21lbnQ6IGskMyxcbiAgUHVyZUNvbXBvbmVudDogTiQxLFxuICBTdHJpY3RNb2RlOiBDbixcbiAgU3VzcGVuc2U6IFAkNCxcbiAgU3VzcGVuc2VMaXN0OiBCJDEsXG4gIF9fU0VDUkVUX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVEOiBobixcbiAgY2xvbmVFbGVtZW50OiBfbixcbiAgY3JlYXRlQ29udGV4dDogSyQzLFxuICBjcmVhdGVFbGVtZW50OiBfJDQsXG4gIGNyZWF0ZUZhY3Rvcnk6IGRuLFxuICBjcmVhdGVQb3J0YWw6ICQkMSxcbiAgY3JlYXRlUmVmOiBiJDUsXG4gIGRlZmF1bHQ6IFJuLFxuICBmaW5kRE9NTm9kZTogU24sXG4gIGZsdXNoU3luYzogRW4sXG4gIGZvcndhcmRSZWY6IEQkMSxcbiAgaHlkcmF0ZTogdG4sXG4gIGlzRWxlbWVudDogeG4sXG4gIGlzRnJhZ21lbnQ6IHBuLFxuICBpc01lbW86IHluLFxuICBpc1ZhbGlkRWxlbWVudDogbW4sXG4gIGxhenk6IHokMSxcbiAgbWVtbzogTSQzLFxuICByZW5kZXI6IG5uLFxuICBzdGFydFRyYW5zaXRpb246IFIkMyxcbiAgdW5tb3VudENvbXBvbmVudEF0Tm9kZTogYm4sXG4gIHVuc3RhYmxlX2JhdGNoZWRVcGRhdGVzOiBnbixcbiAgdXNlQ2FsbGJhY2s6IHEkMyxcbiAgdXNlQ29udGV4dDogeCQ0LFxuICB1c2VEZWJ1Z1ZhbHVlOiBQJDUsXG4gIHVzZURlZmVycmVkVmFsdWU6IHckMyxcbiAgdXNlRWZmZWN0OiB5JDYsXG4gIHVzZUVycm9yQm91bmRhcnk6IGIkNCxcbiAgdXNlSWQ6IGckMyxcbiAgdXNlSW1wZXJhdGl2ZUhhbmRsZTogRiQ1LFxuICB1c2VJbnNlcnRpb25FZmZlY3Q6IEkkMyxcbiAgdXNlTGF5b3V0RWZmZWN0OiBfJDMsXG4gIHVzZU1lbW86IFQkNSxcbiAgdXNlUmVkdWNlcjogaCQ1LFxuICB1c2VSZWY6IEEkMyxcbiAgdXNlU3RhdGU6IGQkNCxcbiAgdXNlU3luY0V4dGVybmFsU3RvcmU6IEMkMyxcbiAgdXNlVHJhbnNpdGlvbjogayQxLFxuICB2ZXJzaW9uOiB2blxufSwgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiBcIk1vZHVsZVwiIH0pKTtcbnZhciBfX3JlcXVpcmUgPSAvKiBAX19QVVJFX18gKi8gKCh4MikgPT4gdHlwZW9mIHJlcXVpcmUgIT09IFwidW5kZWZpbmVkXCIgPyByZXF1aXJlIDogdHlwZW9mIFByb3h5ICE9PSBcInVuZGVmaW5lZFwiID8gbmV3IFByb3h5KHgyLCB7XG4gIGdldDogKGEzLCBiMikgPT4gKHR5cGVvZiByZXF1aXJlICE9PSBcInVuZGVmaW5lZFwiID8gcmVxdWlyZSA6IGEzKVtiMl1cbn0pIDogeDIpKGZ1bmN0aW9uKHgyKSB7XG4gIGlmICh0eXBlb2YgcmVxdWlyZSAhPT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuIHJlcXVpcmUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgdGhyb3cgRXJyb3IoJ0R5bmFtaWMgcmVxdWlyZSBvZiBcIicgKyB4MiArICdcIiBpcyBub3Qgc3VwcG9ydGVkJyk7XG59KTtcbnZhciBERUZBVUxUX09QVElPTlMgPSB7XG4gIG1heFJlY29ubmVjdEF0dGVtcHRzOiA1LFxuICByZWNvbm5lY3REZWxheTogMWUzLFxuICByZXF1ZXN0VGltZW91dDogM2U0XG4gIC8vIEV4dGVuZGVkIHRpbWVvdXQgZm9yIGxvbmdlciBvcGVyYXRpb25zXG59O1xudmFyIFdlYlNvY2tldFJwY0JyaWRnZSA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy53cyA9IG51bGw7XG4gICAgdGhpcy5wZW5kaW5nUmVxdWVzdHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgIHRoaXMucmVjb25uZWN0QXR0ZW1wdHMgPSAwO1xuICAgIHRoaXMubWV0aG9kcyA9IHt9O1xuICAgIHRoaXMuaXNJbnRlbnRpb25hbENsb3NlID0gZmFsc2U7XG4gICAgdGhpcy5vcHRpb25zID0geyAuLi5ERUZBVUxUX09QVElPTlMsIC4uLm9wdGlvbnMgfTtcbiAgfVxuICAvKipcbiAgICogUmVnaXN0ZXIgUlBDIG1ldGhvZCBoYW5kbGVyc1xuICAgKiBAcGFyYW0gbWV0aG9kSGFuZGxlcnMgT2JqZWN0IGNvbnRhaW5pbmcgbWV0aG9kIGhhbmRsZXJzXG4gICAqL1xuICByZWdpc3RlcihtZXRob2RIYW5kbGVycykge1xuICAgIE9iamVjdC5lbnRyaWVzKG1ldGhvZEhhbmRsZXJzKS5mb3JFYWNoKChbbWV0aG9kTmFtZSwgaGFuZGxlcl0pID0+IHtcbiAgICAgIHRoaXMubWV0aG9kc1ttZXRob2ROYW1lXSA9IHsgaGFuZGxlciB9O1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBHZW5lcmljIG1ldGhvZCB0byBjYWxsIGEgcmVtb3RlIHByb2NlZHVyZSB3aXRoIHN1cHBvcnQgZm9yIHN0cmVhbWluZyB1cGRhdGVzXG4gICAqIEBwYXJhbSBtZXRob2QgTWV0aG9kIG5hbWUgdG8gY2FsbFxuICAgKiBAcGFyYW0gcGF5bG9hZCBSZXF1ZXN0IHBheWxvYWRcbiAgICogQHBhcmFtIG9uVXBkYXRlIE9wdGlvbmFsIGNhbGxiYWNrIGZvciBwcm9ncmVzcyB1cGRhdGVzXG4gICAqIEByZXR1cm5zIFByb21pc2UgcmVzb2x2aW5nIHdpdGggdGhlIHJlc3BvbnNlXG4gICAqL1xuICBjYWxsTWV0aG9kKG1ldGhvZCwgcGF5bG9hZCwgb25VcGRhdGUpIHtcbiAgICBpZiAoIXRoaXMud3MpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIldlYlNvY2tldCBpcyBub3QgY29ubmVjdGVkXCIpO1xuICAgIH1cbiAgICBjb25zdCBpZCA9IGNyeXB0by5yYW5kb21VVUlEKCk7XG4gICAgY29uc3QgcmVxdWVzdE1lc3NhZ2UgPSB7XG4gICAgICBpZCxcbiAgICAgIG1lc3NhZ2VUeXBlOiBcInJlcXVlc3RcIixcbiAgICAgIG1ldGhvZCxcbiAgICAgIHBheWxvYWRcbiAgICB9O1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB2YXIgX2E7XG4gICAgICBjb25zdCB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMucGVuZGluZ1JlcXVlc3RzLmRlbGV0ZShpZCk7XG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoYFJlcXVlc3QgdGltZWQgb3V0OiAke21ldGhvZH1gKSk7XG4gICAgICB9LCB0aGlzLm9wdGlvbnMucmVxdWVzdFRpbWVvdXQpO1xuICAgICAgdGhpcy5wZW5kaW5nUmVxdWVzdHMuc2V0KGlkLCB7IHJlc29sdmUsIHJlamVjdCwgdGltZW91dCwgb25VcGRhdGUgfSk7XG4gICAgICAoX2EgPSB0aGlzLndzKSA9PSBudWxsID8gdm9pZCAwIDogX2Euc2VuZChKU09OLnN0cmluZ2lmeShyZXF1ZXN0TWVzc2FnZSkpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIHVwIFdlYlNvY2tldCBldmVudCBoYW5kbGVyc1xuICAgKiBAcGFyYW0gd3MgV2ViU29ja2V0IGluc3RhbmNlXG4gICAqL1xuICBzZXR1cFdlYlNvY2tldEhhbmRsZXJzKHdzKSB7XG4gICAgd3Mub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTtcbiAgICAgICAgdGhpcy5oYW5kbGVNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBoYW5kbGluZyBXZWJTb2NrZXQgbWVzc2FnZTpcIiwgZXJyb3IyKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHdzLm9uY2xvc2UgPSAoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhcIldlYlNvY2tldCBkaXNjb25uZWN0ZWRcIik7XG4gICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3QoKTtcbiAgICB9O1xuICAgIHdzLm9uZXJyb3IgPSAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJXZWJTb2NrZXQgZXJyb3I6XCIsIGV2ZW50KTtcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGVzIGluY29taW5nIFdlYlNvY2tldCBtZXNzYWdlc1xuICAgKiBAcGFyYW0gbWVzc2FnZSBUaGUgbWVzc2FnZSB0byBoYW5kbGVcbiAgICovXG4gIGhhbmRsZU1lc3NhZ2UobWVzc2FnZSkge1xuICAgIGNvbnN0IHsgbWVzc2FnZVR5cGUsIGlkIH0gPSBtZXNzYWdlO1xuICAgIHN3aXRjaCAobWVzc2FnZVR5cGUpIHtcbiAgICAgIGNhc2UgXCJyZXF1ZXN0XCI6XG4gICAgICAgIHRoaXMuaGFuZGxlUmVxdWVzdChtZXNzYWdlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicmVzcG9uc2VcIjpcbiAgICAgICAgdGhpcy5oYW5kbGVSZXNwb25zZShpZCwgbWVzc2FnZS5wYXlsb2FkKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwidXBkYXRlXCI6XG4gICAgICAgIHRoaXMuaGFuZGxlVXBkYXRlKGlkLCBtZXNzYWdlLnBheWxvYWQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJlcnJvclwiOlxuICAgICAgICB0aGlzLmhhbmRsZUVycm9yKGlkLCBtZXNzYWdlLmVycm9yLm1lc3NhZ2UpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGNvbnNvbGUud2FybihgVW5rbm93biBtZXNzYWdlIHR5cGU6ICR7bWVzc2FnZVR5cGV9YCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgaW5jb21pbmcgcmVxdWVzdHMgYnkgaW52b2tpbmcgdGhlIHJlZ2lzdGVyZWQgbWV0aG9kXG4gICAqIEBwYXJhbSBtZXNzYWdlIFJlcXVlc3QgbWVzc2FnZVxuICAgKi9cbiAgYXN5bmMgaGFuZGxlUmVxdWVzdChtZXNzYWdlKSB7XG4gICAgY29uc3QgeyBpZCwgbWV0aG9kLCBwYXlsb2FkIH0gPSBtZXNzYWdlO1xuICAgIGlmICghbWV0aG9kKSB7XG4gICAgICB0aGlzLnNlbmRFcnJvcihpZCwgXCJNZXRob2QgbmFtZSBpcyByZXF1aXJlZFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbWV0aG9kRGVmID0gdGhpcy5tZXRob2RzW21ldGhvZF07XG4gICAgaWYgKCFtZXRob2REZWYpIHtcbiAgICAgIHRoaXMuc2VuZEVycm9yKGlkLCBgTWV0aG9kIG5vdCBmb3VuZDogJHttZXRob2R9YCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBjb25zdCBzZW5kVXBkYXRlID0gKHVwZGF0ZSkgPT4ge1xuICAgICAgICB0aGlzLnNlbmRVcGRhdGUoaWQsIG1ldGhvZCwgdXBkYXRlKTtcbiAgICAgIH07XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBtZXRob2REZWYuaGFuZGxlcihwYXlsb2FkLCBzZW5kVXBkYXRlKTtcbiAgICAgIHRoaXMuc2VuZFJlc3BvbnNlKGlkLCBtZXRob2QsIHJlc3VsdCk7XG4gICAgfSBjYXRjaCAoZXJyb3IyKSB7XG4gICAgICB0aGlzLnNlbmRFcnJvcihcbiAgICAgICAgaWQsXG4gICAgICAgIGVycm9yMiBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IyLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IyKVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZSByZXNwb25zZSBtZXNzYWdlcyBieSByZXNvbHZpbmcgdGhlIHBlbmRpbmcgcmVxdWVzdFxuICAgKiBAcGFyYW0gaWQgUmVxdWVzdCBJRFxuICAgKiBAcGFyYW0gcGF5bG9hZCBSZXNwb25zZSBwYXlsb2FkXG4gICAqL1xuICBoYW5kbGVSZXNwb25zZShpZCwgcGF5bG9hZCkge1xuICAgIGNvbnN0IHBlbmRpbmdSZXF1ZXN0ID0gdGhpcy5wZW5kaW5nUmVxdWVzdHMuZ2V0KGlkKTtcbiAgICBpZiAoIXBlbmRpbmdSZXF1ZXN0KSB7XG4gICAgICBjb25zb2xlLndhcm4oYFJlY2VpdmVkIHJlc3BvbnNlIGZvciB1bmtub3duIHJlcXVlc3QgSUQ6ICR7aWR9YCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNsZWFyVGltZW91dChwZW5kaW5nUmVxdWVzdC50aW1lb3V0KTtcbiAgICB0aGlzLnBlbmRpbmdSZXF1ZXN0cy5kZWxldGUoaWQpO1xuICAgIHBlbmRpbmdSZXF1ZXN0LnJlc29sdmUocGF5bG9hZCk7XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZSB1cGRhdGUgbWVzc2FnZXMgYnkgY2FsbGluZyB0aGUgdXBkYXRlIGNhbGxiYWNrXG4gICAqIEBwYXJhbSBpZCBSZXF1ZXN0IElEXG4gICAqIEBwYXJhbSBwYXlsb2FkIFVwZGF0ZSBwYXlsb2FkXG4gICAqL1xuICBoYW5kbGVVcGRhdGUoaWQsIHBheWxvYWQpIHtcbiAgICBjb25zdCBwZW5kaW5nUmVxdWVzdCA9IHRoaXMucGVuZGluZ1JlcXVlc3RzLmdldChpZCk7XG4gICAgaWYgKCFwZW5kaW5nUmVxdWVzdCB8fCAhcGVuZGluZ1JlcXVlc3Qub25VcGRhdGUpIHtcbiAgICAgIGNvbnNvbGUud2FybihgUmVjZWl2ZWQgdXBkYXRlIGZvciB1bmtub3duIHJlcXVlc3QgSUQ6ICR7aWR9YCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHBlbmRpbmdSZXF1ZXN0Lm9uVXBkYXRlKHBheWxvYWQpO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgZXJyb3IgbWVzc2FnZXMgYnkgcmVqZWN0aW5nIHRoZSBwZW5kaW5nIHJlcXVlc3RcbiAgICogQHBhcmFtIGlkIFJlcXVlc3QgSURcbiAgICogQHBhcmFtIGVycm9yIEVycm9yIG1lc3NhZ2VcbiAgICovXG4gIGhhbmRsZUVycm9yKGlkLCBlcnJvcjIpIHtcbiAgICBjb25zdCBwZW5kaW5nUmVxdWVzdCA9IHRoaXMucGVuZGluZ1JlcXVlc3RzLmdldChpZCk7XG4gICAgaWYgKCFwZW5kaW5nUmVxdWVzdCkge1xuICAgICAgY29uc29sZS53YXJuKGBSZWNlaXZlZCBlcnJvciBmb3IgdW5rbm93biByZXF1ZXN0IElEOiAke2lkfWApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjbGVhclRpbWVvdXQocGVuZGluZ1JlcXVlc3QudGltZW91dCk7XG4gICAgdGhpcy5wZW5kaW5nUmVxdWVzdHMuZGVsZXRlKGlkKTtcbiAgICBwZW5kaW5nUmVxdWVzdC5yZWplY3QobmV3IEVycm9yKGVycm9yMikpO1xuICB9XG4gIC8qKlxuICAgKiBTZW5kIGEgcmVzcG9uc2UgbWVzc2FnZVxuICAgKiBAcGFyYW0gaWQgUmVxdWVzdCBJRFxuICAgKiBAcGFyYW0gbWV0aG9kIE1ldGhvZCBuYW1lXG4gICAqIEBwYXJhbSBwYXlsb2FkIFJlc3BvbnNlIHBheWxvYWRcbiAgICovXG4gIHNlbmRSZXNwb25zZShpZCwgbWV0aG9kLCBwYXlsb2FkKSB7XG4gICAgaWYgKCF0aGlzLndzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJXZWJTb2NrZXQgaXMgbm90IGNvbm5lY3RlZFwiKTtcbiAgICB9XG4gICAgY29uc3QgcmVzcG9uc2VNZXNzYWdlID0ge1xuICAgICAgaWQsXG4gICAgICBtZXNzYWdlVHlwZTogXCJyZXNwb25zZVwiLFxuICAgICAgbWV0aG9kLFxuICAgICAgcGF5bG9hZFxuICAgIH07XG4gICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlTWVzc2FnZSkpO1xuICB9XG4gIC8qKlxuICAgKiBTZW5kIGFuIHVwZGF0ZSBtZXNzYWdlIGZvciBzdHJlYW1pbmdcbiAgICogQHBhcmFtIGlkIFJlcXVlc3QgSURcbiAgICogQHBhcmFtIG1ldGhvZCBNZXRob2QgbmFtZVxuICAgKiBAcGFyYW0gcGF5bG9hZCBVcGRhdGUgcGF5bG9hZFxuICAgKi9cbiAgc2VuZFVwZGF0ZShpZCwgbWV0aG9kLCBwYXlsb2FkKSB7XG4gICAgaWYgKCF0aGlzLndzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJXZWJTb2NrZXQgaXMgbm90IGNvbm5lY3RlZFwiKTtcbiAgICB9XG4gICAgY29uc3QgdXBkYXRlTWVzc2FnZSA9IHtcbiAgICAgIGlkLFxuICAgICAgbWVzc2FnZVR5cGU6IFwidXBkYXRlXCIsXG4gICAgICBtZXRob2QsXG4gICAgICBwYXlsb2FkXG4gICAgfTtcbiAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkodXBkYXRlTWVzc2FnZSkpO1xuICB9XG4gIC8qKlxuICAgKiBTZW5kIGFuIGVycm9yIG1lc3NhZ2VcbiAgICogQHBhcmFtIGlkIFJlcXVlc3QgSURcbiAgICogQHBhcmFtIGVycm9yTWVzc2FnZSBFcnJvciBtZXNzYWdlXG4gICAqL1xuICBzZW5kRXJyb3IoaWQsIGVycm9yTWVzc2FnZSkge1xuICAgIGlmICghdGhpcy53cykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiV2ViU29ja2V0IGlzIG5vdCBjb25uZWN0ZWRcIik7XG4gICAgfVxuICAgIGNvbnN0IGVycm9yUmVzcG9uc2UgPSB7XG4gICAgICBpZCxcbiAgICAgIG1lc3NhZ2VUeXBlOiBcImVycm9yXCIsXG4gICAgICBlcnJvcjoge1xuICAgICAgICBtZXNzYWdlOiBlcnJvck1lc3NhZ2VcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeShlcnJvclJlc3BvbnNlKSk7XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZSBkaXNjb25uZWN0aW9uIGJ5IGF0dGVtcHRpbmcgdG8gcmVjb25uZWN0XG4gICAqL1xuICBoYW5kbGVEaXNjb25uZWN0KCkge1xuICAgIGlmICh0aGlzLmlzSW50ZW50aW9uYWxDbG9zZSkge1xuICAgICAgY29uc29sZS5sb2coXG4gICAgICAgIFwiV2ViU29ja2V0IGNsb3NlZCBpbnRlbnRpb25hbGx5LCBub3QgYXR0ZW1wdGluZyB0byByZWNvbm5lY3RcIlxuICAgICAgKTtcbiAgICAgIHRoaXMuY2xlYXJQZW5kaW5nUmVxdWVzdHMobmV3IEVycm9yKFwiQ29ubmVjdGlvbiBjbG9zZWQgYnkgdXNlclwiKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLnJlY29ubmVjdEF0dGVtcHRzIDwgdGhpcy5vcHRpb25zLm1heFJlY29ubmVjdEF0dGVtcHRzKSB7XG4gICAgICB0aGlzLnJlY29ubmVjdEF0dGVtcHRzKys7XG4gICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgYEF0dGVtcHRpbmcgdG8gcmVjb25uZWN0ICgke3RoaXMucmVjb25uZWN0QXR0ZW1wdHN9LyR7dGhpcy5vcHRpb25zLm1heFJlY29ubmVjdEF0dGVtcHRzfSkuLi5gXG4gICAgICApO1xuICAgICAgc2V0VGltZW91dChcbiAgICAgICAgKCkgPT4gdGhpcy5yZWNvbm5lY3QoKSxcbiAgICAgICAgdGhpcy5vcHRpb25zLnJlY29ubmVjdERlbGF5ICogdGhpcy5yZWNvbm5lY3RBdHRlbXB0c1xuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5lcnJvcihcIk1heCByZWNvbm5lY3Rpb24gYXR0ZW1wdHMgcmVhY2hlZFwiKTtcbiAgICAgIHRoaXMuY2xlYXJQZW5kaW5nUmVxdWVzdHMobmV3IEVycm9yKFwiQ29ubmVjdGlvbiBjbG9zZWRcIikpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ2xlYXIgYWxsIHBlbmRpbmcgcmVxdWVzdHMgd2l0aCBhbiBlcnJvclxuICAgKiBAcGFyYW0gZXJyb3IgRXJyb3IgdG8gcmVqZWN0IHdpdGhcbiAgICovXG4gIGNsZWFyUGVuZGluZ1JlcXVlc3RzKGVycm9yMikge1xuICAgIHRoaXMucGVuZGluZ1JlcXVlc3RzLmZvckVhY2goKHsgcmVqZWN0IH0pID0+IHtcbiAgICAgIHJlamVjdChlcnJvcjIpO1xuICAgIH0pO1xuICAgIHRoaXMucGVuZGluZ1JlcXVlc3RzLmNsZWFyKCk7XG4gIH1cbiAgLyoqXG4gICAqIENsb3NlIHRoZSBXZWJTb2NrZXQgY29ubmVjdGlvblxuICAgKiBAcmV0dXJucyBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgY29ubmVjdGlvbiBpcyBjbG9zZWRcbiAgICovXG4gIGFzeW5jIGNsb3NlKCkge1xuICAgIHRoaXMuaXNJbnRlbnRpb25hbENsb3NlID0gdHJ1ZTtcbiAgICBpZiAodGhpcy53cykge1xuICAgICAgdGhpcy53cy5jbG9zZSgpO1xuICAgICAgdGhpcy53cyA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMuY2xlYXJQZW5kaW5nUmVxdWVzdHMobmV3IEVycm9yKFwiQ29ubmVjdGlvbiBjbG9zZWQgYnkgdXNlclwiKSk7XG4gIH1cbn07XG50eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93LldlYlNvY2tldCA6IF9fcmVxdWlyZShcIndzXCIpLldlYlNvY2tldDtcbmZ1bmN0aW9uIGNyZWF0ZUJyaWRnZUNvbnRyYWN0KGNvbnRyYWN0Mikge1xuICByZXR1cm4gY29udHJhY3QyO1xufVxuZnVuY3Rpb24gdmFsaWRhdGVXaXRoWm9kKHNjaGVtYSwgZGF0YSwgY29udGV4dCwgc2lsZW50ID0gZmFsc2UpIHtcbiAgY29uc3QgcmVzdWx0ID0gc2NoZW1hLnNhZmVQYXJzZShkYXRhKTtcbiAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgIGNvbnN0IGVycm9yMiA9IG5ldyBFcnJvcihcbiAgICAgIGBWYWxpZGF0aW9uIGZhaWxlZCBmb3IgJHtjb250ZXh0fTogJHtyZXN1bHQuZXJyb3IubWVzc2FnZX1gXG4gICAgKTtcbiAgICBpZiAoc2lsZW50KSB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yMik7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gICAgdGhyb3cgZXJyb3IyO1xuICB9XG4gIHJldHVybiByZXN1bHQuZGF0YTtcbn1cbnZhciBXZWJTb2NrZXRJbXBsMiA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cuV2ViU29ja2V0IDogX19yZXF1aXJlKFwid3NcIikuV2ViU29ja2V0O1xudmFyIFpvZFR5cGVkQnJpZGdlID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihicmlkZ2UsIGNvbnRyYWN0Mikge1xuICAgIHRoaXMuYnJpZGdlID0gYnJpZGdlO1xuICAgIHRoaXMuY29udHJhY3QgPSBjb250cmFjdDI7XG4gICAgdGhpcy5jYWxsID0gbmV3IFByb3h5KHt9LCB7XG4gICAgICBnZXQ6ICh0YXJnZXQsIHByb3ApID0+IHtcbiAgICAgICAgcmV0dXJuIChyZXF1ZXN0LCBvcHRpb25zKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuY2FsbE1ldGhvZChwcm9wLCByZXF1ZXN0LCBvcHRpb25zKTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBhc3luYyBjYWxsTWV0aG9kKG1ldGhvZCwgcmVxdWVzdCwgb3B0aW9ucykge1xuICAgIGNvbnN0IG1ldGhvZENvbnRyYWN0ID0gdGhpcy5jb250cmFjdC5jb25zdW1lc1ttZXRob2RdO1xuICAgIGlmICghbWV0aG9kQ29udHJhY3QpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTWV0aG9kICR7U3RyaW5nKG1ldGhvZCl9IG5vdCBmb3VuZCBpbiBjb250cmFjdGApO1xuICAgIH1cbiAgICBjb25zdCB2YWxpZGF0ZWRSZXF1ZXN0ID0gdmFsaWRhdGVXaXRoWm9kKFxuICAgICAgbWV0aG9kQ29udHJhY3QucmVxdWVzdCxcbiAgICAgIHJlcXVlc3QsXG4gICAgICBgcmVxdWVzdCBmb3IgbWV0aG9kICR7U3RyaW5nKG1ldGhvZCl9YFxuICAgICk7XG4gICAgY29uc3Qgb25VcGRhdGUgPSAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5vblVwZGF0ZSkgJiYgbWV0aG9kQ29udHJhY3QudXBkYXRlID8gKHVwZGF0ZSkgPT4ge1xuICAgICAgdmFyIF9hO1xuICAgICAgaWYgKCFtZXRob2RDb250cmFjdC51cGRhdGUpIHJldHVybjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRlZFVwZGF0ZSA9IHZhbGlkYXRlV2l0aFpvZChcbiAgICAgICAgICBtZXRob2RDb250cmFjdC51cGRhdGUsXG4gICAgICAgICAgdXBkYXRlLFxuICAgICAgICAgIGB1cGRhdGUgZm9yIG1ldGhvZCAke1N0cmluZyhtZXRob2QpfWAsXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICAgIC8vIHNpbGVudGx5IGxvZyB2YWxpZGF0aW9uIGVycm9yc1xuICAgICAgICApO1xuICAgICAgICAoX2EgPSBvcHRpb25zLm9uVXBkYXRlKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2FsbChvcHRpb25zLCB2YWxpZGF0ZWRVcGRhdGUpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVcGRhdGUgdmFsaWRhdGlvbiBmYWlsZWQ6XCIsIGVycm9yMik7XG4gICAgICB9XG4gICAgfSA6IHZvaWQgMDtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYnJpZGdlLmNhbGxNZXRob2QoXG4gICAgICBtZXRob2QsXG4gICAgICB2YWxpZGF0ZWRSZXF1ZXN0LFxuICAgICAgb25VcGRhdGVcbiAgICApO1xuICAgIHJldHVybiB2YWxpZGF0ZVdpdGhab2QoXG4gICAgICBtZXRob2RDb250cmFjdC5yZXNwb25zZSxcbiAgICAgIHJlc3BvbnNlLFxuICAgICAgYHJlc3BvbnNlIGZvciBtZXRob2QgJHtTdHJpbmcobWV0aG9kKX1gXG4gICAgKTtcbiAgfVxuICByZWdpc3RlcihpbXBsZW1lbnRhdGlvbnMpIHtcbiAgICBjb25zdCB3cmFwcGVkSW1wbGVtZW50YXRpb25zID0ge307XG4gICAgZm9yIChjb25zdCBbbWV0aG9kLCBpbXBsZW1lbnRhdGlvbl0gb2YgT2JqZWN0LmVudHJpZXMoaW1wbGVtZW50YXRpb25zKSkge1xuICAgICAgY29uc3QgbWV0aG9kQ29udHJhY3QgPSB0aGlzLmNvbnRyYWN0LnNlcnZlc1ttZXRob2RdO1xuICAgICAgaWYgKCFtZXRob2RDb250cmFjdCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1ldGhvZCAke21ldGhvZH0gbm90IGZvdW5kIGluIGNvbnRyYWN0YCk7XG4gICAgICB9XG4gICAgICB3cmFwcGVkSW1wbGVtZW50YXRpb25zW21ldGhvZF0gPSBhc3luYyAocmVxdWVzdCwgc2VuZFVwZGF0ZSkgPT4ge1xuICAgICAgICBjb25zdCB2YWxpZGF0ZWRSZXF1ZXN0ID0gdmFsaWRhdGVXaXRoWm9kKFxuICAgICAgICAgIG1ldGhvZENvbnRyYWN0LnJlcXVlc3QsXG4gICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICBgcmVxdWVzdCBmb3IgbWV0aG9kICR7bWV0aG9kfWBcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3Qgd3JhcHBlZFNlbmRVcGRhdGUgPSBtZXRob2RDb250cmFjdC51cGRhdGUgJiYgc2VuZFVwZGF0ZSA/ICh1cGRhdGUpID0+IHtcbiAgICAgICAgICBpZiAoIW1ldGhvZENvbnRyYWN0LnVwZGF0ZSkgcmV0dXJuO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB2YWxpZGF0ZWRVcGRhdGUgPSB2YWxpZGF0ZVdpdGhab2QoXG4gICAgICAgICAgICAgIG1ldGhvZENvbnRyYWN0LnVwZGF0ZSxcbiAgICAgICAgICAgICAgdXBkYXRlLFxuICAgICAgICAgICAgICBgdXBkYXRlIGZvciBtZXRob2QgJHttZXRob2R9YCxcbiAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgICAvLyBzaWxlbnRseSBsb2cgdmFsaWRhdGlvbiBlcnJvcnNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBzZW5kVXBkYXRlKHZhbGlkYXRlZFVwZGF0ZSk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVXBkYXRlIHZhbGlkYXRpb24gZmFpbGVkOlwiLCBlcnJvcjIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSA6IHZvaWQgMDtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBpbXBsZW1lbnRhdGlvbih2YWxpZGF0ZWRSZXF1ZXN0LCB7XG4gICAgICAgICAgc2VuZFVwZGF0ZTogd3JhcHBlZFNlbmRVcGRhdGVcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB2YWxpZGF0ZVdpdGhab2QoXG4gICAgICAgICAgbWV0aG9kQ29udHJhY3QucmVzcG9uc2UsXG4gICAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgICAgYHJlc3BvbnNlIGZvciBtZXRob2QgJHttZXRob2R9YFxuICAgICAgICApO1xuICAgICAgfTtcbiAgICB9XG4gICAgdGhpcy5icmlkZ2UucmVnaXN0ZXIod3JhcHBlZEltcGxlbWVudGF0aW9ucyk7XG4gIH1cbiAgYXN5bmMgY2xvc2UoKSB7XG4gICAgYXdhaXQgdGhpcy5icmlkZ2UuY2xvc2UoKTtcbiAgfVxufTtcbnZhciBDbGllbnRCcmlkZ2UgPSBjbGFzcyBleHRlbmRzIFdlYlNvY2tldFJwY0JyaWRnZSB7XG4gIGNvbnN0cnVjdG9yKHVybCwgb3B0aW9ucykge1xuICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgIHRoaXMucmVjb25uZWN0VGltZXIgPSBudWxsO1xuICAgIHRoaXMudXJsID0gdXJsO1xuICB9XG4gIGNhbGwobWV0aG9kLCBwYXlsb2FkLCBvblVwZGF0ZSkge1xuICAgIHJldHVybiB0aGlzLmNhbGxNZXRob2QobWV0aG9kLCBwYXlsb2FkLCBvblVwZGF0ZSk7XG4gIH1cbiAgcmVjb25uZWN0KCkge1xuICAgIGlmICh0aGlzLnJlY29ubmVjdFRpbWVyKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5yZWNvbm5lY3RUaW1lcik7XG4gICAgfVxuICAgIHRoaXMucmVjb25uZWN0VGltZXIgPSBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHRoaXMuY29ubmVjdCgpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IyKSB7XG4gICAgICAgIHRoaXMucmVjb25uZWN0KCk7XG4gICAgICB9XG4gICAgfSwgdGhpcy5vcHRpb25zLnJlY29ubmVjdERlbGF5KTtcbiAgfVxuICBjb25uZWN0KCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB3cyA9IG5ldyBXZWJTb2NrZXRJbXBsMih0aGlzLnVybCk7XG4gICAgICAgIHdzLm9ub3BlbiA9ICgpID0+IHtcbiAgICAgICAgICB0aGlzLndzID0gd3M7XG4gICAgICAgICAgdGhpcy5zZXR1cFdlYlNvY2tldEhhbmRsZXJzKHdzKTtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH07XG4gICAgICAgIHdzLm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihcIkZhaWxlZCB0byBjb25uZWN0IHRvIFdlYlNvY2tldCBzZXJ2ZXJcIikpO1xuICAgICAgICB9O1xuICAgICAgfSBjYXRjaCAoZXJyb3IyKSB7XG4gICAgICAgIHJlamVjdChlcnJvcjIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59O1xudmFyIFpvZENsaWVudCA9IGNsYXNzIGV4dGVuZHMgWm9kVHlwZWRCcmlkZ2Uge1xuICBjb25zdHJ1Y3Rvcih1cmwsIGNvbnRyYWN0Miwgb3B0aW9ucykge1xuICAgIHN1cGVyKG5ldyBDbGllbnRCcmlkZ2UodXJsLCBvcHRpb25zKSwge1xuICAgICAgc2VydmVzOiBjb250cmFjdDIuY2xpZW50IHx8IHt9LFxuICAgICAgY29uc3VtZXM6IGNvbnRyYWN0Mi5zZXJ2ZXIgfHwge31cbiAgICB9KTtcbiAgfVxuICBjb25uZWN0KCkge1xuICAgIHJldHVybiB0aGlzLmJyaWRnZS5jb25uZWN0KCk7XG4gIH1cbn07XG5mdW5jdGlvbiBjcmVhdGVTUlBDQ2xpZW50QnJpZGdlKHVybCwgY29udHJhY3QyLCBvcHRpb25zKSB7XG4gIHJldHVybiBuZXcgWm9kQ2xpZW50KHVybCwgY29udHJhY3QyLCBvcHRpb25zKTtcbn1cbnZhciB1dGlsO1xuKGZ1bmN0aW9uKHV0aWwyKSB7XG4gIHV0aWwyLmFzc2VydEVxdWFsID0gKHZhbCkgPT4gdmFsO1xuICBmdW5jdGlvbiBhc3NlcnRJcyhfYXJnKSB7XG4gIH1cbiAgdXRpbDIuYXNzZXJ0SXMgPSBhc3NlcnRJcztcbiAgZnVuY3Rpb24gYXNzZXJ0TmV2ZXIoX3gpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgfVxuICB1dGlsMi5hc3NlcnROZXZlciA9IGFzc2VydE5ldmVyO1xuICB1dGlsMi5hcnJheVRvRW51bSA9IChpdGVtcykgPT4ge1xuICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcykge1xuICAgICAgb2JqW2l0ZW1dID0gaXRlbTtcbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbiAgfTtcbiAgdXRpbDIuZ2V0VmFsaWRFbnVtVmFsdWVzID0gKG9iaikgPT4ge1xuICAgIGNvbnN0IHZhbGlkS2V5cyA9IHV0aWwyLm9iamVjdEtleXMob2JqKS5maWx0ZXIoKGsyKSA9PiB0eXBlb2Ygb2JqW29ialtrMl1dICE9PSBcIm51bWJlclwiKTtcbiAgICBjb25zdCBmaWx0ZXJlZCA9IHt9O1xuICAgIGZvciAoY29uc3QgazIgb2YgdmFsaWRLZXlzKSB7XG4gICAgICBmaWx0ZXJlZFtrMl0gPSBvYmpbazJdO1xuICAgIH1cbiAgICByZXR1cm4gdXRpbDIub2JqZWN0VmFsdWVzKGZpbHRlcmVkKTtcbiAgfTtcbiAgdXRpbDIub2JqZWN0VmFsdWVzID0gKG9iaikgPT4ge1xuICAgIHJldHVybiB1dGlsMi5vYmplY3RLZXlzKG9iaikubWFwKGZ1bmN0aW9uKGUyKSB7XG4gICAgICByZXR1cm4gb2JqW2UyXTtcbiAgICB9KTtcbiAgfTtcbiAgdXRpbDIub2JqZWN0S2V5cyA9IHR5cGVvZiBPYmplY3Qua2V5cyA9PT0gXCJmdW5jdGlvblwiID8gKG9iaikgPT4gT2JqZWN0LmtleXMob2JqKSA6IChvYmplY3QpID0+IHtcbiAgICBjb25zdCBrZXlzID0gW107XG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkge1xuICAgICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGtleXM7XG4gIH07XG4gIHV0aWwyLmZpbmQgPSAoYXJyLCBjaGVja2VyKSA9PiB7XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIGFycikge1xuICAgICAgaWYgKGNoZWNrZXIoaXRlbSkpXG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgIH1cbiAgICByZXR1cm4gdm9pZCAwO1xuICB9O1xuICB1dGlsMi5pc0ludGVnZXIgPSB0eXBlb2YgTnVtYmVyLmlzSW50ZWdlciA9PT0gXCJmdW5jdGlvblwiID8gKHZhbCkgPT4gTnVtYmVyLmlzSW50ZWdlcih2YWwpIDogKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gXCJudW1iZXJcIiAmJiBpc0Zpbml0ZSh2YWwpICYmIE1hdGguZmxvb3IodmFsKSA9PT0gdmFsO1xuICBmdW5jdGlvbiBqb2luVmFsdWVzKGFycmF5LCBzZXBhcmF0b3IgPSBcIiB8IFwiKSB7XG4gICAgcmV0dXJuIGFycmF5Lm1hcCgodmFsKSA9PiB0eXBlb2YgdmFsID09PSBcInN0cmluZ1wiID8gYCcke3ZhbH0nYCA6IHZhbCkuam9pbihzZXBhcmF0b3IpO1xuICB9XG4gIHV0aWwyLmpvaW5WYWx1ZXMgPSBqb2luVmFsdWVzO1xuICB1dGlsMi5qc29uU3RyaW5naWZ5UmVwbGFjZXIgPSAoXzIsIHZhbHVlKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJiaWdpbnRcIikge1xuICAgICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcbn0pKHV0aWwgfHwgKHV0aWwgPSB7fSkpO1xudmFyIG9iamVjdFV0aWw7XG4oZnVuY3Rpb24ob2JqZWN0VXRpbDIpIHtcbiAgb2JqZWN0VXRpbDIubWVyZ2VTaGFwZXMgPSAoZmlyc3QsIHNlY29uZCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5maXJzdCxcbiAgICAgIC4uLnNlY29uZFxuICAgICAgLy8gc2Vjb25kIG92ZXJ3cml0ZXMgZmlyc3RcbiAgICB9O1xuICB9O1xufSkob2JqZWN0VXRpbCB8fCAob2JqZWN0VXRpbCA9IHt9KSk7XG5jb25zdCBab2RQYXJzZWRUeXBlID0gdXRpbC5hcnJheVRvRW51bShbXG4gIFwic3RyaW5nXCIsXG4gIFwibmFuXCIsXG4gIFwibnVtYmVyXCIsXG4gIFwiaW50ZWdlclwiLFxuICBcImZsb2F0XCIsXG4gIFwiYm9vbGVhblwiLFxuICBcImRhdGVcIixcbiAgXCJiaWdpbnRcIixcbiAgXCJzeW1ib2xcIixcbiAgXCJmdW5jdGlvblwiLFxuICBcInVuZGVmaW5lZFwiLFxuICBcIm51bGxcIixcbiAgXCJhcnJheVwiLFxuICBcIm9iamVjdFwiLFxuICBcInVua25vd25cIixcbiAgXCJwcm9taXNlXCIsXG4gIFwidm9pZFwiLFxuICBcIm5ldmVyXCIsXG4gIFwibWFwXCIsXG4gIFwic2V0XCJcbl0pO1xuY29uc3QgZ2V0UGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gIGNvbnN0IHQyID0gdHlwZW9mIGRhdGE7XG4gIHN3aXRjaCAodDIpIHtcbiAgICBjYXNlIFwidW5kZWZpbmVkXCI6XG4gICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS51bmRlZmluZWQ7XG4gICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUuc3RyaW5nO1xuICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgIHJldHVybiBpc05hTihkYXRhKSA/IFpvZFBhcnNlZFR5cGUubmFuIDogWm9kUGFyc2VkVHlwZS5udW1iZXI7XG4gICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLmJvb2xlYW47XG4gICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5mdW5jdGlvbjtcbiAgICBjYXNlIFwiYmlnaW50XCI6XG4gICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5iaWdpbnQ7XG4gICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUuc3ltYm9sO1xuICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLmFycmF5O1xuICAgICAgfVxuICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUubnVsbDtcbiAgICAgIH1cbiAgICAgIGlmIChkYXRhLnRoZW4gJiYgdHlwZW9mIGRhdGEudGhlbiA9PT0gXCJmdW5jdGlvblwiICYmIGRhdGEuY2F0Y2ggJiYgdHlwZW9mIGRhdGEuY2F0Y2ggPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5wcm9taXNlO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBNYXAgIT09IFwidW5kZWZpbmVkXCIgJiYgZGF0YSBpbnN0YW5jZW9mIE1hcCkge1xuICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5tYXA7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIFNldCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhIGluc3RhbmNlb2YgU2V0KSB7XG4gICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLnNldDtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgRGF0ZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5kYXRlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUub2JqZWN0O1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS51bmtub3duO1xuICB9XG59O1xuY29uc3QgWm9kSXNzdWVDb2RlID0gdXRpbC5hcnJheVRvRW51bShbXG4gIFwiaW52YWxpZF90eXBlXCIsXG4gIFwiaW52YWxpZF9saXRlcmFsXCIsXG4gIFwiY3VzdG9tXCIsXG4gIFwiaW52YWxpZF91bmlvblwiLFxuICBcImludmFsaWRfdW5pb25fZGlzY3JpbWluYXRvclwiLFxuICBcImludmFsaWRfZW51bV92YWx1ZVwiLFxuICBcInVucmVjb2duaXplZF9rZXlzXCIsXG4gIFwiaW52YWxpZF9hcmd1bWVudHNcIixcbiAgXCJpbnZhbGlkX3JldHVybl90eXBlXCIsXG4gIFwiaW52YWxpZF9kYXRlXCIsXG4gIFwiaW52YWxpZF9zdHJpbmdcIixcbiAgXCJ0b29fc21hbGxcIixcbiAgXCJ0b29fYmlnXCIsXG4gIFwiaW52YWxpZF9pbnRlcnNlY3Rpb25fdHlwZXNcIixcbiAgXCJub3RfbXVsdGlwbGVfb2ZcIixcbiAgXCJub3RfZmluaXRlXCJcbl0pO1xuY29uc3QgcXVvdGVsZXNzSnNvbiA9IChvYmopID0+IHtcbiAgY29uc3QganNvbiA9IEpTT04uc3RyaW5naWZ5KG9iaiwgbnVsbCwgMik7XG4gIHJldHVybiBqc29uLnJlcGxhY2UoL1wiKFteXCJdKylcIjovZywgXCIkMTpcIik7XG59O1xuY2xhc3MgWm9kRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIGdldCBlcnJvcnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNzdWVzO1xuICB9XG4gIGNvbnN0cnVjdG9yKGlzc3Vlcykge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5pc3N1ZXMgPSBbXTtcbiAgICB0aGlzLmFkZElzc3VlID0gKHN1YikgPT4ge1xuICAgICAgdGhpcy5pc3N1ZXMgPSBbLi4udGhpcy5pc3N1ZXMsIHN1Yl07XG4gICAgfTtcbiAgICB0aGlzLmFkZElzc3VlcyA9IChzdWJzID0gW10pID0+IHtcbiAgICAgIHRoaXMuaXNzdWVzID0gWy4uLnRoaXMuaXNzdWVzLCAuLi5zdWJzXTtcbiAgICB9O1xuICAgIGNvbnN0IGFjdHVhbFByb3RvID0gbmV3LnRhcmdldC5wcm90b3R5cGU7XG4gICAgaWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikge1xuICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIGFjdHVhbFByb3RvKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fX3Byb3RvX18gPSBhY3R1YWxQcm90bztcbiAgICB9XG4gICAgdGhpcy5uYW1lID0gXCJab2RFcnJvclwiO1xuICAgIHRoaXMuaXNzdWVzID0gaXNzdWVzO1xuICB9XG4gIGZvcm1hdChfbWFwcGVyKSB7XG4gICAgY29uc3QgbWFwcGVyID0gX21hcHBlciB8fCBmdW5jdGlvbihpc3N1ZSkge1xuICAgICAgcmV0dXJuIGlzc3VlLm1lc3NhZ2U7XG4gICAgfTtcbiAgICBjb25zdCBmaWVsZEVycm9ycyA9IHsgX2Vycm9yczogW10gfTtcbiAgICBjb25zdCBwcm9jZXNzRXJyb3IgPSAoZXJyb3IyKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IGlzc3VlIG9mIGVycm9yMi5pc3N1ZXMpIHtcbiAgICAgICAgaWYgKGlzc3VlLmNvZGUgPT09IFwiaW52YWxpZF91bmlvblwiKSB7XG4gICAgICAgICAgaXNzdWUudW5pb25FcnJvcnMubWFwKHByb2Nlc3NFcnJvcik7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNzdWUuY29kZSA9PT0gXCJpbnZhbGlkX3JldHVybl90eXBlXCIpIHtcbiAgICAgICAgICBwcm9jZXNzRXJyb3IoaXNzdWUucmV0dXJuVHlwZUVycm9yKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc3N1ZS5jb2RlID09PSBcImludmFsaWRfYXJndW1lbnRzXCIpIHtcbiAgICAgICAgICBwcm9jZXNzRXJyb3IoaXNzdWUuYXJndW1lbnRzRXJyb3IpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzc3VlLnBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgZmllbGRFcnJvcnMuX2Vycm9ycy5wdXNoKG1hcHBlcihpc3N1ZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxldCBjdXJyID0gZmllbGRFcnJvcnM7XG4gICAgICAgICAgbGV0IGkyID0gMDtcbiAgICAgICAgICB3aGlsZSAoaTIgPCBpc3N1ZS5wYXRoLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgZWwgPSBpc3N1ZS5wYXRoW2kyXTtcbiAgICAgICAgICAgIGNvbnN0IHRlcm1pbmFsID0gaTIgPT09IGlzc3VlLnBhdGgubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIGlmICghdGVybWluYWwpIHtcbiAgICAgICAgICAgICAgY3VycltlbF0gPSBjdXJyW2VsXSB8fCB7IF9lcnJvcnM6IFtdIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjdXJyW2VsXSA9IGN1cnJbZWxdIHx8IHsgX2Vycm9yczogW10gfTtcbiAgICAgICAgICAgICAgY3VycltlbF0uX2Vycm9ycy5wdXNoKG1hcHBlcihpc3N1ZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VyciA9IGN1cnJbZWxdO1xuICAgICAgICAgICAgaTIrKztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIHByb2Nlc3NFcnJvcih0aGlzKTtcbiAgICByZXR1cm4gZmllbGRFcnJvcnM7XG4gIH1cbiAgc3RhdGljIGFzc2VydCh2YWx1ZSkge1xuICAgIGlmICghKHZhbHVlIGluc3RhbmNlb2YgWm9kRXJyb3IpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vdCBhIFpvZEVycm9yOiAke3ZhbHVlfWApO1xuICAgIH1cbiAgfVxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tZXNzYWdlO1xuICB9XG4gIGdldCBtZXNzYWdlKCkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLmlzc3VlcywgdXRpbC5qc29uU3RyaW5naWZ5UmVwbGFjZXIsIDIpO1xuICB9XG4gIGdldCBpc0VtcHR5KCkge1xuICAgIHJldHVybiB0aGlzLmlzc3Vlcy5sZW5ndGggPT09IDA7XG4gIH1cbiAgZmxhdHRlbihtYXBwZXIgPSAoaXNzdWUpID0+IGlzc3VlLm1lc3NhZ2UpIHtcbiAgICBjb25zdCBmaWVsZEVycm9ycyA9IHt9O1xuICAgIGNvbnN0IGZvcm1FcnJvcnMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHN1YiBvZiB0aGlzLmlzc3Vlcykge1xuICAgICAgaWYgKHN1Yi5wYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZmllbGRFcnJvcnNbc3ViLnBhdGhbMF1dID0gZmllbGRFcnJvcnNbc3ViLnBhdGhbMF1dIHx8IFtdO1xuICAgICAgICBmaWVsZEVycm9yc1tzdWIucGF0aFswXV0ucHVzaChtYXBwZXIoc3ViKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3JtRXJyb3JzLnB1c2gobWFwcGVyKHN1YikpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyBmb3JtRXJyb3JzLCBmaWVsZEVycm9ycyB9O1xuICB9XG4gIGdldCBmb3JtRXJyb3JzKCkge1xuICAgIHJldHVybiB0aGlzLmZsYXR0ZW4oKTtcbiAgfVxufVxuWm9kRXJyb3IuY3JlYXRlID0gKGlzc3VlcykgPT4ge1xuICBjb25zdCBlcnJvcjIgPSBuZXcgWm9kRXJyb3IoaXNzdWVzKTtcbiAgcmV0dXJuIGVycm9yMjtcbn07XG5jb25zdCBlcnJvck1hcCA9IChpc3N1ZSwgX2N0eCkgPT4ge1xuICBsZXQgbWVzc2FnZTtcbiAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlOlxuICAgICAgaWYgKGlzc3VlLnJlY2VpdmVkID09PSBab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCkge1xuICAgICAgICBtZXNzYWdlID0gXCJSZXF1aXJlZFwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWVzc2FnZSA9IGBFeHBlY3RlZCAke2lzc3VlLmV4cGVjdGVkfSwgcmVjZWl2ZWQgJHtpc3N1ZS5yZWNlaXZlZH1gO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF9saXRlcmFsOlxuICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGxpdGVyYWwgdmFsdWUsIGV4cGVjdGVkICR7SlNPTi5zdHJpbmdpZnkoaXNzdWUuZXhwZWN0ZWQsIHV0aWwuanNvblN0cmluZ2lmeVJlcGxhY2VyKX1gO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBab2RJc3N1ZUNvZGUudW5yZWNvZ25pemVkX2tleXM6XG4gICAgICBtZXNzYWdlID0gYFVucmVjb2duaXplZCBrZXkocykgaW4gb2JqZWN0OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX3VuaW9uOlxuICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGlucHV0YDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgWm9kSXNzdWVDb2RlLmludmFsaWRfdW5pb25fZGlzY3JpbWluYXRvcjpcbiAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBkaXNjcmltaW5hdG9yIHZhbHVlLiBFeHBlY3RlZCAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5vcHRpb25zKX1gO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF9lbnVtX3ZhbHVlOlxuICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGVudW0gdmFsdWUuIEV4cGVjdGVkICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLm9wdGlvbnMpfSwgcmVjZWl2ZWQgJyR7aXNzdWUucmVjZWl2ZWR9J2A7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX2FyZ3VtZW50czpcbiAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBmdW5jdGlvbiBhcmd1bWVudHNgO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF9yZXR1cm5fdHlwZTpcbiAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBmdW5jdGlvbiByZXR1cm4gdHlwZWA7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX2RhdGU6XG4gICAgICBtZXNzYWdlID0gYEludmFsaWQgZGF0ZWA7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZzpcbiAgICAgIGlmICh0eXBlb2YgaXNzdWUudmFsaWRhdGlvbiA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBpZiAoXCJpbmNsdWRlc1wiIGluIGlzc3VlLnZhbGlkYXRpb24pIHtcbiAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgaW5wdXQ6IG11c3QgaW5jbHVkZSBcIiR7aXNzdWUudmFsaWRhdGlvbi5pbmNsdWRlc31cImA7XG4gICAgICAgICAgaWYgKHR5cGVvZiBpc3N1ZS52YWxpZGF0aW9uLnBvc2l0aW9uID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICBtZXNzYWdlID0gYCR7bWVzc2FnZX0gYXQgb25lIG9yIG1vcmUgcG9zaXRpb25zIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byAke2lzc3VlLnZhbGlkYXRpb24ucG9zaXRpb259YDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoXCJzdGFydHNXaXRoXCIgaW4gaXNzdWUudmFsaWRhdGlvbikge1xuICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBpbnB1dDogbXVzdCBzdGFydCB3aXRoIFwiJHtpc3N1ZS52YWxpZGF0aW9uLnN0YXJ0c1dpdGh9XCJgO1xuICAgICAgICB9IGVsc2UgaWYgKFwiZW5kc1dpdGhcIiBpbiBpc3N1ZS52YWxpZGF0aW9uKSB7XG4gICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGlucHV0OiBtdXN0IGVuZCB3aXRoIFwiJHtpc3N1ZS52YWxpZGF0aW9uLmVuZHNXaXRofVwiYDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1dGlsLmFzc2VydE5ldmVyKGlzc3VlLnZhbGlkYXRpb24pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGlzc3VlLnZhbGlkYXRpb24gIT09IFwicmVnZXhcIikge1xuICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgJHtpc3N1ZS52YWxpZGF0aW9ufWA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtZXNzYWdlID0gXCJJbnZhbGlkXCI7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIFpvZElzc3VlQ29kZS50b29fc21hbGw6XG4gICAgICBpZiAoaXNzdWUudHlwZSA9PT0gXCJhcnJheVwiKVxuICAgICAgICBtZXNzYWdlID0gYEFycmF5IG11c3QgY29udGFpbiAke2lzc3VlLmV4YWN0ID8gXCJleGFjdGx5XCIgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgYXQgbGVhc3RgIDogYG1vcmUgdGhhbmB9ICR7aXNzdWUubWluaW11bX0gZWxlbWVudChzKWA7XG4gICAgICBlbHNlIGlmIChpc3N1ZS50eXBlID09PSBcInN0cmluZ1wiKVxuICAgICAgICBtZXNzYWdlID0gYFN0cmluZyBtdXN0IGNvbnRhaW4gJHtpc3N1ZS5leGFjdCA/IFwiZXhhY3RseVwiIDogaXNzdWUuaW5jbHVzaXZlID8gYGF0IGxlYXN0YCA6IGBvdmVyYH0gJHtpc3N1ZS5taW5pbXVtfSBjaGFyYWN0ZXIocylgO1xuICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgbWVzc2FnZSA9IGBOdW1iZXIgbXVzdCBiZSAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHkgZXF1YWwgdG8gYCA6IGlzc3VlLmluY2x1c2l2ZSA/IGBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gYCA6IGBncmVhdGVyIHRoYW4gYH0ke2lzc3VlLm1pbmltdW19YDtcbiAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwiZGF0ZVwiKVxuICAgICAgICBtZXNzYWdlID0gYERhdGUgbXVzdCBiZSAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHkgZXF1YWwgdG8gYCA6IGlzc3VlLmluY2x1c2l2ZSA/IGBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gYCA6IGBncmVhdGVyIHRoYW4gYH0ke25ldyBEYXRlKE51bWJlcihpc3N1ZS5taW5pbXVtKSl9YDtcbiAgICAgIGVsc2VcbiAgICAgICAgbWVzc2FnZSA9IFwiSW52YWxpZCBpbnB1dFwiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBab2RJc3N1ZUNvZGUudG9vX2JpZzpcbiAgICAgIGlmIChpc3N1ZS50eXBlID09PSBcImFycmF5XCIpXG4gICAgICAgIG1lc3NhZ2UgPSBgQXJyYXkgbXVzdCBjb250YWluICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseWAgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgYXQgbW9zdGAgOiBgbGVzcyB0aGFuYH0gJHtpc3N1ZS5tYXhpbXVtfSBlbGVtZW50KHMpYDtcbiAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwic3RyaW5nXCIpXG4gICAgICAgIG1lc3NhZ2UgPSBgU3RyaW5nIG11c3QgY29udGFpbiAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHlgIDogaXNzdWUuaW5jbHVzaXZlID8gYGF0IG1vc3RgIDogYHVuZGVyYH0gJHtpc3N1ZS5tYXhpbXVtfSBjaGFyYWN0ZXIocylgO1xuICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgbWVzc2FnZSA9IGBOdW1iZXIgbXVzdCBiZSAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHlgIDogaXNzdWUuaW5jbHVzaXZlID8gYGxlc3MgdGhhbiBvciBlcXVhbCB0b2AgOiBgbGVzcyB0aGFuYH0gJHtpc3N1ZS5tYXhpbXVtfWA7XG4gICAgICBlbHNlIGlmIChpc3N1ZS50eXBlID09PSBcImJpZ2ludFwiKVxuICAgICAgICBtZXNzYWdlID0gYEJpZ0ludCBtdXN0IGJlICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseWAgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgbGVzcyB0aGFuIG9yIGVxdWFsIHRvYCA6IGBsZXNzIHRoYW5gfSAke2lzc3VlLm1heGltdW19YDtcbiAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwiZGF0ZVwiKVxuICAgICAgICBtZXNzYWdlID0gYERhdGUgbXVzdCBiZSAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHlgIDogaXNzdWUuaW5jbHVzaXZlID8gYHNtYWxsZXIgdGhhbiBvciBlcXVhbCB0b2AgOiBgc21hbGxlciB0aGFuYH0gJHtuZXcgRGF0ZShOdW1iZXIoaXNzdWUubWF4aW11bSkpfWA7XG4gICAgICBlbHNlXG4gICAgICAgIG1lc3NhZ2UgPSBcIkludmFsaWQgaW5wdXRcIjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgWm9kSXNzdWVDb2RlLmN1c3RvbTpcbiAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBpbnB1dGA7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX2ludGVyc2VjdGlvbl90eXBlczpcbiAgICAgIG1lc3NhZ2UgPSBgSW50ZXJzZWN0aW9uIHJlc3VsdHMgY291bGQgbm90IGJlIG1lcmdlZGA7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFpvZElzc3VlQ29kZS5ub3RfbXVsdGlwbGVfb2Y6XG4gICAgICBtZXNzYWdlID0gYE51bWJlciBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgJHtpc3N1ZS5tdWx0aXBsZU9mfWA7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFpvZElzc3VlQ29kZS5ub3RfZmluaXRlOlxuICAgICAgbWVzc2FnZSA9IFwiTnVtYmVyIG11c3QgYmUgZmluaXRlXCI7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgbWVzc2FnZSA9IF9jdHguZGVmYXVsdEVycm9yO1xuICAgICAgdXRpbC5hc3NlcnROZXZlcihpc3N1ZSk7XG4gIH1cbiAgcmV0dXJuIHsgbWVzc2FnZSB9O1xufTtcbmxldCBvdmVycmlkZUVycm9yTWFwID0gZXJyb3JNYXA7XG5mdW5jdGlvbiBzZXRFcnJvck1hcChtYXApIHtcbiAgb3ZlcnJpZGVFcnJvck1hcCA9IG1hcDtcbn1cbmZ1bmN0aW9uIGdldEVycm9yTWFwKCkge1xuICByZXR1cm4gb3ZlcnJpZGVFcnJvck1hcDtcbn1cbmNvbnN0IG1ha2VJc3N1ZSA9IChwYXJhbXMpID0+IHtcbiAgY29uc3QgeyBkYXRhLCBwYXRoLCBlcnJvck1hcHMsIGlzc3VlRGF0YSB9ID0gcGFyYW1zO1xuICBjb25zdCBmdWxsUGF0aCA9IFsuLi5wYXRoLCAuLi5pc3N1ZURhdGEucGF0aCB8fCBbXV07XG4gIGNvbnN0IGZ1bGxJc3N1ZSA9IHtcbiAgICAuLi5pc3N1ZURhdGEsXG4gICAgcGF0aDogZnVsbFBhdGhcbiAgfTtcbiAgaWYgKGlzc3VlRGF0YS5tZXNzYWdlICE9PSB2b2lkIDApIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uaXNzdWVEYXRhLFxuICAgICAgcGF0aDogZnVsbFBhdGgsXG4gICAgICBtZXNzYWdlOiBpc3N1ZURhdGEubWVzc2FnZVxuICAgIH07XG4gIH1cbiAgbGV0IGVycm9yTWVzc2FnZSA9IFwiXCI7XG4gIGNvbnN0IG1hcHMgPSBlcnJvck1hcHMuZmlsdGVyKChtMikgPT4gISFtMikuc2xpY2UoKS5yZXZlcnNlKCk7XG4gIGZvciAoY29uc3QgbWFwIG9mIG1hcHMpIHtcbiAgICBlcnJvck1lc3NhZ2UgPSBtYXAoZnVsbElzc3VlLCB7IGRhdGEsIGRlZmF1bHRFcnJvcjogZXJyb3JNZXNzYWdlIH0pLm1lc3NhZ2U7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICAuLi5pc3N1ZURhdGEsXG4gICAgcGF0aDogZnVsbFBhdGgsXG4gICAgbWVzc2FnZTogZXJyb3JNZXNzYWdlXG4gIH07XG59O1xuY29uc3QgRU1QVFlfUEFUSCA9IFtdO1xuZnVuY3Rpb24gYWRkSXNzdWVUb0NvbnRleHQoY3R4LCBpc3N1ZURhdGEpIHtcbiAgY29uc3Qgb3ZlcnJpZGVNYXAgPSBnZXRFcnJvck1hcCgpO1xuICBjb25zdCBpc3N1ZSA9IG1ha2VJc3N1ZSh7XG4gICAgaXNzdWVEYXRhLFxuICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgIGVycm9yTWFwczogW1xuICAgICAgY3R4LmNvbW1vbi5jb250ZXh0dWFsRXJyb3JNYXAsXG4gICAgICAvLyBjb250ZXh0dWFsIGVycm9yIG1hcCBpcyBmaXJzdCBwcmlvcml0eVxuICAgICAgY3R4LnNjaGVtYUVycm9yTWFwLFxuICAgICAgLy8gdGhlbiBzY2hlbWEtYm91bmQgbWFwIGlmIGF2YWlsYWJsZVxuICAgICAgb3ZlcnJpZGVNYXAsXG4gICAgICAvLyB0aGVuIGdsb2JhbCBvdmVycmlkZSBtYXBcbiAgICAgIG92ZXJyaWRlTWFwID09PSBlcnJvck1hcCA/IHZvaWQgMCA6IGVycm9yTWFwXG4gICAgICAvLyB0aGVuIGdsb2JhbCBkZWZhdWx0IG1hcFxuICAgIF0uZmlsdGVyKCh4MikgPT4gISF4MilcbiAgfSk7XG4gIGN0eC5jb21tb24uaXNzdWVzLnB1c2goaXNzdWUpO1xufVxuY2xhc3MgUGFyc2VTdGF0dXMge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnZhbHVlID0gXCJ2YWxpZFwiO1xuICB9XG4gIGRpcnR5KCkge1xuICAgIGlmICh0aGlzLnZhbHVlID09PSBcInZhbGlkXCIpXG4gICAgICB0aGlzLnZhbHVlID0gXCJkaXJ0eVwiO1xuICB9XG4gIGFib3J0KCkge1xuICAgIGlmICh0aGlzLnZhbHVlICE9PSBcImFib3J0ZWRcIilcbiAgICAgIHRoaXMudmFsdWUgPSBcImFib3J0ZWRcIjtcbiAgfVxuICBzdGF0aWMgbWVyZ2VBcnJheShzdGF0dXMsIHJlc3VsdHMpIHtcbiAgICBjb25zdCBhcnJheVZhbHVlID0gW107XG4gICAgZm9yIChjb25zdCBzMiBvZiByZXN1bHRzKSB7XG4gICAgICBpZiAoczIuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICBpZiAoczIuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgYXJyYXlWYWx1ZS5wdXNoKHMyLnZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBhcnJheVZhbHVlIH07XG4gIH1cbiAgc3RhdGljIGFzeW5jIG1lcmdlT2JqZWN0QXN5bmMoc3RhdHVzLCBwYWlycykge1xuICAgIGNvbnN0IHN5bmNQYWlycyA9IFtdO1xuICAgIGZvciAoY29uc3QgcGFpciBvZiBwYWlycykge1xuICAgICAgY29uc3Qga2V5ID0gYXdhaXQgcGFpci5rZXk7XG4gICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IHBhaXIudmFsdWU7XG4gICAgICBzeW5jUGFpcnMucHVzaCh7XG4gICAgICAgIGtleSxcbiAgICAgICAgdmFsdWVcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VPYmplY3RTeW5jKHN0YXR1cywgc3luY1BhaXJzKTtcbiAgfVxuICBzdGF0aWMgbWVyZ2VPYmplY3RTeW5jKHN0YXR1cywgcGFpcnMpIHtcbiAgICBjb25zdCBmaW5hbE9iamVjdCA9IHt9O1xuICAgIGZvciAoY29uc3QgcGFpciBvZiBwYWlycykge1xuICAgICAgY29uc3QgeyBrZXksIHZhbHVlIH0gPSBwYWlyO1xuICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgIGlmICh2YWx1ZS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgIGlmIChrZXkuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgaWYgKHZhbHVlLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgIGlmIChrZXkudmFsdWUgIT09IFwiX19wcm90b19fXCIgJiYgKHR5cGVvZiB2YWx1ZS52YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIiB8fCBwYWlyLmFsd2F5c1NldCkpIHtcbiAgICAgICAgZmluYWxPYmplY3Rba2V5LnZhbHVlXSA9IHZhbHVlLnZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGZpbmFsT2JqZWN0IH07XG4gIH1cbn1cbmNvbnN0IElOVkFMSUQgPSBPYmplY3QuZnJlZXplKHtcbiAgc3RhdHVzOiBcImFib3J0ZWRcIlxufSk7XG5jb25zdCBESVJUWSA9ICh2YWx1ZSkgPT4gKHsgc3RhdHVzOiBcImRpcnR5XCIsIHZhbHVlIH0pO1xuY29uc3QgT0sgPSAodmFsdWUpID0+ICh7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZSB9KTtcbmNvbnN0IGlzQWJvcnRlZCA9ICh4MikgPT4geDIuc3RhdHVzID09PSBcImFib3J0ZWRcIjtcbmNvbnN0IGlzRGlydHkgPSAoeDIpID0+IHgyLnN0YXR1cyA9PT0gXCJkaXJ0eVwiO1xuY29uc3QgaXNWYWxpZCA9ICh4MikgPT4geDIuc3RhdHVzID09PSBcInZhbGlkXCI7XG5jb25zdCBpc0FzeW5jID0gKHgyKSA9PiB0eXBlb2YgUHJvbWlzZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiB4MiBpbnN0YW5jZW9mIFByb21pc2U7XG5mdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZjIpIHtcbiAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8IHRydWUgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgcmV0dXJuIHN0YXRlLmdldChyZWNlaXZlcik7XG59XG5mdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBzdGF0ZSwgdmFsdWUsIGtpbmQsIGYyKSB7XG4gIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCB0cnVlIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgcmV0dXJuIHN0YXRlLnNldChyZWNlaXZlciwgdmFsdWUpLCB2YWx1ZTtcbn1cbnR5cGVvZiBTdXBwcmVzc2VkRXJyb3IgPT09IFwiZnVuY3Rpb25cIiA/IFN1cHByZXNzZWRFcnJvciA6IGZ1bmN0aW9uKGVycm9yMiwgc3VwcHJlc3NlZCwgbWVzc2FnZSkge1xuICB2YXIgZTIgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG4gIHJldHVybiBlMi5uYW1lID0gXCJTdXBwcmVzc2VkRXJyb3JcIiwgZTIuZXJyb3IgPSBlcnJvcjIsIGUyLnN1cHByZXNzZWQgPSBzdXBwcmVzc2VkLCBlMjtcbn07XG52YXIgZXJyb3JVdGlsO1xuKGZ1bmN0aW9uKGVycm9yVXRpbDIpIHtcbiAgZXJyb3JVdGlsMi5lcnJUb09iaiA9IChtZXNzYWdlKSA9PiB0eXBlb2YgbWVzc2FnZSA9PT0gXCJzdHJpbmdcIiA/IHsgbWVzc2FnZSB9IDogbWVzc2FnZSB8fCB7fTtcbiAgZXJyb3JVdGlsMi50b1N0cmluZyA9IChtZXNzYWdlKSA9PiB0eXBlb2YgbWVzc2FnZSA9PT0gXCJzdHJpbmdcIiA/IG1lc3NhZ2UgOiBtZXNzYWdlID09PSBudWxsIHx8IG1lc3NhZ2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1lc3NhZ2UubWVzc2FnZTtcbn0pKGVycm9yVXRpbCB8fCAoZXJyb3JVdGlsID0ge30pKTtcbnZhciBfWm9kRW51bV9jYWNoZSwgX1pvZE5hdGl2ZUVudW1fY2FjaGU7XG5jbGFzcyBQYXJzZUlucHV0TGF6eVBhdGgge1xuICBjb25zdHJ1Y3RvcihwYXJlbnQsIHZhbHVlLCBwYXRoLCBrZXkpIHtcbiAgICB0aGlzLl9jYWNoZWRQYXRoID0gW107XG4gICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgdGhpcy5kYXRhID0gdmFsdWU7XG4gICAgdGhpcy5fcGF0aCA9IHBhdGg7XG4gICAgdGhpcy5fa2V5ID0ga2V5O1xuICB9XG4gIGdldCBwYXRoKCkge1xuICAgIGlmICghdGhpcy5fY2FjaGVkUGF0aC5sZW5ndGgpIHtcbiAgICAgIGlmICh0aGlzLl9rZXkgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICB0aGlzLl9jYWNoZWRQYXRoLnB1c2goLi4udGhpcy5fcGF0aCwgLi4udGhpcy5fa2V5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2NhY2hlZFBhdGgucHVzaCguLi50aGlzLl9wYXRoLCB0aGlzLl9rZXkpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fY2FjaGVkUGF0aDtcbiAgfVxufVxuY29uc3QgaGFuZGxlUmVzdWx0ID0gKGN0eCwgcmVzdWx0KSA9PiB7XG4gIGlmIChpc1ZhbGlkKHJlc3VsdCkpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiByZXN1bHQudmFsdWUgfTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoIWN0eC5jb21tb24uaXNzdWVzLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVmFsaWRhdGlvbiBmYWlsZWQgYnV0IG5vIGlzc3VlcyBkZXRlY3RlZC5cIik7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIGdldCBlcnJvcigpIHtcbiAgICAgICAgaWYgKHRoaXMuX2Vycm9yKVxuICAgICAgICAgIHJldHVybiB0aGlzLl9lcnJvcjtcbiAgICAgICAgY29uc3QgZXJyb3IyID0gbmV3IFpvZEVycm9yKGN0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgdGhpcy5fZXJyb3IgPSBlcnJvcjI7XG4gICAgICAgIHJldHVybiB0aGlzLl9lcnJvcjtcbiAgICAgIH1cbiAgICB9O1xuICB9XG59O1xuZnVuY3Rpb24gcHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpIHtcbiAgaWYgKCFwYXJhbXMpXG4gICAgcmV0dXJuIHt9O1xuICBjb25zdCB7IGVycm9yTWFwOiBlcnJvck1hcDIsIGludmFsaWRfdHlwZV9lcnJvciwgcmVxdWlyZWRfZXJyb3IsIGRlc2NyaXB0aW9uIH0gPSBwYXJhbXM7XG4gIGlmIChlcnJvck1hcDIgJiYgKGludmFsaWRfdHlwZV9lcnJvciB8fCByZXF1aXJlZF9lcnJvcikpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYENhbid0IHVzZSBcImludmFsaWRfdHlwZV9lcnJvclwiIG9yIFwicmVxdWlyZWRfZXJyb3JcIiBpbiBjb25qdW5jdGlvbiB3aXRoIGN1c3RvbSBlcnJvciBtYXAuYCk7XG4gIH1cbiAgaWYgKGVycm9yTWFwMilcbiAgICByZXR1cm4geyBlcnJvck1hcDogZXJyb3JNYXAyLCBkZXNjcmlwdGlvbiB9O1xuICBjb25zdCBjdXN0b21NYXAgPSAoaXNzLCBjdHgpID0+IHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGNvbnN0IHsgbWVzc2FnZSB9ID0gcGFyYW1zO1xuICAgIGlmIChpc3MuY29kZSA9PT0gXCJpbnZhbGlkX2VudW1fdmFsdWVcIikge1xuICAgICAgcmV0dXJuIHsgbWVzc2FnZTogbWVzc2FnZSAhPT0gbnVsbCAmJiBtZXNzYWdlICE9PSB2b2lkIDAgPyBtZXNzYWdlIDogY3R4LmRlZmF1bHRFcnJvciB9O1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGN0eC5kYXRhID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICByZXR1cm4geyBtZXNzYWdlOiAoX2EgPSBtZXNzYWdlICE9PSBudWxsICYmIG1lc3NhZ2UgIT09IHZvaWQgMCA/IG1lc3NhZ2UgOiByZXF1aXJlZF9lcnJvcikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogY3R4LmRlZmF1bHRFcnJvciB9O1xuICAgIH1cbiAgICBpZiAoaXNzLmNvZGUgIT09IFwiaW52YWxpZF90eXBlXCIpXG4gICAgICByZXR1cm4geyBtZXNzYWdlOiBjdHguZGVmYXVsdEVycm9yIH07XG4gICAgcmV0dXJuIHsgbWVzc2FnZTogKF9iID0gbWVzc2FnZSAhPT0gbnVsbCAmJiBtZXNzYWdlICE9PSB2b2lkIDAgPyBtZXNzYWdlIDogaW52YWxpZF90eXBlX2Vycm9yKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBjdHguZGVmYXVsdEVycm9yIH07XG4gIH07XG4gIHJldHVybiB7IGVycm9yTWFwOiBjdXN0b21NYXAsIGRlc2NyaXB0aW9uIH07XG59XG5jbGFzcyBab2RUeXBlIHtcbiAgZ2V0IGRlc2NyaXB0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl9kZWYuZGVzY3JpcHRpb247XG4gIH1cbiAgX2dldFR5cGUoaW5wdXQpIHtcbiAgICByZXR1cm4gZ2V0UGFyc2VkVHlwZShpbnB1dC5kYXRhKTtcbiAgfVxuICBfZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCkge1xuICAgIHJldHVybiBjdHggfHwge1xuICAgICAgY29tbW9uOiBpbnB1dC5wYXJlbnQuY29tbW9uLFxuICAgICAgZGF0YTogaW5wdXQuZGF0YSxcbiAgICAgIHBhcnNlZFR5cGU6IGdldFBhcnNlZFR5cGUoaW5wdXQuZGF0YSksXG4gICAgICBzY2hlbWFFcnJvck1hcDogdGhpcy5fZGVmLmVycm9yTWFwLFxuICAgICAgcGF0aDogaW5wdXQucGF0aCxcbiAgICAgIHBhcmVudDogaW5wdXQucGFyZW50XG4gICAgfTtcbiAgfVxuICBfcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXR1czogbmV3IFBhcnNlU3RhdHVzKCksXG4gICAgICBjdHg6IHtcbiAgICAgICAgY29tbW9uOiBpbnB1dC5wYXJlbnQuY29tbW9uLFxuICAgICAgICBkYXRhOiBpbnB1dC5kYXRhLFxuICAgICAgICBwYXJzZWRUeXBlOiBnZXRQYXJzZWRUeXBlKGlucHV0LmRhdGEpLFxuICAgICAgICBzY2hlbWFFcnJvck1hcDogdGhpcy5fZGVmLmVycm9yTWFwLFxuICAgICAgICBwYXRoOiBpbnB1dC5wYXRoLFxuICAgICAgICBwYXJlbnQ6IGlucHV0LnBhcmVudFxuICAgICAgfVxuICAgIH07XG4gIH1cbiAgX3BhcnNlU3luYyhpbnB1dCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX3BhcnNlKGlucHV0KTtcbiAgICBpZiAoaXNBc3luYyhyZXN1bHQpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTeW5jaHJvbm91cyBwYXJzZSBlbmNvdW50ZXJlZCBwcm9taXNlLlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBfcGFyc2VBc3luYyhpbnB1dCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX3BhcnNlKGlucHV0KTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCk7XG4gIH1cbiAgcGFyc2UoZGF0YSwgcGFyYW1zKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5zYWZlUGFyc2UoZGF0YSwgcGFyYW1zKTtcbiAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpXG4gICAgICByZXR1cm4gcmVzdWx0LmRhdGE7XG4gICAgdGhyb3cgcmVzdWx0LmVycm9yO1xuICB9XG4gIHNhZmVQYXJzZShkYXRhLCBwYXJhbXMpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgY3R4ID0ge1xuICAgICAgY29tbW9uOiB7XG4gICAgICAgIGlzc3VlczogW10sXG4gICAgICAgIGFzeW5jOiAoX2EgPSBwYXJhbXMgPT09IG51bGwgfHwgcGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJhbXMuYXN5bmMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGZhbHNlLFxuICAgICAgICBjb250ZXh0dWFsRXJyb3JNYXA6IHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5lcnJvck1hcFxuICAgICAgfSxcbiAgICAgIHBhdGg6IChwYXJhbXMgPT09IG51bGwgfHwgcGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJhbXMucGF0aCkgfHwgW10sXG4gICAgICBzY2hlbWFFcnJvck1hcDogdGhpcy5fZGVmLmVycm9yTWFwLFxuICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgZGF0YSxcbiAgICAgIHBhcnNlZFR5cGU6IGdldFBhcnNlZFR5cGUoZGF0YSlcbiAgICB9O1xuICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX3BhcnNlU3luYyh7IGRhdGEsIHBhdGg6IGN0eC5wYXRoLCBwYXJlbnQ6IGN0eCB9KTtcbiAgICByZXR1cm4gaGFuZGxlUmVzdWx0KGN0eCwgcmVzdWx0KTtcbiAgfVxuICBcIn52YWxpZGF0ZVwiKGRhdGEpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGNvbnN0IGN0eCA9IHtcbiAgICAgIGNvbW1vbjoge1xuICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICBhc3luYzogISF0aGlzW1wifnN0YW5kYXJkXCJdLmFzeW5jXG4gICAgICB9LFxuICAgICAgcGF0aDogW10sXG4gICAgICBzY2hlbWFFcnJvck1hcDogdGhpcy5fZGVmLmVycm9yTWFwLFxuICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgZGF0YSxcbiAgICAgIHBhcnNlZFR5cGU6IGdldFBhcnNlZFR5cGUoZGF0YSlcbiAgICB9O1xuICAgIGlmICghdGhpc1tcIn5zdGFuZGFyZFwiXS5hc3luYykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fcGFyc2VTeW5jKHsgZGF0YSwgcGF0aDogW10sIHBhcmVudDogY3R4IH0pO1xuICAgICAgICByZXR1cm4gaXNWYWxpZChyZXN1bHQpID8ge1xuICAgICAgICAgIHZhbHVlOiByZXN1bHQudmFsdWVcbiAgICAgICAgfSA6IHtcbiAgICAgICAgICBpc3N1ZXM6IGN0eC5jb21tb24uaXNzdWVzXG4gICAgICAgIH07XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgaWYgKChfYiA9IChfYSA9IGVyciA9PT0gbnVsbCB8fCBlcnIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVyci5tZXNzYWdlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudG9Mb3dlckNhc2UoKSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmluY2x1ZGVzKFwiZW5jb3VudGVyZWRcIikpIHtcbiAgICAgICAgICB0aGlzW1wifnN0YW5kYXJkXCJdLmFzeW5jID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjdHguY29tbW9uID0ge1xuICAgICAgICAgIGlzc3VlczogW10sXG4gICAgICAgICAgYXN5bmM6IHRydWVcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3BhcnNlQXN5bmMoeyBkYXRhLCBwYXRoOiBbXSwgcGFyZW50OiBjdHggfSkudGhlbigocmVzdWx0KSA9PiBpc1ZhbGlkKHJlc3VsdCkgPyB7XG4gICAgICB2YWx1ZTogcmVzdWx0LnZhbHVlXG4gICAgfSA6IHtcbiAgICAgIGlzc3VlczogY3R4LmNvbW1vbi5pc3N1ZXNcbiAgICB9KTtcbiAgfVxuICBhc3luYyBwYXJzZUFzeW5jKGRhdGEsIHBhcmFtcykge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuc2FmZVBhcnNlQXN5bmMoZGF0YSwgcGFyYW1zKTtcbiAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpXG4gICAgICByZXR1cm4gcmVzdWx0LmRhdGE7XG4gICAgdGhyb3cgcmVzdWx0LmVycm9yO1xuICB9XG4gIGFzeW5jIHNhZmVQYXJzZUFzeW5jKGRhdGEsIHBhcmFtcykge1xuICAgIGNvbnN0IGN0eCA9IHtcbiAgICAgIGNvbW1vbjoge1xuICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICBjb250ZXh0dWFsRXJyb3JNYXA6IHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5lcnJvck1hcCxcbiAgICAgICAgYXN5bmM6IHRydWVcbiAgICAgIH0sXG4gICAgICBwYXRoOiAocGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLnBhdGgpIHx8IFtdLFxuICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgIGRhdGEsXG4gICAgICBwYXJzZWRUeXBlOiBnZXRQYXJzZWRUeXBlKGRhdGEpXG4gICAgfTtcbiAgICBjb25zdCBtYXliZUFzeW5jUmVzdWx0ID0gdGhpcy5fcGFyc2UoeyBkYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSk7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgKGlzQXN5bmMobWF5YmVBc3luY1Jlc3VsdCkgPyBtYXliZUFzeW5jUmVzdWx0IDogUHJvbWlzZS5yZXNvbHZlKG1heWJlQXN5bmNSZXN1bHQpKTtcbiAgICByZXR1cm4gaGFuZGxlUmVzdWx0KGN0eCwgcmVzdWx0KTtcbiAgfVxuICByZWZpbmUoY2hlY2ssIG1lc3NhZ2UpIHtcbiAgICBjb25zdCBnZXRJc3N1ZVByb3BlcnRpZXMgPSAodmFsKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIG1lc3NhZ2UgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgcmV0dXJuIHsgbWVzc2FnZSB9O1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBtZXNzYWdlKHZhbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiB0aGlzLl9yZWZpbmVtZW50KCh2YWwsIGN0eCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gY2hlY2sodmFsKTtcbiAgICAgIGNvbnN0IHNldEVycm9yID0gKCkgPT4gY3R4LmFkZElzc3VlKHtcbiAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmN1c3RvbSxcbiAgICAgICAgLi4uZ2V0SXNzdWVQcm9wZXJ0aWVzKHZhbClcbiAgICAgIH0pO1xuICAgICAgaWYgKHR5cGVvZiBQcm9taXNlICE9PSBcInVuZGVmaW5lZFwiICYmIHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICBzZXRFcnJvcigpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgc2V0RXJyb3IoKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgcmVmaW5lbWVudChjaGVjaywgcmVmaW5lbWVudERhdGEpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVmaW5lbWVudCgodmFsLCBjdHgpID0+IHtcbiAgICAgIGlmICghY2hlY2sodmFsKSkge1xuICAgICAgICBjdHguYWRkSXNzdWUodHlwZW9mIHJlZmluZW1lbnREYXRhID09PSBcImZ1bmN0aW9uXCIgPyByZWZpbmVtZW50RGF0YSh2YWwsIGN0eCkgOiByZWZpbmVtZW50RGF0YSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIF9yZWZpbmVtZW50KHJlZmluZW1lbnQpIHtcbiAgICByZXR1cm4gbmV3IFpvZEVmZmVjdHMoe1xuICAgICAgc2NoZW1hOiB0aGlzLFxuICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFZmZlY3RzLFxuICAgICAgZWZmZWN0OiB7IHR5cGU6IFwicmVmaW5lbWVudFwiLCByZWZpbmVtZW50IH1cbiAgICB9KTtcbiAgfVxuICBzdXBlclJlZmluZShyZWZpbmVtZW50KSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlZmluZW1lbnQocmVmaW5lbWVudCk7XG4gIH1cbiAgY29uc3RydWN0b3IoZGVmKSB7XG4gICAgdGhpcy5zcGEgPSB0aGlzLnNhZmVQYXJzZUFzeW5jO1xuICAgIHRoaXMuX2RlZiA9IGRlZjtcbiAgICB0aGlzLnBhcnNlID0gdGhpcy5wYXJzZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc2FmZVBhcnNlID0gdGhpcy5zYWZlUGFyc2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLnBhcnNlQXN5bmMgPSB0aGlzLnBhcnNlQXN5bmMuYmluZCh0aGlzKTtcbiAgICB0aGlzLnNhZmVQYXJzZUFzeW5jID0gdGhpcy5zYWZlUGFyc2VBc3luYy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc3BhID0gdGhpcy5zcGEuYmluZCh0aGlzKTtcbiAgICB0aGlzLnJlZmluZSA9IHRoaXMucmVmaW5lLmJpbmQodGhpcyk7XG4gICAgdGhpcy5yZWZpbmVtZW50ID0gdGhpcy5yZWZpbmVtZW50LmJpbmQodGhpcyk7XG4gICAgdGhpcy5zdXBlclJlZmluZSA9IHRoaXMuc3VwZXJSZWZpbmUuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9wdGlvbmFsID0gdGhpcy5vcHRpb25hbC5iaW5kKHRoaXMpO1xuICAgIHRoaXMubnVsbGFibGUgPSB0aGlzLm51bGxhYmxlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5udWxsaXNoID0gdGhpcy5udWxsaXNoLmJpbmQodGhpcyk7XG4gICAgdGhpcy5hcnJheSA9IHRoaXMuYXJyYXkuYmluZCh0aGlzKTtcbiAgICB0aGlzLnByb21pc2UgPSB0aGlzLnByb21pc2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9yID0gdGhpcy5vci5iaW5kKHRoaXMpO1xuICAgIHRoaXMuYW5kID0gdGhpcy5hbmQuYmluZCh0aGlzKTtcbiAgICB0aGlzLnRyYW5zZm9ybSA9IHRoaXMudHJhbnNmb3JtLmJpbmQodGhpcyk7XG4gICAgdGhpcy5icmFuZCA9IHRoaXMuYnJhbmQuYmluZCh0aGlzKTtcbiAgICB0aGlzLmRlZmF1bHQgPSB0aGlzLmRlZmF1bHQuYmluZCh0aGlzKTtcbiAgICB0aGlzLmNhdGNoID0gdGhpcy5jYXRjaC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZGVzY3JpYmUgPSB0aGlzLmRlc2NyaWJlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5waXBlID0gdGhpcy5waXBlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5yZWFkb25seSA9IHRoaXMucmVhZG9ubHkuYmluZCh0aGlzKTtcbiAgICB0aGlzLmlzTnVsbGFibGUgPSB0aGlzLmlzTnVsbGFibGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLmlzT3B0aW9uYWwgPSB0aGlzLmlzT3B0aW9uYWwuYmluZCh0aGlzKTtcbiAgICB0aGlzW1wifnN0YW5kYXJkXCJdID0ge1xuICAgICAgdmVyc2lvbjogMSxcbiAgICAgIHZlbmRvcjogXCJ6b2RcIixcbiAgICAgIHZhbGlkYXRlOiAoZGF0YSkgPT4gdGhpc1tcIn52YWxpZGF0ZVwiXShkYXRhKVxuICAgIH07XG4gIH1cbiAgb3B0aW9uYWwoKSB7XG4gICAgcmV0dXJuIFpvZE9wdGlvbmFsLmNyZWF0ZSh0aGlzLCB0aGlzLl9kZWYpO1xuICB9XG4gIG51bGxhYmxlKCkge1xuICAgIHJldHVybiBab2ROdWxsYWJsZS5jcmVhdGUodGhpcywgdGhpcy5fZGVmKTtcbiAgfVxuICBudWxsaXNoKCkge1xuICAgIHJldHVybiB0aGlzLm51bGxhYmxlKCkub3B0aW9uYWwoKTtcbiAgfVxuICBhcnJheSgpIHtcbiAgICByZXR1cm4gWm9kQXJyYXkuY3JlYXRlKHRoaXMpO1xuICB9XG4gIHByb21pc2UoKSB7XG4gICAgcmV0dXJuIFpvZFByb21pc2UuY3JlYXRlKHRoaXMsIHRoaXMuX2RlZik7XG4gIH1cbiAgb3Iob3B0aW9uKSB7XG4gICAgcmV0dXJuIFpvZFVuaW9uLmNyZWF0ZShbdGhpcywgb3B0aW9uXSwgdGhpcy5fZGVmKTtcbiAgfVxuICBhbmQoaW5jb21pbmcpIHtcbiAgICByZXR1cm4gWm9kSW50ZXJzZWN0aW9uLmNyZWF0ZSh0aGlzLCBpbmNvbWluZywgdGhpcy5fZGVmKTtcbiAgfVxuICB0cmFuc2Zvcm0odHJhbnNmb3JtKSB7XG4gICAgcmV0dXJuIG5ldyBab2RFZmZlY3RzKHtcbiAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXModGhpcy5fZGVmKSxcbiAgICAgIHNjaGVtYTogdGhpcyxcbiAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0cyxcbiAgICAgIGVmZmVjdDogeyB0eXBlOiBcInRyYW5zZm9ybVwiLCB0cmFuc2Zvcm0gfVxuICAgIH0pO1xuICB9XG4gIGRlZmF1bHQoZGVmKSB7XG4gICAgY29uc3QgZGVmYXVsdFZhbHVlRnVuYyA9IHR5cGVvZiBkZWYgPT09IFwiZnVuY3Rpb25cIiA/IGRlZiA6ICgpID0+IGRlZjtcbiAgICByZXR1cm4gbmV3IFpvZERlZmF1bHQoe1xuICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyh0aGlzLl9kZWYpLFxuICAgICAgaW5uZXJUeXBlOiB0aGlzLFxuICAgICAgZGVmYXVsdFZhbHVlOiBkZWZhdWx0VmFsdWVGdW5jLFxuICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REZWZhdWx0XG4gICAgfSk7XG4gIH1cbiAgYnJhbmQoKSB7XG4gICAgcmV0dXJuIG5ldyBab2RCcmFuZGVkKHtcbiAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQnJhbmRlZCxcbiAgICAgIHR5cGU6IHRoaXMsXG4gICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHRoaXMuX2RlZilcbiAgICB9KTtcbiAgfVxuICBjYXRjaChkZWYpIHtcbiAgICBjb25zdCBjYXRjaFZhbHVlRnVuYyA9IHR5cGVvZiBkZWYgPT09IFwiZnVuY3Rpb25cIiA/IGRlZiA6ICgpID0+IGRlZjtcbiAgICByZXR1cm4gbmV3IFpvZENhdGNoKHtcbiAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXModGhpcy5fZGVmKSxcbiAgICAgIGlubmVyVHlwZTogdGhpcyxcbiAgICAgIGNhdGNoVmFsdWU6IGNhdGNoVmFsdWVGdW5jLFxuICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RDYXRjaFxuICAgIH0pO1xuICB9XG4gIGRlc2NyaWJlKGRlc2NyaXB0aW9uKSB7XG4gICAgY29uc3QgVGhpcyA9IHRoaXMuY29uc3RydWN0b3I7XG4gICAgcmV0dXJuIG5ldyBUaGlzKHtcbiAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgIGRlc2NyaXB0aW9uXG4gICAgfSk7XG4gIH1cbiAgcGlwZSh0YXJnZXQpIHtcbiAgICByZXR1cm4gWm9kUGlwZWxpbmUuY3JlYXRlKHRoaXMsIHRhcmdldCk7XG4gIH1cbiAgcmVhZG9ubHkoKSB7XG4gICAgcmV0dXJuIFpvZFJlYWRvbmx5LmNyZWF0ZSh0aGlzKTtcbiAgfVxuICBpc09wdGlvbmFsKCkge1xuICAgIHJldHVybiB0aGlzLnNhZmVQYXJzZSh2b2lkIDApLnN1Y2Nlc3M7XG4gIH1cbiAgaXNOdWxsYWJsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zYWZlUGFyc2UobnVsbCkuc3VjY2VzcztcbiAgfVxufVxuY29uc3QgY3VpZFJlZ2V4ID0gL15jW15cXHMtXXs4LH0kL2k7XG5jb25zdCBjdWlkMlJlZ2V4ID0gL15bMC05YS16XSskLztcbmNvbnN0IHVsaWRSZWdleCA9IC9eWzAtOUEtSEpLTU5QLVRWLVpdezI2fSQvaTtcbmNvbnN0IHV1aWRSZWdleCA9IC9eWzAtOWEtZkEtRl17OH1cXGItWzAtOWEtZkEtRl17NH1cXGItWzAtOWEtZkEtRl17NH1cXGItWzAtOWEtZkEtRl17NH1cXGItWzAtOWEtZkEtRl17MTJ9JC9pO1xuY29uc3QgbmFub2lkUmVnZXggPSAvXlthLXowLTlfLV17MjF9JC9pO1xuY29uc3Qgand0UmVnZXggPSAvXltBLVphLXowLTktX10rXFwuW0EtWmEtejAtOS1fXStcXC5bQS1aYS16MC05LV9dKiQvO1xuY29uc3QgZHVyYXRpb25SZWdleCA9IC9eWy0rXT9QKD8hJCkoPzooPzpbLStdP1xcZCtZKXwoPzpbLStdP1xcZCtbLixdXFxkK1kkKSk/KD86KD86Wy0rXT9cXGQrTSl8KD86Wy0rXT9cXGQrWy4sXVxcZCtNJCkpPyg/Oig/OlstK10/XFxkK1cpfCg/OlstK10/XFxkK1suLF1cXGQrVyQpKT8oPzooPzpbLStdP1xcZCtEKXwoPzpbLStdP1xcZCtbLixdXFxkK0QkKSk/KD86VCg/PVtcXGQrLV0pKD86KD86Wy0rXT9cXGQrSCl8KD86Wy0rXT9cXGQrWy4sXVxcZCtIJCkpPyg/Oig/OlstK10/XFxkK00pfCg/OlstK10/XFxkK1suLF1cXGQrTSQpKT8oPzpbLStdP1xcZCsoPzpbLixdXFxkKyk/Uyk/KT8/JC87XG5jb25zdCBlbWFpbFJlZ2V4ID0gL14oPyFcXC4pKD8hLipcXC5cXC4pKFtBLVowLTlfJytcXC1cXC5dKilbQS1aMC05XystXUAoW0EtWjAtOV1bQS1aMC05XFwtXSpcXC4pK1tBLVpdezIsfSQvaTtcbmNvbnN0IF9lbW9qaVJlZ2V4ID0gYF4oXFxcXHB7RXh0ZW5kZWRfUGljdG9ncmFwaGljfXxcXFxccHtFbW9qaV9Db21wb25lbnR9KSskYDtcbmxldCBlbW9qaVJlZ2V4O1xuY29uc3QgaXB2NFJlZ2V4ID0gL14oPzooPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pXFwuKXszfSg/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldWzAtOV18WzEtOV1bMC05XXxbMC05XSkkLztcbmNvbnN0IGlwdjRDaWRyUmVnZXggPSAvXig/Oig/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldWzAtOV18WzEtOV1bMC05XXxbMC05XSlcXC4pezN9KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKVxcLygzWzAtMl18WzEyXT9bMC05XSkkLztcbmNvbnN0IGlwdjZSZWdleCA9IC9eKChbMC05YS1mQS1GXXsxLDR9Oil7Nyw3fVswLTlhLWZBLUZdezEsNH18KFswLTlhLWZBLUZdezEsNH06KXsxLDd9OnwoWzAtOWEtZkEtRl17MSw0fTopezEsNn06WzAtOWEtZkEtRl17MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsNX0oOlswLTlhLWZBLUZdezEsNH0pezEsMn18KFswLTlhLWZBLUZdezEsNH06KXsxLDR9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDN9fChbMC05YS1mQS1GXXsxLDR9Oil7MSwzfSg6WzAtOWEtZkEtRl17MSw0fSl7MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsMn0oOlswLTlhLWZBLUZdezEsNH0pezEsNX18WzAtOWEtZkEtRl17MSw0fTooKDpbMC05YS1mQS1GXXsxLDR9KXsxLDZ9KXw6KCg6WzAtOWEtZkEtRl17MSw0fSl7MSw3fXw6KXxmZTgwOig6WzAtOWEtZkEtRl17MCw0fSl7MCw0fSVbMC05YS16QS1aXXsxLH18OjooZmZmZig6MHsxLDR9KXswLDF9Oil7MCwxfSgoMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pXFwuKXszLDN9KDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKXwoWzAtOWEtZkEtRl17MSw0fTopezEsNH06KCgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSlcXC4pezMsM30oMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pKSQvO1xuY29uc3QgaXB2NkNpZHJSZWdleCA9IC9eKChbMC05YS1mQS1GXXsxLDR9Oil7Nyw3fVswLTlhLWZBLUZdezEsNH18KFswLTlhLWZBLUZdezEsNH06KXsxLDd9OnwoWzAtOWEtZkEtRl17MSw0fTopezEsNn06WzAtOWEtZkEtRl17MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsNX0oOlswLTlhLWZBLUZdezEsNH0pezEsMn18KFswLTlhLWZBLUZdezEsNH06KXsxLDR9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDN9fChbMC05YS1mQS1GXXsxLDR9Oil7MSwzfSg6WzAtOWEtZkEtRl17MSw0fSl7MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsMn0oOlswLTlhLWZBLUZdezEsNH0pezEsNX18WzAtOWEtZkEtRl17MSw0fTooKDpbMC05YS1mQS1GXXsxLDR9KXsxLDZ9KXw6KCg6WzAtOWEtZkEtRl17MSw0fSl7MSw3fXw6KXxmZTgwOig6WzAtOWEtZkEtRl17MCw0fSl7MCw0fSVbMC05YS16QS1aXXsxLH18OjooZmZmZig6MHsxLDR9KXswLDF9Oil7MCwxfSgoMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pXFwuKXszLDN9KDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKXwoWzAtOWEtZkEtRl17MSw0fTopezEsNH06KCgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSlcXC4pezMsM30oMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pKVxcLygxMlswLThdfDFbMDFdWzAtOV18WzEtOV0/WzAtOV0pJC87XG5jb25zdCBiYXNlNjRSZWdleCA9IC9eKFswLTlhLXpBLVorL117NH0pKigoWzAtOWEtekEtWisvXXsyfT09KXwoWzAtOWEtekEtWisvXXszfT0pKT8kLztcbmNvbnN0IGJhc2U2NHVybFJlZ2V4ID0gL14oWzAtOWEtekEtWi1fXXs0fSkqKChbMC05YS16QS1aLV9dezJ9KD09KT8pfChbMC05YS16QS1aLV9dezN9KD0pPykpPyQvO1xuY29uc3QgZGF0ZVJlZ2V4U291cmNlID0gYCgoXFxcXGRcXFxcZFsyNDY4XVswNDhdfFxcXFxkXFxcXGRbMTM1NzldWzI2XXxcXFxcZFxcXFxkMFs0OF18WzAyNDY4XVswNDhdMDB8WzEzNTc5XVsyNl0wMCktMDItMjl8XFxcXGR7NH0tKCgwWzEzNTc4XXwxWzAyXSktKDBbMS05XXxbMTJdXFxcXGR8M1swMV0pfCgwWzQ2OV18MTEpLSgwWzEtOV18WzEyXVxcXFxkfDMwKXwoMDIpLSgwWzEtOV18MVxcXFxkfDJbMC04XSkpKWA7XG5jb25zdCBkYXRlUmVnZXggPSBuZXcgUmVnRXhwKGBeJHtkYXRlUmVnZXhTb3VyY2V9JGApO1xuZnVuY3Rpb24gdGltZVJlZ2V4U291cmNlKGFyZ3MpIHtcbiAgbGV0IHNlY29uZHNSZWdleFNvdXJjZSA9IGBbMC01XVxcXFxkYDtcbiAgaWYgKGFyZ3MucHJlY2lzaW9uKSB7XG4gICAgc2Vjb25kc1JlZ2V4U291cmNlID0gYCR7c2Vjb25kc1JlZ2V4U291cmNlfVxcXFwuXFxcXGR7JHthcmdzLnByZWNpc2lvbn19YDtcbiAgfSBlbHNlIGlmIChhcmdzLnByZWNpc2lvbiA9PSBudWxsKSB7XG4gICAgc2Vjb25kc1JlZ2V4U291cmNlID0gYCR7c2Vjb25kc1JlZ2V4U291cmNlfShcXFxcLlxcXFxkKyk/YDtcbiAgfVxuICBjb25zdCBzZWNvbmRzUXVhbnRpZmllciA9IGFyZ3MucHJlY2lzaW9uID8gXCIrXCIgOiBcIj9cIjtcbiAgcmV0dXJuIGAoWzAxXVxcXFxkfDJbMC0zXSk6WzAtNV1cXFxcZCg6JHtzZWNvbmRzUmVnZXhTb3VyY2V9KSR7c2Vjb25kc1F1YW50aWZpZXJ9YDtcbn1cbmZ1bmN0aW9uIHRpbWVSZWdleChhcmdzKSB7XG4gIHJldHVybiBuZXcgUmVnRXhwKGBeJHt0aW1lUmVnZXhTb3VyY2UoYXJncyl9JGApO1xufVxuZnVuY3Rpb24gZGF0ZXRpbWVSZWdleChhcmdzKSB7XG4gIGxldCByZWdleCA9IGAke2RhdGVSZWdleFNvdXJjZX1UJHt0aW1lUmVnZXhTb3VyY2UoYXJncyl9YDtcbiAgY29uc3Qgb3B0cyA9IFtdO1xuICBvcHRzLnB1c2goYXJncy5sb2NhbCA/IGBaP2AgOiBgWmApO1xuICBpZiAoYXJncy5vZmZzZXQpXG4gICAgb3B0cy5wdXNoKGAoWystXVxcXFxkezJ9Oj9cXFxcZHsyfSlgKTtcbiAgcmVnZXggPSBgJHtyZWdleH0oJHtvcHRzLmpvaW4oXCJ8XCIpfSlgO1xuICByZXR1cm4gbmV3IFJlZ0V4cChgXiR7cmVnZXh9JGApO1xufVxuZnVuY3Rpb24gaXNWYWxpZElQKGlwLCB2ZXJzaW9uKSB7XG4gIGlmICgodmVyc2lvbiA9PT0gXCJ2NFwiIHx8ICF2ZXJzaW9uKSAmJiBpcHY0UmVnZXgudGVzdChpcCkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoKHZlcnNpb24gPT09IFwidjZcIiB8fCAhdmVyc2lvbikgJiYgaXB2NlJlZ2V4LnRlc3QoaXApKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gaXNWYWxpZEpXVChqd3QsIGFsZykge1xuICBpZiAoIWp3dFJlZ2V4LnRlc3Qoand0KSlcbiAgICByZXR1cm4gZmFsc2U7XG4gIHRyeSB7XG4gICAgY29uc3QgW2hlYWRlcl0gPSBqd3Quc3BsaXQoXCIuXCIpO1xuICAgIGNvbnN0IGJhc2U2NCA9IGhlYWRlci5yZXBsYWNlKC8tL2csIFwiK1wiKS5yZXBsYWNlKC9fL2csIFwiL1wiKS5wYWRFbmQoaGVhZGVyLmxlbmd0aCArICg0IC0gaGVhZGVyLmxlbmd0aCAlIDQpICUgNCwgXCI9XCIpO1xuICAgIGNvbnN0IGRlY29kZWQgPSBKU09OLnBhcnNlKGF0b2IoYmFzZTY0KSk7XG4gICAgaWYgKHR5cGVvZiBkZWNvZGVkICE9PSBcIm9iamVjdFwiIHx8IGRlY29kZWQgPT09IG51bGwpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKCFkZWNvZGVkLnR5cCB8fCAhZGVjb2RlZC5hbGcpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKGFsZyAmJiBkZWNvZGVkLmFsZyAhPT0gYWxnKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChfYSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuZnVuY3Rpb24gaXNWYWxpZENpZHIoaXAsIHZlcnNpb24pIHtcbiAgaWYgKCh2ZXJzaW9uID09PSBcInY0XCIgfHwgIXZlcnNpb24pICYmIGlwdjRDaWRyUmVnZXgudGVzdChpcCkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoKHZlcnNpb24gPT09IFwidjZcIiB8fCAhdmVyc2lvbikgJiYgaXB2NkNpZHJSZWdleC50ZXN0KGlwKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmNsYXNzIFpvZFN0cmluZyBleHRlbmRzIFpvZFR5cGUge1xuICBfcGFyc2UoaW5wdXQpIHtcbiAgICBpZiAodGhpcy5fZGVmLmNvZXJjZSkge1xuICAgICAgaW5wdXQuZGF0YSA9IFN0cmluZyhpbnB1dC5kYXRhKTtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLnN0cmluZykge1xuICAgICAgY29uc3QgY3R4MiA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eDIsIHtcbiAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuc3RyaW5nLFxuICAgICAgICByZWNlaXZlZDogY3R4Mi5wYXJzZWRUeXBlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBJTlZBTElEO1xuICAgIH1cbiAgICBjb25zdCBzdGF0dXMgPSBuZXcgUGFyc2VTdGF0dXMoKTtcbiAgICBsZXQgY3R4ID0gdm9pZCAwO1xuICAgIGZvciAoY29uc3QgY2hlY2sgb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgaWYgKGNoZWNrLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgaWYgKGlucHV0LmRhdGEubGVuZ3RoIDwgY2hlY2sudmFsdWUpIHtcbiAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICBpZiAoaW5wdXQuZGF0YS5sZW5ndGggPiBjaGVjay52YWx1ZSkge1xuICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICBtYXhpbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJsZW5ndGhcIikge1xuICAgICAgICBjb25zdCB0b29CaWcgPSBpbnB1dC5kYXRhLmxlbmd0aCA+IGNoZWNrLnZhbHVlO1xuICAgICAgICBjb25zdCB0b29TbWFsbCA9IGlucHV0LmRhdGEubGVuZ3RoIDwgY2hlY2sudmFsdWU7XG4gICAgICAgIGlmICh0b29CaWcgfHwgdG9vU21hbGwpIHtcbiAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICBpZiAodG9vQmlnKSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgIG1heGltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgIGV4YWN0OiB0cnVlLFxuICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHRvb1NtYWxsKSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgbWluaW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgZXhhY3Q6IHRydWUsXG4gICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImVtYWlsXCIpIHtcbiAgICAgICAgaWYgKCFlbWFpbFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgIHZhbGlkYXRpb246IFwiZW1haWxcIixcbiAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImVtb2ppXCIpIHtcbiAgICAgICAgaWYgKCFlbW9qaVJlZ2V4KSB7XG4gICAgICAgICAgZW1vamlSZWdleCA9IG5ldyBSZWdFeHAoX2Vtb2ppUmVnZXgsIFwidVwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWVtb2ppUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJlbW9qaVwiLFxuICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidXVpZFwiKSB7XG4gICAgICAgIGlmICghdXVpZFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgIHZhbGlkYXRpb246IFwidXVpZFwiLFxuICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibmFub2lkXCIpIHtcbiAgICAgICAgaWYgKCFuYW5vaWRSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICB2YWxpZGF0aW9uOiBcIm5hbm9pZFwiLFxuICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiY3VpZFwiKSB7XG4gICAgICAgIGlmICghY3VpZFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgIHZhbGlkYXRpb246IFwiY3VpZFwiLFxuICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiY3VpZDJcIikge1xuICAgICAgICBpZiAoIWN1aWQyUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJjdWlkMlwiLFxuICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidWxpZFwiKSB7XG4gICAgICAgIGlmICghdWxpZFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgIHZhbGlkYXRpb246IFwidWxpZFwiLFxuICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidXJsXCIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBuZXcgVVJMKGlucHV0LmRhdGEpO1xuICAgICAgICB9IGNhdGNoIChfYSkge1xuICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJ1cmxcIixcbiAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInJlZ2V4XCIpIHtcbiAgICAgICAgY2hlY2sucmVnZXgubGFzdEluZGV4ID0gMDtcbiAgICAgICAgY29uc3QgdGVzdFJlc3VsdCA9IGNoZWNrLnJlZ2V4LnRlc3QoaW5wdXQuZGF0YSk7XG4gICAgICAgIGlmICghdGVzdFJlc3VsdCkge1xuICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJyZWdleFwiLFxuICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidHJpbVwiKSB7XG4gICAgICAgIGlucHV0LmRhdGEgPSBpbnB1dC5kYXRhLnRyaW0oKTtcbiAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJpbmNsdWRlc1wiKSB7XG4gICAgICAgIGlmICghaW5wdXQuZGF0YS5pbmNsdWRlcyhjaGVjay52YWx1ZSwgY2hlY2sucG9zaXRpb24pKSB7XG4gICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICB2YWxpZGF0aW9uOiB7IGluY2x1ZGVzOiBjaGVjay52YWx1ZSwgcG9zaXRpb246IGNoZWNrLnBvc2l0aW9uIH0sXG4gICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ0b0xvd2VyQ2FzZVwiKSB7XG4gICAgICAgIGlucHV0LmRhdGEgPSBpbnB1dC5kYXRhLnRvTG93ZXJDYXNlKCk7XG4gICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidG9VcHBlckNhc2VcIikge1xuICAgICAgICBpbnB1dC5kYXRhID0gaW5wdXQuZGF0YS50b1VwcGVyQ2FzZSgpO1xuICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInN0YXJ0c1dpdGhcIikge1xuICAgICAgICBpZiAoIWlucHV0LmRhdGEuc3RhcnRzV2l0aChjaGVjay52YWx1ZSkpIHtcbiAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgIHZhbGlkYXRpb246IHsgc3RhcnRzV2l0aDogY2hlY2sudmFsdWUgfSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImVuZHNXaXRoXCIpIHtcbiAgICAgICAgaWYgKCFpbnB1dC5kYXRhLmVuZHNXaXRoKGNoZWNrLnZhbHVlKSkge1xuICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgdmFsaWRhdGlvbjogeyBlbmRzV2l0aDogY2hlY2sudmFsdWUgfSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImRhdGV0aW1lXCIpIHtcbiAgICAgICAgY29uc3QgcmVnZXggPSBkYXRldGltZVJlZ2V4KGNoZWNrKTtcbiAgICAgICAgaWYgKCFyZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICB2YWxpZGF0aW9uOiBcImRhdGV0aW1lXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJkYXRlXCIpIHtcbiAgICAgICAgY29uc3QgcmVnZXggPSBkYXRlUmVnZXg7XG4gICAgICAgIGlmICghcmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJkYXRlXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ0aW1lXCIpIHtcbiAgICAgICAgY29uc3QgcmVnZXggPSB0aW1lUmVnZXgoY2hlY2spO1xuICAgICAgICBpZiAoIXJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgIHZhbGlkYXRpb246IFwidGltZVwiLFxuICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZHVyYXRpb25cIikge1xuICAgICAgICBpZiAoIWR1cmF0aW9uUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJkdXJhdGlvblwiLFxuICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiaXBcIikge1xuICAgICAgICBpZiAoIWlzVmFsaWRJUChpbnB1dC5kYXRhLCBjaGVjay52ZXJzaW9uKSkge1xuICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJpcFwiLFxuICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiand0XCIpIHtcbiAgICAgICAgaWYgKCFpc1ZhbGlkSldUKGlucHV0LmRhdGEsIGNoZWNrLmFsZykpIHtcbiAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgIHZhbGlkYXRpb246IFwiand0XCIsXG4gICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJjaWRyXCIpIHtcbiAgICAgICAgaWYgKCFpc1ZhbGlkQ2lkcihpbnB1dC5kYXRhLCBjaGVjay52ZXJzaW9uKSkge1xuICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJjaWRyXCIsXG4gICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJiYXNlNjRcIikge1xuICAgICAgICBpZiAoIWJhc2U2NFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgIHZhbGlkYXRpb246IFwiYmFzZTY0XCIsXG4gICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJiYXNlNjR1cmxcIikge1xuICAgICAgICBpZiAoIWJhc2U2NHVybFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgIHZhbGlkYXRpb246IFwiYmFzZTY0dXJsXCIsXG4gICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHV0aWwuYXNzZXJ0TmV2ZXIoY2hlY2spO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGlucHV0LmRhdGEgfTtcbiAgfVxuICBfcmVnZXgocmVnZXgsIHZhbGlkYXRpb24sIG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gdGhpcy5yZWZpbmVtZW50KChkYXRhKSA9PiByZWdleC50ZXN0KGRhdGEpLCB7XG4gICAgICB2YWxpZGF0aW9uLFxuICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpXG4gICAgfSk7XG4gIH1cbiAgX2FkZENoZWNrKGNoZWNrKSB7XG4gICAgcmV0dXJuIG5ldyBab2RTdHJpbmcoe1xuICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgY2hlY2tdXG4gICAgfSk7XG4gIH1cbiAgZW1haWwobWVzc2FnZSkge1xuICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiZW1haWxcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICB9XG4gIHVybChtZXNzYWdlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJ1cmxcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICB9XG4gIGVtb2ppKG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImVtb2ppXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgfVxuICB1dWlkKG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcInV1aWRcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICB9XG4gIG5hbm9pZChtZXNzYWdlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJuYW5vaWRcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICB9XG4gIGN1aWQobWVzc2FnZSkge1xuICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiY3VpZFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gIH1cbiAgY3VpZDIobWVzc2FnZSkge1xuICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiY3VpZDJcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICB9XG4gIHVsaWQobWVzc2FnZSkge1xuICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwidWxpZFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gIH1cbiAgYmFzZTY0KG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImJhc2U2NFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gIH1cbiAgYmFzZTY0dXJsKG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAga2luZDogXCJiYXNlNjR1cmxcIixcbiAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKVxuICAgIH0pO1xuICB9XG4gIGp3dChvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJqd3RcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG9wdGlvbnMpIH0pO1xuICB9XG4gIGlwKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImlwXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihvcHRpb25zKSB9KTtcbiAgfVxuICBjaWRyKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImNpZHJcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG9wdGlvbnMpIH0pO1xuICB9XG4gIGRhdGV0aW1lKG9wdGlvbnMpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAga2luZDogXCJkYXRldGltZVwiLFxuICAgICAgICBwcmVjaXNpb246IG51bGwsXG4gICAgICAgIG9mZnNldDogZmFsc2UsXG4gICAgICAgIGxvY2FsOiBmYWxzZSxcbiAgICAgICAgbWVzc2FnZTogb3B0aW9uc1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICBraW5kOiBcImRhdGV0aW1lXCIsXG4gICAgICBwcmVjaXNpb246IHR5cGVvZiAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnByZWNpc2lvbikgPT09IFwidW5kZWZpbmVkXCIgPyBudWxsIDogb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnByZWNpc2lvbixcbiAgICAgIG9mZnNldDogKF9hID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLm9mZnNldCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZmFsc2UsXG4gICAgICBsb2NhbDogKF9iID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmxvY2FsKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBmYWxzZSxcbiAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMubWVzc2FnZSlcbiAgICB9KTtcbiAgfVxuICBkYXRlKG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImRhdGVcIiwgbWVzc2FnZSB9KTtcbiAgfVxuICB0aW1lKG9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgIGtpbmQ6IFwidGltZVwiLFxuICAgICAgICBwcmVjaXNpb246IG51bGwsXG4gICAgICAgIG1lc3NhZ2U6IG9wdGlvbnNcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAga2luZDogXCJ0aW1lXCIsXG4gICAgICBwcmVjaXNpb246IHR5cGVvZiAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnByZWNpc2lvbikgPT09IFwidW5kZWZpbmVkXCIgPyBudWxsIDogb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnByZWNpc2lvbixcbiAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMubWVzc2FnZSlcbiAgICB9KTtcbiAgfVxuICBkdXJhdGlvbihtZXNzYWdlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJkdXJhdGlvblwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gIH1cbiAgcmVnZXgocmVnZXgsIG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAga2luZDogXCJyZWdleFwiLFxuICAgICAgcmVnZXgsXG4gICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSlcbiAgICB9KTtcbiAgfVxuICBpbmNsdWRlcyh2YWx1ZSwgb3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICBraW5kOiBcImluY2x1ZGVzXCIsXG4gICAgICB2YWx1ZSxcbiAgICAgIHBvc2l0aW9uOiBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucG9zaXRpb24sXG4gICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLm1lc3NhZ2UpXG4gICAgfSk7XG4gIH1cbiAgc3RhcnRzV2l0aCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICBraW5kOiBcInN0YXJ0c1dpdGhcIixcbiAgICAgIHZhbHVlLFxuICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpXG4gICAgfSk7XG4gIH1cbiAgZW5kc1dpdGgodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAga2luZDogXCJlbmRzV2l0aFwiLFxuICAgICAgdmFsdWUsXG4gICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSlcbiAgICB9KTtcbiAgfVxuICBtaW4obWluTGVuZ3RoLCBtZXNzYWdlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICB2YWx1ZTogbWluTGVuZ3RoLFxuICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpXG4gICAgfSk7XG4gIH1cbiAgbWF4KG1heExlbmd0aCwgbWVzc2FnZSkge1xuICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgdmFsdWU6IG1heExlbmd0aCxcbiAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKVxuICAgIH0pO1xuICB9XG4gIGxlbmd0aChsZW4sIG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAga2luZDogXCJsZW5ndGhcIixcbiAgICAgIHZhbHVlOiBsZW4sXG4gICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSlcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogRXF1aXZhbGVudCB0byBgLm1pbigxKWBcbiAgICovXG4gIG5vbmVtcHR5KG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gdGhpcy5taW4oMSwgZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpKTtcbiAgfVxuICB0cmltKCkge1xuICAgIHJldHVybiBuZXcgWm9kU3RyaW5nKHtcbiAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIHsga2luZDogXCJ0cmltXCIgfV1cbiAgICB9KTtcbiAgfVxuICB0b0xvd2VyQ2FzZSgpIHtcbiAgICByZXR1cm4gbmV3IFpvZFN0cmluZyh7XG4gICAgICAuLi50aGlzLl9kZWYsXG4gICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCB7IGtpbmQ6IFwidG9Mb3dlckNhc2VcIiB9XVxuICAgIH0pO1xuICB9XG4gIHRvVXBwZXJDYXNlKCkge1xuICAgIHJldHVybiBuZXcgWm9kU3RyaW5nKHtcbiAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIHsga2luZDogXCJ0b1VwcGVyQ2FzZVwiIH1dXG4gICAgfSk7XG4gIH1cbiAgZ2V0IGlzRGF0ZXRpbWUoKSB7XG4gICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJkYXRldGltZVwiKTtcbiAgfVxuICBnZXQgaXNEYXRlKCkge1xuICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiZGF0ZVwiKTtcbiAgfVxuICBnZXQgaXNUaW1lKCkge1xuICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwidGltZVwiKTtcbiAgfVxuICBnZXQgaXNEdXJhdGlvbigpIHtcbiAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImR1cmF0aW9uXCIpO1xuICB9XG4gIGdldCBpc0VtYWlsKCkge1xuICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiZW1haWxcIik7XG4gIH1cbiAgZ2V0IGlzVVJMKCkge1xuICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwidXJsXCIpO1xuICB9XG4gIGdldCBpc0Vtb2ppKCkge1xuICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiZW1vamlcIik7XG4gIH1cbiAgZ2V0IGlzVVVJRCgpIHtcbiAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcInV1aWRcIik7XG4gIH1cbiAgZ2V0IGlzTkFOT0lEKCkge1xuICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwibmFub2lkXCIpO1xuICB9XG4gIGdldCBpc0NVSUQoKSB7XG4gICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJjdWlkXCIpO1xuICB9XG4gIGdldCBpc0NVSUQyKCkge1xuICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiY3VpZDJcIik7XG4gIH1cbiAgZ2V0IGlzVUxJRCgpIHtcbiAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcInVsaWRcIik7XG4gIH1cbiAgZ2V0IGlzSVAoKSB7XG4gICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJpcFwiKTtcbiAgfVxuICBnZXQgaXNDSURSKCkge1xuICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiY2lkclwiKTtcbiAgfVxuICBnZXQgaXNCYXNlNjQoKSB7XG4gICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJiYXNlNjRcIik7XG4gIH1cbiAgZ2V0IGlzQmFzZTY0dXJsKCkge1xuICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiYmFzZTY0dXJsXCIpO1xuICB9XG4gIGdldCBtaW5MZW5ndGgoKSB7XG4gICAgbGV0IG1pbjIgPSBudWxsO1xuICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgaWYgKG1pbjIgPT09IG51bGwgfHwgY2gudmFsdWUgPiBtaW4yKVxuICAgICAgICAgIG1pbjIgPSBjaC52YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1pbjI7XG4gIH1cbiAgZ2V0IG1heExlbmd0aCgpIHtcbiAgICBsZXQgbWF4MiA9IG51bGw7XG4gICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICBpZiAoY2gua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICBpZiAobWF4MiA9PT0gbnVsbCB8fCBjaC52YWx1ZSA8IG1heDIpXG4gICAgICAgICAgbWF4MiA9IGNoLnZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWF4MjtcbiAgfVxufVxuWm9kU3RyaW5nLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgdmFyIF9hO1xuICByZXR1cm4gbmV3IFpvZFN0cmluZyh7XG4gICAgY2hlY2tzOiBbXSxcbiAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFN0cmluZyxcbiAgICBjb2VyY2U6IChfYSA9IHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5jb2VyY2UpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGZhbHNlLFxuICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICB9KTtcbn07XG5mdW5jdGlvbiBmbG9hdFNhZmVSZW1haW5kZXIodmFsLCBzdGVwKSB7XG4gIGNvbnN0IHZhbERlY0NvdW50ID0gKHZhbC50b1N0cmluZygpLnNwbGl0KFwiLlwiKVsxXSB8fCBcIlwiKS5sZW5ndGg7XG4gIGNvbnN0IHN0ZXBEZWNDb3VudCA9IChzdGVwLnRvU3RyaW5nKCkuc3BsaXQoXCIuXCIpWzFdIHx8IFwiXCIpLmxlbmd0aDtcbiAgY29uc3QgZGVjQ291bnQgPSB2YWxEZWNDb3VudCA+IHN0ZXBEZWNDb3VudCA/IHZhbERlY0NvdW50IDogc3RlcERlY0NvdW50O1xuICBjb25zdCB2YWxJbnQgPSBwYXJzZUludCh2YWwudG9GaXhlZChkZWNDb3VudCkucmVwbGFjZShcIi5cIiwgXCJcIikpO1xuICBjb25zdCBzdGVwSW50ID0gcGFyc2VJbnQoc3RlcC50b0ZpeGVkKGRlY0NvdW50KS5yZXBsYWNlKFwiLlwiLCBcIlwiKSk7XG4gIHJldHVybiB2YWxJbnQgJSBzdGVwSW50IC8gTWF0aC5wb3coMTAsIGRlY0NvdW50KTtcbn1cbmNsYXNzIFpvZE51bWJlciBleHRlbmRzIFpvZFR5cGUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIHRoaXMubWluID0gdGhpcy5ndGU7XG4gICAgdGhpcy5tYXggPSB0aGlzLmx0ZTtcbiAgICB0aGlzLnN0ZXAgPSB0aGlzLm11bHRpcGxlT2Y7XG4gIH1cbiAgX3BhcnNlKGlucHV0KSB7XG4gICAgaWYgKHRoaXMuX2RlZi5jb2VyY2UpIHtcbiAgICAgIGlucHV0LmRhdGEgPSBOdW1iZXIoaW5wdXQuZGF0YSk7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5udW1iZXIpIHtcbiAgICAgIGNvbnN0IGN0eDIgPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgyLCB7XG4gICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLm51bWJlcixcbiAgICAgICAgcmVjZWl2ZWQ6IGN0eDIucGFyc2VkVHlwZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICB9XG4gICAgbGV0IGN0eCA9IHZvaWQgMDtcbiAgICBjb25zdCBzdGF0dXMgPSBuZXcgUGFyc2VTdGF0dXMoKTtcbiAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgIGlmIChjaGVjay5raW5kID09PSBcImludFwiKSB7XG4gICAgICAgIGlmICghdXRpbC5pc0ludGVnZXIoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICBleHBlY3RlZDogXCJpbnRlZ2VyXCIsXG4gICAgICAgICAgICByZWNlaXZlZDogXCJmbG9hdFwiLFxuICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgY29uc3QgdG9vU21hbGwgPSBjaGVjay5pbmNsdXNpdmUgPyBpbnB1dC5kYXRhIDwgY2hlY2sudmFsdWUgOiBpbnB1dC5kYXRhIDw9IGNoZWNrLnZhbHVlO1xuICAgICAgICBpZiAodG9vU21hbGwpIHtcbiAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IGNoZWNrLmluY2x1c2l2ZSxcbiAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgIGNvbnN0IHRvb0JpZyA9IGNoZWNrLmluY2x1c2l2ZSA/IGlucHV0LmRhdGEgPiBjaGVjay52YWx1ZSA6IGlucHV0LmRhdGEgPj0gY2hlY2sudmFsdWU7XG4gICAgICAgIGlmICh0b29CaWcpIHtcbiAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgbWF4aW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiBjaGVjay5pbmNsdXNpdmUsXG4gICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtdWx0aXBsZU9mXCIpIHtcbiAgICAgICAgaWYgKGZsb2F0U2FmZVJlbWFpbmRlcihpbnB1dC5kYXRhLCBjaGVjay52YWx1ZSkgIT09IDApIHtcbiAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5ub3RfbXVsdGlwbGVfb2YsXG4gICAgICAgICAgICBtdWx0aXBsZU9mOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImZpbml0ZVwiKSB7XG4gICAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUubm90X2Zpbml0ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdXRpbC5hc3NlcnROZXZlcihjaGVjayk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogaW5wdXQuZGF0YSB9O1xuICB9XG4gIGd0ZSh2YWx1ZSwgbWVzc2FnZSkge1xuICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWluXCIsIHZhbHVlLCB0cnVlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICB9XG4gIGd0KHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtaW5cIiwgdmFsdWUsIGZhbHNlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICB9XG4gIGx0ZSh2YWx1ZSwgbWVzc2FnZSkge1xuICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWF4XCIsIHZhbHVlLCB0cnVlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICB9XG4gIGx0KHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtYXhcIiwgdmFsdWUsIGZhbHNlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICB9XG4gIHNldExpbWl0KGtpbmQsIHZhbHVlLCBpbmNsdXNpdmUsIG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gbmV3IFpvZE51bWJlcih7XG4gICAgICAuLi50aGlzLl9kZWYsXG4gICAgICBjaGVja3M6IFtcbiAgICAgICAgLi4udGhpcy5fZGVmLmNoZWNrcyxcbiAgICAgICAge1xuICAgICAgICAgIGtpbmQsXG4gICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgaW5jbHVzaXZlLFxuICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKVxuICAgICAgICB9XG4gICAgICBdXG4gICAgfSk7XG4gIH1cbiAgX2FkZENoZWNrKGNoZWNrKSB7XG4gICAgcmV0dXJuIG5ldyBab2ROdW1iZXIoe1xuICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgY2hlY2tdXG4gICAgfSk7XG4gIH1cbiAgaW50KG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAga2luZDogXCJpbnRcIixcbiAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKVxuICAgIH0pO1xuICB9XG4gIHBvc2l0aXZlKG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAga2luZDogXCJtaW5cIixcbiAgICAgIHZhbHVlOiAwLFxuICAgICAgaW5jbHVzaXZlOiBmYWxzZSxcbiAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKVxuICAgIH0pO1xuICB9XG4gIG5lZ2F0aXZlKG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAga2luZDogXCJtYXhcIixcbiAgICAgIHZhbHVlOiAwLFxuICAgICAgaW5jbHVzaXZlOiBmYWxzZSxcbiAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKVxuICAgIH0pO1xuICB9XG4gIG5vbnBvc2l0aXZlKG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAga2luZDogXCJtYXhcIixcbiAgICAgIHZhbHVlOiAwLFxuICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpXG4gICAgfSk7XG4gIH1cbiAgbm9ubmVnYXRpdmUobWVzc2FnZSkge1xuICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgdmFsdWU6IDAsXG4gICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSlcbiAgICB9KTtcbiAgfVxuICBtdWx0aXBsZU9mKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgIGtpbmQ6IFwibXVsdGlwbGVPZlwiLFxuICAgICAgdmFsdWUsXG4gICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSlcbiAgICB9KTtcbiAgfVxuICBmaW5pdGUobWVzc2FnZSkge1xuICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICBraW5kOiBcImZpbml0ZVwiLFxuICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpXG4gICAgfSk7XG4gIH1cbiAgc2FmZShtZXNzYWdlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICB2YWx1ZTogTnVtYmVyLk1JTl9TQUZFX0lOVEVHRVIsXG4gICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSlcbiAgICB9KS5fYWRkQ2hlY2soe1xuICAgICAga2luZDogXCJtYXhcIixcbiAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUixcbiAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKVxuICAgIH0pO1xuICB9XG4gIGdldCBtaW5WYWx1ZSgpIHtcbiAgICBsZXQgbWluMiA9IG51bGw7XG4gICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICBpZiAoY2gua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICBpZiAobWluMiA9PT0gbnVsbCB8fCBjaC52YWx1ZSA+IG1pbjIpXG4gICAgICAgICAgbWluMiA9IGNoLnZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWluMjtcbiAgfVxuICBnZXQgbWF4VmFsdWUoKSB7XG4gICAgbGV0IG1heDIgPSBudWxsO1xuICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgaWYgKG1heDIgPT09IG51bGwgfHwgY2gudmFsdWUgPCBtYXgyKVxuICAgICAgICAgIG1heDIgPSBjaC52YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1heDI7XG4gIH1cbiAgZ2V0IGlzSW50KCkge1xuICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiaW50XCIgfHwgY2gua2luZCA9PT0gXCJtdWx0aXBsZU9mXCIgJiYgdXRpbC5pc0ludGVnZXIoY2gudmFsdWUpKTtcbiAgfVxuICBnZXQgaXNGaW5pdGUoKSB7XG4gICAgbGV0IG1heDIgPSBudWxsLCBtaW4yID0gbnVsbDtcbiAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgIGlmIChjaC5raW5kID09PSBcImZpbml0ZVwiIHx8IGNoLmtpbmQgPT09IFwiaW50XCIgfHwgY2gua2luZCA9PT0gXCJtdWx0aXBsZU9mXCIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2UgaWYgKGNoLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgaWYgKG1pbjIgPT09IG51bGwgfHwgY2gudmFsdWUgPiBtaW4yKVxuICAgICAgICAgIG1pbjIgPSBjaC52YWx1ZTtcbiAgICAgIH0gZWxzZSBpZiAoY2gua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICBpZiAobWF4MiA9PT0gbnVsbCB8fCBjaC52YWx1ZSA8IG1heDIpXG4gICAgICAgICAgbWF4MiA9IGNoLnZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gTnVtYmVyLmlzRmluaXRlKG1pbjIpICYmIE51bWJlci5pc0Zpbml0ZShtYXgyKTtcbiAgfVxufVxuWm9kTnVtYmVyLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgcmV0dXJuIG5ldyBab2ROdW1iZXIoe1xuICAgIGNoZWNrczogW10sXG4gICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROdW1iZXIsXG4gICAgY29lcmNlOiAocGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLmNvZXJjZSkgfHwgZmFsc2UsXG4gICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gIH0pO1xufTtcbmNsYXNzIFpvZEJpZ0ludCBleHRlbmRzIFpvZFR5cGUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIHRoaXMubWluID0gdGhpcy5ndGU7XG4gICAgdGhpcy5tYXggPSB0aGlzLmx0ZTtcbiAgfVxuICBfcGFyc2UoaW5wdXQpIHtcbiAgICBpZiAodGhpcy5fZGVmLmNvZXJjZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaW5wdXQuZGF0YSA9IEJpZ0ludChpbnB1dC5kYXRhKTtcbiAgICAgIH0gY2F0Y2ggKF9hKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRJbnZhbGlkSW5wdXQoaW5wdXQpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuYmlnaW50KSB7XG4gICAgICByZXR1cm4gdGhpcy5fZ2V0SW52YWxpZElucHV0KGlucHV0KTtcbiAgICB9XG4gICAgbGV0IGN0eCA9IHZvaWQgMDtcbiAgICBjb25zdCBzdGF0dXMgPSBuZXcgUGFyc2VTdGF0dXMoKTtcbiAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgIGlmIChjaGVjay5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgIGNvbnN0IHRvb1NtYWxsID0gY2hlY2suaW5jbHVzaXZlID8gaW5wdXQuZGF0YSA8IGNoZWNrLnZhbHVlIDogaW5wdXQuZGF0YSA8PSBjaGVjay52YWx1ZTtcbiAgICAgICAgaWYgKHRvb1NtYWxsKSB7XG4gICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgdHlwZTogXCJiaWdpbnRcIixcbiAgICAgICAgICAgIG1pbmltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiBjaGVjay5pbmNsdXNpdmUsXG4gICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICBjb25zdCB0b29CaWcgPSBjaGVjay5pbmNsdXNpdmUgPyBpbnB1dC5kYXRhID4gY2hlY2sudmFsdWUgOiBpbnB1dC5kYXRhID49IGNoZWNrLnZhbHVlO1xuICAgICAgICBpZiAodG9vQmlnKSB7XG4gICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgIHR5cGU6IFwiYmlnaW50XCIsXG4gICAgICAgICAgICBtYXhpbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogY2hlY2suaW5jbHVzaXZlLFxuICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibXVsdGlwbGVPZlwiKSB7XG4gICAgICAgIGlmIChpbnB1dC5kYXRhICUgY2hlY2sudmFsdWUgIT09IEJpZ0ludCgwKSkge1xuICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLm5vdF9tdWx0aXBsZV9vZixcbiAgICAgICAgICAgIG11bHRpcGxlT2Y6IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1dGlsLmFzc2VydE5ldmVyKGNoZWNrKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBpbnB1dC5kYXRhIH07XG4gIH1cbiAgX2dldEludmFsaWRJbnB1dChpbnB1dCkge1xuICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5iaWdpbnQsXG4gICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGVcbiAgICB9KTtcbiAgICByZXR1cm4gSU5WQUxJRDtcbiAgfVxuICBndGUodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1pblwiLCB2YWx1ZSwgdHJ1ZSwgZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgfVxuICBndCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWluXCIsIHZhbHVlLCBmYWxzZSwgZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgfVxuICBsdGUodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1heFwiLCB2YWx1ZSwgdHJ1ZSwgZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgfVxuICBsdCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWF4XCIsIHZhbHVlLCBmYWxzZSwgZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgfVxuICBzZXRMaW1pdChraW5kLCB2YWx1ZSwgaW5jbHVzaXZlLCBtZXNzYWdlKSB7XG4gICAgcmV0dXJuIG5ldyBab2RCaWdJbnQoe1xuICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgY2hlY2tzOiBbXG4gICAgICAgIC4uLnRoaXMuX2RlZi5jaGVja3MsXG4gICAgICAgIHtcbiAgICAgICAgICBraW5kLFxuICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgIGluY2x1c2l2ZSxcbiAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSlcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0pO1xuICB9XG4gIF9hZGRDaGVjayhjaGVjaykge1xuICAgIHJldHVybiBuZXcgWm9kQmlnSW50KHtcbiAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIGNoZWNrXVxuICAgIH0pO1xuICB9XG4gIHBvc2l0aXZlKG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAga2luZDogXCJtaW5cIixcbiAgICAgIHZhbHVlOiBCaWdJbnQoMCksXG4gICAgICBpbmNsdXNpdmU6IGZhbHNlLFxuICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpXG4gICAgfSk7XG4gIH1cbiAgbmVnYXRpdmUobWVzc2FnZSkge1xuICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgdmFsdWU6IEJpZ0ludCgwKSxcbiAgICAgIGluY2x1c2l2ZTogZmFsc2UsXG4gICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSlcbiAgICB9KTtcbiAgfVxuICBub25wb3NpdGl2ZShtZXNzYWdlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICB2YWx1ZTogQmlnSW50KDApLFxuICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpXG4gICAgfSk7XG4gIH1cbiAgbm9ubmVnYXRpdmUobWVzc2FnZSkge1xuICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgdmFsdWU6IEJpZ0ludCgwKSxcbiAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKVxuICAgIH0pO1xuICB9XG4gIG11bHRpcGxlT2YodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAga2luZDogXCJtdWx0aXBsZU9mXCIsXG4gICAgICB2YWx1ZSxcbiAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKVxuICAgIH0pO1xuICB9XG4gIGdldCBtaW5WYWx1ZSgpIHtcbiAgICBsZXQgbWluMiA9IG51bGw7XG4gICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICBpZiAoY2gua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICBpZiAobWluMiA9PT0gbnVsbCB8fCBjaC52YWx1ZSA+IG1pbjIpXG4gICAgICAgICAgbWluMiA9IGNoLnZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWluMjtcbiAgfVxuICBnZXQgbWF4VmFsdWUoKSB7XG4gICAgbGV0IG1heDIgPSBudWxsO1xuICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgaWYgKG1heDIgPT09IG51bGwgfHwgY2gudmFsdWUgPCBtYXgyKVxuICAgICAgICAgIG1heDIgPSBjaC52YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1heDI7XG4gIH1cbn1cblpvZEJpZ0ludC5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gIHZhciBfYTtcbiAgcmV0dXJuIG5ldyBab2RCaWdJbnQoe1xuICAgIGNoZWNrczogW10sXG4gICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RCaWdJbnQsXG4gICAgY29lcmNlOiAoX2EgPSBwYXJhbXMgPT09IG51bGwgfHwgcGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJhbXMuY29lcmNlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmYWxzZSxcbiAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgfSk7XG59O1xuY2xhc3MgWm9kQm9vbGVhbiBleHRlbmRzIFpvZFR5cGUge1xuICBfcGFyc2UoaW5wdXQpIHtcbiAgICBpZiAodGhpcy5fZGVmLmNvZXJjZSkge1xuICAgICAgaW5wdXQuZGF0YSA9IEJvb2xlYW4oaW5wdXQuZGF0YSk7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5ib29sZWFuKSB7XG4gICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuYm9vbGVhbixcbiAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBJTlZBTElEO1xuICAgIH1cbiAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gIH1cbn1cblpvZEJvb2xlYW4uY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICByZXR1cm4gbmV3IFpvZEJvb2xlYW4oe1xuICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQm9vbGVhbixcbiAgICBjb2VyY2U6IChwYXJhbXMgPT09IG51bGwgfHwgcGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJhbXMuY29lcmNlKSB8fCBmYWxzZSxcbiAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgfSk7XG59O1xuY2xhc3MgWm9kRGF0ZSBleHRlbmRzIFpvZFR5cGUge1xuICBfcGFyc2UoaW5wdXQpIHtcbiAgICBpZiAodGhpcy5fZGVmLmNvZXJjZSkge1xuICAgICAgaW5wdXQuZGF0YSA9IG5ldyBEYXRlKGlucHV0LmRhdGEpO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuZGF0ZSkge1xuICAgICAgY29uc3QgY3R4MiA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eDIsIHtcbiAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuZGF0ZSxcbiAgICAgICAgcmVjZWl2ZWQ6IGN0eDIucGFyc2VkVHlwZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICB9XG4gICAgaWYgKGlzTmFOKGlucHV0LmRhdGEuZ2V0VGltZSgpKSkge1xuICAgICAgY29uc3QgY3R4MiA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eDIsIHtcbiAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfZGF0ZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICB9XG4gICAgY29uc3Qgc3RhdHVzID0gbmV3IFBhcnNlU3RhdHVzKCk7XG4gICAgbGV0IGN0eCA9IHZvaWQgMDtcbiAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgIGlmIChjaGVjay5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgIGlmIChpbnB1dC5kYXRhLmdldFRpbWUoKSA8IGNoZWNrLnZhbHVlKSB7XG4gICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgIG1pbmltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgdHlwZTogXCJkYXRlXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgIGlmIChpbnB1dC5kYXRhLmdldFRpbWUoKSA+IGNoZWNrLnZhbHVlKSB7XG4gICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICBtYXhpbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgIHR5cGU6IFwiZGF0ZVwiXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHV0aWwuYXNzZXJ0TmV2ZXIoY2hlY2spO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgc3RhdHVzOiBzdGF0dXMudmFsdWUsXG4gICAgICB2YWx1ZTogbmV3IERhdGUoaW5wdXQuZGF0YS5nZXRUaW1lKCkpXG4gICAgfTtcbiAgfVxuICBfYWRkQ2hlY2soY2hlY2spIHtcbiAgICByZXR1cm4gbmV3IFpvZERhdGUoe1xuICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgY2hlY2tdXG4gICAgfSk7XG4gIH1cbiAgbWluKG1pbkRhdGUsIG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAga2luZDogXCJtaW5cIixcbiAgICAgIHZhbHVlOiBtaW5EYXRlLmdldFRpbWUoKSxcbiAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKVxuICAgIH0pO1xuICB9XG4gIG1heChtYXhEYXRlLCBtZXNzYWdlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICB2YWx1ZTogbWF4RGF0ZS5nZXRUaW1lKCksXG4gICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSlcbiAgICB9KTtcbiAgfVxuICBnZXQgbWluRGF0ZSgpIHtcbiAgICBsZXQgbWluMiA9IG51bGw7XG4gICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICBpZiAoY2gua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICBpZiAobWluMiA9PT0gbnVsbCB8fCBjaC52YWx1ZSA+IG1pbjIpXG4gICAgICAgICAgbWluMiA9IGNoLnZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWluMiAhPSBudWxsID8gbmV3IERhdGUobWluMikgOiBudWxsO1xuICB9XG4gIGdldCBtYXhEYXRlKCkge1xuICAgIGxldCBtYXgyID0gbnVsbDtcbiAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgIGlmIChjaC5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgIGlmIChtYXgyID09PSBudWxsIHx8IGNoLnZhbHVlIDwgbWF4MilcbiAgICAgICAgICBtYXgyID0gY2gudmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtYXgyICE9IG51bGwgPyBuZXcgRGF0ZShtYXgyKSA6IG51bGw7XG4gIH1cbn1cblpvZERhdGUuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICByZXR1cm4gbmV3IFpvZERhdGUoe1xuICAgIGNoZWNrczogW10sXG4gICAgY29lcmNlOiAocGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLmNvZXJjZSkgfHwgZmFsc2UsXG4gICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REYXRlLFxuICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICB9KTtcbn07XG5jbGFzcyBab2RTeW1ib2wgZXh0ZW5kcyBab2RUeXBlIHtcbiAgX3BhcnNlKGlucHV0KSB7XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLnN5bWJvbCkge1xuICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLnN5bWJvbCxcbiAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBJTlZBTElEO1xuICAgIH1cbiAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gIH1cbn1cblpvZFN5bWJvbC5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gIHJldHVybiBuZXcgWm9kU3ltYm9sKHtcbiAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFN5bWJvbCxcbiAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgfSk7XG59O1xuY2xhc3MgWm9kVW5kZWZpbmVkIGV4dGVuZHMgWm9kVHlwZSB7XG4gIF9wYXJzZShpbnB1dCkge1xuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS51bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS51bmRlZmluZWQsXG4gICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICB9XG4gICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICB9XG59XG5ab2RVbmRlZmluZWQuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICByZXR1cm4gbmV3IFpvZFVuZGVmaW5lZCh7XG4gICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RVbmRlZmluZWQsXG4gICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gIH0pO1xufTtcbmNsYXNzIFpvZE51bGwgZXh0ZW5kcyBab2RUeXBlIHtcbiAgX3BhcnNlKGlucHV0KSB7XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm51bGwpIHtcbiAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5udWxsLFxuICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGVcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgfVxuICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgfVxufVxuWm9kTnVsbC5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gIHJldHVybiBuZXcgWm9kTnVsbCh7XG4gICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROdWxsLFxuICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICB9KTtcbn07XG5jbGFzcyBab2RBbnkgZXh0ZW5kcyBab2RUeXBlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLl9hbnkgPSB0cnVlO1xuICB9XG4gIF9wYXJzZShpbnB1dCkge1xuICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgfVxufVxuWm9kQW55LmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgcmV0dXJuIG5ldyBab2RBbnkoe1xuICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQW55LFxuICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICB9KTtcbn07XG5jbGFzcyBab2RVbmtub3duIGV4dGVuZHMgWm9kVHlwZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy5fdW5rbm93biA9IHRydWU7XG4gIH1cbiAgX3BhcnNlKGlucHV0KSB7XG4gICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICB9XG59XG5ab2RVbmtub3duLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgcmV0dXJuIG5ldyBab2RVbmtub3duKHtcbiAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFVua25vd24sXG4gICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gIH0pO1xufTtcbmNsYXNzIFpvZE5ldmVyIGV4dGVuZHMgWm9kVHlwZSB7XG4gIF9wYXJzZShpbnB1dCkge1xuICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5uZXZlcixcbiAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZVxuICAgIH0pO1xuICAgIHJldHVybiBJTlZBTElEO1xuICB9XG59XG5ab2ROZXZlci5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gIHJldHVybiBuZXcgWm9kTmV2ZXIoe1xuICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTmV2ZXIsXG4gICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gIH0pO1xufTtcbmNsYXNzIFpvZFZvaWQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgX3BhcnNlKGlucHV0KSB7XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCkge1xuICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLnZvaWQsXG4gICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICB9XG4gICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICB9XG59XG5ab2RWb2lkLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgcmV0dXJuIG5ldyBab2RWb2lkKHtcbiAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFZvaWQsXG4gICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gIH0pO1xufTtcbmNsYXNzIFpvZEFycmF5IGV4dGVuZHMgWm9kVHlwZSB7XG4gIF9wYXJzZShpbnB1dCkge1xuICAgIGNvbnN0IHsgY3R4LCBzdGF0dXMgfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgY29uc3QgZGVmID0gdGhpcy5fZGVmO1xuICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5hcnJheSkge1xuICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLmFycmF5LFxuICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGVcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgfVxuICAgIGlmIChkZWYuZXhhY3RMZW5ndGggIT09IG51bGwpIHtcbiAgICAgIGNvbnN0IHRvb0JpZyA9IGN0eC5kYXRhLmxlbmd0aCA+IGRlZi5leGFjdExlbmd0aC52YWx1ZTtcbiAgICAgIGNvbnN0IHRvb1NtYWxsID0gY3R4LmRhdGEubGVuZ3RoIDwgZGVmLmV4YWN0TGVuZ3RoLnZhbHVlO1xuICAgICAgaWYgKHRvb0JpZyB8fCB0b29TbWFsbCkge1xuICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICBjb2RlOiB0b29CaWcgPyBab2RJc3N1ZUNvZGUudG9vX2JpZyA6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgbWluaW11bTogdG9vU21hbGwgPyBkZWYuZXhhY3RMZW5ndGgudmFsdWUgOiB2b2lkIDAsXG4gICAgICAgICAgbWF4aW11bTogdG9vQmlnID8gZGVmLmV4YWN0TGVuZ3RoLnZhbHVlIDogdm9pZCAwLFxuICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgZXhhY3Q6IHRydWUsXG4gICAgICAgICAgbWVzc2FnZTogZGVmLmV4YWN0TGVuZ3RoLm1lc3NhZ2VcbiAgICAgICAgfSk7XG4gICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZGVmLm1pbkxlbmd0aCAhPT0gbnVsbCkge1xuICAgICAgaWYgKGN0eC5kYXRhLmxlbmd0aCA8IGRlZi5taW5MZW5ndGgudmFsdWUpIHtcbiAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICBtaW5pbXVtOiBkZWYubWluTGVuZ3RoLnZhbHVlLFxuICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgIG1lc3NhZ2U6IGRlZi5taW5MZW5ndGgubWVzc2FnZVxuICAgICAgICB9KTtcbiAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChkZWYubWF4TGVuZ3RoICE9PSBudWxsKSB7XG4gICAgICBpZiAoY3R4LmRhdGEubGVuZ3RoID4gZGVmLm1heExlbmd0aC52YWx1ZSkge1xuICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICBtYXhpbXVtOiBkZWYubWF4TGVuZ3RoLnZhbHVlLFxuICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgIG1lc3NhZ2U6IGRlZi5tYXhMZW5ndGgubWVzc2FnZVxuICAgICAgICB9KTtcbiAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwoWy4uLmN0eC5kYXRhXS5tYXAoKGl0ZW0sIGkyKSA9PiB7XG4gICAgICAgIHJldHVybiBkZWYudHlwZS5fcGFyc2VBc3luYyhuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgaXRlbSwgY3R4LnBhdGgsIGkyKSk7XG4gICAgICB9KSkudGhlbigocmVzdWx0MikgPT4ge1xuICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VBcnJheShzdGF0dXMsIHJlc3VsdDIpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IFsuLi5jdHguZGF0YV0ubWFwKChpdGVtLCBpMikgPT4ge1xuICAgICAgcmV0dXJuIGRlZi50eXBlLl9wYXJzZVN5bmMobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGl0ZW0sIGN0eC5wYXRoLCBpMikpO1xuICAgIH0pO1xuICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZUFycmF5KHN0YXR1cywgcmVzdWx0KTtcbiAgfVxuICBnZXQgZWxlbWVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZGVmLnR5cGU7XG4gIH1cbiAgbWluKG1pbkxlbmd0aCwgbWVzc2FnZSkge1xuICAgIHJldHVybiBuZXcgWm9kQXJyYXkoe1xuICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgbWluTGVuZ3RoOiB7IHZhbHVlOiBtaW5MZW5ndGgsIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSB9XG4gICAgfSk7XG4gIH1cbiAgbWF4KG1heExlbmd0aCwgbWVzc2FnZSkge1xuICAgIHJldHVybiBuZXcgWm9kQXJyYXkoe1xuICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgbWF4TGVuZ3RoOiB7IHZhbHVlOiBtYXhMZW5ndGgsIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSB9XG4gICAgfSk7XG4gIH1cbiAgbGVuZ3RoKGxlbiwgbWVzc2FnZSkge1xuICAgIHJldHVybiBuZXcgWm9kQXJyYXkoe1xuICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgZXhhY3RMZW5ndGg6IHsgdmFsdWU6IGxlbiwgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpIH1cbiAgICB9KTtcbiAgfVxuICBub25lbXB0eShtZXNzYWdlKSB7XG4gICAgcmV0dXJuIHRoaXMubWluKDEsIG1lc3NhZ2UpO1xuICB9XG59XG5ab2RBcnJheS5jcmVhdGUgPSAoc2NoZW1hLCBwYXJhbXMpID0+IHtcbiAgcmV0dXJuIG5ldyBab2RBcnJheSh7XG4gICAgdHlwZTogc2NoZW1hLFxuICAgIG1pbkxlbmd0aDogbnVsbCxcbiAgICBtYXhMZW5ndGg6IG51bGwsXG4gICAgZXhhY3RMZW5ndGg6IG51bGwsXG4gICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RBcnJheSxcbiAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgfSk7XG59O1xuZnVuY3Rpb24gZGVlcFBhcnRpYWxpZnkoc2NoZW1hKSB7XG4gIGlmIChzY2hlbWEgaW5zdGFuY2VvZiBab2RPYmplY3QpIHtcbiAgICBjb25zdCBuZXdTaGFwZSA9IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIHNjaGVtYS5zaGFwZSkge1xuICAgICAgY29uc3QgZmllbGRTY2hlbWEgPSBzY2hlbWEuc2hhcGVba2V5XTtcbiAgICAgIG5ld1NoYXBlW2tleV0gPSBab2RPcHRpb25hbC5jcmVhdGUoZGVlcFBhcnRpYWxpZnkoZmllbGRTY2hlbWEpKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgLi4uc2NoZW1hLl9kZWYsXG4gICAgICBzaGFwZTogKCkgPT4gbmV3U2hhcGVcbiAgICB9KTtcbiAgfSBlbHNlIGlmIChzY2hlbWEgaW5zdGFuY2VvZiBab2RBcnJheSkge1xuICAgIHJldHVybiBuZXcgWm9kQXJyYXkoe1xuICAgICAgLi4uc2NoZW1hLl9kZWYsXG4gICAgICB0eXBlOiBkZWVwUGFydGlhbGlmeShzY2hlbWEuZWxlbWVudClcbiAgICB9KTtcbiAgfSBlbHNlIGlmIChzY2hlbWEgaW5zdGFuY2VvZiBab2RPcHRpb25hbCkge1xuICAgIHJldHVybiBab2RPcHRpb25hbC5jcmVhdGUoZGVlcFBhcnRpYWxpZnkoc2NoZW1hLnVud3JhcCgpKSk7XG4gIH0gZWxzZSBpZiAoc2NoZW1hIGluc3RhbmNlb2YgWm9kTnVsbGFibGUpIHtcbiAgICByZXR1cm4gWm9kTnVsbGFibGUuY3JlYXRlKGRlZXBQYXJ0aWFsaWZ5KHNjaGVtYS51bndyYXAoKSkpO1xuICB9IGVsc2UgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZFR1cGxlKSB7XG4gICAgcmV0dXJuIFpvZFR1cGxlLmNyZWF0ZShzY2hlbWEuaXRlbXMubWFwKChpdGVtKSA9PiBkZWVwUGFydGlhbGlmeShpdGVtKSkpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzY2hlbWE7XG4gIH1cbn1cbmNsYXNzIFpvZE9iamVjdCBleHRlbmRzIFpvZFR5cGUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIHRoaXMuX2NhY2hlZCA9IG51bGw7XG4gICAgdGhpcy5ub25zdHJpY3QgPSB0aGlzLnBhc3N0aHJvdWdoO1xuICAgIHRoaXMuYXVnbWVudCA9IHRoaXMuZXh0ZW5kO1xuICB9XG4gIF9nZXRDYWNoZWQoKSB7XG4gICAgaWYgKHRoaXMuX2NhY2hlZCAhPT0gbnVsbClcbiAgICAgIHJldHVybiB0aGlzLl9jYWNoZWQ7XG4gICAgY29uc3Qgc2hhcGUgPSB0aGlzLl9kZWYuc2hhcGUoKTtcbiAgICBjb25zdCBrZXlzID0gdXRpbC5vYmplY3RLZXlzKHNoYXBlKTtcbiAgICByZXR1cm4gdGhpcy5fY2FjaGVkID0geyBzaGFwZSwga2V5cyB9O1xuICB9XG4gIF9wYXJzZShpbnB1dCkge1xuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5vYmplY3QpIHtcbiAgICAgIGNvbnN0IGN0eDIgPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgyLCB7XG4gICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLm9iamVjdCxcbiAgICAgICAgcmVjZWl2ZWQ6IGN0eDIucGFyc2VkVHlwZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICB9XG4gICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICBjb25zdCB7IHNoYXBlLCBrZXlzOiBzaGFwZUtleXMgfSA9IHRoaXMuX2dldENhY2hlZCgpO1xuICAgIGNvbnN0IGV4dHJhS2V5cyA9IFtdO1xuICAgIGlmICghKHRoaXMuX2RlZi5jYXRjaGFsbCBpbnN0YW5jZW9mIFpvZE5ldmVyICYmIHRoaXMuX2RlZi51bmtub3duS2V5cyA9PT0gXCJzdHJpcFwiKSkge1xuICAgICAgZm9yIChjb25zdCBrZXkgaW4gY3R4LmRhdGEpIHtcbiAgICAgICAgaWYgKCFzaGFwZUtleXMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgIGV4dHJhS2V5cy5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcGFpcnMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBzaGFwZUtleXMpIHtcbiAgICAgIGNvbnN0IGtleVZhbGlkYXRvciA9IHNoYXBlW2tleV07XG4gICAgICBjb25zdCB2YWx1ZSA9IGN0eC5kYXRhW2tleV07XG4gICAgICBwYWlycy5wdXNoKHtcbiAgICAgICAga2V5OiB7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZToga2V5IH0sXG4gICAgICAgIHZhbHVlOiBrZXlWYWxpZGF0b3IuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCB2YWx1ZSwgY3R4LnBhdGgsIGtleSkpLFxuICAgICAgICBhbHdheXNTZXQ6IGtleSBpbiBjdHguZGF0YVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmICh0aGlzLl9kZWYuY2F0Y2hhbGwgaW5zdGFuY2VvZiBab2ROZXZlcikge1xuICAgICAgY29uc3QgdW5rbm93bktleXMgPSB0aGlzLl9kZWYudW5rbm93bktleXM7XG4gICAgICBpZiAodW5rbm93bktleXMgPT09IFwicGFzc3Rocm91Z2hcIikge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBleHRyYUtleXMpIHtcbiAgICAgICAgICBwYWlycy5wdXNoKHtcbiAgICAgICAgICAgIGtleTogeyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWU6IGtleSB9LFxuICAgICAgICAgICAgdmFsdWU6IHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBjdHguZGF0YVtrZXldIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh1bmtub3duS2V5cyA9PT0gXCJzdHJpY3RcIikge1xuICAgICAgICBpZiAoZXh0cmFLZXlzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS51bnJlY29nbml6ZWRfa2V5cyxcbiAgICAgICAgICAgIGtleXM6IGV4dHJhS2V5c1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHVua25vd25LZXlzID09PSBcInN0cmlwXCIpIDtcbiAgICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludGVybmFsIFpvZE9iamVjdCBlcnJvcjogaW52YWxpZCB1bmtub3duS2V5cyB2YWx1ZS5gKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgY2F0Y2hhbGwgPSB0aGlzLl9kZWYuY2F0Y2hhbGw7XG4gICAgICBmb3IgKGNvbnN0IGtleSBvZiBleHRyYUtleXMpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBjdHguZGF0YVtrZXldO1xuICAgICAgICBwYWlycy5wdXNoKHtcbiAgICAgICAgICBrZXk6IHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBrZXkgfSxcbiAgICAgICAgICB2YWx1ZTogY2F0Y2hhbGwuX3BhcnNlKFxuICAgICAgICAgICAgbmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIHZhbHVlLCBjdHgucGF0aCwga2V5KVxuICAgICAgICAgICAgLy8sIGN0eC5jaGlsZChrZXkpLCB2YWx1ZSwgZ2V0UGFyc2VkVHlwZSh2YWx1ZSlcbiAgICAgICAgICApLFxuICAgICAgICAgIGFsd2F5c1NldDoga2V5IGluIGN0eC5kYXRhXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBzeW5jUGFpcnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBwYWlyIG9mIHBhaXJzKSB7XG4gICAgICAgICAgY29uc3Qga2V5ID0gYXdhaXQgcGFpci5rZXk7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSBhd2FpdCBwYWlyLnZhbHVlO1xuICAgICAgICAgIHN5bmNQYWlycy5wdXNoKHtcbiAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgYWx3YXlzU2V0OiBwYWlyLmFsd2F5c1NldFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzeW5jUGFpcnM7XG4gICAgICB9KS50aGVuKChzeW5jUGFpcnMpID0+IHtcbiAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHN5bmNQYWlycyk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHBhaXJzKTtcbiAgICB9XG4gIH1cbiAgZ2V0IHNoYXBlKCkge1xuICAgIHJldHVybiB0aGlzLl9kZWYuc2hhcGUoKTtcbiAgfVxuICBzdHJpY3QobWVzc2FnZSkge1xuICAgIGVycm9yVXRpbC5lcnJUb09iajtcbiAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAuLi50aGlzLl9kZWYsXG4gICAgICB1bmtub3duS2V5czogXCJzdHJpY3RcIixcbiAgICAgIC4uLm1lc3NhZ2UgIT09IHZvaWQgMCA/IHtcbiAgICAgICAgZXJyb3JNYXA6IChpc3N1ZSwgY3R4KSA9PiB7XG4gICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICAgIGNvbnN0IGRlZmF1bHRFcnJvciA9IChfYyA9IChfYiA9IChfYSA9IHRoaXMuX2RlZikuZXJyb3JNYXApID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hLCBpc3N1ZSwgY3R4KS5tZXNzYWdlKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBjdHguZGVmYXVsdEVycm9yO1xuICAgICAgICAgIGlmIChpc3N1ZS5jb2RlID09PSBcInVucmVjb2duaXplZF9rZXlzXCIpXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBtZXNzYWdlOiAoX2QgPSBlcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkubWVzc2FnZSkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogZGVmYXVsdEVycm9yXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXNzYWdlOiBkZWZhdWx0RXJyb3JcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9IDoge31cbiAgICB9KTtcbiAgfVxuICBzdHJpcCgpIHtcbiAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAuLi50aGlzLl9kZWYsXG4gICAgICB1bmtub3duS2V5czogXCJzdHJpcFwiXG4gICAgfSk7XG4gIH1cbiAgcGFzc3Rocm91Z2goKSB7XG4gICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgdW5rbm93bktleXM6IFwicGFzc3Rocm91Z2hcIlxuICAgIH0pO1xuICB9XG4gIC8vIGNvbnN0IEF1Z21lbnRGYWN0b3J5ID1cbiAgLy8gICA8RGVmIGV4dGVuZHMgWm9kT2JqZWN0RGVmPihkZWY6IERlZikgPT5cbiAgLy8gICA8QXVnbWVudGF0aW9uIGV4dGVuZHMgWm9kUmF3U2hhcGU+KFxuICAvLyAgICAgYXVnbWVudGF0aW9uOiBBdWdtZW50YXRpb25cbiAgLy8gICApOiBab2RPYmplY3Q8XG4gIC8vICAgICBleHRlbmRTaGFwZTxSZXR1cm5UeXBlPERlZltcInNoYXBlXCJdPiwgQXVnbWVudGF0aW9uPixcbiAgLy8gICAgIERlZltcInVua25vd25LZXlzXCJdLFxuICAvLyAgICAgRGVmW1wiY2F0Y2hhbGxcIl1cbiAgLy8gICA+ID0+IHtcbiAgLy8gICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgLy8gICAgICAgLi4uZGVmLFxuICAvLyAgICAgICBzaGFwZTogKCkgPT4gKHtcbiAgLy8gICAgICAgICAuLi5kZWYuc2hhcGUoKSxcbiAgLy8gICAgICAgICAuLi5hdWdtZW50YXRpb24sXG4gIC8vICAgICAgIH0pLFxuICAvLyAgICAgfSkgYXMgYW55O1xuICAvLyAgIH07XG4gIGV4dGVuZChhdWdtZW50YXRpb24pIHtcbiAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAuLi50aGlzLl9kZWYsXG4gICAgICBzaGFwZTogKCkgPT4gKHtcbiAgICAgICAgLi4udGhpcy5fZGVmLnNoYXBlKCksXG4gICAgICAgIC4uLmF1Z21lbnRhdGlvblxuICAgICAgfSlcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogUHJpb3IgdG8gem9kQDEuMC4xMiB0aGVyZSB3YXMgYSBidWcgaW4gdGhlXG4gICAqIGluZmVycmVkIHR5cGUgb2YgbWVyZ2VkIG9iamVjdHMuIFBsZWFzZVxuICAgKiB1cGdyYWRlIGlmIHlvdSBhcmUgZXhwZXJpZW5jaW5nIGlzc3Vlcy5cbiAgICovXG4gIG1lcmdlKG1lcmdpbmcpIHtcbiAgICBjb25zdCBtZXJnZWQgPSBuZXcgWm9kT2JqZWN0KHtcbiAgICAgIHVua25vd25LZXlzOiBtZXJnaW5nLl9kZWYudW5rbm93bktleXMsXG4gICAgICBjYXRjaGFsbDogbWVyZ2luZy5fZGVmLmNhdGNoYWxsLFxuICAgICAgc2hhcGU6ICgpID0+ICh7XG4gICAgICAgIC4uLnRoaXMuX2RlZi5zaGFwZSgpLFxuICAgICAgICAuLi5tZXJnaW5nLl9kZWYuc2hhcGUoKVxuICAgICAgfSksXG4gICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdFxuICAgIH0pO1xuICAgIHJldHVybiBtZXJnZWQ7XG4gIH1cbiAgLy8gbWVyZ2U8XG4gIC8vICAgSW5jb21pbmcgZXh0ZW5kcyBBbnlab2RPYmplY3QsXG4gIC8vICAgQXVnbWVudGF0aW9uIGV4dGVuZHMgSW5jb21pbmdbXCJzaGFwZVwiXSxcbiAgLy8gICBOZXdPdXRwdXQgZXh0ZW5kcyB7XG4gIC8vICAgICBbayBpbiBrZXlvZiBBdWdtZW50YXRpb24gfCBrZXlvZiBPdXRwdXRdOiBrIGV4dGVuZHMga2V5b2YgQXVnbWVudGF0aW9uXG4gIC8vICAgICAgID8gQXVnbWVudGF0aW9uW2tdW1wiX291dHB1dFwiXVxuICAvLyAgICAgICA6IGsgZXh0ZW5kcyBrZXlvZiBPdXRwdXRcbiAgLy8gICAgICAgPyBPdXRwdXRba11cbiAgLy8gICAgICAgOiBuZXZlcjtcbiAgLy8gICB9LFxuICAvLyAgIE5ld0lucHV0IGV4dGVuZHMge1xuICAvLyAgICAgW2sgaW4ga2V5b2YgQXVnbWVudGF0aW9uIHwga2V5b2YgSW5wdXRdOiBrIGV4dGVuZHMga2V5b2YgQXVnbWVudGF0aW9uXG4gIC8vICAgICAgID8gQXVnbWVudGF0aW9uW2tdW1wiX2lucHV0XCJdXG4gIC8vICAgICAgIDogayBleHRlbmRzIGtleW9mIElucHV0XG4gIC8vICAgICAgID8gSW5wdXRba11cbiAgLy8gICAgICAgOiBuZXZlcjtcbiAgLy8gICB9XG4gIC8vID4oXG4gIC8vICAgbWVyZ2luZzogSW5jb21pbmdcbiAgLy8gKTogWm9kT2JqZWN0PFxuICAvLyAgIGV4dGVuZFNoYXBlPFQsIFJldHVyblR5cGU8SW5jb21pbmdbXCJfZGVmXCJdW1wic2hhcGVcIl0+PixcbiAgLy8gICBJbmNvbWluZ1tcIl9kZWZcIl1bXCJ1bmtub3duS2V5c1wiXSxcbiAgLy8gICBJbmNvbWluZ1tcIl9kZWZcIl1bXCJjYXRjaGFsbFwiXSxcbiAgLy8gICBOZXdPdXRwdXQsXG4gIC8vICAgTmV3SW5wdXRcbiAgLy8gPiB7XG4gIC8vICAgY29uc3QgbWVyZ2VkOiBhbnkgPSBuZXcgWm9kT2JqZWN0KHtcbiAgLy8gICAgIHVua25vd25LZXlzOiBtZXJnaW5nLl9kZWYudW5rbm93bktleXMsXG4gIC8vICAgICBjYXRjaGFsbDogbWVyZ2luZy5fZGVmLmNhdGNoYWxsLFxuICAvLyAgICAgc2hhcGU6ICgpID0+XG4gIC8vICAgICAgIG9iamVjdFV0aWwubWVyZ2VTaGFwZXModGhpcy5fZGVmLnNoYXBlKCksIG1lcmdpbmcuX2RlZi5zaGFwZSgpKSxcbiAgLy8gICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAvLyAgIH0pIGFzIGFueTtcbiAgLy8gICByZXR1cm4gbWVyZ2VkO1xuICAvLyB9XG4gIHNldEtleShrZXksIHNjaGVtYSkge1xuICAgIHJldHVybiB0aGlzLmF1Z21lbnQoeyBba2V5XTogc2NoZW1hIH0pO1xuICB9XG4gIC8vIG1lcmdlPEluY29taW5nIGV4dGVuZHMgQW55Wm9kT2JqZWN0PihcbiAgLy8gICBtZXJnaW5nOiBJbmNvbWluZ1xuICAvLyApOiAvL1pvZE9iamVjdDxUICYgSW5jb21pbmdbXCJfc2hhcGVcIl0sIFVua25vd25LZXlzLCBDYXRjaGFsbD4gPSAobWVyZ2luZykgPT4ge1xuICAvLyBab2RPYmplY3Q8XG4gIC8vICAgZXh0ZW5kU2hhcGU8VCwgUmV0dXJuVHlwZTxJbmNvbWluZ1tcIl9kZWZcIl1bXCJzaGFwZVwiXT4+LFxuICAvLyAgIEluY29taW5nW1wiX2RlZlwiXVtcInVua25vd25LZXlzXCJdLFxuICAvLyAgIEluY29taW5nW1wiX2RlZlwiXVtcImNhdGNoYWxsXCJdXG4gIC8vID4ge1xuICAvLyAgIC8vIGNvbnN0IG1lcmdlZFNoYXBlID0gb2JqZWN0VXRpbC5tZXJnZVNoYXBlcyhcbiAgLy8gICAvLyAgIHRoaXMuX2RlZi5zaGFwZSgpLFxuICAvLyAgIC8vICAgbWVyZ2luZy5fZGVmLnNoYXBlKClcbiAgLy8gICAvLyApO1xuICAvLyAgIGNvbnN0IG1lcmdlZDogYW55ID0gbmV3IFpvZE9iamVjdCh7XG4gIC8vICAgICB1bmtub3duS2V5czogbWVyZ2luZy5fZGVmLnVua25vd25LZXlzLFxuICAvLyAgICAgY2F0Y2hhbGw6IG1lcmdpbmcuX2RlZi5jYXRjaGFsbCxcbiAgLy8gICAgIHNoYXBlOiAoKSA9PlxuICAvLyAgICAgICBvYmplY3RVdGlsLm1lcmdlU2hhcGVzKHRoaXMuX2RlZi5zaGFwZSgpLCBtZXJnaW5nLl9kZWYuc2hhcGUoKSksXG4gIC8vICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgLy8gICB9KSBhcyBhbnk7XG4gIC8vICAgcmV0dXJuIG1lcmdlZDtcbiAgLy8gfVxuICBjYXRjaGFsbChpbmRleDIpIHtcbiAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAuLi50aGlzLl9kZWYsXG4gICAgICBjYXRjaGFsbDogaW5kZXgyXG4gICAgfSk7XG4gIH1cbiAgcGljayhtYXNrKSB7XG4gICAgY29uc3Qgc2hhcGUgPSB7fTtcbiAgICB1dGlsLm9iamVjdEtleXMobWFzaykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBpZiAobWFza1trZXldICYmIHRoaXMuc2hhcGVba2V5XSkge1xuICAgICAgICBzaGFwZVtrZXldID0gdGhpcy5zaGFwZVtrZXldO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgIHNoYXBlOiAoKSA9PiBzaGFwZVxuICAgIH0pO1xuICB9XG4gIG9taXQobWFzaykge1xuICAgIGNvbnN0IHNoYXBlID0ge307XG4gICAgdXRpbC5vYmplY3RLZXlzKHRoaXMuc2hhcGUpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgaWYgKCFtYXNrW2tleV0pIHtcbiAgICAgICAgc2hhcGVba2V5XSA9IHRoaXMuc2hhcGVba2V5XTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAuLi50aGlzLl9kZWYsXG4gICAgICBzaGFwZTogKCkgPT4gc2hhcGVcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQGRlcHJlY2F0ZWRcbiAgICovXG4gIGRlZXBQYXJ0aWFsKCkge1xuICAgIHJldHVybiBkZWVwUGFydGlhbGlmeSh0aGlzKTtcbiAgfVxuICBwYXJ0aWFsKG1hc2spIHtcbiAgICBjb25zdCBuZXdTaGFwZSA9IHt9O1xuICAgIHV0aWwub2JqZWN0S2V5cyh0aGlzLnNoYXBlKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIGNvbnN0IGZpZWxkU2NoZW1hID0gdGhpcy5zaGFwZVtrZXldO1xuICAgICAgaWYgKG1hc2sgJiYgIW1hc2tba2V5XSkge1xuICAgICAgICBuZXdTaGFwZVtrZXldID0gZmllbGRTY2hlbWE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdTaGFwZVtrZXldID0gZmllbGRTY2hlbWEub3B0aW9uYWwoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAuLi50aGlzLl9kZWYsXG4gICAgICBzaGFwZTogKCkgPT4gbmV3U2hhcGVcbiAgICB9KTtcbiAgfVxuICByZXF1aXJlZChtYXNrKSB7XG4gICAgY29uc3QgbmV3U2hhcGUgPSB7fTtcbiAgICB1dGlsLm9iamVjdEtleXModGhpcy5zaGFwZSkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBpZiAobWFzayAmJiAhbWFza1trZXldKSB7XG4gICAgICAgIG5ld1NoYXBlW2tleV0gPSB0aGlzLnNoYXBlW2tleV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBmaWVsZFNjaGVtYSA9IHRoaXMuc2hhcGVba2V5XTtcbiAgICAgICAgbGV0IG5ld0ZpZWxkID0gZmllbGRTY2hlbWE7XG4gICAgICAgIHdoaWxlIChuZXdGaWVsZCBpbnN0YW5jZW9mIFpvZE9wdGlvbmFsKSB7XG4gICAgICAgICAgbmV3RmllbGQgPSBuZXdGaWVsZC5fZGVmLmlubmVyVHlwZTtcbiAgICAgICAgfVxuICAgICAgICBuZXdTaGFwZVtrZXldID0gbmV3RmllbGQ7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgc2hhcGU6ICgpID0+IG5ld1NoYXBlXG4gICAgfSk7XG4gIH1cbiAga2V5b2YoKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVpvZEVudW0odXRpbC5vYmplY3RLZXlzKHRoaXMuc2hhcGUpKTtcbiAgfVxufVxuWm9kT2JqZWN0LmNyZWF0ZSA9IChzaGFwZSwgcGFyYW1zKSA9PiB7XG4gIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICBzaGFwZTogKCkgPT4gc2hhcGUsXG4gICAgdW5rbm93bktleXM6IFwic3RyaXBcIixcbiAgICBjYXRjaGFsbDogWm9kTmV2ZXIuY3JlYXRlKCksXG4gICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3QsXG4gICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gIH0pO1xufTtcblpvZE9iamVjdC5zdHJpY3RDcmVhdGUgPSAoc2hhcGUsIHBhcmFtcykgPT4ge1xuICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgc2hhcGU6ICgpID0+IHNoYXBlLFxuICAgIHVua25vd25LZXlzOiBcInN0cmljdFwiLFxuICAgIGNhdGNoYWxsOiBab2ROZXZlci5jcmVhdGUoKSxcbiAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgfSk7XG59O1xuWm9kT2JqZWN0LmxhenljcmVhdGUgPSAoc2hhcGUsIHBhcmFtcykgPT4ge1xuICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgc2hhcGUsXG4gICAgdW5rbm93bktleXM6IFwic3RyaXBcIixcbiAgICBjYXRjaGFsbDogWm9kTmV2ZXIuY3JlYXRlKCksXG4gICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3QsXG4gICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gIH0pO1xufTtcbmNsYXNzIFpvZFVuaW9uIGV4dGVuZHMgWm9kVHlwZSB7XG4gIF9wYXJzZShpbnB1dCkge1xuICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLl9kZWYub3B0aW9ucztcbiAgICBmdW5jdGlvbiBoYW5kbGVSZXN1bHRzKHJlc3VsdHMpIHtcbiAgICAgIGZvciAoY29uc3QgcmVzdWx0IG9mIHJlc3VsdHMpIHtcbiAgICAgICAgaWYgKHJlc3VsdC5yZXN1bHQuc3RhdHVzID09PSBcInZhbGlkXCIpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0LnJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yIChjb25zdCByZXN1bHQgb2YgcmVzdWx0cykge1xuICAgICAgICBpZiAocmVzdWx0LnJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIikge1xuICAgICAgICAgIGN0eC5jb21tb24uaXNzdWVzLnB1c2goLi4ucmVzdWx0LmN0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0LnJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgdW5pb25FcnJvcnMgPSByZXN1bHRzLm1hcCgocmVzdWx0KSA9PiBuZXcgWm9kRXJyb3IocmVzdWx0LmN0eC5jb21tb24uaXNzdWVzKSk7XG4gICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdW5pb24sXG4gICAgICAgIHVuaW9uRXJyb3JzXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBJTlZBTElEO1xuICAgIH1cbiAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKG9wdGlvbnMubWFwKGFzeW5jIChvcHRpb24pID0+IHtcbiAgICAgICAgY29uc3QgY2hpbGRDdHggPSB7XG4gICAgICAgICAgLi4uY3R4LFxuICAgICAgICAgIGNvbW1vbjoge1xuICAgICAgICAgICAgLi4uY3R4LmNvbW1vbixcbiAgICAgICAgICAgIGlzc3VlczogW11cbiAgICAgICAgICB9LFxuICAgICAgICAgIHBhcmVudDogbnVsbFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlc3VsdDogYXdhaXQgb3B0aW9uLl9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICBwYXJlbnQ6IGNoaWxkQ3R4XG4gICAgICAgICAgfSksXG4gICAgICAgICAgY3R4OiBjaGlsZEN0eFxuICAgICAgICB9O1xuICAgICAgfSkpLnRoZW4oaGFuZGxlUmVzdWx0cyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBkaXJ0eSA9IHZvaWQgMDtcbiAgICAgIGNvbnN0IGlzc3VlcyA9IFtdO1xuICAgICAgZm9yIChjb25zdCBvcHRpb24gb2Ygb3B0aW9ucykge1xuICAgICAgICBjb25zdCBjaGlsZEN0eCA9IHtcbiAgICAgICAgICAuLi5jdHgsXG4gICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAuLi5jdHguY29tbW9uLFxuICAgICAgICAgICAgaXNzdWVzOiBbXVxuICAgICAgICAgIH0sXG4gICAgICAgICAgcGFyZW50OiBudWxsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG9wdGlvbi5fcGFyc2VTeW5jKHtcbiAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICBwYXJlbnQ6IGNoaWxkQ3R4XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJ2YWxpZFwiKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQuc3RhdHVzID09PSBcImRpcnR5XCIgJiYgIWRpcnR5KSB7XG4gICAgICAgICAgZGlydHkgPSB7IHJlc3VsdCwgY3R4OiBjaGlsZEN0eCB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGlsZEN0eC5jb21tb24uaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICAgIGlzc3Vlcy5wdXNoKGNoaWxkQ3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZGlydHkpIHtcbiAgICAgICAgY3R4LmNvbW1vbi5pc3N1ZXMucHVzaCguLi5kaXJ0eS5jdHguY29tbW9uLmlzc3Vlcyk7XG4gICAgICAgIHJldHVybiBkaXJ0eS5yZXN1bHQ7XG4gICAgICB9XG4gICAgICBjb25zdCB1bmlvbkVycm9ycyA9IGlzc3Vlcy5tYXAoKGlzc3VlczIpID0+IG5ldyBab2RFcnJvcihpc3N1ZXMyKSk7XG4gICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdW5pb24sXG4gICAgICAgIHVuaW9uRXJyb3JzXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBJTlZBTElEO1xuICAgIH1cbiAgfVxuICBnZXQgb3B0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5fZGVmLm9wdGlvbnM7XG4gIH1cbn1cblpvZFVuaW9uLmNyZWF0ZSA9ICh0eXBlcywgcGFyYW1zKSA9PiB7XG4gIHJldHVybiBuZXcgWm9kVW5pb24oe1xuICAgIG9wdGlvbnM6IHR5cGVzLFxuICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVW5pb24sXG4gICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gIH0pO1xufTtcbmNvbnN0IGdldERpc2NyaW1pbmF0b3IgPSAodHlwZSkgPT4ge1xuICBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZExhenkpIHtcbiAgICByZXR1cm4gZ2V0RGlzY3JpbWluYXRvcih0eXBlLnNjaGVtYSk7XG4gIH0gZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZEVmZmVjdHMpIHtcbiAgICByZXR1cm4gZ2V0RGlzY3JpbWluYXRvcih0eXBlLmlubmVyVHlwZSgpKTtcbiAgfSBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kTGl0ZXJhbCkge1xuICAgIHJldHVybiBbdHlwZS52YWx1ZV07XG4gIH0gZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZEVudW0pIHtcbiAgICByZXR1cm4gdHlwZS5vcHRpb25zO1xuICB9IGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2ROYXRpdmVFbnVtKSB7XG4gICAgcmV0dXJuIHV0aWwub2JqZWN0VmFsdWVzKHR5cGUuZW51bSk7XG4gIH0gZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZERlZmF1bHQpIHtcbiAgICByZXR1cm4gZ2V0RGlzY3JpbWluYXRvcih0eXBlLl9kZWYuaW5uZXJUeXBlKTtcbiAgfSBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kVW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIFt2b2lkIDBdO1xuICB9IGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2ROdWxsKSB7XG4gICAgcmV0dXJuIFtudWxsXTtcbiAgfSBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kT3B0aW9uYWwpIHtcbiAgICByZXR1cm4gW3ZvaWQgMCwgLi4uZ2V0RGlzY3JpbWluYXRvcih0eXBlLnVud3JhcCgpKV07XG4gIH0gZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZE51bGxhYmxlKSB7XG4gICAgcmV0dXJuIFtudWxsLCAuLi5nZXREaXNjcmltaW5hdG9yKHR5cGUudW53cmFwKCkpXTtcbiAgfSBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kQnJhbmRlZCkge1xuICAgIHJldHVybiBnZXREaXNjcmltaW5hdG9yKHR5cGUudW53cmFwKCkpO1xuICB9IGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RSZWFkb25seSkge1xuICAgIHJldHVybiBnZXREaXNjcmltaW5hdG9yKHR5cGUudW53cmFwKCkpO1xuICB9IGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RDYXRjaCkge1xuICAgIHJldHVybiBnZXREaXNjcmltaW5hdG9yKHR5cGUuX2RlZi5pbm5lclR5cGUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBbXTtcbiAgfVxufTtcbmNsYXNzIFpvZERpc2NyaW1pbmF0ZWRVbmlvbiBleHRlbmRzIFpvZFR5cGUge1xuICBfcGFyc2UoaW5wdXQpIHtcbiAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUub2JqZWN0KSB7XG4gICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUub2JqZWN0LFxuICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGVcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgfVxuICAgIGNvbnN0IGRpc2NyaW1pbmF0b3IgPSB0aGlzLmRpc2NyaW1pbmF0b3I7XG4gICAgY29uc3QgZGlzY3JpbWluYXRvclZhbHVlID0gY3R4LmRhdGFbZGlzY3JpbWluYXRvcl07XG4gICAgY29uc3Qgb3B0aW9uID0gdGhpcy5vcHRpb25zTWFwLmdldChkaXNjcmltaW5hdG9yVmFsdWUpO1xuICAgIGlmICghb3B0aW9uKSB7XG4gICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdW5pb25fZGlzY3JpbWluYXRvcixcbiAgICAgICAgb3B0aW9uczogQXJyYXkuZnJvbSh0aGlzLm9wdGlvbnNNYXAua2V5cygpKSxcbiAgICAgICAgcGF0aDogW2Rpc2NyaW1pbmF0b3JdXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBJTlZBTElEO1xuICAgIH1cbiAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgcmV0dXJuIG9wdGlvbi5fcGFyc2VBc3luYyh7XG4gICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgcGFyZW50OiBjdHhcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gb3B0aW9uLl9wYXJzZVN5bmMoe1xuICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgIHBhcmVudDogY3R4XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgZ2V0IGRpc2NyaW1pbmF0b3IoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RlZi5kaXNjcmltaW5hdG9yO1xuICB9XG4gIGdldCBvcHRpb25zKCkge1xuICAgIHJldHVybiB0aGlzLl9kZWYub3B0aW9ucztcbiAgfVxuICBnZXQgb3B0aW9uc01hcCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZGVmLm9wdGlvbnNNYXA7XG4gIH1cbiAgLyoqXG4gICAqIFRoZSBjb25zdHJ1Y3RvciBvZiB0aGUgZGlzY3JpbWluYXRlZCB1bmlvbiBzY2hlbWEuIEl0cyBiZWhhdmlvdXIgaXMgdmVyeSBzaW1pbGFyIHRvIHRoYXQgb2YgdGhlIG5vcm1hbCB6LnVuaW9uKCkgY29uc3RydWN0b3IuXG4gICAqIEhvd2V2ZXIsIGl0IG9ubHkgYWxsb3dzIGEgdW5pb24gb2Ygb2JqZWN0cywgYWxsIG9mIHdoaWNoIG5lZWQgdG8gc2hhcmUgYSBkaXNjcmltaW5hdG9yIHByb3BlcnR5LiBUaGlzIHByb3BlcnR5IG11c3RcbiAgICogaGF2ZSBhIGRpZmZlcmVudCB2YWx1ZSBmb3IgZWFjaCBvYmplY3QgaW4gdGhlIHVuaW9uLlxuICAgKiBAcGFyYW0gZGlzY3JpbWluYXRvciB0aGUgbmFtZSBvZiB0aGUgZGlzY3JpbWluYXRvciBwcm9wZXJ0eVxuICAgKiBAcGFyYW0gdHlwZXMgYW4gYXJyYXkgb2Ygb2JqZWN0IHNjaGVtYXNcbiAgICogQHBhcmFtIHBhcmFtc1xuICAgKi9cbiAgc3RhdGljIGNyZWF0ZShkaXNjcmltaW5hdG9yLCBvcHRpb25zLCBwYXJhbXMpIHtcbiAgICBjb25zdCBvcHRpb25zTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICBmb3IgKGNvbnN0IHR5cGUgb2Ygb3B0aW9ucykge1xuICAgICAgY29uc3QgZGlzY3JpbWluYXRvclZhbHVlcyA9IGdldERpc2NyaW1pbmF0b3IodHlwZS5zaGFwZVtkaXNjcmltaW5hdG9yXSk7XG4gICAgICBpZiAoIWRpc2NyaW1pbmF0b3JWYWx1ZXMubGVuZ3RoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQSBkaXNjcmltaW5hdG9yIHZhbHVlIGZvciBrZXkgXFxgJHtkaXNjcmltaW5hdG9yfVxcYCBjb3VsZCBub3QgYmUgZXh0cmFjdGVkIGZyb20gYWxsIHNjaGVtYSBvcHRpb25zYCk7XG4gICAgICB9XG4gICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIGRpc2NyaW1pbmF0b3JWYWx1ZXMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnNNYXAuaGFzKHZhbHVlKSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRGlzY3JpbWluYXRvciBwcm9wZXJ0eSAke1N0cmluZyhkaXNjcmltaW5hdG9yKX0gaGFzIGR1cGxpY2F0ZSB2YWx1ZSAke1N0cmluZyh2YWx1ZSl9YCk7XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9uc01hcC5zZXQodmFsdWUsIHR5cGUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3IFpvZERpc2NyaW1pbmF0ZWRVbmlvbih7XG4gICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERpc2NyaW1pbmF0ZWRVbmlvbixcbiAgICAgIGRpc2NyaW1pbmF0b3IsXG4gICAgICBvcHRpb25zLFxuICAgICAgb3B0aW9uc01hcCxcbiAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xuICB9XG59XG5mdW5jdGlvbiBtZXJnZVZhbHVlcyhhMywgYjIpIHtcbiAgY29uc3QgYVR5cGUgPSBnZXRQYXJzZWRUeXBlKGEzKTtcbiAgY29uc3QgYlR5cGUgPSBnZXRQYXJzZWRUeXBlKGIyKTtcbiAgaWYgKGEzID09PSBiMikge1xuICAgIHJldHVybiB7IHZhbGlkOiB0cnVlLCBkYXRhOiBhMyB9O1xuICB9IGVsc2UgaWYgKGFUeXBlID09PSBab2RQYXJzZWRUeXBlLm9iamVjdCAmJiBiVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5vYmplY3QpIHtcbiAgICBjb25zdCBiS2V5cyA9IHV0aWwub2JqZWN0S2V5cyhiMik7XG4gICAgY29uc3Qgc2hhcmVkS2V5cyA9IHV0aWwub2JqZWN0S2V5cyhhMykuZmlsdGVyKChrZXkpID0+IGJLZXlzLmluZGV4T2Yoa2V5KSAhPT0gLTEpO1xuICAgIGNvbnN0IG5ld09iaiA9IHsgLi4uYTMsIC4uLmIyIH07XG4gICAgZm9yIChjb25zdCBrZXkgb2Ygc2hhcmVkS2V5cykge1xuICAgICAgY29uc3Qgc2hhcmVkVmFsdWUgPSBtZXJnZVZhbHVlcyhhM1trZXldLCBiMltrZXldKTtcbiAgICAgIGlmICghc2hhcmVkVmFsdWUudmFsaWQpIHtcbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlIH07XG4gICAgICB9XG4gICAgICBuZXdPYmpba2V5XSA9IHNoYXJlZFZhbHVlLmRhdGE7XG4gICAgfVxuICAgIHJldHVybiB7IHZhbGlkOiB0cnVlLCBkYXRhOiBuZXdPYmogfTtcbiAgfSBlbHNlIGlmIChhVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5hcnJheSAmJiBiVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5hcnJheSkge1xuICAgIGlmIChhMy5sZW5ndGggIT09IGIyLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlIH07XG4gICAgfVxuICAgIGNvbnN0IG5ld0FycmF5ID0gW107XG4gICAgZm9yIChsZXQgaW5kZXgyID0gMDsgaW5kZXgyIDwgYTMubGVuZ3RoOyBpbmRleDIrKykge1xuICAgICAgY29uc3QgaXRlbUEgPSBhM1tpbmRleDJdO1xuICAgICAgY29uc3QgaXRlbUIgPSBiMltpbmRleDJdO1xuICAgICAgY29uc3Qgc2hhcmVkVmFsdWUgPSBtZXJnZVZhbHVlcyhpdGVtQSwgaXRlbUIpO1xuICAgICAgaWYgKCFzaGFyZWRWYWx1ZS52YWxpZCkge1xuICAgICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UgfTtcbiAgICAgIH1cbiAgICAgIG5ld0FycmF5LnB1c2goc2hhcmVkVmFsdWUuZGF0YSk7XG4gICAgfVxuICAgIHJldHVybiB7IHZhbGlkOiB0cnVlLCBkYXRhOiBuZXdBcnJheSB9O1xuICB9IGVsc2UgaWYgKGFUeXBlID09PSBab2RQYXJzZWRUeXBlLmRhdGUgJiYgYlR5cGUgPT09IFpvZFBhcnNlZFR5cGUuZGF0ZSAmJiArYTMgPT09ICtiMikge1xuICAgIHJldHVybiB7IHZhbGlkOiB0cnVlLCBkYXRhOiBhMyB9O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSB9O1xuICB9XG59XG5jbGFzcyBab2RJbnRlcnNlY3Rpb24gZXh0ZW5kcyBab2RUeXBlIHtcbiAgX3BhcnNlKGlucHV0KSB7XG4gICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICBjb25zdCBoYW5kbGVQYXJzZWQgPSAocGFyc2VkTGVmdCwgcGFyc2VkUmlnaHQpID0+IHtcbiAgICAgIGlmIChpc0Fib3J0ZWQocGFyc2VkTGVmdCkgfHwgaXNBYm9ydGVkKHBhcnNlZFJpZ2h0KSkge1xuICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG1lcmdlZCA9IG1lcmdlVmFsdWVzKHBhcnNlZExlZnQudmFsdWUsIHBhcnNlZFJpZ2h0LnZhbHVlKTtcbiAgICAgIGlmICghbWVyZ2VkLnZhbGlkKSB7XG4gICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX2ludGVyc2VjdGlvbl90eXBlc1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICB9XG4gICAgICBpZiAoaXNEaXJ0eShwYXJzZWRMZWZ0KSB8fCBpc0RpcnR5KHBhcnNlZFJpZ2h0KSkge1xuICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogbWVyZ2VkLmRhdGEgfTtcbiAgICB9O1xuICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgICB0aGlzLl9kZWYubGVmdC5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgcGFyZW50OiBjdHhcbiAgICAgICAgfSksXG4gICAgICAgIHRoaXMuX2RlZi5yaWdodC5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgcGFyZW50OiBjdHhcbiAgICAgICAgfSlcbiAgICAgIF0pLnRoZW4oKFtsZWZ0LCByaWdodF0pID0+IGhhbmRsZVBhcnNlZChsZWZ0LCByaWdodCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaGFuZGxlUGFyc2VkKHRoaXMuX2RlZi5sZWZ0Ll9wYXJzZVN5bmMoe1xuICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgIHBhcmVudDogY3R4XG4gICAgICB9KSwgdGhpcy5fZGVmLnJpZ2h0Ll9wYXJzZVN5bmMoe1xuICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgIHBhcmVudDogY3R4XG4gICAgICB9KSk7XG4gICAgfVxuICB9XG59XG5ab2RJbnRlcnNlY3Rpb24uY3JlYXRlID0gKGxlZnQsIHJpZ2h0LCBwYXJhbXMpID0+IHtcbiAgcmV0dXJuIG5ldyBab2RJbnRlcnNlY3Rpb24oe1xuICAgIGxlZnQsXG4gICAgcmlnaHQsXG4gICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RJbnRlcnNlY3Rpb24sXG4gICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gIH0pO1xufTtcbmNsYXNzIFpvZFR1cGxlIGV4dGVuZHMgWm9kVHlwZSB7XG4gIF9wYXJzZShpbnB1dCkge1xuICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLmFycmF5KSB7XG4gICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuYXJyYXksXG4gICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICB9XG4gICAgaWYgKGN0eC5kYXRhLmxlbmd0aCA8IHRoaXMuX2RlZi5pdGVtcy5sZW5ndGgpIHtcbiAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICBtaW5pbXVtOiB0aGlzLl9kZWYuaXRlbXMubGVuZ3RoLFxuICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgdHlwZTogXCJhcnJheVwiXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBJTlZBTElEO1xuICAgIH1cbiAgICBjb25zdCByZXN0ID0gdGhpcy5fZGVmLnJlc3Q7XG4gICAgaWYgKCFyZXN0ICYmIGN0eC5kYXRhLmxlbmd0aCA+IHRoaXMuX2RlZi5pdGVtcy5sZW5ndGgpIHtcbiAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgbWF4aW11bTogdGhpcy5fZGVmLml0ZW1zLmxlbmd0aCxcbiAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgIHR5cGU6IFwiYXJyYXlcIlxuICAgICAgfSk7XG4gICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICB9XG4gICAgY29uc3QgaXRlbXMgPSBbLi4uY3R4LmRhdGFdLm1hcCgoaXRlbSwgaXRlbUluZGV4KSA9PiB7XG4gICAgICBjb25zdCBzY2hlbWEgPSB0aGlzLl9kZWYuaXRlbXNbaXRlbUluZGV4XSB8fCB0aGlzLl9kZWYucmVzdDtcbiAgICAgIGlmICghc2NoZW1hKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIHJldHVybiBzY2hlbWEuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBpdGVtLCBjdHgucGF0aCwgaXRlbUluZGV4KSk7XG4gICAgfSkuZmlsdGVyKCh4MikgPT4gISF4Mik7XG4gICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChpdGVtcykudGhlbigocmVzdWx0cykgPT4ge1xuICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VBcnJheShzdGF0dXMsIHJlc3VsdHMpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZUFycmF5KHN0YXR1cywgaXRlbXMpO1xuICAgIH1cbiAgfVxuICBnZXQgaXRlbXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RlZi5pdGVtcztcbiAgfVxuICByZXN0KHJlc3QpIHtcbiAgICByZXR1cm4gbmV3IFpvZFR1cGxlKHtcbiAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgIHJlc3RcbiAgICB9KTtcbiAgfVxufVxuWm9kVHVwbGUuY3JlYXRlID0gKHNjaGVtYXMsIHBhcmFtcykgPT4ge1xuICBpZiAoIUFycmF5LmlzQXJyYXkoc2NoZW1hcykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3UgbXVzdCBwYXNzIGFuIGFycmF5IG9mIHNjaGVtYXMgdG8gei50dXBsZShbIC4uLiBdKVwiKTtcbiAgfVxuICByZXR1cm4gbmV3IFpvZFR1cGxlKHtcbiAgICBpdGVtczogc2NoZW1hcyxcbiAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFR1cGxlLFxuICAgIHJlc3Q6IG51bGwsXG4gICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gIH0pO1xufTtcbmNsYXNzIFpvZFJlY29yZCBleHRlbmRzIFpvZFR5cGUge1xuICBnZXQga2V5U2NoZW1hKCkge1xuICAgIHJldHVybiB0aGlzLl9kZWYua2V5VHlwZTtcbiAgfVxuICBnZXQgdmFsdWVTY2hlbWEoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gIH1cbiAgX3BhcnNlKGlucHV0KSB7XG4gICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUub2JqZWN0KSB7XG4gICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUub2JqZWN0LFxuICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGVcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgfVxuICAgIGNvbnN0IHBhaXJzID0gW107XG4gICAgY29uc3Qga2V5VHlwZSA9IHRoaXMuX2RlZi5rZXlUeXBlO1xuICAgIGNvbnN0IHZhbHVlVHlwZSA9IHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gY3R4LmRhdGEpIHtcbiAgICAgIHBhaXJzLnB1c2goe1xuICAgICAgICBrZXk6IGtleVR5cGUuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBrZXksIGN0eC5wYXRoLCBrZXkpKSxcbiAgICAgICAgdmFsdWU6IHZhbHVlVHlwZS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGN0eC5kYXRhW2tleV0sIGN0eC5wYXRoLCBrZXkpKSxcbiAgICAgICAgYWx3YXlzU2V0OiBrZXkgaW4gY3R4LmRhdGFcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlT2JqZWN0QXN5bmMoc3RhdHVzLCBwYWlycyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZU9iamVjdFN5bmMoc3RhdHVzLCBwYWlycyk7XG4gICAgfVxuICB9XG4gIGdldCBlbGVtZW50KCkge1xuICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICB9XG4gIHN0YXRpYyBjcmVhdGUoZmlyc3QsIHNlY29uZCwgdGhpcmQpIHtcbiAgICBpZiAoc2Vjb25kIGluc3RhbmNlb2YgWm9kVHlwZSkge1xuICAgICAgcmV0dXJuIG5ldyBab2RSZWNvcmQoe1xuICAgICAgICBrZXlUeXBlOiBmaXJzdCxcbiAgICAgICAgdmFsdWVUeXBlOiBzZWNvbmQsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUmVjb3JkLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHRoaXJkKVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgWm9kUmVjb3JkKHtcbiAgICAgIGtleVR5cGU6IFpvZFN0cmluZy5jcmVhdGUoKSxcbiAgICAgIHZhbHVlVHlwZTogZmlyc3QsXG4gICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFJlY29yZCxcbiAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMoc2Vjb25kKVxuICAgIH0pO1xuICB9XG59XG5jbGFzcyBab2RNYXAgZXh0ZW5kcyBab2RUeXBlIHtcbiAgZ2V0IGtleVNjaGVtYSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZGVmLmtleVR5cGU7XG4gIH1cbiAgZ2V0IHZhbHVlU2NoZW1hKCkge1xuICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICB9XG4gIF9wYXJzZShpbnB1dCkge1xuICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm1hcCkge1xuICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLm1hcCxcbiAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBJTlZBTElEO1xuICAgIH1cbiAgICBjb25zdCBrZXlUeXBlID0gdGhpcy5fZGVmLmtleVR5cGU7XG4gICAgY29uc3QgdmFsdWVUeXBlID0gdGhpcy5fZGVmLnZhbHVlVHlwZTtcbiAgICBjb25zdCBwYWlycyA9IFsuLi5jdHguZGF0YS5lbnRyaWVzKCldLm1hcCgoW2tleSwgdmFsdWVdLCBpbmRleDIpID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGtleToga2V5VHlwZS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGtleSwgY3R4LnBhdGgsIFtpbmRleDIsIFwia2V5XCJdKSksXG4gICAgICAgIHZhbHVlOiB2YWx1ZVR5cGUuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCB2YWx1ZSwgY3R4LnBhdGgsIFtpbmRleDIsIFwidmFsdWVcIl0pKVxuICAgICAgfTtcbiAgICB9KTtcbiAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgY29uc3QgZmluYWxNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oYXN5bmMgKCkgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgcGFpcnMpIHtcbiAgICAgICAgICBjb25zdCBrZXkgPSBhd2FpdCBwYWlyLmtleTtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IHBhaXIudmFsdWU7XG4gICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiIHx8IHZhbHVlLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJkaXJ0eVwiIHx8IHZhbHVlLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKSB7XG4gICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZmluYWxNYXAuc2V0KGtleS52YWx1ZSwgdmFsdWUudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogZmluYWxNYXAgfTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBmaW5hbE1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgcGFpcnMpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gcGFpci5rZXk7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gcGFpci52YWx1ZTtcbiAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiIHx8IHZhbHVlLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpIHtcbiAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJkaXJ0eVwiIHx8IHZhbHVlLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKSB7XG4gICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxNYXAuc2V0KGtleS52YWx1ZSwgdmFsdWUudmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBmaW5hbE1hcCB9O1xuICAgIH1cbiAgfVxufVxuWm9kTWFwLmNyZWF0ZSA9IChrZXlUeXBlLCB2YWx1ZVR5cGUsIHBhcmFtcykgPT4ge1xuICByZXR1cm4gbmV3IFpvZE1hcCh7XG4gICAgdmFsdWVUeXBlLFxuICAgIGtleVR5cGUsXG4gICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RNYXAsXG4gICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gIH0pO1xufTtcbmNsYXNzIFpvZFNldCBleHRlbmRzIFpvZFR5cGUge1xuICBfcGFyc2UoaW5wdXQpIHtcbiAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5zZXQpIHtcbiAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5zZXQsXG4gICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICB9XG4gICAgY29uc3QgZGVmID0gdGhpcy5fZGVmO1xuICAgIGlmIChkZWYubWluU2l6ZSAhPT0gbnVsbCkge1xuICAgICAgaWYgKGN0eC5kYXRhLnNpemUgPCBkZWYubWluU2l6ZS52YWx1ZSkge1xuICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgIG1pbmltdW06IGRlZi5taW5TaXplLnZhbHVlLFxuICAgICAgICAgIHR5cGU6IFwic2V0XCIsXG4gICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICBtZXNzYWdlOiBkZWYubWluU2l6ZS5tZXNzYWdlXG4gICAgICAgIH0pO1xuICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGRlZi5tYXhTaXplICE9PSBudWxsKSB7XG4gICAgICBpZiAoY3R4LmRhdGEuc2l6ZSA+IGRlZi5tYXhTaXplLnZhbHVlKSB7XG4gICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgIG1heGltdW06IGRlZi5tYXhTaXplLnZhbHVlLFxuICAgICAgICAgIHR5cGU6IFwic2V0XCIsXG4gICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICBtZXNzYWdlOiBkZWYubWF4U2l6ZS5tZXNzYWdlXG4gICAgICAgIH0pO1xuICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgdmFsdWVUeXBlID0gdGhpcy5fZGVmLnZhbHVlVHlwZTtcbiAgICBmdW5jdGlvbiBmaW5hbGl6ZVNldChlbGVtZW50czIpIHtcbiAgICAgIGNvbnN0IHBhcnNlZFNldCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxlbWVudHMyKSB7XG4gICAgICAgIGlmIChlbGVtZW50LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIGlmIChlbGVtZW50LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICBwYXJzZWRTZXQuYWRkKGVsZW1lbnQudmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBwYXJzZWRTZXQgfTtcbiAgICB9XG4gICAgY29uc3QgZWxlbWVudHMgPSBbLi4uY3R4LmRhdGEudmFsdWVzKCldLm1hcCgoaXRlbSwgaTIpID0+IHZhbHVlVHlwZS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGl0ZW0sIGN0eC5wYXRoLCBpMikpKTtcbiAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGVsZW1lbnRzKS50aGVuKChlbGVtZW50czIpID0+IGZpbmFsaXplU2V0KGVsZW1lbnRzMikpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmluYWxpemVTZXQoZWxlbWVudHMpO1xuICAgIH1cbiAgfVxuICBtaW4obWluU2l6ZSwgbWVzc2FnZSkge1xuICAgIHJldHVybiBuZXcgWm9kU2V0KHtcbiAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgIG1pblNpemU6IHsgdmFsdWU6IG1pblNpemUsIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSB9XG4gICAgfSk7XG4gIH1cbiAgbWF4KG1heFNpemUsIG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gbmV3IFpvZFNldCh7XG4gICAgICAuLi50aGlzLl9kZWYsXG4gICAgICBtYXhTaXplOiB7IHZhbHVlOiBtYXhTaXplLCBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkgfVxuICAgIH0pO1xuICB9XG4gIHNpemUoc2l6ZTIsIG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gdGhpcy5taW4oc2l6ZTIsIG1lc3NhZ2UpLm1heChzaXplMiwgbWVzc2FnZSk7XG4gIH1cbiAgbm9uZW1wdHkobWVzc2FnZSkge1xuICAgIHJldHVybiB0aGlzLm1pbigxLCBtZXNzYWdlKTtcbiAgfVxufVxuWm9kU2V0LmNyZWF0ZSA9ICh2YWx1ZVR5cGUsIHBhcmFtcykgPT4ge1xuICByZXR1cm4gbmV3IFpvZFNldCh7XG4gICAgdmFsdWVUeXBlLFxuICAgIG1pblNpemU6IG51bGwsXG4gICAgbWF4U2l6ZTogbnVsbCxcbiAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFNldCxcbiAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgfSk7XG59O1xuY2xhc3MgWm9kRnVuY3Rpb24gZXh0ZW5kcyBab2RUeXBlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLnZhbGlkYXRlID0gdGhpcy5pbXBsZW1lbnQ7XG4gIH1cbiAgX3BhcnNlKGlucHV0KSB7XG4gICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLmZ1bmN0aW9uKSB7XG4gICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuZnVuY3Rpb24sXG4gICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFrZUFyZ3NJc3N1ZShhcmdzLCBlcnJvcjIpIHtcbiAgICAgIHJldHVybiBtYWtlSXNzdWUoe1xuICAgICAgICBkYXRhOiBhcmdzLFxuICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgZXJyb3JNYXBzOiBbXG4gICAgICAgICAgY3R4LmNvbW1vbi5jb250ZXh0dWFsRXJyb3JNYXAsXG4gICAgICAgICAgY3R4LnNjaGVtYUVycm9yTWFwLFxuICAgICAgICAgIGdldEVycm9yTWFwKCksXG4gICAgICAgICAgZXJyb3JNYXBcbiAgICAgICAgXS5maWx0ZXIoKHgyKSA9PiAhIXgyKSxcbiAgICAgICAgaXNzdWVEYXRhOiB7XG4gICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfYXJndW1lbnRzLFxuICAgICAgICAgIGFyZ3VtZW50c0Vycm9yOiBlcnJvcjJcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1ha2VSZXR1cm5zSXNzdWUocmV0dXJucywgZXJyb3IyKSB7XG4gICAgICByZXR1cm4gbWFrZUlzc3VlKHtcbiAgICAgICAgZGF0YTogcmV0dXJucyxcbiAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgIGVycm9yTWFwczogW1xuICAgICAgICAgIGN0eC5jb21tb24uY29udGV4dHVhbEVycm9yTWFwLFxuICAgICAgICAgIGN0eC5zY2hlbWFFcnJvck1hcCxcbiAgICAgICAgICBnZXRFcnJvck1hcCgpLFxuICAgICAgICAgIGVycm9yTWFwXG4gICAgICAgIF0uZmlsdGVyKCh4MikgPT4gISF4MiksXG4gICAgICAgIGlzc3VlRGF0YToge1xuICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3JldHVybl90eXBlLFxuICAgICAgICAgIHJldHVyblR5cGVFcnJvcjogZXJyb3IyXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBwYXJhbXMgPSB7IGVycm9yTWFwOiBjdHguY29tbW9uLmNvbnRleHR1YWxFcnJvck1hcCB9O1xuICAgIGNvbnN0IGZuMiA9IGN0eC5kYXRhO1xuICAgIGlmICh0aGlzLl9kZWYucmV0dXJucyBpbnN0YW5jZW9mIFpvZFByb21pc2UpIHtcbiAgICAgIGNvbnN0IG1lID0gdGhpcztcbiAgICAgIHJldHVybiBPSyhhc3luYyBmdW5jdGlvbiguLi5hcmdzKSB7XG4gICAgICAgIGNvbnN0IGVycm9yMiA9IG5ldyBab2RFcnJvcihbXSk7XG4gICAgICAgIGNvbnN0IHBhcnNlZEFyZ3MgPSBhd2FpdCBtZS5fZGVmLmFyZ3MucGFyc2VBc3luYyhhcmdzLCBwYXJhbXMpLmNhdGNoKChlMikgPT4ge1xuICAgICAgICAgIGVycm9yMi5hZGRJc3N1ZShtYWtlQXJnc0lzc3VlKGFyZ3MsIGUyKSk7XG4gICAgICAgICAgdGhyb3cgZXJyb3IyO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUmVmbGVjdC5hcHBseShmbjIsIHRoaXMsIHBhcnNlZEFyZ3MpO1xuICAgICAgICBjb25zdCBwYXJzZWRSZXR1cm5zID0gYXdhaXQgbWUuX2RlZi5yZXR1cm5zLl9kZWYudHlwZS5wYXJzZUFzeW5jKHJlc3VsdCwgcGFyYW1zKS5jYXRjaCgoZTIpID0+IHtcbiAgICAgICAgICBlcnJvcjIuYWRkSXNzdWUobWFrZVJldHVybnNJc3N1ZShyZXN1bHQsIGUyKSk7XG4gICAgICAgICAgdGhyb3cgZXJyb3IyO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBhcnNlZFJldHVybnM7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbWUgPSB0aGlzO1xuICAgICAgcmV0dXJuIE9LKGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkQXJncyA9IG1lLl9kZWYuYXJncy5zYWZlUGFyc2UoYXJncywgcGFyYW1zKTtcbiAgICAgICAgaWYgKCFwYXJzZWRBcmdzLnN1Y2Nlc3MpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgWm9kRXJyb3IoW21ha2VBcmdzSXNzdWUoYXJncywgcGFyc2VkQXJncy5lcnJvcildKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSBSZWZsZWN0LmFwcGx5KGZuMiwgdGhpcywgcGFyc2VkQXJncy5kYXRhKTtcbiAgICAgICAgY29uc3QgcGFyc2VkUmV0dXJucyA9IG1lLl9kZWYucmV0dXJucy5zYWZlUGFyc2UocmVzdWx0LCBwYXJhbXMpO1xuICAgICAgICBpZiAoIXBhcnNlZFJldHVybnMuc3VjY2Vzcykge1xuICAgICAgICAgIHRocm93IG5ldyBab2RFcnJvcihbbWFrZVJldHVybnNJc3N1ZShyZXN1bHQsIHBhcnNlZFJldHVybnMuZXJyb3IpXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcnNlZFJldHVybnMuZGF0YTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBwYXJhbWV0ZXJzKCkge1xuICAgIHJldHVybiB0aGlzLl9kZWYuYXJncztcbiAgfVxuICByZXR1cm5UeXBlKCkge1xuICAgIHJldHVybiB0aGlzLl9kZWYucmV0dXJucztcbiAgfVxuICBhcmdzKC4uLml0ZW1zKSB7XG4gICAgcmV0dXJuIG5ldyBab2RGdW5jdGlvbih7XG4gICAgICAuLi50aGlzLl9kZWYsXG4gICAgICBhcmdzOiBab2RUdXBsZS5jcmVhdGUoaXRlbXMpLnJlc3QoWm9kVW5rbm93bi5jcmVhdGUoKSlcbiAgICB9KTtcbiAgfVxuICByZXR1cm5zKHJldHVyblR5cGUpIHtcbiAgICByZXR1cm4gbmV3IFpvZEZ1bmN0aW9uKHtcbiAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgIHJldHVybnM6IHJldHVyblR5cGVcbiAgICB9KTtcbiAgfVxuICBpbXBsZW1lbnQoZnVuYykge1xuICAgIGNvbnN0IHZhbGlkYXRlZEZ1bmMgPSB0aGlzLnBhcnNlKGZ1bmMpO1xuICAgIHJldHVybiB2YWxpZGF0ZWRGdW5jO1xuICB9XG4gIHN0cmljdEltcGxlbWVudChmdW5jKSB7XG4gICAgY29uc3QgdmFsaWRhdGVkRnVuYyA9IHRoaXMucGFyc2UoZnVuYyk7XG4gICAgcmV0dXJuIHZhbGlkYXRlZEZ1bmM7XG4gIH1cbiAgc3RhdGljIGNyZWF0ZShhcmdzLCByZXR1cm5zLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IFpvZEZ1bmN0aW9uKHtcbiAgICAgIGFyZ3M6IGFyZ3MgPyBhcmdzIDogWm9kVHVwbGUuY3JlYXRlKFtdKS5yZXN0KFpvZFVua25vd24uY3JlYXRlKCkpLFxuICAgICAgcmV0dXJuczogcmV0dXJucyB8fCBab2RVbmtub3duLmNyZWF0ZSgpLFxuICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RGdW5jdGlvbixcbiAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xuICB9XG59XG5jbGFzcyBab2RMYXp5IGV4dGVuZHMgWm9kVHlwZSB7XG4gIGdldCBzY2hlbWEoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RlZi5nZXR0ZXIoKTtcbiAgfVxuICBfcGFyc2UoaW5wdXQpIHtcbiAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICBjb25zdCBsYXp5U2NoZW1hID0gdGhpcy5fZGVmLmdldHRlcigpO1xuICAgIHJldHVybiBsYXp5U2NoZW1hLl9wYXJzZSh7IGRhdGE6IGN0eC5kYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSk7XG4gIH1cbn1cblpvZExhenkuY3JlYXRlID0gKGdldHRlciwgcGFyYW1zKSA9PiB7XG4gIHJldHVybiBuZXcgWm9kTGF6eSh7XG4gICAgZ2V0dGVyLFxuICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTGF6eSxcbiAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgfSk7XG59O1xuY2xhc3MgWm9kTGl0ZXJhbCBleHRlbmRzIFpvZFR5cGUge1xuICBfcGFyc2UoaW5wdXQpIHtcbiAgICBpZiAoaW5wdXQuZGF0YSAhPT0gdGhpcy5fZGVmLnZhbHVlKSB7XG4gICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgcmVjZWl2ZWQ6IGN0eC5kYXRhLFxuICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9saXRlcmFsLFxuICAgICAgICBleHBlY3RlZDogdGhpcy5fZGVmLnZhbHVlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBJTlZBTElEO1xuICAgIH1cbiAgICByZXR1cm4geyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWU6IGlucHV0LmRhdGEgfTtcbiAgfVxuICBnZXQgdmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RlZi52YWx1ZTtcbiAgfVxufVxuWm9kTGl0ZXJhbC5jcmVhdGUgPSAodmFsdWUsIHBhcmFtcykgPT4ge1xuICByZXR1cm4gbmV3IFpvZExpdGVyYWwoe1xuICAgIHZhbHVlLFxuICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTGl0ZXJhbCxcbiAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgfSk7XG59O1xuZnVuY3Rpb24gY3JlYXRlWm9kRW51bSh2YWx1ZXMsIHBhcmFtcykge1xuICByZXR1cm4gbmV3IFpvZEVudW0oe1xuICAgIHZhbHVlcyxcbiAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVudW0sXG4gICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gIH0pO1xufVxuY2xhc3MgWm9kRW51bSBleHRlbmRzIFpvZFR5cGUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIF9ab2RFbnVtX2NhY2hlLnNldCh0aGlzLCB2b2lkIDApO1xuICB9XG4gIF9wYXJzZShpbnB1dCkge1xuICAgIGlmICh0eXBlb2YgaW5wdXQuZGF0YSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgY29uc3QgZXhwZWN0ZWRWYWx1ZXMgPSB0aGlzLl9kZWYudmFsdWVzO1xuICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgIGV4cGVjdGVkOiB1dGlsLmpvaW5WYWx1ZXMoZXhwZWN0ZWRWYWx1ZXMpLFxuICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGVcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgfVxuICAgIGlmICghX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWm9kRW51bV9jYWNoZSkpIHtcbiAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX1pvZEVudW1fY2FjaGUsIG5ldyBTZXQodGhpcy5fZGVmLnZhbHVlcykpO1xuICAgIH1cbiAgICBpZiAoIV9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1pvZEVudW1fY2FjaGUpLmhhcyhpbnB1dC5kYXRhKSkge1xuICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgY29uc3QgZXhwZWN0ZWRWYWx1ZXMgPSB0aGlzLl9kZWYudmFsdWVzO1xuICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgIHJlY2VpdmVkOiBjdHguZGF0YSxcbiAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfZW51bV92YWx1ZSxcbiAgICAgICAgb3B0aW9uczogZXhwZWN0ZWRWYWx1ZXNcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgfVxuICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgfVxuICBnZXQgb3B0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5fZGVmLnZhbHVlcztcbiAgfVxuICBnZXQgZW51bSgpIHtcbiAgICBjb25zdCBlbnVtVmFsdWVzID0ge307XG4gICAgZm9yIChjb25zdCB2YWwgb2YgdGhpcy5fZGVmLnZhbHVlcykge1xuICAgICAgZW51bVZhbHVlc1t2YWxdID0gdmFsO1xuICAgIH1cbiAgICByZXR1cm4gZW51bVZhbHVlcztcbiAgfVxuICBnZXQgVmFsdWVzKCkge1xuICAgIGNvbnN0IGVudW1WYWx1ZXMgPSB7fTtcbiAgICBmb3IgKGNvbnN0IHZhbCBvZiB0aGlzLl9kZWYudmFsdWVzKSB7XG4gICAgICBlbnVtVmFsdWVzW3ZhbF0gPSB2YWw7XG4gICAgfVxuICAgIHJldHVybiBlbnVtVmFsdWVzO1xuICB9XG4gIGdldCBFbnVtKCkge1xuICAgIGNvbnN0IGVudW1WYWx1ZXMgPSB7fTtcbiAgICBmb3IgKGNvbnN0IHZhbCBvZiB0aGlzLl9kZWYudmFsdWVzKSB7XG4gICAgICBlbnVtVmFsdWVzW3ZhbF0gPSB2YWw7XG4gICAgfVxuICAgIHJldHVybiBlbnVtVmFsdWVzO1xuICB9XG4gIGV4dHJhY3QodmFsdWVzLCBuZXdEZWYgPSB0aGlzLl9kZWYpIHtcbiAgICByZXR1cm4gWm9kRW51bS5jcmVhdGUodmFsdWVzLCB7XG4gICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAuLi5uZXdEZWZcbiAgICB9KTtcbiAgfVxuICBleGNsdWRlKHZhbHVlcywgbmV3RGVmID0gdGhpcy5fZGVmKSB7XG4gICAgcmV0dXJuIFpvZEVudW0uY3JlYXRlKHRoaXMub3B0aW9ucy5maWx0ZXIoKG9wdCkgPT4gIXZhbHVlcy5pbmNsdWRlcyhvcHQpKSwge1xuICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgLi4ubmV3RGVmXG4gICAgfSk7XG4gIH1cbn1cbl9ab2RFbnVtX2NhY2hlID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5ab2RFbnVtLmNyZWF0ZSA9IGNyZWF0ZVpvZEVudW07XG5jbGFzcyBab2ROYXRpdmVFbnVtIGV4dGVuZHMgWm9kVHlwZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgX1pvZE5hdGl2ZUVudW1fY2FjaGUuc2V0KHRoaXMsIHZvaWQgMCk7XG4gIH1cbiAgX3BhcnNlKGlucHV0KSB7XG4gICAgY29uc3QgbmF0aXZlRW51bVZhbHVlcyA9IHV0aWwuZ2V0VmFsaWRFbnVtVmFsdWVzKHRoaXMuX2RlZi52YWx1ZXMpO1xuICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuc3RyaW5nICYmIGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm51bWJlcikge1xuICAgICAgY29uc3QgZXhwZWN0ZWRWYWx1ZXMgPSB1dGlsLm9iamVjdFZhbHVlcyhuYXRpdmVFbnVtVmFsdWVzKTtcbiAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICBleHBlY3RlZDogdXRpbC5qb2luVmFsdWVzKGV4cGVjdGVkVmFsdWVzKSxcbiAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBJTlZBTElEO1xuICAgIH1cbiAgICBpZiAoIV9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1pvZE5hdGl2ZUVudW1fY2FjaGUpKSB7XG4gICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9ab2ROYXRpdmVFbnVtX2NhY2hlLCBuZXcgU2V0KHV0aWwuZ2V0VmFsaWRFbnVtVmFsdWVzKHRoaXMuX2RlZi52YWx1ZXMpKSk7XG4gICAgfVxuICAgIGlmICghX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWm9kTmF0aXZlRW51bV9jYWNoZSkuaGFzKGlucHV0LmRhdGEpKSB7XG4gICAgICBjb25zdCBleHBlY3RlZFZhbHVlcyA9IHV0aWwub2JqZWN0VmFsdWVzKG5hdGl2ZUVudW1WYWx1ZXMpO1xuICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgIHJlY2VpdmVkOiBjdHguZGF0YSxcbiAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfZW51bV92YWx1ZSxcbiAgICAgICAgb3B0aW9uczogZXhwZWN0ZWRWYWx1ZXNcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgfVxuICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgfVxuICBnZXQgZW51bSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZGVmLnZhbHVlcztcbiAgfVxufVxuX1pvZE5hdGl2ZUVudW1fY2FjaGUgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcblpvZE5hdGl2ZUVudW0uY3JlYXRlID0gKHZhbHVlcywgcGFyYW1zKSA9PiB7XG4gIHJldHVybiBuZXcgWm9kTmF0aXZlRW51bSh7XG4gICAgdmFsdWVzLFxuICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTmF0aXZlRW51bSxcbiAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgfSk7XG59O1xuY2xhc3MgWm9kUHJvbWlzZSBleHRlbmRzIFpvZFR5cGUge1xuICB1bndyYXAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RlZi50eXBlO1xuICB9XG4gIF9wYXJzZShpbnB1dCkge1xuICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5wcm9taXNlICYmIGN0eC5jb21tb24uYXN5bmMgPT09IGZhbHNlKSB7XG4gICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUucHJvbWlzZSxcbiAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBJTlZBTElEO1xuICAgIH1cbiAgICBjb25zdCBwcm9taXNpZmllZCA9IGN0eC5wYXJzZWRUeXBlID09PSBab2RQYXJzZWRUeXBlLnByb21pc2UgPyBjdHguZGF0YSA6IFByb21pc2UucmVzb2x2ZShjdHguZGF0YSk7XG4gICAgcmV0dXJuIE9LKHByb21pc2lmaWVkLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLl9kZWYudHlwZS5wYXJzZUFzeW5jKGRhdGEsIHtcbiAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgIGVycm9yTWFwOiBjdHguY29tbW9uLmNvbnRleHR1YWxFcnJvck1hcFxuICAgICAgfSk7XG4gICAgfSkpO1xuICB9XG59XG5ab2RQcm9taXNlLmNyZWF0ZSA9IChzY2hlbWEsIHBhcmFtcykgPT4ge1xuICByZXR1cm4gbmV3IFpvZFByb21pc2Uoe1xuICAgIHR5cGU6IHNjaGVtYSxcbiAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFByb21pc2UsXG4gICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gIH0pO1xufTtcbmNsYXNzIFpvZEVmZmVjdHMgZXh0ZW5kcyBab2RUeXBlIHtcbiAgaW5uZXJUeXBlKCkge1xuICAgIHJldHVybiB0aGlzLl9kZWYuc2NoZW1hO1xuICB9XG4gIHNvdXJjZVR5cGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RlZi5zY2hlbWEuX2RlZi50eXBlTmFtZSA9PT0gWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVmZmVjdHMgPyB0aGlzLl9kZWYuc2NoZW1hLnNvdXJjZVR5cGUoKSA6IHRoaXMuX2RlZi5zY2hlbWE7XG4gIH1cbiAgX3BhcnNlKGlucHV0KSB7XG4gICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICBjb25zdCBlZmZlY3QgPSB0aGlzLl9kZWYuZWZmZWN0IHx8IG51bGw7XG4gICAgY29uc3QgY2hlY2tDdHggPSB7XG4gICAgICBhZGRJc3N1ZTogKGFyZykgPT4ge1xuICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIGFyZyk7XG4gICAgICAgIGlmIChhcmcuZmF0YWwpIHtcbiAgICAgICAgICBzdGF0dXMuYWJvcnQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGdldCBwYXRoKCkge1xuICAgICAgICByZXR1cm4gY3R4LnBhdGg7XG4gICAgICB9XG4gICAgfTtcbiAgICBjaGVja0N0eC5hZGRJc3N1ZSA9IGNoZWNrQ3R4LmFkZElzc3VlLmJpbmQoY2hlY2tDdHgpO1xuICAgIGlmIChlZmZlY3QudHlwZSA9PT0gXCJwcmVwcm9jZXNzXCIpIHtcbiAgICAgIGNvbnN0IHByb2Nlc3NlZCA9IGVmZmVjdC50cmFuc2Zvcm0oY3R4LmRhdGEsIGNoZWNrQ3R4KTtcbiAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocHJvY2Vzc2VkKS50aGVuKGFzeW5jIChwcm9jZXNzZWQyKSA9PiB7XG4gICAgICAgICAgaWYgKHN0YXR1cy52YWx1ZSA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLl9kZWYuc2NoZW1hLl9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgIGRhdGE6IHByb2Nlc3NlZDIsXG4gICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgIHBhcmVudDogY3R4XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgIHJldHVybiBESVJUWShyZXN1bHQudmFsdWUpO1xuICAgICAgICAgIGlmIChzdGF0dXMudmFsdWUgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgIHJldHVybiBESVJUWShyZXN1bHQudmFsdWUpO1xuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHN0YXR1cy52YWx1ZSA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX2RlZi5zY2hlbWEuX3BhcnNlU3luYyh7XG4gICAgICAgICAgZGF0YTogcHJvY2Vzc2VkLFxuICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgIHBhcmVudDogY3R4XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgcmV0dXJuIERJUlRZKHJlc3VsdC52YWx1ZSk7XG4gICAgICAgIGlmIChzdGF0dXMudmFsdWUgPT09IFwiZGlydHlcIilcbiAgICAgICAgICByZXR1cm4gRElSVFkocmVzdWx0LnZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGVmZmVjdC50eXBlID09PSBcInJlZmluZW1lbnRcIikge1xuICAgICAgY29uc3QgZXhlY3V0ZVJlZmluZW1lbnQgPSAoYWNjKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGVmZmVjdC5yZWZpbmVtZW50KGFjYywgY2hlY2tDdHgpO1xuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkFzeW5jIHJlZmluZW1lbnQgZW5jb3VudGVyZWQgZHVyaW5nIHN5bmNocm9ub3VzIHBhcnNlIG9wZXJhdGlvbi4gVXNlIC5wYXJzZUFzeW5jIGluc3RlYWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgICB9O1xuICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMgPT09IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IGlubmVyMiA9IHRoaXMuX2RlZi5zY2hlbWEuX3BhcnNlU3luYyh7XG4gICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgcGFyZW50OiBjdHhcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChpbm5lcjIuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgaWYgKGlubmVyMi5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgZXhlY3V0ZVJlZmluZW1lbnQoaW5uZXIyLnZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBpbm5lcjIudmFsdWUgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuc2NoZW1hLl9wYXJzZUFzeW5jKHsgZGF0YTogY3R4LmRhdGEsIHBhdGg6IGN0eC5wYXRoLCBwYXJlbnQ6IGN0eCB9KS50aGVuKChpbm5lcjIpID0+IHtcbiAgICAgICAgICBpZiAoaW5uZXIyLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICBpZiAoaW5uZXIyLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgcmV0dXJuIGV4ZWN1dGVSZWZpbmVtZW50KGlubmVyMi52YWx1ZSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGlubmVyMi52YWx1ZSB9O1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGVmZmVjdC50eXBlID09PSBcInRyYW5zZm9ybVwiKSB7XG4gICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYyA9PT0gZmFsc2UpIHtcbiAgICAgICAgY29uc3QgYmFzZSA9IHRoaXMuX2RlZi5zY2hlbWEuX3BhcnNlU3luYyh7XG4gICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgcGFyZW50OiBjdHhcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghaXNWYWxpZChiYXNlKSlcbiAgICAgICAgICByZXR1cm4gYmFzZTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gZWZmZWN0LnRyYW5zZm9ybShiYXNlLnZhbHVlLCBjaGVja0N0eCk7XG4gICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBc3luY2hyb25vdXMgdHJhbnNmb3JtIGVuY291bnRlcmVkIGR1cmluZyBzeW5jaHJvbm91cyBwYXJzZSBvcGVyYXRpb24uIFVzZSAucGFyc2VBc3luYyBpbnN0ZWFkLmApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogcmVzdWx0IH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnNjaGVtYS5fcGFyc2VBc3luYyh7IGRhdGE6IGN0eC5kYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSkudGhlbigoYmFzZSkgPT4ge1xuICAgICAgICAgIGlmICghaXNWYWxpZChiYXNlKSlcbiAgICAgICAgICAgIHJldHVybiBiYXNlO1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZWZmZWN0LnRyYW5zZm9ybShiYXNlLnZhbHVlLCBjaGVja0N0eCkpLnRoZW4oKHJlc3VsdCkgPT4gKHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiByZXN1bHQgfSkpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgdXRpbC5hc3NlcnROZXZlcihlZmZlY3QpO1xuICB9XG59XG5ab2RFZmZlY3RzLmNyZWF0ZSA9IChzY2hlbWEsIGVmZmVjdCwgcGFyYW1zKSA9PiB7XG4gIHJldHVybiBuZXcgWm9kRWZmZWN0cyh7XG4gICAgc2NoZW1hLFxuICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0cyxcbiAgICBlZmZlY3QsXG4gICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gIH0pO1xufTtcblpvZEVmZmVjdHMuY3JlYXRlV2l0aFByZXByb2Nlc3MgPSAocHJlcHJvY2Vzcywgc2NoZW1hLCBwYXJhbXMpID0+IHtcbiAgcmV0dXJuIG5ldyBab2RFZmZlY3RzKHtcbiAgICBzY2hlbWEsXG4gICAgZWZmZWN0OiB7IHR5cGU6IFwicHJlcHJvY2Vzc1wiLCB0cmFuc2Zvcm06IHByZXByb2Nlc3MgfSxcbiAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVmZmVjdHMsXG4gICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gIH0pO1xufTtcbmNsYXNzIFpvZE9wdGlvbmFsIGV4dGVuZHMgWm9kVHlwZSB7XG4gIF9wYXJzZShpbnB1dCkge1xuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICBpZiAocGFyc2VkVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS51bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBPSyh2b2lkIDApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZS5fcGFyc2UoaW5wdXQpO1xuICB9XG4gIHVud3JhcCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZTtcbiAgfVxufVxuWm9kT3B0aW9uYWwuY3JlYXRlID0gKHR5cGUsIHBhcmFtcykgPT4ge1xuICByZXR1cm4gbmV3IFpvZE9wdGlvbmFsKHtcbiAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPcHRpb25hbCxcbiAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgfSk7XG59O1xuY2xhc3MgWm9kTnVsbGFibGUgZXh0ZW5kcyBab2RUeXBlIHtcbiAgX3BhcnNlKGlucHV0KSB7XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgIGlmIChwYXJzZWRUeXBlID09PSBab2RQYXJzZWRUeXBlLm51bGwpIHtcbiAgICAgIHJldHVybiBPSyhudWxsKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGUuX3BhcnNlKGlucHV0KTtcbiAgfVxuICB1bndyYXAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGU7XG4gIH1cbn1cblpvZE51bGxhYmxlLmNyZWF0ZSA9ICh0eXBlLCBwYXJhbXMpID0+IHtcbiAgcmV0dXJuIG5ldyBab2ROdWxsYWJsZSh7XG4gICAgaW5uZXJUeXBlOiB0eXBlLFxuICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTnVsbGFibGUsXG4gICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gIH0pO1xufTtcbmNsYXNzIFpvZERlZmF1bHQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgX3BhcnNlKGlucHV0KSB7XG4gICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgbGV0IGRhdGEgPSBjdHguZGF0YTtcbiAgICBpZiAoY3R4LnBhcnNlZFR5cGUgPT09IFpvZFBhcnNlZFR5cGUudW5kZWZpbmVkKSB7XG4gICAgICBkYXRhID0gdGhpcy5fZGVmLmRlZmF1bHRWYWx1ZSgpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZS5fcGFyc2Uoe1xuICAgICAgZGF0YSxcbiAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgcGFyZW50OiBjdHhcbiAgICB9KTtcbiAgfVxuICByZW1vdmVEZWZhdWx0KCkge1xuICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlO1xuICB9XG59XG5ab2REZWZhdWx0LmNyZWF0ZSA9ICh0eXBlLCBwYXJhbXMpID0+IHtcbiAgcmV0dXJuIG5ldyBab2REZWZhdWx0KHtcbiAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REZWZhdWx0LFxuICAgIGRlZmF1bHRWYWx1ZTogdHlwZW9mIHBhcmFtcy5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgPyBwYXJhbXMuZGVmYXVsdCA6ICgpID0+IHBhcmFtcy5kZWZhdWx0LFxuICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICB9KTtcbn07XG5jbGFzcyBab2RDYXRjaCBleHRlbmRzIFpvZFR5cGUge1xuICBfcGFyc2UoaW5wdXQpIHtcbiAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICBjb25zdCBuZXdDdHggPSB7XG4gICAgICAuLi5jdHgsXG4gICAgICBjb21tb246IHtcbiAgICAgICAgLi4uY3R4LmNvbW1vbixcbiAgICAgICAgaXNzdWVzOiBbXVxuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fZGVmLmlubmVyVHlwZS5fcGFyc2Uoe1xuICAgICAgZGF0YTogbmV3Q3R4LmRhdGEsXG4gICAgICBwYXRoOiBuZXdDdHgucGF0aCxcbiAgICAgIHBhcmVudDoge1xuICAgICAgICAuLi5uZXdDdHhcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoaXNBc3luYyhyZXN1bHQpKSB7XG4gICAgICByZXR1cm4gcmVzdWx0LnRoZW4oKHJlc3VsdDIpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdGF0dXM6IFwidmFsaWRcIixcbiAgICAgICAgICB2YWx1ZTogcmVzdWx0Mi5zdGF0dXMgPT09IFwidmFsaWRcIiA/IHJlc3VsdDIudmFsdWUgOiB0aGlzLl9kZWYuY2F0Y2hWYWx1ZSh7XG4gICAgICAgICAgICBnZXQgZXJyb3IoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBuZXcgWm9kRXJyb3IobmV3Q3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlucHV0OiBuZXdDdHguZGF0YVxuICAgICAgICAgIH0pXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3RhdHVzOiBcInZhbGlkXCIsXG4gICAgICAgIHZhbHVlOiByZXN1bHQuc3RhdHVzID09PSBcInZhbGlkXCIgPyByZXN1bHQudmFsdWUgOiB0aGlzLl9kZWYuY2F0Y2hWYWx1ZSh7XG4gICAgICAgICAgZ2V0IGVycm9yKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBab2RFcnJvcihuZXdDdHguY29tbW9uLmlzc3Vlcyk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBpbnB1dDogbmV3Q3R4LmRhdGFcbiAgICAgICAgfSlcbiAgICAgIH07XG4gICAgfVxuICB9XG4gIHJlbW92ZUNhdGNoKCkge1xuICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlO1xuICB9XG59XG5ab2RDYXRjaC5jcmVhdGUgPSAodHlwZSwgcGFyYW1zKSA9PiB7XG4gIHJldHVybiBuZXcgWm9kQ2F0Y2goe1xuICAgIGlubmVyVHlwZTogdHlwZSxcbiAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZENhdGNoLFxuICAgIGNhdGNoVmFsdWU6IHR5cGVvZiBwYXJhbXMuY2F0Y2ggPT09IFwiZnVuY3Rpb25cIiA/IHBhcmFtcy5jYXRjaCA6ICgpID0+IHBhcmFtcy5jYXRjaCxcbiAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgfSk7XG59O1xuY2xhc3MgWm9kTmFOIGV4dGVuZHMgWm9kVHlwZSB7XG4gIF9wYXJzZShpbnB1dCkge1xuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5uYW4pIHtcbiAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5uYW4sXG4gICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICB9XG4gICAgcmV0dXJuIHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBpbnB1dC5kYXRhIH07XG4gIH1cbn1cblpvZE5hTi5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gIHJldHVybiBuZXcgWm9kTmFOKHtcbiAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE5hTixcbiAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgfSk7XG59O1xuY29uc3QgQlJBTkQgPSBTeW1ib2woXCJ6b2RfYnJhbmRcIik7XG5jbGFzcyBab2RCcmFuZGVkIGV4dGVuZHMgWm9kVHlwZSB7XG4gIF9wYXJzZShpbnB1dCkge1xuICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgIGNvbnN0IGRhdGEgPSBjdHguZGF0YTtcbiAgICByZXR1cm4gdGhpcy5fZGVmLnR5cGUuX3BhcnNlKHtcbiAgICAgIGRhdGEsXG4gICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgIHBhcmVudDogY3R4XG4gICAgfSk7XG4gIH1cbiAgdW53cmFwKCkge1xuICAgIHJldHVybiB0aGlzLl9kZWYudHlwZTtcbiAgfVxufVxuY2xhc3MgWm9kUGlwZWxpbmUgZXh0ZW5kcyBab2RUeXBlIHtcbiAgX3BhcnNlKGlucHV0KSB7XG4gICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgY29uc3QgaGFuZGxlQXN5bmMgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGluUmVzdWx0ID0gYXdhaXQgdGhpcy5fZGVmLmluLl9wYXJzZUFzeW5jKHtcbiAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICBwYXJlbnQ6IGN0eFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGluUmVzdWx0LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIGlmIChpblJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIikge1xuICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgIHJldHVybiBESVJUWShpblJlc3VsdC52YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5vdXQuX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgZGF0YTogaW5SZXN1bHQudmFsdWUsXG4gICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgIHBhcmVudDogY3R4XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICByZXR1cm4gaGFuZGxlQXN5bmMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgaW5SZXN1bHQgPSB0aGlzLl9kZWYuaW4uX3BhcnNlU3luYyh7XG4gICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgcGFyZW50OiBjdHhcbiAgICAgIH0pO1xuICAgICAgaWYgKGluUmVzdWx0LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgaWYgKGluUmVzdWx0LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKSB7XG4gICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN0YXR1czogXCJkaXJ0eVwiLFxuICAgICAgICAgIHZhbHVlOiBpblJlc3VsdC52YWx1ZVxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5vdXQuX3BhcnNlU3luYyh7XG4gICAgICAgICAgZGF0YTogaW5SZXN1bHQudmFsdWUsXG4gICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgcGFyZW50OiBjdHhcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHN0YXRpYyBjcmVhdGUoYTMsIGIyKSB7XG4gICAgcmV0dXJuIG5ldyBab2RQaXBlbGluZSh7XG4gICAgICBpbjogYTMsXG4gICAgICBvdXQ6IGIyLFxuICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RQaXBlbGluZVxuICAgIH0pO1xuICB9XG59XG5jbGFzcyBab2RSZWFkb25seSBleHRlbmRzIFpvZFR5cGUge1xuICBfcGFyc2UoaW5wdXQpIHtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9kZWYuaW5uZXJUeXBlLl9wYXJzZShpbnB1dCk7XG4gICAgY29uc3QgZnJlZXplID0gKGRhdGEpID0+IHtcbiAgICAgIGlmIChpc1ZhbGlkKGRhdGEpKSB7XG4gICAgICAgIGRhdGEudmFsdWUgPSBPYmplY3QuZnJlZXplKGRhdGEudmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfTtcbiAgICByZXR1cm4gaXNBc3luYyhyZXN1bHQpID8gcmVzdWx0LnRoZW4oKGRhdGEpID0+IGZyZWV6ZShkYXRhKSkgOiBmcmVlemUocmVzdWx0KTtcbiAgfVxuICB1bndyYXAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGU7XG4gIH1cbn1cblpvZFJlYWRvbmx5LmNyZWF0ZSA9ICh0eXBlLCBwYXJhbXMpID0+IHtcbiAgcmV0dXJuIG5ldyBab2RSZWFkb25seSh7XG4gICAgaW5uZXJUeXBlOiB0eXBlLFxuICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUmVhZG9ubHksXG4gICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gIH0pO1xufTtcbmZ1bmN0aW9uIGNsZWFuUGFyYW1zKHBhcmFtcywgZGF0YSkge1xuICBjb25zdCBwMiA9IHR5cGVvZiBwYXJhbXMgPT09IFwiZnVuY3Rpb25cIiA/IHBhcmFtcyhkYXRhKSA6IHR5cGVvZiBwYXJhbXMgPT09IFwic3RyaW5nXCIgPyB7IG1lc3NhZ2U6IHBhcmFtcyB9IDogcGFyYW1zO1xuICBjb25zdCBwMjIgPSB0eXBlb2YgcDIgPT09IFwic3RyaW5nXCIgPyB7IG1lc3NhZ2U6IHAyIH0gOiBwMjtcbiAgcmV0dXJuIHAyMjtcbn1cbmZ1bmN0aW9uIGN1c3RvbShjaGVjaywgX3BhcmFtcyA9IHt9LCBmYXRhbCkge1xuICBpZiAoY2hlY2spXG4gICAgcmV0dXJuIFpvZEFueS5jcmVhdGUoKS5zdXBlclJlZmluZSgoZGF0YSwgY3R4KSA9PiB7XG4gICAgICB2YXIgX2EsIF9iO1xuICAgICAgY29uc3QgcjIgPSBjaGVjayhkYXRhKTtcbiAgICAgIGlmIChyMiBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgcmV0dXJuIHIyLnRoZW4oKHIzKSA9PiB7XG4gICAgICAgICAgdmFyIF9hMiwgX2IyO1xuICAgICAgICAgIGlmICghcjMpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IGNsZWFuUGFyYW1zKF9wYXJhbXMsIGRhdGEpO1xuICAgICAgICAgICAgY29uc3QgX2ZhdGFsID0gKF9iMiA9IChfYTIgPSBwYXJhbXMuZmF0YWwpICE9PSBudWxsICYmIF9hMiAhPT0gdm9pZCAwID8gX2EyIDogZmF0YWwpICE9PSBudWxsICYmIF9iMiAhPT0gdm9pZCAwID8gX2IyIDogdHJ1ZTtcbiAgICAgICAgICAgIGN0eC5hZGRJc3N1ZSh7IGNvZGU6IFwiY3VzdG9tXCIsIC4uLnBhcmFtcywgZmF0YWw6IF9mYXRhbCB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKCFyMikge1xuICAgICAgICBjb25zdCBwYXJhbXMgPSBjbGVhblBhcmFtcyhfcGFyYW1zLCBkYXRhKTtcbiAgICAgICAgY29uc3QgX2ZhdGFsID0gKF9iID0gKF9hID0gcGFyYW1zLmZhdGFsKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmYXRhbCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdHJ1ZTtcbiAgICAgICAgY3R4LmFkZElzc3VlKHsgY29kZTogXCJjdXN0b21cIiwgLi4ucGFyYW1zLCBmYXRhbDogX2ZhdGFsIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH0pO1xuICByZXR1cm4gWm9kQW55LmNyZWF0ZSgpO1xufVxuY29uc3QgbGF0ZSA9IHtcbiAgb2JqZWN0OiBab2RPYmplY3QubGF6eWNyZWF0ZVxufTtcbnZhciBab2RGaXJzdFBhcnR5VHlwZUtpbmQ7XG4oZnVuY3Rpb24oWm9kRmlyc3RQYXJ0eVR5cGVLaW5kMikge1xuICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kU3RyaW5nXCJdID0gXCJab2RTdHJpbmdcIjtcbiAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kMltcIlpvZE51bWJlclwiXSA9IFwiWm9kTnVtYmVyXCI7XG4gIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2ROYU5cIl0gPSBcIlpvZE5hTlwiO1xuICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kQmlnSW50XCJdID0gXCJab2RCaWdJbnRcIjtcbiAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kMltcIlpvZEJvb2xlYW5cIl0gPSBcIlpvZEJvb2xlYW5cIjtcbiAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kMltcIlpvZERhdGVcIl0gPSBcIlpvZERhdGVcIjtcbiAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kMltcIlpvZFN5bWJvbFwiXSA9IFwiWm9kU3ltYm9sXCI7XG4gIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2RVbmRlZmluZWRcIl0gPSBcIlpvZFVuZGVmaW5lZFwiO1xuICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kTnVsbFwiXSA9IFwiWm9kTnVsbFwiO1xuICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kQW55XCJdID0gXCJab2RBbnlcIjtcbiAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kMltcIlpvZFVua25vd25cIl0gPSBcIlpvZFVua25vd25cIjtcbiAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kMltcIlpvZE5ldmVyXCJdID0gXCJab2ROZXZlclwiO1xuICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kVm9pZFwiXSA9IFwiWm9kVm9pZFwiO1xuICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kQXJyYXlcIl0gPSBcIlpvZEFycmF5XCI7XG4gIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2RPYmplY3RcIl0gPSBcIlpvZE9iamVjdFwiO1xuICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kVW5pb25cIl0gPSBcIlpvZFVuaW9uXCI7XG4gIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2REaXNjcmltaW5hdGVkVW5pb25cIl0gPSBcIlpvZERpc2NyaW1pbmF0ZWRVbmlvblwiO1xuICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kSW50ZXJzZWN0aW9uXCJdID0gXCJab2RJbnRlcnNlY3Rpb25cIjtcbiAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kMltcIlpvZFR1cGxlXCJdID0gXCJab2RUdXBsZVwiO1xuICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kUmVjb3JkXCJdID0gXCJab2RSZWNvcmRcIjtcbiAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kMltcIlpvZE1hcFwiXSA9IFwiWm9kTWFwXCI7XG4gIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2RTZXRcIl0gPSBcIlpvZFNldFwiO1xuICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kRnVuY3Rpb25cIl0gPSBcIlpvZEZ1bmN0aW9uXCI7XG4gIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2RMYXp5XCJdID0gXCJab2RMYXp5XCI7XG4gIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2RMaXRlcmFsXCJdID0gXCJab2RMaXRlcmFsXCI7XG4gIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2RFbnVtXCJdID0gXCJab2RFbnVtXCI7XG4gIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2RFZmZlY3RzXCJdID0gXCJab2RFZmZlY3RzXCI7XG4gIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2ROYXRpdmVFbnVtXCJdID0gXCJab2ROYXRpdmVFbnVtXCI7XG4gIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2RPcHRpb25hbFwiXSA9IFwiWm9kT3B0aW9uYWxcIjtcbiAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kMltcIlpvZE51bGxhYmxlXCJdID0gXCJab2ROdWxsYWJsZVwiO1xuICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kRGVmYXVsdFwiXSA9IFwiWm9kRGVmYXVsdFwiO1xuICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kQ2F0Y2hcIl0gPSBcIlpvZENhdGNoXCI7XG4gIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2RQcm9taXNlXCJdID0gXCJab2RQcm9taXNlXCI7XG4gIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2RCcmFuZGVkXCJdID0gXCJab2RCcmFuZGVkXCI7XG4gIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2RQaXBlbGluZVwiXSA9IFwiWm9kUGlwZWxpbmVcIjtcbiAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kMltcIlpvZFJlYWRvbmx5XCJdID0gXCJab2RSZWFkb25seVwiO1xufSkoWm9kRmlyc3RQYXJ0eVR5cGVLaW5kIHx8IChab2RGaXJzdFBhcnR5VHlwZUtpbmQgPSB7fSkpO1xuY29uc3QgaW5zdGFuY2VPZlR5cGUgPSAoY2xzLCBwYXJhbXMgPSB7XG4gIG1lc3NhZ2U6IGBJbnB1dCBub3QgaW5zdGFuY2Ugb2YgJHtjbHMubmFtZX1gXG59KSA9PiBjdXN0b20oKGRhdGEpID0+IGRhdGEgaW5zdGFuY2VvZiBjbHMsIHBhcmFtcyk7XG5jb25zdCBzdHJpbmdUeXBlID0gWm9kU3RyaW5nLmNyZWF0ZTtcbmNvbnN0IG51bWJlclR5cGUgPSBab2ROdW1iZXIuY3JlYXRlO1xuY29uc3QgbmFuVHlwZSA9IFpvZE5hTi5jcmVhdGU7XG5jb25zdCBiaWdJbnRUeXBlID0gWm9kQmlnSW50LmNyZWF0ZTtcbmNvbnN0IGJvb2xlYW5UeXBlID0gWm9kQm9vbGVhbi5jcmVhdGU7XG5jb25zdCBkYXRlVHlwZSA9IFpvZERhdGUuY3JlYXRlO1xuY29uc3Qgc3ltYm9sVHlwZSA9IFpvZFN5bWJvbC5jcmVhdGU7XG5jb25zdCB1bmRlZmluZWRUeXBlID0gWm9kVW5kZWZpbmVkLmNyZWF0ZTtcbmNvbnN0IG51bGxUeXBlID0gWm9kTnVsbC5jcmVhdGU7XG5jb25zdCBhbnlUeXBlID0gWm9kQW55LmNyZWF0ZTtcbmNvbnN0IHVua25vd25UeXBlID0gWm9kVW5rbm93bi5jcmVhdGU7XG5jb25zdCBuZXZlclR5cGUgPSBab2ROZXZlci5jcmVhdGU7XG5jb25zdCB2b2lkVHlwZSA9IFpvZFZvaWQuY3JlYXRlO1xuY29uc3QgYXJyYXlUeXBlID0gWm9kQXJyYXkuY3JlYXRlO1xuY29uc3Qgb2JqZWN0VHlwZSA9IFpvZE9iamVjdC5jcmVhdGU7XG5jb25zdCBzdHJpY3RPYmplY3RUeXBlID0gWm9kT2JqZWN0LnN0cmljdENyZWF0ZTtcbmNvbnN0IHVuaW9uVHlwZSA9IFpvZFVuaW9uLmNyZWF0ZTtcbmNvbnN0IGRpc2NyaW1pbmF0ZWRVbmlvblR5cGUgPSBab2REaXNjcmltaW5hdGVkVW5pb24uY3JlYXRlO1xuY29uc3QgaW50ZXJzZWN0aW9uVHlwZSA9IFpvZEludGVyc2VjdGlvbi5jcmVhdGU7XG5jb25zdCB0dXBsZVR5cGUgPSBab2RUdXBsZS5jcmVhdGU7XG5jb25zdCByZWNvcmRUeXBlID0gWm9kUmVjb3JkLmNyZWF0ZTtcbmNvbnN0IG1hcFR5cGUgPSBab2RNYXAuY3JlYXRlO1xuY29uc3Qgc2V0VHlwZSA9IFpvZFNldC5jcmVhdGU7XG5jb25zdCBmdW5jdGlvblR5cGUgPSBab2RGdW5jdGlvbi5jcmVhdGU7XG5jb25zdCBsYXp5VHlwZSA9IFpvZExhenkuY3JlYXRlO1xuY29uc3QgbGl0ZXJhbFR5cGUgPSBab2RMaXRlcmFsLmNyZWF0ZTtcbmNvbnN0IGVudW1UeXBlID0gWm9kRW51bS5jcmVhdGU7XG5jb25zdCBuYXRpdmVFbnVtVHlwZSA9IFpvZE5hdGl2ZUVudW0uY3JlYXRlO1xuY29uc3QgcHJvbWlzZVR5cGUgPSBab2RQcm9taXNlLmNyZWF0ZTtcbmNvbnN0IGVmZmVjdHNUeXBlID0gWm9kRWZmZWN0cy5jcmVhdGU7XG5jb25zdCBvcHRpb25hbFR5cGUgPSBab2RPcHRpb25hbC5jcmVhdGU7XG5jb25zdCBudWxsYWJsZVR5cGUgPSBab2ROdWxsYWJsZS5jcmVhdGU7XG5jb25zdCBwcmVwcm9jZXNzVHlwZSA9IFpvZEVmZmVjdHMuY3JlYXRlV2l0aFByZXByb2Nlc3M7XG5jb25zdCBwaXBlbGluZVR5cGUgPSBab2RQaXBlbGluZS5jcmVhdGU7XG5jb25zdCBvc3RyaW5nID0gKCkgPT4gc3RyaW5nVHlwZSgpLm9wdGlvbmFsKCk7XG5jb25zdCBvbnVtYmVyID0gKCkgPT4gbnVtYmVyVHlwZSgpLm9wdGlvbmFsKCk7XG5jb25zdCBvYm9vbGVhbiA9ICgpID0+IGJvb2xlYW5UeXBlKCkub3B0aW9uYWwoKTtcbmNvbnN0IGNvZXJjZSA9IHtcbiAgc3RyaW5nOiAoYXJnKSA9PiBab2RTdHJpbmcuY3JlYXRlKHsgLi4uYXJnLCBjb2VyY2U6IHRydWUgfSksXG4gIG51bWJlcjogKGFyZykgPT4gWm9kTnVtYmVyLmNyZWF0ZSh7IC4uLmFyZywgY29lcmNlOiB0cnVlIH0pLFxuICBib29sZWFuOiAoYXJnKSA9PiBab2RCb29sZWFuLmNyZWF0ZSh7XG4gICAgLi4uYXJnLFxuICAgIGNvZXJjZTogdHJ1ZVxuICB9KSxcbiAgYmlnaW50OiAoYXJnKSA9PiBab2RCaWdJbnQuY3JlYXRlKHsgLi4uYXJnLCBjb2VyY2U6IHRydWUgfSksXG4gIGRhdGU6IChhcmcpID0+IFpvZERhdGUuY3JlYXRlKHsgLi4uYXJnLCBjb2VyY2U6IHRydWUgfSlcbn07XG5jb25zdCBORVZFUiA9IElOVkFMSUQ7XG52YXIgeiA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuZnJlZXplKHtcbiAgX19wcm90b19fOiBudWxsLFxuICBkZWZhdWx0RXJyb3JNYXA6IGVycm9yTWFwLFxuICBzZXRFcnJvck1hcCxcbiAgZ2V0RXJyb3JNYXAsXG4gIG1ha2VJc3N1ZSxcbiAgRU1QVFlfUEFUSCxcbiAgYWRkSXNzdWVUb0NvbnRleHQsXG4gIFBhcnNlU3RhdHVzLFxuICBJTlZBTElELFxuICBESVJUWSxcbiAgT0ssXG4gIGlzQWJvcnRlZCxcbiAgaXNEaXJ0eSxcbiAgaXNWYWxpZCxcbiAgaXNBc3luYyxcbiAgZ2V0IHV0aWwoKSB7XG4gICAgcmV0dXJuIHV0aWw7XG4gIH0sXG4gIGdldCBvYmplY3RVdGlsKCkge1xuICAgIHJldHVybiBvYmplY3RVdGlsO1xuICB9LFxuICBab2RQYXJzZWRUeXBlLFxuICBnZXRQYXJzZWRUeXBlLFxuICBab2RUeXBlLFxuICBkYXRldGltZVJlZ2V4LFxuICBab2RTdHJpbmcsXG4gIFpvZE51bWJlcixcbiAgWm9kQmlnSW50LFxuICBab2RCb29sZWFuLFxuICBab2REYXRlLFxuICBab2RTeW1ib2wsXG4gIFpvZFVuZGVmaW5lZCxcbiAgWm9kTnVsbCxcbiAgWm9kQW55LFxuICBab2RVbmtub3duLFxuICBab2ROZXZlcixcbiAgWm9kVm9pZCxcbiAgWm9kQXJyYXksXG4gIFpvZE9iamVjdCxcbiAgWm9kVW5pb24sXG4gIFpvZERpc2NyaW1pbmF0ZWRVbmlvbixcbiAgWm9kSW50ZXJzZWN0aW9uLFxuICBab2RUdXBsZSxcbiAgWm9kUmVjb3JkLFxuICBab2RNYXAsXG4gIFpvZFNldCxcbiAgWm9kRnVuY3Rpb24sXG4gIFpvZExhenksXG4gIFpvZExpdGVyYWwsXG4gIFpvZEVudW0sXG4gIFpvZE5hdGl2ZUVudW0sXG4gIFpvZFByb21pc2UsXG4gIFpvZEVmZmVjdHMsXG4gIFpvZFRyYW5zZm9ybWVyOiBab2RFZmZlY3RzLFxuICBab2RPcHRpb25hbCxcbiAgWm9kTnVsbGFibGUsXG4gIFpvZERlZmF1bHQsXG4gIFpvZENhdGNoLFxuICBab2ROYU4sXG4gIEJSQU5ELFxuICBab2RCcmFuZGVkLFxuICBab2RQaXBlbGluZSxcbiAgWm9kUmVhZG9ubHksXG4gIGN1c3RvbSxcbiAgU2NoZW1hOiBab2RUeXBlLFxuICBab2RTY2hlbWE6IFpvZFR5cGUsXG4gIGxhdGUsXG4gIGdldCBab2RGaXJzdFBhcnR5VHlwZUtpbmQoKSB7XG4gICAgcmV0dXJuIFpvZEZpcnN0UGFydHlUeXBlS2luZDtcbiAgfSxcbiAgY29lcmNlLFxuICBhbnk6IGFueVR5cGUsXG4gIGFycmF5OiBhcnJheVR5cGUsXG4gIGJpZ2ludDogYmlnSW50VHlwZSxcbiAgYm9vbGVhbjogYm9vbGVhblR5cGUsXG4gIGRhdGU6IGRhdGVUeXBlLFxuICBkaXNjcmltaW5hdGVkVW5pb246IGRpc2NyaW1pbmF0ZWRVbmlvblR5cGUsXG4gIGVmZmVjdDogZWZmZWN0c1R5cGUsXG4gIFwiZW51bVwiOiBlbnVtVHlwZSxcbiAgXCJmdW5jdGlvblwiOiBmdW5jdGlvblR5cGUsXG4gIFwiaW5zdGFuY2VvZlwiOiBpbnN0YW5jZU9mVHlwZSxcbiAgaW50ZXJzZWN0aW9uOiBpbnRlcnNlY3Rpb25UeXBlLFxuICBsYXp5OiBsYXp5VHlwZSxcbiAgbGl0ZXJhbDogbGl0ZXJhbFR5cGUsXG4gIG1hcDogbWFwVHlwZSxcbiAgbmFuOiBuYW5UeXBlLFxuICBuYXRpdmVFbnVtOiBuYXRpdmVFbnVtVHlwZSxcbiAgbmV2ZXI6IG5ldmVyVHlwZSxcbiAgXCJudWxsXCI6IG51bGxUeXBlLFxuICBudWxsYWJsZTogbnVsbGFibGVUeXBlLFxuICBudW1iZXI6IG51bWJlclR5cGUsXG4gIG9iamVjdDogb2JqZWN0VHlwZSxcbiAgb2Jvb2xlYW4sXG4gIG9udW1iZXIsXG4gIG9wdGlvbmFsOiBvcHRpb25hbFR5cGUsXG4gIG9zdHJpbmcsXG4gIHBpcGVsaW5lOiBwaXBlbGluZVR5cGUsXG4gIHByZXByb2Nlc3M6IHByZXByb2Nlc3NUeXBlLFxuICBwcm9taXNlOiBwcm9taXNlVHlwZSxcbiAgcmVjb3JkOiByZWNvcmRUeXBlLFxuICBzZXQ6IHNldFR5cGUsXG4gIHN0cmljdE9iamVjdDogc3RyaWN0T2JqZWN0VHlwZSxcbiAgc3RyaW5nOiBzdHJpbmdUeXBlLFxuICBzeW1ib2w6IHN5bWJvbFR5cGUsXG4gIHRyYW5zZm9ybWVyOiBlZmZlY3RzVHlwZSxcbiAgdHVwbGU6IHR1cGxlVHlwZSxcbiAgXCJ1bmRlZmluZWRcIjogdW5kZWZpbmVkVHlwZSxcbiAgdW5pb246IHVuaW9uVHlwZSxcbiAgdW5rbm93bjogdW5rbm93blR5cGUsXG4gIFwidm9pZFwiOiB2b2lkVHlwZSxcbiAgTkVWRVIsXG4gIFpvZElzc3VlQ29kZSxcbiAgcXVvdGVsZXNzSnNvbixcbiAgWm9kRXJyb3Jcbn0pO1xudmFyIERFRkFVTFRfUE9SVCA9IDU3NDY7XG52YXIgUElOR19FTkRQT0lOVCA9IFwiL3Bpbmcvc3RhZ2V3aXNlXCI7XG52YXIgUElOR19SRVNQT05TRSA9IFwic3RhZ2V3aXNlXCI7XG52YXIgY29udHJhY3QgPSBjcmVhdGVCcmlkZ2VDb250cmFjdCh7XG4gIHNlcnZlcjoge1xuICAgIHRyaWdnZXJBZ2VudFByb21wdDoge1xuICAgICAgcmVxdWVzdDogei5vYmplY3Qoe1xuICAgICAgICBwcm9tcHQ6IHouc3RyaW5nKClcbiAgICAgIH0pLFxuICAgICAgcmVzcG9uc2U6IHoub2JqZWN0KHtcbiAgICAgICAgcmVzdWx0OiB6Lm9iamVjdCh7XG4gICAgICAgICAgc3VjY2Vzczogei5ib29sZWFuKCksXG4gICAgICAgICAgZXJyb3I6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICBvdXRwdXQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKVxuICAgICAgICB9KVxuICAgICAgfSksXG4gICAgICB1cGRhdGU6IHoub2JqZWN0KHtcbiAgICAgICAgdXBkYXRlVGV4dDogei5zdHJpbmcoKVxuICAgICAgfSlcbiAgICB9XG4gIH1cbn0pO1xuYXN5bmMgZnVuY3Rpb24gZmluZFBvcnQobWF4QXR0ZW1wdHMgPSAxMCwgdGltZW91dCA9IDMwMCkge1xuICBmb3IgKGxldCBhdHRlbXB0ID0gMDsgYXR0ZW1wdCA8IG1heEF0dGVtcHRzOyBhdHRlbXB0KyspIHtcbiAgICBjb25zdCBwb3J0ID0gREVGQVVMVF9QT1JUICsgYXR0ZW1wdDtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgIGNvbnN0IHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4gY29udHJvbGxlci5hYm9ydCgpLCB0aW1lb3V0KTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgICAgYGh0dHA6Ly9sb2NhbGhvc3Q6JHtwb3J0fSR7UElOR19FTkRQT0lOVH1gLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHNpZ25hbDogY29udHJvbGxlci5zaWduYWxcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCB0ZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgICAgICAgIGlmICh0ZXh0ID09PSBQSU5HX1JFU1BPTlNFKSB7XG4gICAgICAgICAgICByZXR1cm4gcG9ydDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yMikge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IyKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5jb25zdCBTUlBDQnJpZGdlQ29udGV4dCA9IEskMyh7XG4gIGJyaWRnZTogbnVsbCxcbiAgaXNDb25uZWN0aW5nOiBmYWxzZSxcbiAgZXJyb3I6IG51bGxcbn0pO1xuZnVuY3Rpb24gU1JQQ0JyaWRnZVByb3ZpZGVyKHtcbiAgY2hpbGRyZW5cbn0pIHtcbiAgY29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSBkJDQoe1xuICAgIGJyaWRnZTogbnVsbCxcbiAgICBpc0Nvbm5lY3Rpbmc6IHRydWUsXG4gICAgZXJyb3I6IG51bGxcbiAgfSk7XG4gIHkkNigoKSA9PiB7XG4gICAgYXN5bmMgZnVuY3Rpb24gaW5pdGlhbGl6ZUJyaWRnZSgpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBvcnQgPSBhd2FpdCBmaW5kUG9ydCgpO1xuICAgICAgICBjb25zdCBicmlkZ2UgPSBjcmVhdGVTUlBDQ2xpZW50QnJpZGdlKFxuICAgICAgICAgIGB3czovL2xvY2FsaG9zdDoke3BvcnR9YCxcbiAgICAgICAgICBjb250cmFjdFxuICAgICAgICApO1xuICAgICAgICBhd2FpdCBicmlkZ2UuY29ubmVjdCgpO1xuICAgICAgICBzZXRTdGF0ZSh7XG4gICAgICAgICAgYnJpZGdlLFxuICAgICAgICAgIGlzQ29ubmVjdGluZzogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IG51bGxcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlcnJvcjIpIHtcbiAgICAgICAgc2V0U3RhdGUoe1xuICAgICAgICAgIGJyaWRnZTogbnVsbCxcbiAgICAgICAgICBpc0Nvbm5lY3Rpbmc6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiBlcnJvcjIgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yMiA6IG5ldyBFcnJvcihTdHJpbmcoZXJyb3IyKSlcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGluaXRpYWxpemVCcmlkZ2UoKTtcbiAgfSwgW10pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIHUkOShTUlBDQnJpZGdlQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogc3RhdGUsIGNoaWxkcmVuIH0pO1xufVxuZnVuY3Rpb24gdXNlU1JQQ0JyaWRnZSgpIHtcbiAgY29uc3QgY29udGV4dCA9IHgkNChTUlBDQnJpZGdlQ29udGV4dCk7XG4gIGlmICghY29udGV4dCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcInVzZVNSUENCcmlkZ2UgbXVzdCBiZSB1c2VkIHdpdGhpbiBhbiBTUlBDQnJpZGdlUHJvdmlkZXJcIik7XG4gIH1cbiAgcmV0dXJuIGNvbnRleHQ7XG59XG5mdW5jdGlvbiBnZXRFbGVtZW50QXR0cmlidXRlcyhlbGVtZW50KSB7XG4gIGNvbnN0IGF0dHJzID0ge307XG4gIGNvbnN0IHByaW9yaXR5QXR0cnMgPSBbXG4gICAgXCJpZFwiLFxuICAgIFwiY2xhc3NcIixcbiAgICBcIm5hbWVcIixcbiAgICBcInR5cGVcIixcbiAgICBcImhyZWZcIixcbiAgICBcInNyY1wiLFxuICAgIFwiYWx0XCIsXG4gICAgXCJmb3JcIixcbiAgICBcInBsYWNlaG9sZGVyXCJcbiAgXTtcbiAgY29uc3QgZGF0YUF0dHJzID0gW107XG4gIGZvciAobGV0IGkyID0gMDsgaTIgPCBlbGVtZW50LmF0dHJpYnV0ZXMubGVuZ3RoOyBpMisrKSB7XG4gICAgY29uc3QgYXR0ciA9IGVsZW1lbnQuYXR0cmlidXRlc1tpMl07XG4gICAgaWYgKGF0dHIubmFtZS5zdGFydHNXaXRoKFwiZGF0YS1cIikpIHtcbiAgICAgIGRhdGFBdHRycy5wdXNoKHsgbmFtZTogYXR0ci5uYW1lLCB2YWx1ZTogYXR0ci52YWx1ZSB9KTtcbiAgICB9IGVsc2UgaWYgKHByaW9yaXR5QXR0cnMuaW5jbHVkZXMoYXR0ci5uYW1lLnRvTG93ZXJDYXNlKCkpIHx8IGF0dHIubmFtZS50b0xvd2VyQ2FzZSgpICE9PSBcInN0eWxlXCIpIHtcbiAgICAgIGF0dHJzW2F0dHIubmFtZV0gPSBhdHRyLnZhbHVlO1xuICAgIH1cbiAgfVxuICBkYXRhQXR0cnMuZm9yRWFjaCgoZGEpID0+IHtcbiAgICBhdHRyc1tkYS5uYW1lXSA9IGRhLnZhbHVlO1xuICB9KTtcbiAgcmV0dXJuIGF0dHJzO1xufVxuZnVuY3Rpb24gZ2VuZXJhdGVFbGVtZW50Q29udGV4dChlbGVtZW50LCBpbmRleDIpIHtcbiAgdmFyIF9hO1xuICBsZXQgY29udGV4dCA9IGA8ZWxlbWVudCBpbmRleD1cIiR7aW5kZXgyICsgMX1cIj5cbmA7XG4gIGNvbnRleHQgKz0gYCAgPHRhZz4ke2VsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpfTwvdGFnPlxuYDtcbiAgY29uc3QgaWQgPSBlbGVtZW50LmlkO1xuICBpZiAoaWQpIHtcbiAgICBjb250ZXh0ICs9IGAgIDxpZD4ke2lkfTwvaWQ+XG5gO1xuICB9XG4gIGNvbnN0IGNsYXNzZXMgPSBBcnJheS5mcm9tKGVsZW1lbnQuY2xhc3NMaXN0KS5qb2luKFwiLCBcIik7XG4gIGlmIChjbGFzc2VzKSB7XG4gICAgY29udGV4dCArPSBgICA8Y2xhc3Nlcz4ke2NsYXNzZXN9PC9jbGFzc2VzPlxuYDtcbiAgfVxuICBjb25zdCBhdHRyaWJ1dGVzID0gZ2V0RWxlbWVudEF0dHJpYnV0ZXMoZWxlbWVudCk7XG4gIGlmIChPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5sZW5ndGggPiAwKSB7XG4gICAgY29udGV4dCArPSBgICA8YXR0cmlidXRlcz5cbmA7XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoYXR0cmlidXRlcykpIHtcbiAgICAgIGlmIChrZXkudG9Mb3dlckNhc2UoKSAhPT0gXCJjbGFzc1wiIHx8ICFjbGFzc2VzKSB7XG4gICAgICAgIGNvbnRleHQgKz0gYCAgICA8JHtrZXl9PiR7dmFsdWV9PC8ke2tleX0+XG5gO1xuICAgICAgfVxuICAgIH1cbiAgICBjb250ZXh0ICs9IGAgIDwvYXR0cmlidXRlcz5cbmA7XG4gIH1cbiAgY29uc3QgdGV4dCA9IChfYSA9IGVsZW1lbnQuaW5uZXJUZXh0KSA9PSBudWxsID8gdm9pZCAwIDogX2EudHJpbSgpO1xuICBpZiAodGV4dCkge1xuICAgIGNvbnN0IG1heExlbmd0aCA9IDEwMDtcbiAgICBjb250ZXh0ICs9IGAgIDx0ZXh0PiR7dGV4dC5sZW5ndGggPiBtYXhMZW5ndGggPyBgJHt0ZXh0LnN1YnN0cmluZygwLCBtYXhMZW5ndGgpfS4uLmAgOiB0ZXh0fTwvdGV4dD5cbmA7XG4gIH1cbiAgY29udGV4dCArPSBgICA8c3RydWN0dXJhbF9jb250ZXh0PlxuYDtcbiAgaWYgKGVsZW1lbnQucGFyZW50RWxlbWVudCkge1xuICAgIGNvbnN0IHBhcmVudCA9IGVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICBjb250ZXh0ICs9IGAgICAgPHBhcmVudD5cbmA7XG4gICAgY29udGV4dCArPSBgICAgICAgPHRhZz4ke3BhcmVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCl9PC90YWc+XG5gO1xuICAgIGlmIChwYXJlbnQuaWQpIHtcbiAgICAgIGNvbnRleHQgKz0gYCAgICAgIDxpZD4ke3BhcmVudC5pZH08L2lkPlxuYDtcbiAgICB9XG4gICAgY29uc3QgcGFyZW50Q2xhc3NlcyA9IEFycmF5LmZyb20ocGFyZW50LmNsYXNzTGlzdCkuam9pbihcIiwgXCIpO1xuICAgIGlmIChwYXJlbnRDbGFzc2VzKSB7XG4gICAgICBjb250ZXh0ICs9IGAgICAgICA8Y2xhc3Nlcz4ke3BhcmVudENsYXNzZXN9PC9jbGFzc2VzPlxuYDtcbiAgICB9XG4gICAgY29udGV4dCArPSBgICAgIDwvcGFyZW50PlxuYDtcbiAgfSBlbHNlIHtcbiAgICBjb250ZXh0ICs9IGAgICAgPHBhcmVudD5ObyBwYXJlbnQgZWxlbWVudCBmb3VuZCAobGlrZWx5IHJvb3Qgb3IgZGlzY29ubmVjdGVkKTwvcGFyZW50PlxuYDtcbiAgfVxuICBjb250ZXh0ICs9IGAgIDwvc3RydWN0dXJhbF9jb250ZXh0PlxuYDtcbiAgdHJ5IHtcbiAgICBjb25zdCBzdHlsZXMgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgICBjb25zdCByZWxldmFudFN0eWxlcyA9IHtcbiAgICAgIGNvbG9yOiBzdHlsZXMuY29sb3IsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHN0eWxlcy5iYWNrZ3JvdW5kQ29sb3IsXG4gICAgICBmb250U2l6ZTogc3R5bGVzLmZvbnRTaXplLFxuICAgICAgZm9udFdlaWdodDogc3R5bGVzLmZvbnRXZWlnaHQsXG4gICAgICBkaXNwbGF5OiBzdHlsZXMuZGlzcGxheVxuICAgIH07XG4gICAgY29udGV4dCArPSBgICA8c3R5bGVzPlxuYDtcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhyZWxldmFudFN0eWxlcykpIHtcbiAgICAgIGNvbnRleHQgKz0gYCAgICA8JHtrZXl9PiR7dmFsdWV9PC8ke2tleX0+XG5gO1xuICAgIH1cbiAgICBjb250ZXh0ICs9IGAgIDwvc3R5bGVzPlxuYDtcbiAgfSBjYXRjaCAoZTIpIHtcbiAgICBjb250ZXh0ICs9IGAgIDxzdHlsZXM+Q291bGQgbm90IHJldHJpZXZlIGNvbXB1dGVkIHN0eWxlczwvc3R5bGVzPlxuYDtcbiAgfVxuICBjb250ZXh0ICs9IGA8L2VsZW1lbnQ+XG5gO1xuICByZXR1cm4gY29udGV4dDtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVByb21wdChzZWxlY3RlZEVsZW1lbnRzLCB1c2VyUHJvbXB0LCB1cmwpIHtcbiAgaWYgKCFzZWxlY3RlZEVsZW1lbnRzIHx8IHNlbGVjdGVkRWxlbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGBcbiAgICA8cmVxdWVzdD5cbiAgICAgIDx1c2VyX2dvYWw+JHt1c2VyUHJvbXB0fTwvdXNlcl9nb2FsPlxuICAgICAgPHVybD4ke3VybH08L3VybD5cbiAgPGNvbnRleHQ+Tm8gc3BlY2lmaWMgZWxlbWVudCB3YXMgc2VsZWN0ZWQgb24gdGhlIHBhZ2UuIFBsZWFzZSBhbmFseXplIHRoZSBwYWdlIGNvZGUgaW4gZ2VuZXJhbCBvciBhc2sgZm9yIGNsYXJpZmljYXRpb24uPC9jb250ZXh0PlxuPC9yZXF1ZXN0PmAudHJpbSgpO1xuICB9XG4gIGxldCBkZXRhaWxlZENvbnRleHQgPSBcIlwiO1xuICBzZWxlY3RlZEVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQsIGluZGV4MikgPT4ge1xuICAgIGRldGFpbGVkQ29udGV4dCArPSBnZW5lcmF0ZUVsZW1lbnRDb250ZXh0KGVsZW1lbnQsIGluZGV4Mik7XG4gIH0pO1xuICByZXR1cm4gYFxuPHJlcXVlc3Q+XG4gIDx1c2VyX2dvYWw+JHt1c2VyUHJvbXB0fTwvdXNlcl9nb2FsPlxuICA8dXJsPiR7dXJsfTwvdXJsPlxuICA8c2VsZWN0ZWRfZWxlbWVudHM+XG4gICAgJHtkZXRhaWxlZENvbnRleHQudHJpbSgpfVxuICA8L3NlbGVjdGVkX2VsZW1lbnRzPlxuPC9yZXF1ZXN0PmAudHJpbSgpO1xufVxuY29uc3QgRHJvcEFyZWFab25lID0ge1xuICBCT1RUT01fQ0VOVEVSOiA0XG59O1xuY29uc3QgY3JlYXRlU3RvcmVJbXBsID0gKGNyZWF0ZVN0YXRlKSA9PiB7XG4gIGxldCBzdGF0ZTtcbiAgY29uc3QgbGlzdGVuZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgY29uc3Qgc2V0U3RhdGUgPSAocGFydGlhbCwgcmVwbGFjZSkgPT4ge1xuICAgIGNvbnN0IG5leHRTdGF0ZSA9IHR5cGVvZiBwYXJ0aWFsID09PSBcImZ1bmN0aW9uXCIgPyBwYXJ0aWFsKHN0YXRlKSA6IHBhcnRpYWw7XG4gICAgaWYgKCFPYmplY3QuaXMobmV4dFN0YXRlLCBzdGF0ZSkpIHtcbiAgICAgIGNvbnN0IHByZXZpb3VzU3RhdGUgPSBzdGF0ZTtcbiAgICAgIHN0YXRlID0gKHJlcGxhY2UgIT0gbnVsbCA/IHJlcGxhY2UgOiB0eXBlb2YgbmV4dFN0YXRlICE9PSBcIm9iamVjdFwiIHx8IG5leHRTdGF0ZSA9PT0gbnVsbCkgPyBuZXh0U3RhdGUgOiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwgbmV4dFN0YXRlKTtcbiAgICAgIGxpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT4gbGlzdGVuZXIoc3RhdGUsIHByZXZpb3VzU3RhdGUpKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGdldFN0YXRlID0gKCkgPT4gc3RhdGU7XG4gIGNvbnN0IGdldEluaXRpYWxTdGF0ZSA9ICgpID0+IGluaXRpYWxTdGF0ZTtcbiAgY29uc3Qgc3Vic2NyaWJlID0gKGxpc3RlbmVyKSA9PiB7XG4gICAgbGlzdGVuZXJzLmFkZChsaXN0ZW5lcik7XG4gICAgcmV0dXJuICgpID0+IGxpc3RlbmVycy5kZWxldGUobGlzdGVuZXIpO1xuICB9O1xuICBjb25zdCBhcGkgPSB7IHNldFN0YXRlLCBnZXRTdGF0ZSwgZ2V0SW5pdGlhbFN0YXRlLCBzdWJzY3JpYmUgfTtcbiAgY29uc3QgaW5pdGlhbFN0YXRlID0gc3RhdGUgPSBjcmVhdGVTdGF0ZShzZXRTdGF0ZSwgZ2V0U3RhdGUsIGFwaSk7XG4gIHJldHVybiBhcGk7XG59O1xuY29uc3QgY3JlYXRlU3RvcmUgPSAoY3JlYXRlU3RhdGUpID0+IGNyZWF0ZVN0YXRlID8gY3JlYXRlU3RvcmVJbXBsKGNyZWF0ZVN0YXRlKSA6IGNyZWF0ZVN0b3JlSW1wbDtcbmNvbnN0IGlkZW50aXR5ID0gKGFyZykgPT4gYXJnO1xuZnVuY3Rpb24gdXNlU3RvcmUoYXBpLCBzZWxlY3RvciA9IGlkZW50aXR5KSB7XG4gIGNvbnN0IHNsaWNlID0gUm4udXNlU3luY0V4dGVybmFsU3RvcmUoXG4gICAgYXBpLnN1YnNjcmliZSxcbiAgICAoKSA9PiBzZWxlY3RvcihhcGkuZ2V0U3RhdGUoKSksXG4gICAgKCkgPT4gc2VsZWN0b3IoYXBpLmdldEluaXRpYWxTdGF0ZSgpKVxuICApO1xuICBSbi51c2VEZWJ1Z1ZhbHVlKHNsaWNlKTtcbiAgcmV0dXJuIHNsaWNlO1xufVxuY29uc3QgY3JlYXRlSW1wbCA9IChjcmVhdGVTdGF0ZSkgPT4ge1xuICBjb25zdCBhcGkgPSBjcmVhdGVTdG9yZShjcmVhdGVTdGF0ZSk7XG4gIGNvbnN0IHVzZUJvdW5kU3RvcmUgPSAoc2VsZWN0b3IpID0+IHVzZVN0b3JlKGFwaSwgc2VsZWN0b3IpO1xuICBPYmplY3QuYXNzaWduKHVzZUJvdW5kU3RvcmUsIGFwaSk7XG4gIHJldHVybiB1c2VCb3VuZFN0b3JlO1xufTtcbmNvbnN0IGNyZWF0ZSA9IChjcmVhdGVTdGF0ZSkgPT4gY3JlYXRlU3RhdGUgPyBjcmVhdGVJbXBsKGNyZWF0ZVN0YXRlKSA6IGNyZWF0ZUltcGw7XG5jbGFzcyBEb3VibGVJbmRleGVkS1Yge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmtleVRvVmFsdWUgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgIHRoaXMudmFsdWVUb0tleSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIH1cbiAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICB0aGlzLmtleVRvVmFsdWUuc2V0KGtleSwgdmFsdWUpO1xuICAgIHRoaXMudmFsdWVUb0tleS5zZXQodmFsdWUsIGtleSk7XG4gIH1cbiAgZ2V0QnlLZXkoa2V5KSB7XG4gICAgcmV0dXJuIHRoaXMua2V5VG9WYWx1ZS5nZXQoa2V5KTtcbiAgfVxuICBnZXRCeVZhbHVlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMudmFsdWVUb0tleS5nZXQodmFsdWUpO1xuICB9XG4gIGNsZWFyKCkge1xuICAgIHRoaXMua2V5VG9WYWx1ZS5jbGVhcigpO1xuICAgIHRoaXMudmFsdWVUb0tleS5jbGVhcigpO1xuICB9XG59XG5jbGFzcyBSZWdpc3RyeSB7XG4gIGNvbnN0cnVjdG9yKGdlbmVyYXRlSWRlbnRpZmllcikge1xuICAgIHRoaXMuZ2VuZXJhdGVJZGVudGlmaWVyID0gZ2VuZXJhdGVJZGVudGlmaWVyO1xuICAgIHRoaXMua3YgPSBuZXcgRG91YmxlSW5kZXhlZEtWKCk7XG4gIH1cbiAgcmVnaXN0ZXIodmFsdWUsIGlkZW50aWZpZXIpIHtcbiAgICBpZiAodGhpcy5rdi5nZXRCeVZhbHVlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIWlkZW50aWZpZXIpIHtcbiAgICAgIGlkZW50aWZpZXIgPSB0aGlzLmdlbmVyYXRlSWRlbnRpZmllcih2YWx1ZSk7XG4gICAgfVxuICAgIHRoaXMua3Yuc2V0KGlkZW50aWZpZXIsIHZhbHVlKTtcbiAgfVxuICBjbGVhcigpIHtcbiAgICB0aGlzLmt2LmNsZWFyKCk7XG4gIH1cbiAgZ2V0SWRlbnRpZmllcih2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLmt2LmdldEJ5VmFsdWUodmFsdWUpO1xuICB9XG4gIGdldFZhbHVlKGlkZW50aWZpZXIpIHtcbiAgICByZXR1cm4gdGhpcy5rdi5nZXRCeUtleShpZGVudGlmaWVyKTtcbiAgfVxufVxuY2xhc3MgQ2xhc3NSZWdpc3RyeSBleHRlbmRzIFJlZ2lzdHJ5IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKGMyKSA9PiBjMi5uYW1lKTtcbiAgICB0aGlzLmNsYXNzVG9BbGxvd2VkUHJvcHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICB9XG4gIHJlZ2lzdGVyKHZhbHVlLCBvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcIm9iamVjdFwiKSB7XG4gICAgICBpZiAob3B0aW9ucy5hbGxvd1Byb3BzKSB7XG4gICAgICAgIHRoaXMuY2xhc3NUb0FsbG93ZWRQcm9wcy5zZXQodmFsdWUsIG9wdGlvbnMuYWxsb3dQcm9wcyk7XG4gICAgICB9XG4gICAgICBzdXBlci5yZWdpc3Rlcih2YWx1ZSwgb3B0aW9ucy5pZGVudGlmaWVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3VwZXIucmVnaXN0ZXIodmFsdWUsIG9wdGlvbnMpO1xuICAgIH1cbiAgfVxuICBnZXRBbGxvd2VkUHJvcHModmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5jbGFzc1RvQWxsb3dlZFByb3BzLmdldCh2YWx1ZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHZhbHVlc09mT2JqKHJlY29yZCkge1xuICBpZiAoXCJ2YWx1ZXNcIiBpbiBPYmplY3QpIHtcbiAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhyZWNvcmQpO1xuICB9XG4gIGNvbnN0IHZhbHVlcyA9IFtdO1xuICBmb3IgKGNvbnN0IGtleSBpbiByZWNvcmQpIHtcbiAgICBpZiAocmVjb3JkLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgIHZhbHVlcy5wdXNoKHJlY29yZFtrZXldKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZhbHVlcztcbn1cbmZ1bmN0aW9uIGZpbmQocmVjb3JkLCBwcmVkaWNhdGUpIHtcbiAgY29uc3QgdmFsdWVzID0gdmFsdWVzT2ZPYmoocmVjb3JkKTtcbiAgaWYgKFwiZmluZFwiIGluIHZhbHVlcykge1xuICAgIHJldHVybiB2YWx1ZXMuZmluZChwcmVkaWNhdGUpO1xuICB9XG4gIGNvbnN0IHZhbHVlc05vdE5ldmVyID0gdmFsdWVzO1xuICBmb3IgKGxldCBpMiA9IDA7IGkyIDwgdmFsdWVzTm90TmV2ZXIubGVuZ3RoOyBpMisrKSB7XG4gICAgY29uc3QgdmFsdWUgPSB2YWx1ZXNOb3ROZXZlcltpMl07XG4gICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZvaWQgMDtcbn1cbmZ1bmN0aW9uIGZvckVhY2gocmVjb3JkLCBydW4pIHtcbiAgT2JqZWN0LmVudHJpZXMocmVjb3JkKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHJ1bih2YWx1ZSwga2V5KSk7XG59XG5mdW5jdGlvbiBpbmNsdWRlcyhhcnIsIHZhbHVlKSB7XG4gIHJldHVybiBhcnIuaW5kZXhPZih2YWx1ZSkgIT09IC0xO1xufVxuZnVuY3Rpb24gZmluZEFycihyZWNvcmQsIHByZWRpY2F0ZSkge1xuICBmb3IgKGxldCBpMiA9IDA7IGkyIDwgcmVjb3JkLmxlbmd0aDsgaTIrKykge1xuICAgIGNvbnN0IHZhbHVlID0gcmVjb3JkW2kyXTtcbiAgICBpZiAocHJlZGljYXRlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdm9pZCAwO1xufVxuY2xhc3MgQ3VzdG9tVHJhbnNmb3JtZXJSZWdpc3RyeSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMudHJhbnNmb21lcnMgPSB7fTtcbiAgfVxuICByZWdpc3Rlcih0cmFuc2Zvcm1lcikge1xuICAgIHRoaXMudHJhbnNmb21lcnNbdHJhbnNmb3JtZXIubmFtZV0gPSB0cmFuc2Zvcm1lcjtcbiAgfVxuICBmaW5kQXBwbGljYWJsZSh2Mikge1xuICAgIHJldHVybiBmaW5kKHRoaXMudHJhbnNmb21lcnMsICh0cmFuc2Zvcm1lcikgPT4gdHJhbnNmb3JtZXIuaXNBcHBsaWNhYmxlKHYyKSk7XG4gIH1cbiAgZmluZEJ5TmFtZShuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMudHJhbnNmb21lcnNbbmFtZV07XG4gIH1cbn1cbmNvbnN0IGdldFR5cGUkMSA9IChwYXlsb2FkKSA9PiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocGF5bG9hZCkuc2xpY2UoOCwgLTEpO1xuY29uc3QgaXNVbmRlZmluZWQgPSAocGF5bG9hZCkgPT4gdHlwZW9mIHBheWxvYWQgPT09IFwidW5kZWZpbmVkXCI7XG5jb25zdCBpc051bGwgPSAocGF5bG9hZCkgPT4gcGF5bG9hZCA9PT0gbnVsbDtcbmNvbnN0IGlzUGxhaW5PYmplY3QkMSA9IChwYXlsb2FkKSA9PiB7XG4gIGlmICh0eXBlb2YgcGF5bG9hZCAhPT0gXCJvYmplY3RcIiB8fCBwYXlsb2FkID09PSBudWxsKVxuICAgIHJldHVybiBmYWxzZTtcbiAgaWYgKHBheWxvYWQgPT09IE9iamVjdC5wcm90b3R5cGUpXG4gICAgcmV0dXJuIGZhbHNlO1xuICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKHBheWxvYWQpID09PSBudWxsKVxuICAgIHJldHVybiB0cnVlO1xuICByZXR1cm4gT2JqZWN0LmdldFByb3RvdHlwZU9mKHBheWxvYWQpID09PSBPYmplY3QucHJvdG90eXBlO1xufTtcbmNvbnN0IGlzRW1wdHlPYmplY3QgPSAocGF5bG9hZCkgPT4gaXNQbGFpbk9iamVjdCQxKHBheWxvYWQpICYmIE9iamVjdC5rZXlzKHBheWxvYWQpLmxlbmd0aCA9PT0gMDtcbmNvbnN0IGlzQXJyYXkkMSA9IChwYXlsb2FkKSA9PiBBcnJheS5pc0FycmF5KHBheWxvYWQpO1xuY29uc3QgaXNTdHJpbmckMSA9IChwYXlsb2FkKSA9PiB0eXBlb2YgcGF5bG9hZCA9PT0gXCJzdHJpbmdcIjtcbmNvbnN0IGlzTnVtYmVyJDEgPSAocGF5bG9hZCkgPT4gdHlwZW9mIHBheWxvYWQgPT09IFwibnVtYmVyXCIgJiYgIWlzTmFOKHBheWxvYWQpO1xuY29uc3QgaXNCb29sZWFuID0gKHBheWxvYWQpID0+IHR5cGVvZiBwYXlsb2FkID09PSBcImJvb2xlYW5cIjtcbmNvbnN0IGlzUmVnRXhwID0gKHBheWxvYWQpID0+IHBheWxvYWQgaW5zdGFuY2VvZiBSZWdFeHA7XG5jb25zdCBpc01hcCA9IChwYXlsb2FkKSA9PiBwYXlsb2FkIGluc3RhbmNlb2YgTWFwO1xuY29uc3QgaXNTZXQgPSAocGF5bG9hZCkgPT4gcGF5bG9hZCBpbnN0YW5jZW9mIFNldDtcbmNvbnN0IGlzU3ltYm9sID0gKHBheWxvYWQpID0+IGdldFR5cGUkMShwYXlsb2FkKSA9PT0gXCJTeW1ib2xcIjtcbmNvbnN0IGlzRGF0ZSA9IChwYXlsb2FkKSA9PiBwYXlsb2FkIGluc3RhbmNlb2YgRGF0ZSAmJiAhaXNOYU4ocGF5bG9hZC52YWx1ZU9mKCkpO1xuY29uc3QgaXNFcnJvciA9IChwYXlsb2FkKSA9PiBwYXlsb2FkIGluc3RhbmNlb2YgRXJyb3I7XG5jb25zdCBpc05hTlZhbHVlID0gKHBheWxvYWQpID0+IHR5cGVvZiBwYXlsb2FkID09PSBcIm51bWJlclwiICYmIGlzTmFOKHBheWxvYWQpO1xuY29uc3QgaXNQcmltaXRpdmUgPSAocGF5bG9hZCkgPT4gaXNCb29sZWFuKHBheWxvYWQpIHx8IGlzTnVsbChwYXlsb2FkKSB8fCBpc1VuZGVmaW5lZChwYXlsb2FkKSB8fCBpc051bWJlciQxKHBheWxvYWQpIHx8IGlzU3RyaW5nJDEocGF5bG9hZCkgfHwgaXNTeW1ib2wocGF5bG9hZCk7XG5jb25zdCBpc0JpZ2ludCA9IChwYXlsb2FkKSA9PiB0eXBlb2YgcGF5bG9hZCA9PT0gXCJiaWdpbnRcIjtcbmNvbnN0IGlzSW5maW5pdGUgPSAocGF5bG9hZCkgPT4gcGF5bG9hZCA9PT0gSW5maW5pdHkgfHwgcGF5bG9hZCA9PT0gLUluZmluaXR5O1xuY29uc3QgaXNUeXBlZEFycmF5ID0gKHBheWxvYWQpID0+IEFycmF5QnVmZmVyLmlzVmlldyhwYXlsb2FkKSAmJiAhKHBheWxvYWQgaW5zdGFuY2VvZiBEYXRhVmlldyk7XG5jb25zdCBpc1VSTCA9IChwYXlsb2FkKSA9PiBwYXlsb2FkIGluc3RhbmNlb2YgVVJMO1xuY29uc3QgZXNjYXBlS2V5ID0gKGtleSkgPT4ga2V5LnJlcGxhY2UoL1xcLi9nLCBcIlxcXFwuXCIpO1xuY29uc3Qgc3RyaW5naWZ5UGF0aCA9IChwYXRoKSA9PiBwYXRoLm1hcChTdHJpbmcpLm1hcChlc2NhcGVLZXkpLmpvaW4oXCIuXCIpO1xuY29uc3QgcGFyc2VQYXRoID0gKHN0cmluZykgPT4ge1xuICBjb25zdCByZXN1bHQgPSBbXTtcbiAgbGV0IHNlZ21lbnQgPSBcIlwiO1xuICBmb3IgKGxldCBpMiA9IDA7IGkyIDwgc3RyaW5nLmxlbmd0aDsgaTIrKykge1xuICAgIGxldCBjaGFyID0gc3RyaW5nLmNoYXJBdChpMik7XG4gICAgY29uc3QgaXNFc2NhcGVkRG90ID0gY2hhciA9PT0gXCJcXFxcXCIgJiYgc3RyaW5nLmNoYXJBdChpMiArIDEpID09PSBcIi5cIjtcbiAgICBpZiAoaXNFc2NhcGVkRG90KSB7XG4gICAgICBzZWdtZW50ICs9IFwiLlwiO1xuICAgICAgaTIrKztcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBjb25zdCBpc0VuZE9mU2VnbWVudCA9IGNoYXIgPT09IFwiLlwiO1xuICAgIGlmIChpc0VuZE9mU2VnbWVudCkge1xuICAgICAgcmVzdWx0LnB1c2goc2VnbWVudCk7XG4gICAgICBzZWdtZW50ID0gXCJcIjtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBzZWdtZW50ICs9IGNoYXI7XG4gIH1cbiAgY29uc3QgbGFzdFNlZ21lbnQgPSBzZWdtZW50O1xuICByZXN1bHQucHVzaChsYXN0U2VnbWVudCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuZnVuY3Rpb24gc2ltcGxlVHJhbnNmb3JtYXRpb24oaXNBcHBsaWNhYmxlLCBhbm5vdGF0aW9uLCB0cmFuc2Zvcm0sIHVudHJhbnNmb3JtKSB7XG4gIHJldHVybiB7XG4gICAgaXNBcHBsaWNhYmxlLFxuICAgIGFubm90YXRpb24sXG4gICAgdHJhbnNmb3JtLFxuICAgIHVudHJhbnNmb3JtXG4gIH07XG59XG5jb25zdCBzaW1wbGVSdWxlcyA9IFtcbiAgc2ltcGxlVHJhbnNmb3JtYXRpb24oaXNVbmRlZmluZWQsIFwidW5kZWZpbmVkXCIsICgpID0+IG51bGwsICgpID0+IHZvaWQgMCksXG4gIHNpbXBsZVRyYW5zZm9ybWF0aW9uKGlzQmlnaW50LCBcImJpZ2ludFwiLCAodjIpID0+IHYyLnRvU3RyaW5nKCksICh2MikgPT4ge1xuICAgIGlmICh0eXBlb2YgQmlnSW50ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICByZXR1cm4gQmlnSW50KHYyKTtcbiAgICB9XG4gICAgY29uc29sZS5lcnJvcihcIlBsZWFzZSBhZGQgYSBCaWdJbnQgcG9seWZpbGwuXCIpO1xuICAgIHJldHVybiB2MjtcbiAgfSksXG4gIHNpbXBsZVRyYW5zZm9ybWF0aW9uKGlzRGF0ZSwgXCJEYXRlXCIsICh2MikgPT4gdjIudG9JU09TdHJpbmcoKSwgKHYyKSA9PiBuZXcgRGF0ZSh2MikpLFxuICBzaW1wbGVUcmFuc2Zvcm1hdGlvbihpc0Vycm9yLCBcIkVycm9yXCIsICh2Miwgc3VwZXJKc29uKSA9PiB7XG4gICAgY29uc3QgYmFzZUVycm9yID0ge1xuICAgICAgbmFtZTogdjIubmFtZSxcbiAgICAgIG1lc3NhZ2U6IHYyLm1lc3NhZ2VcbiAgICB9O1xuICAgIHN1cGVySnNvbi5hbGxvd2VkRXJyb3JQcm9wcy5mb3JFYWNoKChwcm9wKSA9PiB7XG4gICAgICBiYXNlRXJyb3JbcHJvcF0gPSB2Mltwcm9wXTtcbiAgICB9KTtcbiAgICByZXR1cm4gYmFzZUVycm9yO1xuICB9LCAodjIsIHN1cGVySnNvbikgPT4ge1xuICAgIGNvbnN0IGUyID0gbmV3IEVycm9yKHYyLm1lc3NhZ2UpO1xuICAgIGUyLm5hbWUgPSB2Mi5uYW1lO1xuICAgIGUyLnN0YWNrID0gdjIuc3RhY2s7XG4gICAgc3VwZXJKc29uLmFsbG93ZWRFcnJvclByb3BzLmZvckVhY2goKHByb3ApID0+IHtcbiAgICAgIGUyW3Byb3BdID0gdjJbcHJvcF07XG4gICAgfSk7XG4gICAgcmV0dXJuIGUyO1xuICB9KSxcbiAgc2ltcGxlVHJhbnNmb3JtYXRpb24oaXNSZWdFeHAsIFwicmVnZXhwXCIsICh2MikgPT4gXCJcIiArIHYyLCAocmVnZXgpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcmVnZXguc2xpY2UoMSwgcmVnZXgubGFzdEluZGV4T2YoXCIvXCIpKTtcbiAgICBjb25zdCBmbGFncyA9IHJlZ2V4LnNsaWNlKHJlZ2V4Lmxhc3RJbmRleE9mKFwiL1wiKSArIDEpO1xuICAgIHJldHVybiBuZXcgUmVnRXhwKGJvZHksIGZsYWdzKTtcbiAgfSksXG4gIHNpbXBsZVRyYW5zZm9ybWF0aW9uKFxuICAgIGlzU2V0LFxuICAgIFwic2V0XCIsXG4gICAgLy8gKHNldHMgb25seSBleGlzdCBpbiBlczYrKVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlczUvbm8tZXM2LW1ldGhvZHNcbiAgICAodjIpID0+IFsuLi52Mi52YWx1ZXMoKV0sXG4gICAgKHYyKSA9PiBuZXcgU2V0KHYyKVxuICApLFxuICBzaW1wbGVUcmFuc2Zvcm1hdGlvbihpc01hcCwgXCJtYXBcIiwgKHYyKSA9PiBbLi4udjIuZW50cmllcygpXSwgKHYyKSA9PiBuZXcgTWFwKHYyKSksXG4gIHNpbXBsZVRyYW5zZm9ybWF0aW9uKCh2MikgPT4gaXNOYU5WYWx1ZSh2MikgfHwgaXNJbmZpbml0ZSh2MiksIFwibnVtYmVyXCIsICh2MikgPT4ge1xuICAgIGlmIChpc05hTlZhbHVlKHYyKSkge1xuICAgICAgcmV0dXJuIFwiTmFOXCI7XG4gICAgfVxuICAgIGlmICh2MiA+IDApIHtcbiAgICAgIHJldHVybiBcIkluZmluaXR5XCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcIi1JbmZpbml0eVwiO1xuICAgIH1cbiAgfSwgTnVtYmVyKSxcbiAgc2ltcGxlVHJhbnNmb3JtYXRpb24oKHYyKSA9PiB2MiA9PT0gMCAmJiAxIC8gdjIgPT09IC1JbmZpbml0eSwgXCJudW1iZXJcIiwgKCkgPT4ge1xuICAgIHJldHVybiBcIi0wXCI7XG4gIH0sIE51bWJlciksXG4gIHNpbXBsZVRyYW5zZm9ybWF0aW9uKGlzVVJMLCBcIlVSTFwiLCAodjIpID0+IHYyLnRvU3RyaW5nKCksICh2MikgPT4gbmV3IFVSTCh2MikpXG5dO1xuZnVuY3Rpb24gY29tcG9zaXRlVHJhbnNmb3JtYXRpb24oaXNBcHBsaWNhYmxlLCBhbm5vdGF0aW9uLCB0cmFuc2Zvcm0sIHVudHJhbnNmb3JtKSB7XG4gIHJldHVybiB7XG4gICAgaXNBcHBsaWNhYmxlLFxuICAgIGFubm90YXRpb24sXG4gICAgdHJhbnNmb3JtLFxuICAgIHVudHJhbnNmb3JtXG4gIH07XG59XG5jb25zdCBzeW1ib2xSdWxlID0gY29tcG9zaXRlVHJhbnNmb3JtYXRpb24oKHMyLCBzdXBlckpzb24pID0+IHtcbiAgaWYgKGlzU3ltYm9sKHMyKSkge1xuICAgIGNvbnN0IGlzUmVnaXN0ZXJlZCA9ICEhc3VwZXJKc29uLnN5bWJvbFJlZ2lzdHJ5LmdldElkZW50aWZpZXIoczIpO1xuICAgIHJldHVybiBpc1JlZ2lzdGVyZWQ7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufSwgKHMyLCBzdXBlckpzb24pID0+IHtcbiAgY29uc3QgaWRlbnRpZmllciA9IHN1cGVySnNvbi5zeW1ib2xSZWdpc3RyeS5nZXRJZGVudGlmaWVyKHMyKTtcbiAgcmV0dXJuIFtcInN5bWJvbFwiLCBpZGVudGlmaWVyXTtcbn0sICh2MikgPT4gdjIuZGVzY3JpcHRpb24sIChfMiwgYTMsIHN1cGVySnNvbikgPT4ge1xuICBjb25zdCB2YWx1ZSA9IHN1cGVySnNvbi5zeW1ib2xSZWdpc3RyeS5nZXRWYWx1ZShhM1sxXSk7XG4gIGlmICghdmFsdWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJUcnlpbmcgdG8gZGVzZXJpYWxpemUgdW5rbm93biBzeW1ib2xcIik7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufSk7XG5jb25zdCBjb25zdHJ1Y3RvclRvTmFtZSA9IFtcbiAgSW50OEFycmF5LFxuICBVaW50OEFycmF5LFxuICBJbnQxNkFycmF5LFxuICBVaW50MTZBcnJheSxcbiAgSW50MzJBcnJheSxcbiAgVWludDMyQXJyYXksXG4gIEZsb2F0MzJBcnJheSxcbiAgRmxvYXQ2NEFycmF5LFxuICBVaW50OENsYW1wZWRBcnJheVxuXS5yZWR1Y2UoKG9iaiwgY3RvcikgPT4ge1xuICBvYmpbY3Rvci5uYW1lXSA9IGN0b3I7XG4gIHJldHVybiBvYmo7XG59LCB7fSk7XG5jb25zdCB0eXBlZEFycmF5UnVsZSA9IGNvbXBvc2l0ZVRyYW5zZm9ybWF0aW9uKGlzVHlwZWRBcnJheSwgKHYyKSA9PiBbXCJ0eXBlZC1hcnJheVwiLCB2Mi5jb25zdHJ1Y3Rvci5uYW1lXSwgKHYyKSA9PiBbLi4udjJdLCAodjIsIGEzKSA9PiB7XG4gIGNvbnN0IGN0b3IgPSBjb25zdHJ1Y3RvclRvTmFtZVthM1sxXV07XG4gIGlmICghY3Rvcikge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlRyeWluZyB0byBkZXNlcmlhbGl6ZSB1bmtub3duIHR5cGVkIGFycmF5XCIpO1xuICB9XG4gIHJldHVybiBuZXcgY3Rvcih2Mik7XG59KTtcbmZ1bmN0aW9uIGlzSW5zdGFuY2VPZlJlZ2lzdGVyZWRDbGFzcyhwb3RlbnRpYWxDbGFzcywgc3VwZXJKc29uKSB7XG4gIGlmIChwb3RlbnRpYWxDbGFzcyA9PSBudWxsID8gdm9pZCAwIDogcG90ZW50aWFsQ2xhc3MuY29uc3RydWN0b3IpIHtcbiAgICBjb25zdCBpc1JlZ2lzdGVyZWQgPSAhIXN1cGVySnNvbi5jbGFzc1JlZ2lzdHJ5LmdldElkZW50aWZpZXIocG90ZW50aWFsQ2xhc3MuY29uc3RydWN0b3IpO1xuICAgIHJldHVybiBpc1JlZ2lzdGVyZWQ7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuY29uc3QgY2xhc3NSdWxlID0gY29tcG9zaXRlVHJhbnNmb3JtYXRpb24oaXNJbnN0YW5jZU9mUmVnaXN0ZXJlZENsYXNzLCAoY2xhenosIHN1cGVySnNvbikgPT4ge1xuICBjb25zdCBpZGVudGlmaWVyID0gc3VwZXJKc29uLmNsYXNzUmVnaXN0cnkuZ2V0SWRlbnRpZmllcihjbGF6ei5jb25zdHJ1Y3Rvcik7XG4gIHJldHVybiBbXCJjbGFzc1wiLCBpZGVudGlmaWVyXTtcbn0sIChjbGF6eiwgc3VwZXJKc29uKSA9PiB7XG4gIGNvbnN0IGFsbG93ZWRQcm9wcyA9IHN1cGVySnNvbi5jbGFzc1JlZ2lzdHJ5LmdldEFsbG93ZWRQcm9wcyhjbGF6ei5jb25zdHJ1Y3Rvcik7XG4gIGlmICghYWxsb3dlZFByb3BzKSB7XG4gICAgcmV0dXJuIHsgLi4uY2xhenogfTtcbiAgfVxuICBjb25zdCByZXN1bHQgPSB7fTtcbiAgYWxsb3dlZFByb3BzLmZvckVhY2goKHByb3ApID0+IHtcbiAgICByZXN1bHRbcHJvcF0gPSBjbGF6eltwcm9wXTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59LCAodjIsIGEzLCBzdXBlckpzb24pID0+IHtcbiAgY29uc3QgY2xhenogPSBzdXBlckpzb24uY2xhc3NSZWdpc3RyeS5nZXRWYWx1ZShhM1sxXSk7XG4gIGlmICghY2xhenopIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFRyeWluZyB0byBkZXNlcmlhbGl6ZSB1bmtub3duIGNsYXNzICcke2EzWzFdfScgLSBjaGVjayBodHRwczovL2dpdGh1Yi5jb20vYmxpdHotanMvc3VwZXJqc29uL2lzc3Vlcy8xMTYjaXNzdWVjb21tZW50LTc3Mzk5NjU2NGApO1xuICB9XG4gIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoY2xhenoucHJvdG90eXBlKSwgdjIpO1xufSk7XG5jb25zdCBjdXN0b21SdWxlID0gY29tcG9zaXRlVHJhbnNmb3JtYXRpb24oKHZhbHVlLCBzdXBlckpzb24pID0+IHtcbiAgcmV0dXJuICEhc3VwZXJKc29uLmN1c3RvbVRyYW5zZm9ybWVyUmVnaXN0cnkuZmluZEFwcGxpY2FibGUodmFsdWUpO1xufSwgKHZhbHVlLCBzdXBlckpzb24pID0+IHtcbiAgY29uc3QgdHJhbnNmb3JtZXIgPSBzdXBlckpzb24uY3VzdG9tVHJhbnNmb3JtZXJSZWdpc3RyeS5maW5kQXBwbGljYWJsZSh2YWx1ZSk7XG4gIHJldHVybiBbXCJjdXN0b21cIiwgdHJhbnNmb3JtZXIubmFtZV07XG59LCAodmFsdWUsIHN1cGVySnNvbikgPT4ge1xuICBjb25zdCB0cmFuc2Zvcm1lciA9IHN1cGVySnNvbi5jdXN0b21UcmFuc2Zvcm1lclJlZ2lzdHJ5LmZpbmRBcHBsaWNhYmxlKHZhbHVlKTtcbiAgcmV0dXJuIHRyYW5zZm9ybWVyLnNlcmlhbGl6ZSh2YWx1ZSk7XG59LCAodjIsIGEzLCBzdXBlckpzb24pID0+IHtcbiAgY29uc3QgdHJhbnNmb3JtZXIgPSBzdXBlckpzb24uY3VzdG9tVHJhbnNmb3JtZXJSZWdpc3RyeS5maW5kQnlOYW1lKGEzWzFdKTtcbiAgaWYgKCF0cmFuc2Zvcm1lcikge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlRyeWluZyB0byBkZXNlcmlhbGl6ZSB1bmtub3duIGN1c3RvbSB2YWx1ZVwiKTtcbiAgfVxuICByZXR1cm4gdHJhbnNmb3JtZXIuZGVzZXJpYWxpemUodjIpO1xufSk7XG5jb25zdCBjb21wb3NpdGVSdWxlcyA9IFtjbGFzc1J1bGUsIHN5bWJvbFJ1bGUsIGN1c3RvbVJ1bGUsIHR5cGVkQXJyYXlSdWxlXTtcbmNvbnN0IHRyYW5zZm9ybVZhbHVlID0gKHZhbHVlLCBzdXBlckpzb24pID0+IHtcbiAgY29uc3QgYXBwbGljYWJsZUNvbXBvc2l0ZVJ1bGUgPSBmaW5kQXJyKGNvbXBvc2l0ZVJ1bGVzLCAocnVsZSkgPT4gcnVsZS5pc0FwcGxpY2FibGUodmFsdWUsIHN1cGVySnNvbikpO1xuICBpZiAoYXBwbGljYWJsZUNvbXBvc2l0ZVJ1bGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdmFsdWU6IGFwcGxpY2FibGVDb21wb3NpdGVSdWxlLnRyYW5zZm9ybSh2YWx1ZSwgc3VwZXJKc29uKSxcbiAgICAgIHR5cGU6IGFwcGxpY2FibGVDb21wb3NpdGVSdWxlLmFubm90YXRpb24odmFsdWUsIHN1cGVySnNvbilcbiAgICB9O1xuICB9XG4gIGNvbnN0IGFwcGxpY2FibGVTaW1wbGVSdWxlID0gZmluZEFycihzaW1wbGVSdWxlcywgKHJ1bGUpID0+IHJ1bGUuaXNBcHBsaWNhYmxlKHZhbHVlLCBzdXBlckpzb24pKTtcbiAgaWYgKGFwcGxpY2FibGVTaW1wbGVSdWxlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHZhbHVlOiBhcHBsaWNhYmxlU2ltcGxlUnVsZS50cmFuc2Zvcm0odmFsdWUsIHN1cGVySnNvbiksXG4gICAgICB0eXBlOiBhcHBsaWNhYmxlU2ltcGxlUnVsZS5hbm5vdGF0aW9uXG4gICAgfTtcbiAgfVxuICByZXR1cm4gdm9pZCAwO1xufTtcbmNvbnN0IHNpbXBsZVJ1bGVzQnlBbm5vdGF0aW9uID0ge307XG5zaW1wbGVSdWxlcy5mb3JFYWNoKChydWxlKSA9PiB7XG4gIHNpbXBsZVJ1bGVzQnlBbm5vdGF0aW9uW3J1bGUuYW5ub3RhdGlvbl0gPSBydWxlO1xufSk7XG5jb25zdCB1bnRyYW5zZm9ybVZhbHVlID0gKGpzb24sIHR5cGUsIHN1cGVySnNvbikgPT4ge1xuICBpZiAoaXNBcnJheSQxKHR5cGUpKSB7XG4gICAgc3dpdGNoICh0eXBlWzBdKSB7XG4gICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgIHJldHVybiBzeW1ib2xSdWxlLnVudHJhbnNmb3JtKGpzb24sIHR5cGUsIHN1cGVySnNvbik7XG4gICAgICBjYXNlIFwiY2xhc3NcIjpcbiAgICAgICAgcmV0dXJuIGNsYXNzUnVsZS51bnRyYW5zZm9ybShqc29uLCB0eXBlLCBzdXBlckpzb24pO1xuICAgICAgY2FzZSBcImN1c3RvbVwiOlxuICAgICAgICByZXR1cm4gY3VzdG9tUnVsZS51bnRyYW5zZm9ybShqc29uLCB0eXBlLCBzdXBlckpzb24pO1xuICAgICAgY2FzZSBcInR5cGVkLWFycmF5XCI6XG4gICAgICAgIHJldHVybiB0eXBlZEFycmF5UnVsZS51bnRyYW5zZm9ybShqc29uLCB0eXBlLCBzdXBlckpzb24pO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biB0cmFuc2Zvcm1hdGlvbjogXCIgKyB0eXBlKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgdHJhbnNmb3JtYXRpb24gPSBzaW1wbGVSdWxlc0J5QW5ub3RhdGlvblt0eXBlXTtcbiAgICBpZiAoIXRyYW5zZm9ybWF0aW9uKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIHRyYW5zZm9ybWF0aW9uOiBcIiArIHR5cGUpO1xuICAgIH1cbiAgICByZXR1cm4gdHJhbnNmb3JtYXRpb24udW50cmFuc2Zvcm0oanNvbiwgc3VwZXJKc29uKTtcbiAgfVxufTtcbmNvbnN0IGdldE50aEtleSA9ICh2YWx1ZSwgbjIpID0+IHtcbiAgaWYgKG4yID4gdmFsdWUuc2l6ZSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbmRleCBvdXQgb2YgYm91bmRzXCIpO1xuICBjb25zdCBrZXlzID0gdmFsdWUua2V5cygpO1xuICB3aGlsZSAobjIgPiAwKSB7XG4gICAga2V5cy5uZXh0KCk7XG4gICAgbjItLTtcbiAgfVxuICByZXR1cm4ga2V5cy5uZXh0KCkudmFsdWU7XG59O1xuZnVuY3Rpb24gdmFsaWRhdGVQYXRoKHBhdGgpIHtcbiAgaWYgKGluY2x1ZGVzKHBhdGgsIFwiX19wcm90b19fXCIpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiX19wcm90b19fIGlzIG5vdCBhbGxvd2VkIGFzIGEgcHJvcGVydHlcIik7XG4gIH1cbiAgaWYgKGluY2x1ZGVzKHBhdGgsIFwicHJvdG90eXBlXCIpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwicHJvdG90eXBlIGlzIG5vdCBhbGxvd2VkIGFzIGEgcHJvcGVydHlcIik7XG4gIH1cbiAgaWYgKGluY2x1ZGVzKHBhdGgsIFwiY29uc3RydWN0b3JcIikpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJjb25zdHJ1Y3RvciBpcyBub3QgYWxsb3dlZCBhcyBhIHByb3BlcnR5XCIpO1xuICB9XG59XG5jb25zdCBnZXREZWVwID0gKG9iamVjdCwgcGF0aCkgPT4ge1xuICB2YWxpZGF0ZVBhdGgocGF0aCk7XG4gIGZvciAobGV0IGkyID0gMDsgaTIgPCBwYXRoLmxlbmd0aDsgaTIrKykge1xuICAgIGNvbnN0IGtleSA9IHBhdGhbaTJdO1xuICAgIGlmIChpc1NldChvYmplY3QpKSB7XG4gICAgICBvYmplY3QgPSBnZXROdGhLZXkob2JqZWN0LCAra2V5KTtcbiAgICB9IGVsc2UgaWYgKGlzTWFwKG9iamVjdCkpIHtcbiAgICAgIGNvbnN0IHJvdyA9ICtrZXk7XG4gICAgICBjb25zdCB0eXBlID0gK3BhdGhbKytpMl0gPT09IDAgPyBcImtleVwiIDogXCJ2YWx1ZVwiO1xuICAgICAgY29uc3Qga2V5T2ZSb3cgPSBnZXROdGhLZXkob2JqZWN0LCByb3cpO1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJrZXlcIjpcbiAgICAgICAgICBvYmplY3QgPSBrZXlPZlJvdztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInZhbHVlXCI6XG4gICAgICAgICAgb2JqZWN0ID0gb2JqZWN0LmdldChrZXlPZlJvdyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG9iamVjdCA9IG9iamVjdFtrZXldO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb2JqZWN0O1xufTtcbmNvbnN0IHNldERlZXAgPSAob2JqZWN0LCBwYXRoLCBtYXBwZXIpID0+IHtcbiAgdmFsaWRhdGVQYXRoKHBhdGgpO1xuICBpZiAocGF0aC5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gbWFwcGVyKG9iamVjdCk7XG4gIH1cbiAgbGV0IHBhcmVudCA9IG9iamVjdDtcbiAgZm9yIChsZXQgaTIgPSAwOyBpMiA8IHBhdGgubGVuZ3RoIC0gMTsgaTIrKykge1xuICAgIGNvbnN0IGtleSA9IHBhdGhbaTJdO1xuICAgIGlmIChpc0FycmF5JDEocGFyZW50KSkge1xuICAgICAgY29uc3QgaW5kZXgyID0gK2tleTtcbiAgICAgIHBhcmVudCA9IHBhcmVudFtpbmRleDJdO1xuICAgIH0gZWxzZSBpZiAoaXNQbGFpbk9iamVjdCQxKHBhcmVudCkpIHtcbiAgICAgIHBhcmVudCA9IHBhcmVudFtrZXldO1xuICAgIH0gZWxzZSBpZiAoaXNTZXQocGFyZW50KSkge1xuICAgICAgY29uc3Qgcm93ID0gK2tleTtcbiAgICAgIHBhcmVudCA9IGdldE50aEtleShwYXJlbnQsIHJvdyk7XG4gICAgfSBlbHNlIGlmIChpc01hcChwYXJlbnQpKSB7XG4gICAgICBjb25zdCBpc0VuZCA9IGkyID09PSBwYXRoLmxlbmd0aCAtIDI7XG4gICAgICBpZiAoaXNFbmQpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjb25zdCByb3cgPSAra2V5O1xuICAgICAgY29uc3QgdHlwZSA9ICtwYXRoWysraTJdID09PSAwID8gXCJrZXlcIiA6IFwidmFsdWVcIjtcbiAgICAgIGNvbnN0IGtleU9mUm93ID0gZ2V0TnRoS2V5KHBhcmVudCwgcm93KTtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwia2V5XCI6XG4gICAgICAgICAgcGFyZW50ID0ga2V5T2ZSb3c7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ2YWx1ZVwiOlxuICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5nZXQoa2V5T2ZSb3cpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBjb25zdCBsYXN0S2V5ID0gcGF0aFtwYXRoLmxlbmd0aCAtIDFdO1xuICBpZiAoaXNBcnJheSQxKHBhcmVudCkpIHtcbiAgICBwYXJlbnRbK2xhc3RLZXldID0gbWFwcGVyKHBhcmVudFsrbGFzdEtleV0pO1xuICB9IGVsc2UgaWYgKGlzUGxhaW5PYmplY3QkMShwYXJlbnQpKSB7XG4gICAgcGFyZW50W2xhc3RLZXldID0gbWFwcGVyKHBhcmVudFtsYXN0S2V5XSk7XG4gIH1cbiAgaWYgKGlzU2V0KHBhcmVudCkpIHtcbiAgICBjb25zdCBvbGRWYWx1ZSA9IGdldE50aEtleShwYXJlbnQsICtsYXN0S2V5KTtcbiAgICBjb25zdCBuZXdWYWx1ZSA9IG1hcHBlcihvbGRWYWx1ZSk7XG4gICAgaWYgKG9sZFZhbHVlICE9PSBuZXdWYWx1ZSkge1xuICAgICAgcGFyZW50LmRlbGV0ZShvbGRWYWx1ZSk7XG4gICAgICBwYXJlbnQuYWRkKG5ld1ZhbHVlKTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzTWFwKHBhcmVudCkpIHtcbiAgICBjb25zdCByb3cgPSArcGF0aFtwYXRoLmxlbmd0aCAtIDJdO1xuICAgIGNvbnN0IGtleVRvUm93ID0gZ2V0TnRoS2V5KHBhcmVudCwgcm93KTtcbiAgICBjb25zdCB0eXBlID0gK2xhc3RLZXkgPT09IDAgPyBcImtleVwiIDogXCJ2YWx1ZVwiO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBcImtleVwiOiB7XG4gICAgICAgIGNvbnN0IG5ld0tleSA9IG1hcHBlcihrZXlUb1Jvdyk7XG4gICAgICAgIHBhcmVudC5zZXQobmV3S2V5LCBwYXJlbnQuZ2V0KGtleVRvUm93KSk7XG4gICAgICAgIGlmIChuZXdLZXkgIT09IGtleVRvUm93KSB7XG4gICAgICAgICAgcGFyZW50LmRlbGV0ZShrZXlUb1Jvdyk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwidmFsdWVcIjoge1xuICAgICAgICBwYXJlbnQuc2V0KGtleVRvUm93LCBtYXBwZXIocGFyZW50LmdldChrZXlUb1JvdykpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBvYmplY3Q7XG59O1xuZnVuY3Rpb24gdHJhdmVyc2UodHJlZSwgd2Fsa2VyMiwgb3JpZ2luID0gW10pIHtcbiAgaWYgKCF0cmVlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICghaXNBcnJheSQxKHRyZWUpKSB7XG4gICAgZm9yRWFjaCh0cmVlLCAoc3VidHJlZSwga2V5KSA9PiB0cmF2ZXJzZShzdWJ0cmVlLCB3YWxrZXIyLCBbLi4ub3JpZ2luLCAuLi5wYXJzZVBhdGgoa2V5KV0pKTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgW25vZGVWYWx1ZSwgY2hpbGRyZW5dID0gdHJlZTtcbiAgaWYgKGNoaWxkcmVuKSB7XG4gICAgZm9yRWFjaChjaGlsZHJlbiwgKGNoaWxkLCBrZXkpID0+IHtcbiAgICAgIHRyYXZlcnNlKGNoaWxkLCB3YWxrZXIyLCBbLi4ub3JpZ2luLCAuLi5wYXJzZVBhdGgoa2V5KV0pO1xuICAgIH0pO1xuICB9XG4gIHdhbGtlcjIobm9kZVZhbHVlLCBvcmlnaW4pO1xufVxuZnVuY3Rpb24gYXBwbHlWYWx1ZUFubm90YXRpb25zKHBsYWluLCBhbm5vdGF0aW9ucywgc3VwZXJKc29uKSB7XG4gIHRyYXZlcnNlKGFubm90YXRpb25zLCAodHlwZSwgcGF0aCkgPT4ge1xuICAgIHBsYWluID0gc2V0RGVlcChwbGFpbiwgcGF0aCwgKHYyKSA9PiB1bnRyYW5zZm9ybVZhbHVlKHYyLCB0eXBlLCBzdXBlckpzb24pKTtcbiAgfSk7XG4gIHJldHVybiBwbGFpbjtcbn1cbmZ1bmN0aW9uIGFwcGx5UmVmZXJlbnRpYWxFcXVhbGl0eUFubm90YXRpb25zKHBsYWluLCBhbm5vdGF0aW9ucykge1xuICBmdW5jdGlvbiBhcHBseShpZGVudGljYWxQYXRocywgcGF0aCkge1xuICAgIGNvbnN0IG9iamVjdCA9IGdldERlZXAocGxhaW4sIHBhcnNlUGF0aChwYXRoKSk7XG4gICAgaWRlbnRpY2FsUGF0aHMubWFwKHBhcnNlUGF0aCkuZm9yRWFjaCgoaWRlbnRpY2FsT2JqZWN0UGF0aCkgPT4ge1xuICAgICAgcGxhaW4gPSBzZXREZWVwKHBsYWluLCBpZGVudGljYWxPYmplY3RQYXRoLCAoKSA9PiBvYmplY3QpO1xuICAgIH0pO1xuICB9XG4gIGlmIChpc0FycmF5JDEoYW5ub3RhdGlvbnMpKSB7XG4gICAgY29uc3QgW3Jvb3QsIG90aGVyXSA9IGFubm90YXRpb25zO1xuICAgIHJvb3QuZm9yRWFjaCgoaWRlbnRpY2FsUGF0aCkgPT4ge1xuICAgICAgcGxhaW4gPSBzZXREZWVwKHBsYWluLCBwYXJzZVBhdGgoaWRlbnRpY2FsUGF0aCksICgpID0+IHBsYWluKTtcbiAgICB9KTtcbiAgICBpZiAob3RoZXIpIHtcbiAgICAgIGZvckVhY2gob3RoZXIsIGFwcGx5KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yRWFjaChhbm5vdGF0aW9ucywgYXBwbHkpO1xuICB9XG4gIHJldHVybiBwbGFpbjtcbn1cbmNvbnN0IGlzRGVlcCA9IChvYmplY3QsIHN1cGVySnNvbikgPT4gaXNQbGFpbk9iamVjdCQxKG9iamVjdCkgfHwgaXNBcnJheSQxKG9iamVjdCkgfHwgaXNNYXAob2JqZWN0KSB8fCBpc1NldChvYmplY3QpIHx8IGlzSW5zdGFuY2VPZlJlZ2lzdGVyZWRDbGFzcyhvYmplY3QsIHN1cGVySnNvbik7XG5mdW5jdGlvbiBhZGRJZGVudGl0eShvYmplY3QsIHBhdGgsIGlkZW50aXRpZXMpIHtcbiAgY29uc3QgZXhpc3RpbmdTZXQgPSBpZGVudGl0aWVzLmdldChvYmplY3QpO1xuICBpZiAoZXhpc3RpbmdTZXQpIHtcbiAgICBleGlzdGluZ1NldC5wdXNoKHBhdGgpO1xuICB9IGVsc2Uge1xuICAgIGlkZW50aXRpZXMuc2V0KG9iamVjdCwgW3BhdGhdKTtcbiAgfVxufVxuZnVuY3Rpb24gZ2VuZXJhdGVSZWZlcmVudGlhbEVxdWFsaXR5QW5ub3RhdGlvbnMoaWRlbnRpdGl0ZXMsIGRlZHVwZSkge1xuICBjb25zdCByZXN1bHQgPSB7fTtcbiAgbGV0IHJvb3RFcXVhbGl0eVBhdGhzID0gdm9pZCAwO1xuICBpZGVudGl0aXRlcy5mb3JFYWNoKChwYXRocykgPT4ge1xuICAgIGlmIChwYXRocy5sZW5ndGggPD0gMSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIWRlZHVwZSkge1xuICAgICAgcGF0aHMgPSBwYXRocy5tYXAoKHBhdGgpID0+IHBhdGgubWFwKFN0cmluZykpLnNvcnQoKGEzLCBiMikgPT4gYTMubGVuZ3RoIC0gYjIubGVuZ3RoKTtcbiAgICB9XG4gICAgY29uc3QgW3JlcHJlc2VudGF0aXZlUGF0aCwgLi4uaWRlbnRpY2FsUGF0aHNdID0gcGF0aHM7XG4gICAgaWYgKHJlcHJlc2VudGF0aXZlUGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJvb3RFcXVhbGl0eVBhdGhzID0gaWRlbnRpY2FsUGF0aHMubWFwKHN0cmluZ2lmeVBhdGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHRbc3RyaW5naWZ5UGF0aChyZXByZXNlbnRhdGl2ZVBhdGgpXSA9IGlkZW50aWNhbFBhdGhzLm1hcChzdHJpbmdpZnlQYXRoKTtcbiAgICB9XG4gIH0pO1xuICBpZiAocm9vdEVxdWFsaXR5UGF0aHMpIHtcbiAgICBpZiAoaXNFbXB0eU9iamVjdChyZXN1bHQpKSB7XG4gICAgICByZXR1cm4gW3Jvb3RFcXVhbGl0eVBhdGhzXTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFtyb290RXF1YWxpdHlQYXRocywgcmVzdWx0XTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGlzRW1wdHlPYmplY3QocmVzdWx0KSA/IHZvaWQgMCA6IHJlc3VsdDtcbiAgfVxufVxuY29uc3Qgd2Fsa2VyID0gKG9iamVjdCwgaWRlbnRpdGllcywgc3VwZXJKc29uLCBkZWR1cGUsIHBhdGggPSBbXSwgb2JqZWN0c0luVGhpc1BhdGggPSBbXSwgc2Vlbk9iamVjdHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpKSA9PiB7XG4gIGNvbnN0IHByaW1pdGl2ZSA9IGlzUHJpbWl0aXZlKG9iamVjdCk7XG4gIGlmICghcHJpbWl0aXZlKSB7XG4gICAgYWRkSWRlbnRpdHkob2JqZWN0LCBwYXRoLCBpZGVudGl0aWVzKTtcbiAgICBjb25zdCBzZWVuID0gc2Vlbk9iamVjdHMuZ2V0KG9iamVjdCk7XG4gICAgaWYgKHNlZW4pIHtcbiAgICAgIHJldHVybiBkZWR1cGUgPyB7XG4gICAgICAgIHRyYW5zZm9ybWVkVmFsdWU6IG51bGxcbiAgICAgIH0gOiBzZWVuO1xuICAgIH1cbiAgfVxuICBpZiAoIWlzRGVlcChvYmplY3QsIHN1cGVySnNvbikpIHtcbiAgICBjb25zdCB0cmFuc2Zvcm1lZDIgPSB0cmFuc2Zvcm1WYWx1ZShvYmplY3QsIHN1cGVySnNvbik7XG4gICAgY29uc3QgcmVzdWx0MiA9IHRyYW5zZm9ybWVkMiA/IHtcbiAgICAgIHRyYW5zZm9ybWVkVmFsdWU6IHRyYW5zZm9ybWVkMi52YWx1ZSxcbiAgICAgIGFubm90YXRpb25zOiBbdHJhbnNmb3JtZWQyLnR5cGVdXG4gICAgfSA6IHtcbiAgICAgIHRyYW5zZm9ybWVkVmFsdWU6IG9iamVjdFxuICAgIH07XG4gICAgaWYgKCFwcmltaXRpdmUpIHtcbiAgICAgIHNlZW5PYmplY3RzLnNldChvYmplY3QsIHJlc3VsdDIpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0MjtcbiAgfVxuICBpZiAoaW5jbHVkZXMob2JqZWN0c0luVGhpc1BhdGgsIG9iamVjdCkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHJhbnNmb3JtZWRWYWx1ZTogbnVsbFxuICAgIH07XG4gIH1cbiAgY29uc3QgdHJhbnNmb3JtYXRpb25SZXN1bHQgPSB0cmFuc2Zvcm1WYWx1ZShvYmplY3QsIHN1cGVySnNvbik7XG4gIGNvbnN0IHRyYW5zZm9ybWVkID0gKHRyYW5zZm9ybWF0aW9uUmVzdWx0ID09IG51bGwgPyB2b2lkIDAgOiB0cmFuc2Zvcm1hdGlvblJlc3VsdC52YWx1ZSkgPz8gb2JqZWN0O1xuICBjb25zdCB0cmFuc2Zvcm1lZFZhbHVlID0gaXNBcnJheSQxKHRyYW5zZm9ybWVkKSA/IFtdIDoge307XG4gIGNvbnN0IGlubmVyQW5ub3RhdGlvbnMgPSB7fTtcbiAgZm9yRWFjaCh0cmFuc2Zvcm1lZCwgKHZhbHVlLCBpbmRleDIpID0+IHtcbiAgICBpZiAoaW5kZXgyID09PSBcIl9fcHJvdG9fX1wiIHx8IGluZGV4MiA9PT0gXCJjb25zdHJ1Y3RvclwiIHx8IGluZGV4MiA9PT0gXCJwcm90b3R5cGVcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBEZXRlY3RlZCBwcm9wZXJ0eSAke2luZGV4Mn0uIFRoaXMgaXMgYSBwcm90b3R5cGUgcG9sbHV0aW9uIHJpc2ssIHBsZWFzZSByZW1vdmUgaXQgZnJvbSB5b3VyIG9iamVjdC5gKTtcbiAgICB9XG4gICAgY29uc3QgcmVjdXJzaXZlUmVzdWx0ID0gd2Fsa2VyKHZhbHVlLCBpZGVudGl0aWVzLCBzdXBlckpzb24sIGRlZHVwZSwgWy4uLnBhdGgsIGluZGV4Ml0sIFsuLi5vYmplY3RzSW5UaGlzUGF0aCwgb2JqZWN0XSwgc2Vlbk9iamVjdHMpO1xuICAgIHRyYW5zZm9ybWVkVmFsdWVbaW5kZXgyXSA9IHJlY3Vyc2l2ZVJlc3VsdC50cmFuc2Zvcm1lZFZhbHVlO1xuICAgIGlmIChpc0FycmF5JDEocmVjdXJzaXZlUmVzdWx0LmFubm90YXRpb25zKSkge1xuICAgICAgaW5uZXJBbm5vdGF0aW9uc1tpbmRleDJdID0gcmVjdXJzaXZlUmVzdWx0LmFubm90YXRpb25zO1xuICAgIH0gZWxzZSBpZiAoaXNQbGFpbk9iamVjdCQxKHJlY3Vyc2l2ZVJlc3VsdC5hbm5vdGF0aW9ucykpIHtcbiAgICAgIGZvckVhY2gocmVjdXJzaXZlUmVzdWx0LmFubm90YXRpb25zLCAodHJlZSwga2V5KSA9PiB7XG4gICAgICAgIGlubmVyQW5ub3RhdGlvbnNbZXNjYXBlS2V5KGluZGV4MikgKyBcIi5cIiArIGtleV0gPSB0cmVlO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgcmVzdWx0ID0gaXNFbXB0eU9iamVjdChpbm5lckFubm90YXRpb25zKSA/IHtcbiAgICB0cmFuc2Zvcm1lZFZhbHVlLFxuICAgIGFubm90YXRpb25zOiAhIXRyYW5zZm9ybWF0aW9uUmVzdWx0ID8gW3RyYW5zZm9ybWF0aW9uUmVzdWx0LnR5cGVdIDogdm9pZCAwXG4gIH0gOiB7XG4gICAgdHJhbnNmb3JtZWRWYWx1ZSxcbiAgICBhbm5vdGF0aW9uczogISF0cmFuc2Zvcm1hdGlvblJlc3VsdCA/IFt0cmFuc2Zvcm1hdGlvblJlc3VsdC50eXBlLCBpbm5lckFubm90YXRpb25zXSA6IGlubmVyQW5ub3RhdGlvbnNcbiAgfTtcbiAgaWYgKCFwcmltaXRpdmUpIHtcbiAgICBzZWVuT2JqZWN0cy5zZXQob2JqZWN0LCByZXN1bHQpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuZnVuY3Rpb24gZ2V0VHlwZShwYXlsb2FkKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocGF5bG9hZCkuc2xpY2UoOCwgLTEpO1xufVxuZnVuY3Rpb24gaXNBcnJheShwYXlsb2FkKSB7XG4gIHJldHVybiBnZXRUeXBlKHBheWxvYWQpID09PSBcIkFycmF5XCI7XG59XG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0KHBheWxvYWQpIHtcbiAgaWYgKGdldFR5cGUocGF5bG9hZCkgIT09IFwiT2JqZWN0XCIpXG4gICAgcmV0dXJuIGZhbHNlO1xuICBjb25zdCBwcm90b3R5cGUgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YocGF5bG9hZCk7XG4gIHJldHVybiAhIXByb3RvdHlwZSAmJiBwcm90b3R5cGUuY29uc3RydWN0b3IgPT09IE9iamVjdCAmJiBwcm90b3R5cGUgPT09IE9iamVjdC5wcm90b3R5cGU7XG59XG5mdW5jdGlvbiBhc3NpZ25Qcm9wKGNhcnJ5LCBrZXksIG5ld1ZhbCwgb3JpZ2luYWxPYmplY3QsIGluY2x1ZGVOb25lbnVtZXJhYmxlKSB7XG4gIGNvbnN0IHByb3BUeXBlID0ge30ucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChvcmlnaW5hbE9iamVjdCwga2V5KSA/IFwiZW51bWVyYWJsZVwiIDogXCJub25lbnVtZXJhYmxlXCI7XG4gIGlmIChwcm9wVHlwZSA9PT0gXCJlbnVtZXJhYmxlXCIpXG4gICAgY2Fycnlba2V5XSA9IG5ld1ZhbDtcbiAgaWYgKGluY2x1ZGVOb25lbnVtZXJhYmxlICYmIHByb3BUeXBlID09PSBcIm5vbmVudW1lcmFibGVcIikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjYXJyeSwga2V5LCB7XG4gICAgICB2YWx1ZTogbmV3VmFsLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9XG59XG5mdW5jdGlvbiBjb3B5KHRhcmdldCwgb3B0aW9ucyA9IHt9KSB7XG4gIGlmIChpc0FycmF5KHRhcmdldCkpIHtcbiAgICByZXR1cm4gdGFyZ2V0Lm1hcCgoaXRlbSkgPT4gY29weShpdGVtLCBvcHRpb25zKSk7XG4gIH1cbiAgaWYgKCFpc1BsYWluT2JqZWN0KHRhcmdldCkpIHtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIGNvbnN0IHByb3BzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KTtcbiAgY29uc3Qgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModGFyZ2V0KTtcbiAgcmV0dXJuIFsuLi5wcm9wcywgLi4uc3ltYm9sc10ucmVkdWNlKChjYXJyeSwga2V5KSA9PiB7XG4gICAgaWYgKGlzQXJyYXkob3B0aW9ucy5wcm9wcykgJiYgIW9wdGlvbnMucHJvcHMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgcmV0dXJuIGNhcnJ5O1xuICAgIH1cbiAgICBjb25zdCB2YWwgPSB0YXJnZXRba2V5XTtcbiAgICBjb25zdCBuZXdWYWwgPSBjb3B5KHZhbCwgb3B0aW9ucyk7XG4gICAgYXNzaWduUHJvcChjYXJyeSwga2V5LCBuZXdWYWwsIHRhcmdldCwgb3B0aW9ucy5ub25lbnVtZXJhYmxlKTtcbiAgICByZXR1cm4gY2Fycnk7XG4gIH0sIHt9KTtcbn1cbmNsYXNzIFN1cGVySlNPTiB7XG4gIC8qKlxuICAgKiBAcGFyYW0gZGVkdXBlUmVmZXJlbnRpYWxFcXVhbGl0aWVzICBJZiB0cnVlLCBTdXBlckpTT04gd2lsbCBtYWtlIHN1cmUgb25seSBvbmUgaW5zdGFuY2Ugb2YgcmVmZXJlbnRpYWxseSBlcXVhbCBvYmplY3RzIGFyZSBzZXJpYWxpemVkIGFuZCB0aGUgcmVzdCBhcmUgcmVwbGFjZWQgd2l0aCBgbnVsbGAuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7IGRlZHVwZSA9IGZhbHNlIH0gPSB7fSkge1xuICAgIHRoaXMuY2xhc3NSZWdpc3RyeSA9IG5ldyBDbGFzc1JlZ2lzdHJ5KCk7XG4gICAgdGhpcy5zeW1ib2xSZWdpc3RyeSA9IG5ldyBSZWdpc3RyeSgoczIpID0+IHMyLmRlc2NyaXB0aW9uID8/IFwiXCIpO1xuICAgIHRoaXMuY3VzdG9tVHJhbnNmb3JtZXJSZWdpc3RyeSA9IG5ldyBDdXN0b21UcmFuc2Zvcm1lclJlZ2lzdHJ5KCk7XG4gICAgdGhpcy5hbGxvd2VkRXJyb3JQcm9wcyA9IFtdO1xuICAgIHRoaXMuZGVkdXBlID0gZGVkdXBlO1xuICB9XG4gIHNlcmlhbGl6ZShvYmplY3QpIHtcbiAgICBjb25zdCBpZGVudGl0aWVzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICBjb25zdCBvdXRwdXQgPSB3YWxrZXIob2JqZWN0LCBpZGVudGl0aWVzLCB0aGlzLCB0aGlzLmRlZHVwZSk7XG4gICAgY29uc3QgcmVzID0ge1xuICAgICAganNvbjogb3V0cHV0LnRyYW5zZm9ybWVkVmFsdWVcbiAgICB9O1xuICAgIGlmIChvdXRwdXQuYW5ub3RhdGlvbnMpIHtcbiAgICAgIHJlcy5tZXRhID0ge1xuICAgICAgICAuLi5yZXMubWV0YSxcbiAgICAgICAgdmFsdWVzOiBvdXRwdXQuYW5ub3RhdGlvbnNcbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IGVxdWFsaXR5QW5ub3RhdGlvbnMgPSBnZW5lcmF0ZVJlZmVyZW50aWFsRXF1YWxpdHlBbm5vdGF0aW9ucyhpZGVudGl0aWVzLCB0aGlzLmRlZHVwZSk7XG4gICAgaWYgKGVxdWFsaXR5QW5ub3RhdGlvbnMpIHtcbiAgICAgIHJlcy5tZXRhID0ge1xuICAgICAgICAuLi5yZXMubWV0YSxcbiAgICAgICAgcmVmZXJlbnRpYWxFcXVhbGl0aWVzOiBlcXVhbGl0eUFubm90YXRpb25zXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9XG4gIGRlc2VyaWFsaXplKHBheWxvYWQpIHtcbiAgICBjb25zdCB7IGpzb24sIG1ldGEgfSA9IHBheWxvYWQ7XG4gICAgbGV0IHJlc3VsdCA9IGNvcHkoanNvbik7XG4gICAgaWYgKG1ldGEgPT0gbnVsbCA/IHZvaWQgMCA6IG1ldGEudmFsdWVzKSB7XG4gICAgICByZXN1bHQgPSBhcHBseVZhbHVlQW5ub3RhdGlvbnMocmVzdWx0LCBtZXRhLnZhbHVlcywgdGhpcyk7XG4gICAgfVxuICAgIGlmIChtZXRhID09IG51bGwgPyB2b2lkIDAgOiBtZXRhLnJlZmVyZW50aWFsRXF1YWxpdGllcykge1xuICAgICAgcmVzdWx0ID0gYXBwbHlSZWZlcmVudGlhbEVxdWFsaXR5QW5ub3RhdGlvbnMocmVzdWx0LCBtZXRhLnJlZmVyZW50aWFsRXF1YWxpdGllcyk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgc3RyaW5naWZ5KG9iamVjdCkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLnNlcmlhbGl6ZShvYmplY3QpKTtcbiAgfVxuICBwYXJzZShzdHJpbmcpIHtcbiAgICByZXR1cm4gdGhpcy5kZXNlcmlhbGl6ZShKU09OLnBhcnNlKHN0cmluZykpO1xuICB9XG4gIHJlZ2lzdGVyQ2xhc3ModjIsIG9wdGlvbnMpIHtcbiAgICB0aGlzLmNsYXNzUmVnaXN0cnkucmVnaXN0ZXIodjIsIG9wdGlvbnMpO1xuICB9XG4gIHJlZ2lzdGVyU3ltYm9sKHYyLCBpZGVudGlmaWVyKSB7XG4gICAgdGhpcy5zeW1ib2xSZWdpc3RyeS5yZWdpc3Rlcih2MiwgaWRlbnRpZmllcik7XG4gIH1cbiAgcmVnaXN0ZXJDdXN0b20odHJhbnNmb3JtZXIsIG5hbWUpIHtcbiAgICB0aGlzLmN1c3RvbVRyYW5zZm9ybWVyUmVnaXN0cnkucmVnaXN0ZXIoe1xuICAgICAgbmFtZSxcbiAgICAgIC4uLnRyYW5zZm9ybWVyXG4gICAgfSk7XG4gIH1cbiAgYWxsb3dFcnJvclByb3BzKC4uLnByb3BzKSB7XG4gICAgdGhpcy5hbGxvd2VkRXJyb3JQcm9wcy5wdXNoKC4uLnByb3BzKTtcbiAgfVxufVxuU3VwZXJKU09OLmRlZmF1bHRJbnN0YW5jZSA9IG5ldyBTdXBlckpTT04oKTtcblN1cGVySlNPTi5zZXJpYWxpemUgPSBTdXBlckpTT04uZGVmYXVsdEluc3RhbmNlLnNlcmlhbGl6ZS5iaW5kKFN1cGVySlNPTi5kZWZhdWx0SW5zdGFuY2UpO1xuU3VwZXJKU09OLmRlc2VyaWFsaXplID0gU3VwZXJKU09OLmRlZmF1bHRJbnN0YW5jZS5kZXNlcmlhbGl6ZS5iaW5kKFN1cGVySlNPTi5kZWZhdWx0SW5zdGFuY2UpO1xuU3VwZXJKU09OLnN0cmluZ2lmeSA9IFN1cGVySlNPTi5kZWZhdWx0SW5zdGFuY2Uuc3RyaW5naWZ5LmJpbmQoU3VwZXJKU09OLmRlZmF1bHRJbnN0YW5jZSk7XG5TdXBlckpTT04ucGFyc2UgPSBTdXBlckpTT04uZGVmYXVsdEluc3RhbmNlLnBhcnNlLmJpbmQoU3VwZXJKU09OLmRlZmF1bHRJbnN0YW5jZSk7XG5TdXBlckpTT04ucmVnaXN0ZXJDbGFzcyA9IFN1cGVySlNPTi5kZWZhdWx0SW5zdGFuY2UucmVnaXN0ZXJDbGFzcy5iaW5kKFN1cGVySlNPTi5kZWZhdWx0SW5zdGFuY2UpO1xuU3VwZXJKU09OLnJlZ2lzdGVyU3ltYm9sID0gU3VwZXJKU09OLmRlZmF1bHRJbnN0YW5jZS5yZWdpc3RlclN5bWJvbC5iaW5kKFN1cGVySlNPTi5kZWZhdWx0SW5zdGFuY2UpO1xuU3VwZXJKU09OLnJlZ2lzdGVyQ3VzdG9tID0gU3VwZXJKU09OLmRlZmF1bHRJbnN0YW5jZS5yZWdpc3RlckN1c3RvbS5iaW5kKFN1cGVySlNPTi5kZWZhdWx0SW5zdGFuY2UpO1xuU3VwZXJKU09OLmFsbG93RXJyb3JQcm9wcyA9IFN1cGVySlNPTi5kZWZhdWx0SW5zdGFuY2UuYWxsb3dFcnJvclByb3BzLmJpbmQoU3VwZXJKU09OLmRlZmF1bHRJbnN0YW5jZSk7XG5TdXBlckpTT04uc2VyaWFsaXplO1xuU3VwZXJKU09OLmRlc2VyaWFsaXplO1xuU3VwZXJKU09OLnN0cmluZ2lmeTtcblN1cGVySlNPTi5wYXJzZTtcblN1cGVySlNPTi5yZWdpc3RlckNsYXNzO1xuU3VwZXJKU09OLnJlZ2lzdGVyQ3VzdG9tO1xuU3VwZXJKU09OLnJlZ2lzdGVyU3ltYm9sO1xuU3VwZXJKU09OLmFsbG93RXJyb3JQcm9wcztcbmZ1bmN0aW9uIGNyZWF0ZUpTT05TdG9yYWdlKGdldFN0b3JhZ2UsIG9wdGlvbnMpIHtcbiAgbGV0IHN0b3JhZ2U7XG4gIHRyeSB7XG4gICAgc3RvcmFnZSA9IGdldFN0b3JhZ2UoKTtcbiAgfSBjYXRjaCAoZTIpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgcGVyc2lzdFN0b3JhZ2UgPSB7XG4gICAgZ2V0SXRlbTogKG5hbWUpID0+IHtcbiAgICAgIHZhciBfYTtcbiAgICAgIGNvbnN0IHBhcnNlID0gKHN0cjIpID0+IHtcbiAgICAgICAgaWYgKHN0cjIgPT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShzdHIyLCB2b2lkIDApO1xuICAgICAgfTtcbiAgICAgIGNvbnN0IHN0ciA9IChfYSA9IHN0b3JhZ2UuZ2V0SXRlbShuYW1lKSkgIT0gbnVsbCA/IF9hIDogbnVsbDtcbiAgICAgIGlmIChzdHIgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgIHJldHVybiBzdHIudGhlbihwYXJzZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcGFyc2Uoc3RyKTtcbiAgICB9LFxuICAgIHNldEl0ZW06IChuYW1lLCBuZXdWYWx1ZSkgPT4gc3RvcmFnZS5zZXRJdGVtKFxuICAgICAgbmFtZSxcbiAgICAgIEpTT04uc3RyaW5naWZ5KG5ld1ZhbHVlLCB2b2lkIDApXG4gICAgKSxcbiAgICByZW1vdmVJdGVtOiAobmFtZSkgPT4gc3RvcmFnZS5yZW1vdmVJdGVtKG5hbWUpXG4gIH07XG4gIHJldHVybiBwZXJzaXN0U3RvcmFnZTtcbn1cbmNvbnN0IHRvVGhlbmFibGUgPSAoZm4yKSA9PiAoaW5wdXQpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXN1bHQgPSBmbjIoaW5wdXQpO1xuICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdGhlbihvbkZ1bGZpbGxlZCkge1xuICAgICAgICByZXR1cm4gdG9UaGVuYWJsZShvbkZ1bGZpbGxlZCkocmVzdWx0KTtcbiAgICAgIH0sXG4gICAgICBjYXRjaChfb25SZWplY3RlZCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICB9O1xuICB9IGNhdGNoIChlMikge1xuICAgIHJldHVybiB7XG4gICAgICB0aGVuKF9vbkZ1bGZpbGxlZCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0sXG4gICAgICBjYXRjaChvblJlamVjdGVkKSB7XG4gICAgICAgIHJldHVybiB0b1RoZW5hYmxlKG9uUmVqZWN0ZWQpKGUyKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG59O1xuY29uc3QgcGVyc2lzdEltcGwgPSAoY29uZmlnLCBiYXNlT3B0aW9ucykgPT4gKHNldCwgZ2V0LCBhcGkpID0+IHtcbiAgbGV0IG9wdGlvbnMgPSB7XG4gICAgc3RvcmFnZTogY3JlYXRlSlNPTlN0b3JhZ2UoKCkgPT4gbG9jYWxTdG9yYWdlKSxcbiAgICBwYXJ0aWFsaXplOiAoc3RhdGUpID0+IHN0YXRlLFxuICAgIHZlcnNpb246IDAsXG4gICAgbWVyZ2U6IChwZXJzaXN0ZWRTdGF0ZSwgY3VycmVudFN0YXRlKSA9PiAoe1xuICAgICAgLi4uY3VycmVudFN0YXRlLFxuICAgICAgLi4ucGVyc2lzdGVkU3RhdGVcbiAgICB9KSxcbiAgICAuLi5iYXNlT3B0aW9uc1xuICB9O1xuICBsZXQgaGFzSHlkcmF0ZWQgPSBmYWxzZTtcbiAgY29uc3QgaHlkcmF0aW9uTGlzdGVuZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgY29uc3QgZmluaXNoSHlkcmF0aW9uTGlzdGVuZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgbGV0IHN0b3JhZ2UgPSBvcHRpb25zLnN0b3JhZ2U7XG4gIGlmICghc3RvcmFnZSkge1xuICAgIHJldHVybiBjb25maWcoXG4gICAgICAoLi4uYXJncykgPT4ge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgYFt6dXN0YW5kIHBlcnNpc3QgbWlkZGxld2FyZV0gVW5hYmxlIHRvIHVwZGF0ZSBpdGVtICcke29wdGlvbnMubmFtZX0nLCB0aGUgZ2l2ZW4gc3RvcmFnZSBpcyBjdXJyZW50bHkgdW5hdmFpbGFibGUuYFxuICAgICAgICApO1xuICAgICAgICBzZXQoLi4uYXJncyk7XG4gICAgICB9LFxuICAgICAgZ2V0LFxuICAgICAgYXBpXG4gICAgKTtcbiAgfVxuICBjb25zdCBzZXRJdGVtID0gKCkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gb3B0aW9ucy5wYXJ0aWFsaXplKHsgLi4uZ2V0KCkgfSk7XG4gICAgcmV0dXJuIHN0b3JhZ2Uuc2V0SXRlbShvcHRpb25zLm5hbWUsIHtcbiAgICAgIHN0YXRlLFxuICAgICAgdmVyc2lvbjogb3B0aW9ucy52ZXJzaW9uXG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IHNhdmVkU2V0U3RhdGUgPSBhcGkuc2V0U3RhdGU7XG4gIGFwaS5zZXRTdGF0ZSA9IChzdGF0ZSwgcmVwbGFjZSkgPT4ge1xuICAgIHNhdmVkU2V0U3RhdGUoc3RhdGUsIHJlcGxhY2UpO1xuICAgIHZvaWQgc2V0SXRlbSgpO1xuICB9O1xuICBjb25zdCBjb25maWdSZXN1bHQgPSBjb25maWcoXG4gICAgKC4uLmFyZ3MpID0+IHtcbiAgICAgIHNldCguLi5hcmdzKTtcbiAgICAgIHZvaWQgc2V0SXRlbSgpO1xuICAgIH0sXG4gICAgZ2V0LFxuICAgIGFwaVxuICApO1xuICBhcGkuZ2V0SW5pdGlhbFN0YXRlID0gKCkgPT4gY29uZmlnUmVzdWx0O1xuICBsZXQgc3RhdGVGcm9tU3RvcmFnZTtcbiAgY29uc3QgaHlkcmF0ZSA9ICgpID0+IHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGlmICghc3RvcmFnZSkgcmV0dXJuO1xuICAgIGhhc0h5ZHJhdGVkID0gZmFsc2U7XG4gICAgaHlkcmF0aW9uTGlzdGVuZXJzLmZvckVhY2goKGNiKSA9PiB7XG4gICAgICB2YXIgX2EyO1xuICAgICAgcmV0dXJuIGNiKChfYTIgPSBnZXQoKSkgIT0gbnVsbCA/IF9hMiA6IGNvbmZpZ1Jlc3VsdCk7XG4gICAgfSk7XG4gICAgY29uc3QgcG9zdFJlaHlkcmF0aW9uQ2FsbGJhY2sgPSAoKF9iID0gb3B0aW9ucy5vblJlaHlkcmF0ZVN0b3JhZ2UpID09IG51bGwgPyB2b2lkIDAgOiBfYi5jYWxsKG9wdGlvbnMsIChfYSA9IGdldCgpKSAhPSBudWxsID8gX2EgOiBjb25maWdSZXN1bHQpKSB8fCB2b2lkIDA7XG4gICAgcmV0dXJuIHRvVGhlbmFibGUoc3RvcmFnZS5nZXRJdGVtLmJpbmQoc3RvcmFnZSkpKG9wdGlvbnMubmFtZSkudGhlbigoZGVzZXJpYWxpemVkU3RvcmFnZVZhbHVlKSA9PiB7XG4gICAgICBpZiAoZGVzZXJpYWxpemVkU3RvcmFnZVZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZGVzZXJpYWxpemVkU3RvcmFnZVZhbHVlLnZlcnNpb24gPT09IFwibnVtYmVyXCIgJiYgZGVzZXJpYWxpemVkU3RvcmFnZVZhbHVlLnZlcnNpb24gIT09IG9wdGlvbnMudmVyc2lvbikge1xuICAgICAgICAgIGlmIChvcHRpb25zLm1pZ3JhdGUpIHtcbiAgICAgICAgICAgIGNvbnN0IG1pZ3JhdGlvbiA9IG9wdGlvbnMubWlncmF0ZShcbiAgICAgICAgICAgICAgZGVzZXJpYWxpemVkU3RvcmFnZVZhbHVlLnN0YXRlLFxuICAgICAgICAgICAgICBkZXNlcmlhbGl6ZWRTdG9yYWdlVmFsdWUudmVyc2lvblxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChtaWdyYXRpb24gaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgIHJldHVybiBtaWdyYXRpb24udGhlbigocmVzdWx0KSA9PiBbdHJ1ZSwgcmVzdWx0XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gW3RydWUsIG1pZ3JhdGlvbl07XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBgU3RhdGUgbG9hZGVkIGZyb20gc3RvcmFnZSBjb3VsZG4ndCBiZSBtaWdyYXRlZCBzaW5jZSBubyBtaWdyYXRlIGZ1bmN0aW9uIHdhcyBwcm92aWRlZGBcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBbZmFsc2UsIGRlc2VyaWFsaXplZFN0b3JhZ2VWYWx1ZS5zdGF0ZV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBbZmFsc2UsIHZvaWQgMF07XG4gICAgfSkudGhlbigobWlncmF0aW9uUmVzdWx0KSA9PiB7XG4gICAgICB2YXIgX2EyO1xuICAgICAgY29uc3QgW21pZ3JhdGVkLCBtaWdyYXRlZFN0YXRlXSA9IG1pZ3JhdGlvblJlc3VsdDtcbiAgICAgIHN0YXRlRnJvbVN0b3JhZ2UgPSBvcHRpb25zLm1lcmdlKFxuICAgICAgICBtaWdyYXRlZFN0YXRlLFxuICAgICAgICAoX2EyID0gZ2V0KCkpICE9IG51bGwgPyBfYTIgOiBjb25maWdSZXN1bHRcbiAgICAgICk7XG4gICAgICBzZXQoc3RhdGVGcm9tU3RvcmFnZSwgdHJ1ZSk7XG4gICAgICBpZiAobWlncmF0ZWQpIHtcbiAgICAgICAgcmV0dXJuIHNldEl0ZW0oKTtcbiAgICAgIH1cbiAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgIHBvc3RSZWh5ZHJhdGlvbkNhbGxiYWNrID09IG51bGwgPyB2b2lkIDAgOiBwb3N0UmVoeWRyYXRpb25DYWxsYmFjayhzdGF0ZUZyb21TdG9yYWdlLCB2b2lkIDApO1xuICAgICAgc3RhdGVGcm9tU3RvcmFnZSA9IGdldCgpO1xuICAgICAgaGFzSHlkcmF0ZWQgPSB0cnVlO1xuICAgICAgZmluaXNoSHlkcmF0aW9uTGlzdGVuZXJzLmZvckVhY2goKGNiKSA9PiBjYihzdGF0ZUZyb21TdG9yYWdlKSk7XG4gICAgfSkuY2F0Y2goKGUyKSA9PiB7XG4gICAgICBwb3N0UmVoeWRyYXRpb25DYWxsYmFjayA9PSBudWxsID8gdm9pZCAwIDogcG9zdFJlaHlkcmF0aW9uQ2FsbGJhY2sodm9pZCAwLCBlMik7XG4gICAgfSk7XG4gIH07XG4gIGFwaS5wZXJzaXN0ID0ge1xuICAgIHNldE9wdGlvbnM6IChuZXdPcHRpb25zKSA9PiB7XG4gICAgICBvcHRpb25zID0ge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAuLi5uZXdPcHRpb25zXG4gICAgICB9O1xuICAgICAgaWYgKG5ld09wdGlvbnMuc3RvcmFnZSkge1xuICAgICAgICBzdG9yYWdlID0gbmV3T3B0aW9ucy5zdG9yYWdlO1xuICAgICAgfVxuICAgIH0sXG4gICAgY2xlYXJTdG9yYWdlOiAoKSA9PiB7XG4gICAgICBzdG9yYWdlID09IG51bGwgPyB2b2lkIDAgOiBzdG9yYWdlLnJlbW92ZUl0ZW0ob3B0aW9ucy5uYW1lKTtcbiAgICB9LFxuICAgIGdldE9wdGlvbnM6ICgpID0+IG9wdGlvbnMsXG4gICAgcmVoeWRyYXRlOiAoKSA9PiBoeWRyYXRlKCksXG4gICAgaGFzSHlkcmF0ZWQ6ICgpID0+IGhhc0h5ZHJhdGVkLFxuICAgIG9uSHlkcmF0ZTogKGNiKSA9PiB7XG4gICAgICBoeWRyYXRpb25MaXN0ZW5lcnMuYWRkKGNiKTtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGh5ZHJhdGlvbkxpc3RlbmVycy5kZWxldGUoY2IpO1xuICAgICAgfTtcbiAgICB9LFxuICAgIG9uRmluaXNoSHlkcmF0aW9uOiAoY2IpID0+IHtcbiAgICAgIGZpbmlzaEh5ZHJhdGlvbkxpc3RlbmVycy5hZGQoY2IpO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgZmluaXNoSHlkcmF0aW9uTGlzdGVuZXJzLmRlbGV0ZShjYik7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbiAgaWYgKCFvcHRpb25zLnNraXBIeWRyYXRpb24pIHtcbiAgICBoeWRyYXRlKCk7XG4gIH1cbiAgcmV0dXJuIHN0YXRlRnJvbVN0b3JhZ2UgfHwgY29uZmlnUmVzdWx0O1xufTtcbmNvbnN0IHBlcnNpc3QgPSBwZXJzaXN0SW1wbDtcbmNvbnN0IGNyZWF0ZUFwcFN0b3JlID0gKHMyKSA9PiB7XG4gIGNvbnN0IHNldCA9IHMyO1xuICByZXR1cm4ge1xuICAgIGFwcEJsb2NrUmVxdWVzdExpc3Q6IFtdLFxuICAgIGFwcFVuYmxvY2tSZXF1ZXN0TGlzdDogW10sXG4gICAgbGFzdEJsb2NrUmVxdWVzdE51bWJlcjogMCxcbiAgICBsYXN0VW5ibG9ja1JlcXVlc3ROdW1iZXI6IDAsXG4gICAgaXNNYWluQXBwQmxvY2tlZDogZmFsc2UsXG4gICAgcmVxdWVzdE1haW5BcHBCbG9jazogKCkgPT4ge1xuICAgICAgbGV0IG5ld0hhbmRsZVZhbHVlID0gMDtcbiAgICAgIHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgbmV3SGFuZGxlVmFsdWUgPSBzdGF0ZS5sYXN0QmxvY2tSZXF1ZXN0TnVtYmVyICsgMTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBhcHBCbG9ja1JlcXVlc3RMaXN0OiBbLi4uc3RhdGUuYXBwQmxvY2tSZXF1ZXN0TGlzdCwgbmV3SGFuZGxlVmFsdWVdLFxuICAgICAgICAgIGxhc3RCbG9ja1JlcXVlc3ROdW1iZXI6IG5ld0hhbmRsZVZhbHVlLFxuICAgICAgICAgIGlzTWFpbkFwcEJsb2NrZWQ6IHN0YXRlLmFwcFVuYmxvY2tSZXF1ZXN0TGlzdC5sZW5ndGggPT09IDBcbiAgICAgICAgICAvLyBVbmJsb2NrIHJlcXVlc3RzIG92ZXJyaWRlIGJsb2NrIHJlcXVlc3RzXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBuZXdIYW5kbGVWYWx1ZTtcbiAgICB9LFxuICAgIHJlcXVlc3RNYWluQXBwVW5ibG9jazogKCkgPT4ge1xuICAgICAgbGV0IG5ld0hhbmRsZVZhbHVlID0gMDtcbiAgICAgIHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgbmV3SGFuZGxlVmFsdWUgPSBzdGF0ZS5sYXN0VW5ibG9ja1JlcXVlc3ROdW1iZXIgKyAxO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGFwcFVuYmxvY2tSZXF1ZXN0TGlzdDogW1xuICAgICAgICAgICAgLi4uc3RhdGUuYXBwVW5ibG9ja1JlcXVlc3RMaXN0LFxuICAgICAgICAgICAgbmV3SGFuZGxlVmFsdWVcbiAgICAgICAgICBdLFxuICAgICAgICAgIGxhc3RVbmJsb2NrUmVxdWVzdE51bWJlcjogbmV3SGFuZGxlVmFsdWUsXG4gICAgICAgICAgaXNNYWluQXBwQmxvY2tlZDogZmFsc2VcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG5ld0hhbmRsZVZhbHVlO1xuICAgIH0sXG4gICAgZGlzY2FyZE1haW5BcHBCbG9jazogKGhhbmRsZSkgPT4ge1xuICAgICAgc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICBjb25zdCBuZXdCbG9ja1JlcXVlc3RMaXN0ID0gc3RhdGUuYXBwQmxvY2tSZXF1ZXN0TGlzdC5maWx0ZXIoXG4gICAgICAgICAgKGgyKSA9PiBoMiAhPT0gaGFuZGxlXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgYXBwQmxvY2tSZXF1ZXN0TGlzdDogbmV3QmxvY2tSZXF1ZXN0TGlzdCxcbiAgICAgICAgICBpc01haW5BcHBCbG9ja2VkOiBuZXdCbG9ja1JlcXVlc3RMaXN0Lmxlbmd0aCA+IDAgJiYgc3RhdGUuYXBwVW5ibG9ja1JlcXVlc3RMaXN0Lmxlbmd0aCA9PT0gMFxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBkaXNjYXJkTWFpbkFwcFVuYmxvY2s6IChoYW5kbGUpID0+IHtcbiAgICAgIHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgY29uc3QgbmV3VW5ibG9ja1JlcXVlc3RMaXN0ID0gc3RhdGUuYXBwVW5ibG9ja1JlcXVlc3RMaXN0LmZpbHRlcihcbiAgICAgICAgICAoaDIpID0+IGgyICE9PSBoYW5kbGVcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBhcHBVbmJsb2NrUmVxdWVzdExpc3Q6IG5ld1VuYmxvY2tSZXF1ZXN0TGlzdCxcbiAgICAgICAgICBpc01haW5BcHBCbG9ja2VkOiBzdGF0ZS5hcHBCbG9ja1JlcXVlc3RMaXN0Lmxlbmd0aCA+IDAgJiYgbmV3VW5ibG9ja1JlcXVlc3RMaXN0Lmxlbmd0aCA9PT0gMFxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfSxcbiAgICB0b29sYmFyUG9zaXRpb246IERyb3BBcmVhWm9uZS5CT1RUT01fQ0VOVEVSLFxuICAgIHNldFRvb2xiYXJQb3NpdGlvbjogKHBvc2l0aW9uKSA9PiBzZXQoKCkgPT4gKHsgdG9vbGJhclBvc2l0aW9uOiBwb3NpdGlvbiB9KSksXG4gICAgdG9vbGJhckJveFJlZjogYiQ1KCksXG4gICAgc2V0VG9vbGJhckJveFJlZjogKHJlZikgPT4gc2V0KCgpID0+ICh7IHRvb2xiYXJCb3hSZWY6IHJlZiB9KSksXG4gICAgdW5zZXRUb29sYmFyQm94UmVmOiAoKSA9PiBzZXQoKCkgPT4gKHsgdG9vbGJhckJveFJlZjogYiQ1KCkgfSkpLFxuICAgIG1pbmltaXplZDogZmFsc2UsXG4gICAgbWluaW1pemU6ICgpID0+IHNldCgoKSA9PiAoeyBtaW5pbWl6ZWQ6IHRydWUgfSkpLFxuICAgIGV4cGFuZDogKCkgPT4gc2V0KCgpID0+ICh7IG1pbmltaXplZDogZmFsc2UgfSkpLFxuICAgIHByb21vdGVkT25TdGFydHVwOiBmYWxzZSxcbiAgICBwcm9tb3Rpb25GaW5pc2hlZDogKCkgPT4gc2V0KCgpID0+ICh7IHByb21vdGVkT25TdGFydHVwOiB0cnVlIH0pKVxuICB9O1xufTtcbmZ1bmN0aW9uIGNyZWF0ZVN1cGVySlNPTlN0b3JhZ2Uoc3RvcmFnZSkge1xuICByZXR1cm4ge1xuICAgIGdldEl0ZW06IChuYW1lKSA9PiB7XG4gICAgICBjb25zdCBzdHIgPSBzdG9yYWdlLmdldEl0ZW0obmFtZSk7XG4gICAgICBpZiAoIXN0cikgcmV0dXJuIG51bGw7XG4gICAgICByZXR1cm4gU3VwZXJKU09OLnBhcnNlKHN0cik7XG4gICAgfSxcbiAgICBzZXRJdGVtOiAobmFtZSwgdmFsdWUpID0+IHtcbiAgICAgIHN0b3JhZ2Uuc2V0SXRlbShuYW1lLCBTdXBlckpTT04uc3RyaW5naWZ5KHZhbHVlKSk7XG4gICAgfSxcbiAgICByZW1vdmVJdGVtOiAobmFtZSkgPT4gc3RvcmFnZS5yZW1vdmVJdGVtKG5hbWUpXG4gIH07XG59XG5jb25zdCB1c2VBcHBTdGF0ZSA9IGNyZWF0ZShcbiAgcGVyc2lzdChjcmVhdGVBcHBTdG9yZSwge1xuICAgIG5hbWU6IFwic3Rnd3M6Y29tcGFuaW9uXCIsXG4gICAgc3RvcmFnZTogY3JlYXRlU3VwZXJKU09OU3RvcmFnZShzZXNzaW9uU3RvcmFnZSksXG4gICAgcGFydGlhbGl6ZTogKHN0YXRlKSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b29sYmFyUG9zaXRpb246IHN0YXRlLnRvb2xiYXJQb3NpdGlvblxuICAgICAgfTtcbiAgICB9XG4gIH0pXG4pO1xuY29uc3QgQ2hhdENvbnRleHQgPSBLJDMoe1xuICBjaGF0czogW10sXG4gIGN1cnJlbnRDaGF0SWQ6IG51bGwsXG4gIGNyZWF0ZUNoYXQ6ICgpID0+IFwiXCIsXG4gIGRlbGV0ZUNoYXQ6ICgpID0+IHtcbiAgfSxcbiAgc2V0Q3VycmVudENoYXQ6ICgpID0+IHtcbiAgfSxcbiAgc2V0Q2hhdElucHV0OiAoKSA9PiB7XG4gIH0sXG4gIGFkZENoYXREb21Db250ZXh0OiAoKSA9PiB7XG4gIH0sXG4gIHJlbW92ZUNoYXREb21Db250ZXh0OiAoKSA9PiB7XG4gIH0sXG4gIGFkZE1lc3NhZ2U6ICgpID0+IHtcbiAgfSxcbiAgY2hhdEFyZWFTdGF0ZTogXCJoaWRkZW5cIixcbiAgc2V0Q2hhdEFyZWFTdGF0ZTogKCkgPT4ge1xuICB9LFxuICBpc1Byb21wdENyZWF0aW9uQWN0aXZlOiBmYWxzZSxcbiAgc3RhcnRQcm9tcHRDcmVhdGlvbjogKCkgPT4ge1xuICB9LFxuICBzdG9wUHJvbXB0Q3JlYXRpb246ICgpID0+IHtcbiAgfVxufSk7XG5jb25zdCBDaGF0U3RhdGVQcm92aWRlciA9ICh7IGNoaWxkcmVuIH0pID0+IHtcbiAgY29uc3QgW2NoYXRzLCBzZXRDaGF0c10gPSBkJDQoW1xuICAgIHtcbiAgICAgIGlkOiBcIm5ld19jaGF0XCIsXG4gICAgICBtZXNzYWdlczogW10sXG4gICAgICB0aXRsZTogXCJOZXcgY2hhdFwiLFxuICAgICAgaW5wdXRWYWx1ZTogXCJcIixcbiAgICAgIGRvbUNvbnRleHRFbGVtZW50czogW11cbiAgICB9XG4gIF0pO1xuICBjb25zdCBbY3VycmVudENoYXRJZCwgc2V0Q3VycmVudENoYXRJZF0gPSBkJDQoXCJuZXdfY2hhdFwiKTtcbiAgY29uc3QgW2NoYXRBcmVhU3RhdGUsIGludGVybmFsU2V0Q2hhdEFyZWFTdGF0ZV0gPSBkJDQoXCJoaWRkZW5cIik7XG4gIGNvbnN0IFtpc1Byb21wdENyZWF0aW9uTW9kZSwgc2V0SXNQcm9tcHRDcmVhdGlvbk1vZGVdID0gZCQ0KGZhbHNlKTtcbiAgY29uc3QgaXNNaW5pbWl6ZWQgPSB1c2VBcHBTdGF0ZSgoc3RhdGUpID0+IHN0YXRlLm1pbmltaXplZCk7XG4gIHkkNigoKSA9PiB7XG4gICAgaWYgKGlzTWluaW1pemVkKSB7XG4gICAgICBzZXRJc1Byb21wdENyZWF0aW9uTW9kZShmYWxzZSk7XG4gICAgICBpbnRlcm5hbFNldENoYXRBcmVhU3RhdGUoXCJoaWRkZW5cIik7XG4gICAgfVxuICB9LCBbaXNNaW5pbWl6ZWRdKTtcbiAgY29uc3QgeyBicmlkZ2UgfSA9IHVzZVNSUENCcmlkZ2UoKTtcbiAgY29uc3QgY3JlYXRlQ2hhdCA9IHEkMygoKSA9PiB7XG4gICAgY29uc3QgbmV3Q2hhdElkID0gY3J5cHRvLnJhbmRvbVVVSUQoKTtcbiAgICBjb25zdCBuZXdDaGF0ID0ge1xuICAgICAgaWQ6IG5ld0NoYXRJZCxcbiAgICAgIHRpdGxlOiBudWxsLFxuICAgICAgbWVzc2FnZXM6IFtdLFxuICAgICAgaW5wdXRWYWx1ZTogXCJcIixcbiAgICAgIGRvbUNvbnRleHRFbGVtZW50czogW11cbiAgICB9O1xuICAgIHNldENoYXRzKChwcmV2KSA9PiBbLi4ucHJldiwgbmV3Q2hhdF0pO1xuICAgIHNldEN1cnJlbnRDaGF0SWQobmV3Q2hhdElkKTtcbiAgICByZXR1cm4gbmV3Q2hhdElkO1xuICB9LCBbXSk7XG4gIGNvbnN0IGRlbGV0ZUNoYXQgPSBxJDMoXG4gICAgKGNoYXRJZCkgPT4ge1xuICAgICAgc2V0Q2hhdHMoKHByZXYpID0+IHtcbiAgICAgICAgY29uc3QgZmlsdGVyZWRDaGF0cyA9IHByZXYuZmlsdGVyKChjaGF0KSA9PiBjaGF0LmlkICE9PSBjaGF0SWQpO1xuICAgICAgICBpZiAoZmlsdGVyZWRDaGF0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpZDogXCJuZXdfY2hhdFwiLFxuICAgICAgICAgICAgICBtZXNzYWdlczogW10sXG4gICAgICAgICAgICAgIHRpdGxlOiBcIk5ldyBjaGF0XCIsXG4gICAgICAgICAgICAgIGlucHV0VmFsdWU6IFwiXCIsXG4gICAgICAgICAgICAgIGRvbUNvbnRleHRFbGVtZW50czogW11cbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmaWx0ZXJlZENoYXRzO1xuICAgICAgfSk7XG4gICAgICBpZiAoY3VycmVudENoYXRJZCA9PT0gY2hhdElkKSB7XG4gICAgICAgIHNldENoYXRzKChwcmV2KSA9PiB7XG4gICAgICAgICAgc2V0Q3VycmVudENoYXRJZChwcmV2WzBdLmlkKTtcbiAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbY3VycmVudENoYXRJZF1cbiAgKTtcbiAgY29uc3Qgc2V0Q3VycmVudENoYXQgPSBxJDMoKGNoYXRJZCkgPT4ge1xuICAgIHNldEN1cnJlbnRDaGF0SWQoY2hhdElkKTtcbiAgfSwgW10pO1xuICBjb25zdCBzZXRDaGF0SW5wdXQgPSBxJDMoKGNoYXRJZCwgdmFsdWUyKSA9PiB7XG4gICAgc2V0Q2hhdHMoXG4gICAgICAocHJldikgPT4gcHJldi5tYXAoXG4gICAgICAgIChjaGF0KSA9PiBjaGF0LmlkID09PSBjaGF0SWQgPyB7IC4uLmNoYXQsIGlucHV0VmFsdWU6IHZhbHVlMiB9IDogY2hhdFxuICAgICAgKVxuICAgICk7XG4gIH0sIFtdKTtcbiAgY29uc3Qgc3RhcnRQcm9tcHRDcmVhdGlvbiA9IHEkMygoKSA9PiB7XG4gICAgc2V0SXNQcm9tcHRDcmVhdGlvbk1vZGUodHJ1ZSk7XG4gICAgaWYgKGNoYXRBcmVhU3RhdGUgPT09IFwiaGlkZGVuXCIpIHtcbiAgICAgIGludGVybmFsU2V0Q2hhdEFyZWFTdGF0ZShcImNvbXBhY3RcIik7XG4gICAgfVxuICB9LCBbY2hhdEFyZWFTdGF0ZV0pO1xuICBjb25zdCBzdG9wUHJvbXB0Q3JlYXRpb24gPSBxJDMoKCkgPT4ge1xuICAgIHNldElzUHJvbXB0Q3JlYXRpb25Nb2RlKGZhbHNlKTtcbiAgICBzZXRDaGF0cyhcbiAgICAgIChwcmV2KSA9PiBwcmV2Lm1hcChcbiAgICAgICAgKGNoYXQpID0+IGNoYXQuaWQgPT09IGN1cnJlbnRDaGF0SWQgPyB7IC4uLmNoYXQsIGRvbUNvbnRleHRFbGVtZW50czogW10gfSA6IGNoYXRcbiAgICAgIClcbiAgICApO1xuICAgIGlmIChjaGF0QXJlYVN0YXRlID09PSBcImNvbXBhY3RcIikge1xuICAgICAgaW50ZXJuYWxTZXRDaGF0QXJlYVN0YXRlKFwiaGlkZGVuXCIpO1xuICAgIH1cbiAgfSwgW2N1cnJlbnRDaGF0SWQsIGNoYXRBcmVhU3RhdGVdKTtcbiAgY29uc3Qgc2V0Q2hhdEFyZWFTdGF0ZSA9IHEkMyhcbiAgICAoc3RhdGUpID0+IHtcbiAgICAgIGludGVybmFsU2V0Q2hhdEFyZWFTdGF0ZShzdGF0ZSk7XG4gICAgICBpZiAoc3RhdGUgPT09IFwiaGlkZGVuXCIpIHtcbiAgICAgICAgc3RvcFByb21wdENyZWF0aW9uKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbaW50ZXJuYWxTZXRDaGF0QXJlYVN0YXRlLCBzdG9wUHJvbXB0Q3JlYXRpb25dXG4gICk7XG4gIGNvbnN0IGFkZENoYXREb21Db250ZXh0ID0gcSQzKFxuICAgIChjaGF0SWQsIGVsZW1lbnQpID0+IHtcbiAgICAgIHNldENoYXRzKFxuICAgICAgICAocHJldikgPT4gcHJldi5tYXAoXG4gICAgICAgICAgKGNoYXQpID0+IGNoYXQuaWQgPT09IGNoYXRJZCA/IHtcbiAgICAgICAgICAgIC4uLmNoYXQsXG4gICAgICAgICAgICBkb21Db250ZXh0RWxlbWVudHM6IFsuLi5jaGF0LmRvbUNvbnRleHRFbGVtZW50cywgZWxlbWVudF1cbiAgICAgICAgICB9IDogY2hhdFxuICAgICAgICApXG4gICAgICApO1xuICAgIH0sXG4gICAgW11cbiAgKTtcbiAgY29uc3QgcmVtb3ZlQ2hhdERvbUNvbnRleHQgPSBxJDMoXG4gICAgKGNoYXRJZCwgZWxlbWVudCkgPT4ge1xuICAgICAgc2V0Q2hhdHMoXG4gICAgICAgIChwcmV2KSA9PiBwcmV2Lm1hcChcbiAgICAgICAgICAoY2hhdCkgPT4gY2hhdC5pZCA9PT0gY2hhdElkID8ge1xuICAgICAgICAgICAgLi4uY2hhdCxcbiAgICAgICAgICAgIGRvbUNvbnRleHRFbGVtZW50czogY2hhdC5kb21Db250ZXh0RWxlbWVudHMuZmlsdGVyKFxuICAgICAgICAgICAgICAoZTIpID0+IGUyICE9PSBlbGVtZW50XG4gICAgICAgICAgICApXG4gICAgICAgICAgfSA6IGNoYXRcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9LFxuICAgIFtdXG4gICk7XG4gIGNvbnN0IGFkZE1lc3NhZ2UgPSBxJDMoXG4gICAgKGNoYXRJZCwgY29udGVudCkgPT4ge1xuICAgICAgaWYgKCFjb250ZW50LnRyaW0oKSkgcmV0dXJuO1xuICAgICAgY29uc3QgY2hhdCA9IGNoYXRzLmZpbmQoKGNoYXQyKSA9PiBjaGF0Mi5pZCA9PT0gY2hhdElkKTtcbiAgICAgIGNvbnN0IHByb21wdCA9IGNyZWF0ZVByb21wdChcbiAgICAgICAgY2hhdCA9PSBudWxsID8gdm9pZCAwIDogY2hhdC5kb21Db250ZXh0RWxlbWVudHMsXG4gICAgICAgIGNvbnRlbnQsXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmXG4gICAgICApO1xuICAgICAgY29uc3QgbmV3TWVzc2FnZSA9IHtcbiAgICAgICAgaWQ6IGNyeXB0by5yYW5kb21VVUlEKCksXG4gICAgICAgIGNvbnRlbnQ6IGNvbnRlbnQudHJpbSgpLFxuICAgICAgICBzZW5kZXI6IFwidXNlclwiLFxuICAgICAgICB0eXBlOiBcInJlZ3VsYXJcIixcbiAgICAgICAgdGltZXN0YW1wOiAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKVxuICAgICAgfTtcbiAgICAgIGFzeW5jIGZ1bmN0aW9uIHRyaWdnZXJBZ2VudFByb21wdCgpIHtcbiAgICAgICAgaWYgKGJyaWRnZSkge1xuICAgICAgICAgIGF3YWl0IGJyaWRnZS5jYWxsLnRyaWdnZXJBZ2VudFByb21wdChcbiAgICAgICAgICAgIHsgcHJvbXB0IH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG9uVXBkYXRlOiAodXBkYXRlKSA9PiB7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0cmlnZ2VyQWdlbnRQcm9tcHQoKTtcbiAgICAgIHNldElzUHJvbXB0Q3JlYXRpb25Nb2RlKGZhbHNlKTtcbiAgICAgIGlmIChjaGF0QXJlYVN0YXRlID09PSBcImhpZGRlblwiKSB7XG4gICAgICAgIGludGVybmFsU2V0Q2hhdEFyZWFTdGF0ZShcImNvbXBhY3RcIik7XG4gICAgICB9XG4gICAgICBzZXRDaGF0cyhcbiAgICAgICAgKHByZXYpID0+IHByZXYubWFwKFxuICAgICAgICAgIChjaGF0MikgPT4gY2hhdDIuaWQgPT09IGNoYXRJZCA/IHtcbiAgICAgICAgICAgIC4uLmNoYXQyLFxuICAgICAgICAgICAgbWVzc2FnZXM6IFsuLi5jaGF0Mi5tZXNzYWdlcywgbmV3TWVzc2FnZV0sXG4gICAgICAgICAgICBpbnB1dFZhbHVlOiBcIlwiLFxuICAgICAgICAgICAgZG9tQ29udGV4dEVsZW1lbnRzOiBbXVxuICAgICAgICAgIH0gOiBjaGF0MlxuICAgICAgICApXG4gICAgICApO1xuICAgIH0sXG4gICAgW1xuICAgICAgY2hhdEFyZWFTdGF0ZSxcbiAgICAgIGJyaWRnZSxcbiAgICAgIGNoYXRzLFxuICAgICAgc2V0SXNQcm9tcHRDcmVhdGlvbk1vZGUsXG4gICAgICBpbnRlcm5hbFNldENoYXRBcmVhU3RhdGVcbiAgICBdXG4gICk7XG4gIGNvbnN0IHZhbHVlID0ge1xuICAgIGNoYXRzLFxuICAgIGN1cnJlbnRDaGF0SWQsXG4gICAgY3JlYXRlQ2hhdCxcbiAgICBkZWxldGVDaGF0LFxuICAgIHNldEN1cnJlbnRDaGF0LFxuICAgIHNldENoYXRJbnB1dCxcbiAgICBhZGRNZXNzYWdlLFxuICAgIGNoYXRBcmVhU3RhdGUsXG4gICAgc2V0Q2hhdEFyZWFTdGF0ZSxcbiAgICBpc1Byb21wdENyZWF0aW9uQWN0aXZlOiBpc1Byb21wdENyZWF0aW9uTW9kZSxcbiAgICBzdGFydFByb21wdENyZWF0aW9uLFxuICAgIHN0b3BQcm9tcHRDcmVhdGlvbixcbiAgICBhZGRDaGF0RG9tQ29udGV4dCxcbiAgICByZW1vdmVDaGF0RG9tQ29udGV4dFxuICB9O1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIHUkOShDaGF0Q29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZSwgY2hpbGRyZW4gfSk7XG59O1xuZnVuY3Rpb24gdXNlQ2hhdFN0YXRlKCkge1xuICBjb25zdCBjb250ZXh0ID0geCQ0KENoYXRDb250ZXh0KTtcbiAgaWYgKCFjb250ZXh0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwidXNlQ2hhdFN0YXRlIG11c3QgYmUgdXNlZCB3aXRoaW4gYSBDaGF0U3RhdGVQcm92aWRlclwiKTtcbiAgfVxuICByZXR1cm4gY29udGV4dDtcbn1cbmZ1bmN0aW9uIHVzZUN5Y2xpY1VwZGF0ZShmdW5jLCBmcmFtZVJhdGUpIHtcbiAgY29uc3QgYW5pbWF0aW9uRnJhbWVIYW5kbGUgPSBBJDModm9pZCAwKTtcbiAgY29uc3QgdGltZUJldHdlZW5GcmFtZXMgPSBUJDUoXG4gICAgKCkgPT4gZnJhbWVSYXRlICYmIGZyYW1lUmF0ZSA+IDAgPyAxZTMgLyBmcmFtZVJhdGUgOiAwLFxuICAgIFtmcmFtZVJhdGVdXG4gICk7XG4gIGNvbnN0IGxhc3RDYWxsRnJhbWVUaW1lID0gQSQzKDApO1xuICBjb25zdCB1cGRhdGUgPSBxJDMoXG4gICAgKGZyYW1lVGltZSkgPT4ge1xuICAgICAgaWYgKGZyYW1lVGltZSAtIGxhc3RDYWxsRnJhbWVUaW1lLmN1cnJlbnQgPj0gdGltZUJldHdlZW5GcmFtZXMpIHtcbiAgICAgICAgZnVuYygpO1xuICAgICAgICBsYXN0Q2FsbEZyYW1lVGltZS5jdXJyZW50ID0gZnJhbWVUaW1lO1xuICAgICAgfVxuICAgICAgYW5pbWF0aW9uRnJhbWVIYW5kbGUuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh1cGRhdGUpO1xuICAgIH0sXG4gICAgW2Z1bmMsIHRpbWVCZXR3ZWVuRnJhbWVzXVxuICApO1xuICB5JDYoKCkgPT4ge1xuICAgIGlmICghZnJhbWVSYXRlIHx8IGZyYW1lUmF0ZSA+IDApIHtcbiAgICAgIGFuaW1hdGlvbkZyYW1lSGFuZGxlLmN1cnJlbnQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodXBkYXRlKTtcbiAgICB9XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChhbmltYXRpb25GcmFtZUhhbmRsZS5jdXJyZW50KSB7XG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvbkZyYW1lSGFuZGxlLmN1cnJlbnQpO1xuICAgICAgICBhbmltYXRpb25GcmFtZUhhbmRsZS5jdXJyZW50ID0gdm9pZCAwO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtmcmFtZVJhdGUsIHVwZGF0ZV0pO1xufVxuY29uc3QgTG9jYXRpb25Db250ZXh0ID0gSyQzKG5ldyBVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpKTtcbmZ1bmN0aW9uIExvY2F0aW9uUHJvdmlkZXIoe1xuICBjaGlsZHJlblxufSkge1xuICBjb25zdCBbY3VycmVudFVybCwgc2V0Q3VycmVudFVybF0gPSBkJDQoXG4gICAgbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZilcbiAgKTtcbiAgY29uc3QgdXBkYXRlID0gcSQzKCgpID0+IHtcbiAgICBzZXRDdXJyZW50VXJsKG5ldyBVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpKTtcbiAgfSwgW10pO1xuICB1c2VDeWNsaWNVcGRhdGUodXBkYXRlLCAxNSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gdSQ5KExvY2F0aW9uQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogY3VycmVudFVybCwgY2hpbGRyZW4gfSk7XG59XG5mdW5jdGlvbiBDb250ZXh0UHJvdmlkZXJzKHtcbiAgY2hpbGRyZW4sXG4gIGNvbmZpZ1xufSkge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIHUkOShMb2NhdGlvblByb3ZpZGVyLCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gdSQ5KFNSUENCcmlkZ2VQcm92aWRlciwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHUkOShQbHVnaW5Qcm92aWRlciwgeyBwbHVnaW5zOiAoY29uZmlnID09IG51bGwgPyB2b2lkIDAgOiBjb25maWcucGx1Z2lucykgfHwgW10sIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gdSQ5KENoYXRTdGF0ZVByb3ZpZGVyLCB7IGNoaWxkcmVuIH0pIH0pIH0pIH0pO1xufVxuZnVuY3Rpb24gdXNlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIsIG9wdGlvbnMsIGVsZW1lbnQgPSB3aW5kb3cpIHtcbiAgeSQ2KCgpID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuO1xuICAgIGlmICghZWxlbWVudCkgcmV0dXJuO1xuICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIsIG9wdGlvbnMpO1xuICAgIHJldHVybiAoKSA9PiBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgfSwgW2V2ZW50TmFtZSwgaGFuZGxlciwgZWxlbWVudCwgb3B0aW9uc10pO1xufVxuZnVuY3Rpb24gciQzKGUyKSB7XG4gIHZhciB0MiwgZjIsIG4yID0gXCJcIjtcbiAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIGUyIHx8IFwibnVtYmVyXCIgPT0gdHlwZW9mIGUyKSBuMiArPSBlMjtcbiAgZWxzZSBpZiAoXCJvYmplY3RcIiA9PSB0eXBlb2YgZTIpIGlmIChBcnJheS5pc0FycmF5KGUyKSkge1xuICAgIHZhciBvMyA9IGUyLmxlbmd0aDtcbiAgICBmb3IgKHQyID0gMDsgdDIgPCBvMzsgdDIrKykgZTJbdDJdICYmIChmMiA9IHIkMyhlMlt0Ml0pKSAmJiAobjIgJiYgKG4yICs9IFwiIFwiKSwgbjIgKz0gZjIpO1xuICB9IGVsc2UgZm9yIChmMiBpbiBlMikgZTJbZjJdICYmIChuMiAmJiAobjIgKz0gXCIgXCIpLCBuMiArPSBmMik7XG4gIHJldHVybiBuMjtcbn1cbmZ1bmN0aW9uIGNsc3goKSB7XG4gIGZvciAodmFyIGUyLCB0MiwgZjIgPSAwLCBuMiA9IFwiXCIsIG8zID0gYXJndW1lbnRzLmxlbmd0aDsgZjIgPCBvMzsgZjIrKykgKGUyID0gYXJndW1lbnRzW2YyXSkgJiYgKHQyID0gciQzKGUyKSkgJiYgKG4yICYmIChuMiArPSBcIiBcIiksIG4yICs9IHQyKTtcbiAgcmV0dXJuIG4yO1xufVxuY29uc3QgQ0xBU1NfUEFSVF9TRVBBUkFUT1IgPSBcIi1cIjtcbmNvbnN0IGNyZWF0ZUNsYXNzR3JvdXBVdGlscyA9IChjb25maWcpID0+IHtcbiAgY29uc3QgY2xhc3NNYXAgPSBjcmVhdGVDbGFzc01hcChjb25maWcpO1xuICBjb25zdCB7XG4gICAgY29uZmxpY3RpbmdDbGFzc0dyb3VwcyxcbiAgICBjb25mbGljdGluZ0NsYXNzR3JvdXBNb2RpZmllcnNcbiAgfSA9IGNvbmZpZztcbiAgY29uc3QgZ2V0Q2xhc3NHcm91cElkID0gKGNsYXNzTmFtZSkgPT4ge1xuICAgIGNvbnN0IGNsYXNzUGFydHMgPSBjbGFzc05hbWUuc3BsaXQoQ0xBU1NfUEFSVF9TRVBBUkFUT1IpO1xuICAgIGlmIChjbGFzc1BhcnRzWzBdID09PSBcIlwiICYmIGNsYXNzUGFydHMubGVuZ3RoICE9PSAxKSB7XG4gICAgICBjbGFzc1BhcnRzLnNoaWZ0KCk7XG4gICAgfVxuICAgIHJldHVybiBnZXRHcm91cFJlY3Vyc2l2ZShjbGFzc1BhcnRzLCBjbGFzc01hcCkgfHwgZ2V0R3JvdXBJZEZvckFyYml0cmFyeVByb3BlcnR5KGNsYXNzTmFtZSk7XG4gIH07XG4gIGNvbnN0IGdldENvbmZsaWN0aW5nQ2xhc3NHcm91cElkcyA9IChjbGFzc0dyb3VwSWQsIGhhc1Bvc3RmaXhNb2RpZmllcikgPT4ge1xuICAgIGNvbnN0IGNvbmZsaWN0cyA9IGNvbmZsaWN0aW5nQ2xhc3NHcm91cHNbY2xhc3NHcm91cElkXSB8fCBbXTtcbiAgICBpZiAoaGFzUG9zdGZpeE1vZGlmaWVyICYmIGNvbmZsaWN0aW5nQ2xhc3NHcm91cE1vZGlmaWVyc1tjbGFzc0dyb3VwSWRdKSB7XG4gICAgICByZXR1cm4gWy4uLmNvbmZsaWN0cywgLi4uY29uZmxpY3RpbmdDbGFzc0dyb3VwTW9kaWZpZXJzW2NsYXNzR3JvdXBJZF1dO1xuICAgIH1cbiAgICByZXR1cm4gY29uZmxpY3RzO1xuICB9O1xuICByZXR1cm4ge1xuICAgIGdldENsYXNzR3JvdXBJZCxcbiAgICBnZXRDb25mbGljdGluZ0NsYXNzR3JvdXBJZHNcbiAgfTtcbn07XG5jb25zdCBnZXRHcm91cFJlY3Vyc2l2ZSA9IChjbGFzc1BhcnRzLCBjbGFzc1BhcnRPYmplY3QpID0+IHtcbiAgdmFyIF9hO1xuICBpZiAoY2xhc3NQYXJ0cy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gY2xhc3NQYXJ0T2JqZWN0LmNsYXNzR3JvdXBJZDtcbiAgfVxuICBjb25zdCBjdXJyZW50Q2xhc3NQYXJ0ID0gY2xhc3NQYXJ0c1swXTtcbiAgY29uc3QgbmV4dENsYXNzUGFydE9iamVjdCA9IGNsYXNzUGFydE9iamVjdC5uZXh0UGFydC5nZXQoY3VycmVudENsYXNzUGFydCk7XG4gIGNvbnN0IGNsYXNzR3JvdXBGcm9tTmV4dENsYXNzUGFydCA9IG5leHRDbGFzc1BhcnRPYmplY3QgPyBnZXRHcm91cFJlY3Vyc2l2ZShjbGFzc1BhcnRzLnNsaWNlKDEpLCBuZXh0Q2xhc3NQYXJ0T2JqZWN0KSA6IHZvaWQgMDtcbiAgaWYgKGNsYXNzR3JvdXBGcm9tTmV4dENsYXNzUGFydCkge1xuICAgIHJldHVybiBjbGFzc0dyb3VwRnJvbU5leHRDbGFzc1BhcnQ7XG4gIH1cbiAgaWYgKGNsYXNzUGFydE9iamVjdC52YWxpZGF0b3JzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB2b2lkIDA7XG4gIH1cbiAgY29uc3QgY2xhc3NSZXN0ID0gY2xhc3NQYXJ0cy5qb2luKENMQVNTX1BBUlRfU0VQQVJBVE9SKTtcbiAgcmV0dXJuIChfYSA9IGNsYXNzUGFydE9iamVjdC52YWxpZGF0b3JzLmZpbmQoKHtcbiAgICB2YWxpZGF0b3JcbiAgfSkgPT4gdmFsaWRhdG9yKGNsYXNzUmVzdCkpKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2xhc3NHcm91cElkO1xufTtcbmNvbnN0IGFyYml0cmFyeVByb3BlcnR5UmVnZXggPSAvXlxcWyguKylcXF0kLztcbmNvbnN0IGdldEdyb3VwSWRGb3JBcmJpdHJhcnlQcm9wZXJ0eSA9IChjbGFzc05hbWUpID0+IHtcbiAgaWYgKGFyYml0cmFyeVByb3BlcnR5UmVnZXgudGVzdChjbGFzc05hbWUpKSB7XG4gICAgY29uc3QgYXJiaXRyYXJ5UHJvcGVydHlDbGFzc05hbWUgPSBhcmJpdHJhcnlQcm9wZXJ0eVJlZ2V4LmV4ZWMoY2xhc3NOYW1lKVsxXTtcbiAgICBjb25zdCBwcm9wZXJ0eSA9IGFyYml0cmFyeVByb3BlcnR5Q2xhc3NOYW1lID09IG51bGwgPyB2b2lkIDAgOiBhcmJpdHJhcnlQcm9wZXJ0eUNsYXNzTmFtZS5zdWJzdHJpbmcoMCwgYXJiaXRyYXJ5UHJvcGVydHlDbGFzc05hbWUuaW5kZXhPZihcIjpcIikpO1xuICAgIGlmIChwcm9wZXJ0eSkge1xuICAgICAgcmV0dXJuIFwiYXJiaXRyYXJ5Li5cIiArIHByb3BlcnR5O1xuICAgIH1cbiAgfVxufTtcbmNvbnN0IGNyZWF0ZUNsYXNzTWFwID0gKGNvbmZpZykgPT4ge1xuICBjb25zdCB7XG4gICAgdGhlbWUsXG4gICAgY2xhc3NHcm91cHNcbiAgfSA9IGNvbmZpZztcbiAgY29uc3QgY2xhc3NNYXAgPSB7XG4gICAgbmV4dFBhcnQ6IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCksXG4gICAgdmFsaWRhdG9yczogW11cbiAgfTtcbiAgZm9yIChjb25zdCBjbGFzc0dyb3VwSWQgaW4gY2xhc3NHcm91cHMpIHtcbiAgICBwcm9jZXNzQ2xhc3Nlc1JlY3Vyc2l2ZWx5KGNsYXNzR3JvdXBzW2NsYXNzR3JvdXBJZF0sIGNsYXNzTWFwLCBjbGFzc0dyb3VwSWQsIHRoZW1lKTtcbiAgfVxuICByZXR1cm4gY2xhc3NNYXA7XG59O1xuY29uc3QgcHJvY2Vzc0NsYXNzZXNSZWN1cnNpdmVseSA9IChjbGFzc0dyb3VwLCBjbGFzc1BhcnRPYmplY3QsIGNsYXNzR3JvdXBJZCwgdGhlbWUpID0+IHtcbiAgY2xhc3NHcm91cC5mb3JFYWNoKChjbGFzc0RlZmluaXRpb24pID0+IHtcbiAgICBpZiAodHlwZW9mIGNsYXNzRGVmaW5pdGlvbiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgY29uc3QgY2xhc3NQYXJ0T2JqZWN0VG9FZGl0ID0gY2xhc3NEZWZpbml0aW9uID09PSBcIlwiID8gY2xhc3NQYXJ0T2JqZWN0IDogZ2V0UGFydChjbGFzc1BhcnRPYmplY3QsIGNsYXNzRGVmaW5pdGlvbik7XG4gICAgICBjbGFzc1BhcnRPYmplY3RUb0VkaXQuY2xhc3NHcm91cElkID0gY2xhc3NHcm91cElkO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGNsYXNzRGVmaW5pdGlvbiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBpZiAoaXNUaGVtZUdldHRlcihjbGFzc0RlZmluaXRpb24pKSB7XG4gICAgICAgIHByb2Nlc3NDbGFzc2VzUmVjdXJzaXZlbHkoY2xhc3NEZWZpbml0aW9uKHRoZW1lKSwgY2xhc3NQYXJ0T2JqZWN0LCBjbGFzc0dyb3VwSWQsIHRoZW1lKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY2xhc3NQYXJ0T2JqZWN0LnZhbGlkYXRvcnMucHVzaCh7XG4gICAgICAgIHZhbGlkYXRvcjogY2xhc3NEZWZpbml0aW9uLFxuICAgICAgICBjbGFzc0dyb3VwSWRcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBPYmplY3QuZW50cmllcyhjbGFzc0RlZmluaXRpb24pLmZvckVhY2goKFtrZXksIGNsYXNzR3JvdXAyXSkgPT4ge1xuICAgICAgcHJvY2Vzc0NsYXNzZXNSZWN1cnNpdmVseShjbGFzc0dyb3VwMiwgZ2V0UGFydChjbGFzc1BhcnRPYmplY3QsIGtleSksIGNsYXNzR3JvdXBJZCwgdGhlbWUpO1xuICAgIH0pO1xuICB9KTtcbn07XG5jb25zdCBnZXRQYXJ0ID0gKGNsYXNzUGFydE9iamVjdCwgcGF0aCkgPT4ge1xuICBsZXQgY3VycmVudENsYXNzUGFydE9iamVjdCA9IGNsYXNzUGFydE9iamVjdDtcbiAgcGF0aC5zcGxpdChDTEFTU19QQVJUX1NFUEFSQVRPUikuZm9yRWFjaCgocGF0aFBhcnQpID0+IHtcbiAgICBpZiAoIWN1cnJlbnRDbGFzc1BhcnRPYmplY3QubmV4dFBhcnQuaGFzKHBhdGhQYXJ0KSkge1xuICAgICAgY3VycmVudENsYXNzUGFydE9iamVjdC5uZXh0UGFydC5zZXQocGF0aFBhcnQsIHtcbiAgICAgICAgbmV4dFBhcnQ6IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCksXG4gICAgICAgIHZhbGlkYXRvcnM6IFtdXG4gICAgICB9KTtcbiAgICB9XG4gICAgY3VycmVudENsYXNzUGFydE9iamVjdCA9IGN1cnJlbnRDbGFzc1BhcnRPYmplY3QubmV4dFBhcnQuZ2V0KHBhdGhQYXJ0KTtcbiAgfSk7XG4gIHJldHVybiBjdXJyZW50Q2xhc3NQYXJ0T2JqZWN0O1xufTtcbmNvbnN0IGlzVGhlbWVHZXR0ZXIgPSAoZnVuYykgPT4gZnVuYy5pc1RoZW1lR2V0dGVyO1xuY29uc3QgY3JlYXRlTHJ1Q2FjaGUgPSAobWF4Q2FjaGVTaXplKSA9PiB7XG4gIGlmIChtYXhDYWNoZVNpemUgPCAxKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGdldDogKCkgPT4gdm9pZCAwLFxuICAgICAgc2V0OiAoKSA9PiB7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICBsZXQgY2FjaGVTaXplID0gMDtcbiAgbGV0IGNhY2hlID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgbGV0IHByZXZpb3VzQ2FjaGUgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICBjb25zdCB1cGRhdGUgPSAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgIGNhY2hlLnNldChrZXksIHZhbHVlKTtcbiAgICBjYWNoZVNpemUrKztcbiAgICBpZiAoY2FjaGVTaXplID4gbWF4Q2FjaGVTaXplKSB7XG4gICAgICBjYWNoZVNpemUgPSAwO1xuICAgICAgcHJldmlvdXNDYWNoZSA9IGNhY2hlO1xuICAgICAgY2FjaGUgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBnZXQoa2V5KSB7XG4gICAgICBsZXQgdmFsdWUgPSBjYWNoZS5nZXQoa2V5KTtcbiAgICAgIGlmICh2YWx1ZSAhPT0gdm9pZCAwKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmICgodmFsdWUgPSBwcmV2aW91c0NhY2hlLmdldChrZXkpKSAhPT0gdm9pZCAwKSB7XG4gICAgICAgIHVwZGF0ZShrZXksIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgIH0sXG4gICAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIGlmIChjYWNoZS5oYXMoa2V5KSkge1xuICAgICAgICBjYWNoZS5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1cGRhdGUoa2V5LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufTtcbmNvbnN0IElNUE9SVEFOVF9NT0RJRklFUiA9IFwiIVwiO1xuY29uc3QgTU9ESUZJRVJfU0VQQVJBVE9SID0gXCI6XCI7XG5jb25zdCBNT0RJRklFUl9TRVBBUkFUT1JfTEVOR1RIID0gTU9ESUZJRVJfU0VQQVJBVE9SLmxlbmd0aDtcbmNvbnN0IGNyZWF0ZVBhcnNlQ2xhc3NOYW1lID0gKGNvbmZpZykgPT4ge1xuICBjb25zdCB7XG4gICAgcHJlZml4LFxuICAgIGV4cGVyaW1lbnRhbFBhcnNlQ2xhc3NOYW1lXG4gIH0gPSBjb25maWc7XG4gIGxldCBwYXJzZUNsYXNzTmFtZSA9IChjbGFzc05hbWUpID0+IHtcbiAgICBjb25zdCBtb2RpZmllcnMgPSBbXTtcbiAgICBsZXQgYnJhY2tldERlcHRoID0gMDtcbiAgICBsZXQgcGFyZW5EZXB0aCA9IDA7XG4gICAgbGV0IG1vZGlmaWVyU3RhcnQgPSAwO1xuICAgIGxldCBwb3N0Zml4TW9kaWZpZXJQb3NpdGlvbjtcbiAgICBmb3IgKGxldCBpbmRleDIgPSAwOyBpbmRleDIgPCBjbGFzc05hbWUubGVuZ3RoOyBpbmRleDIrKykge1xuICAgICAgbGV0IGN1cnJlbnRDaGFyYWN0ZXIgPSBjbGFzc05hbWVbaW5kZXgyXTtcbiAgICAgIGlmIChicmFja2V0RGVwdGggPT09IDAgJiYgcGFyZW5EZXB0aCA9PT0gMCkge1xuICAgICAgICBpZiAoY3VycmVudENoYXJhY3RlciA9PT0gTU9ESUZJRVJfU0VQQVJBVE9SKSB7XG4gICAgICAgICAgbW9kaWZpZXJzLnB1c2goY2xhc3NOYW1lLnNsaWNlKG1vZGlmaWVyU3RhcnQsIGluZGV4MikpO1xuICAgICAgICAgIG1vZGlmaWVyU3RhcnQgPSBpbmRleDIgKyBNT0RJRklFUl9TRVBBUkFUT1JfTEVOR1RIO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXJyZW50Q2hhcmFjdGVyID09PSBcIi9cIikge1xuICAgICAgICAgIHBvc3RmaXhNb2RpZmllclBvc2l0aW9uID0gaW5kZXgyO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoY3VycmVudENoYXJhY3RlciA9PT0gXCJbXCIpIHtcbiAgICAgICAgYnJhY2tldERlcHRoKys7XG4gICAgICB9IGVsc2UgaWYgKGN1cnJlbnRDaGFyYWN0ZXIgPT09IFwiXVwiKSB7XG4gICAgICAgIGJyYWNrZXREZXB0aC0tO1xuICAgICAgfSBlbHNlIGlmIChjdXJyZW50Q2hhcmFjdGVyID09PSBcIihcIikge1xuICAgICAgICBwYXJlbkRlcHRoKys7XG4gICAgICB9IGVsc2UgaWYgKGN1cnJlbnRDaGFyYWN0ZXIgPT09IFwiKVwiKSB7XG4gICAgICAgIHBhcmVuRGVwdGgtLTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgYmFzZUNsYXNzTmFtZVdpdGhJbXBvcnRhbnRNb2RpZmllciA9IG1vZGlmaWVycy5sZW5ndGggPT09IDAgPyBjbGFzc05hbWUgOiBjbGFzc05hbWUuc3Vic3RyaW5nKG1vZGlmaWVyU3RhcnQpO1xuICAgIGNvbnN0IGJhc2VDbGFzc05hbWUgPSBzdHJpcEltcG9ydGFudE1vZGlmaWVyKGJhc2VDbGFzc05hbWVXaXRoSW1wb3J0YW50TW9kaWZpZXIpO1xuICAgIGNvbnN0IGhhc0ltcG9ydGFudE1vZGlmaWVyID0gYmFzZUNsYXNzTmFtZSAhPT0gYmFzZUNsYXNzTmFtZVdpdGhJbXBvcnRhbnRNb2RpZmllcjtcbiAgICBjb25zdCBtYXliZVBvc3RmaXhNb2RpZmllclBvc2l0aW9uID0gcG9zdGZpeE1vZGlmaWVyUG9zaXRpb24gJiYgcG9zdGZpeE1vZGlmaWVyUG9zaXRpb24gPiBtb2RpZmllclN0YXJ0ID8gcG9zdGZpeE1vZGlmaWVyUG9zaXRpb24gLSBtb2RpZmllclN0YXJ0IDogdm9pZCAwO1xuICAgIHJldHVybiB7XG4gICAgICBtb2RpZmllcnMsXG4gICAgICBoYXNJbXBvcnRhbnRNb2RpZmllcixcbiAgICAgIGJhc2VDbGFzc05hbWUsXG4gICAgICBtYXliZVBvc3RmaXhNb2RpZmllclBvc2l0aW9uXG4gICAgfTtcbiAgfTtcbiAgaWYgKHByZWZpeCkge1xuICAgIGNvbnN0IGZ1bGxQcmVmaXggPSBwcmVmaXggKyBNT0RJRklFUl9TRVBBUkFUT1I7XG4gICAgY29uc3QgcGFyc2VDbGFzc05hbWVPcmlnaW5hbCA9IHBhcnNlQ2xhc3NOYW1lO1xuICAgIHBhcnNlQ2xhc3NOYW1lID0gKGNsYXNzTmFtZSkgPT4gY2xhc3NOYW1lLnN0YXJ0c1dpdGgoZnVsbFByZWZpeCkgPyBwYXJzZUNsYXNzTmFtZU9yaWdpbmFsKGNsYXNzTmFtZS5zdWJzdHJpbmcoZnVsbFByZWZpeC5sZW5ndGgpKSA6IHtcbiAgICAgIGlzRXh0ZXJuYWw6IHRydWUsXG4gICAgICBtb2RpZmllcnM6IFtdLFxuICAgICAgaGFzSW1wb3J0YW50TW9kaWZpZXI6IGZhbHNlLFxuICAgICAgYmFzZUNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgbWF5YmVQb3N0Zml4TW9kaWZpZXJQb3NpdGlvbjogdm9pZCAwXG4gICAgfTtcbiAgfVxuICBpZiAoZXhwZXJpbWVudGFsUGFyc2VDbGFzc05hbWUpIHtcbiAgICBjb25zdCBwYXJzZUNsYXNzTmFtZU9yaWdpbmFsID0gcGFyc2VDbGFzc05hbWU7XG4gICAgcGFyc2VDbGFzc05hbWUgPSAoY2xhc3NOYW1lKSA9PiBleHBlcmltZW50YWxQYXJzZUNsYXNzTmFtZSh7XG4gICAgICBjbGFzc05hbWUsXG4gICAgICBwYXJzZUNsYXNzTmFtZTogcGFyc2VDbGFzc05hbWVPcmlnaW5hbFxuICAgIH0pO1xuICB9XG4gIHJldHVybiBwYXJzZUNsYXNzTmFtZTtcbn07XG5jb25zdCBzdHJpcEltcG9ydGFudE1vZGlmaWVyID0gKGJhc2VDbGFzc05hbWUpID0+IHtcbiAgaWYgKGJhc2VDbGFzc05hbWUuZW5kc1dpdGgoSU1QT1JUQU5UX01PRElGSUVSKSkge1xuICAgIHJldHVybiBiYXNlQ2xhc3NOYW1lLnN1YnN0cmluZygwLCBiYXNlQ2xhc3NOYW1lLmxlbmd0aCAtIDEpO1xuICB9XG4gIGlmIChiYXNlQ2xhc3NOYW1lLnN0YXJ0c1dpdGgoSU1QT1JUQU5UX01PRElGSUVSKSkge1xuICAgIHJldHVybiBiYXNlQ2xhc3NOYW1lLnN1YnN0cmluZygxKTtcbiAgfVxuICByZXR1cm4gYmFzZUNsYXNzTmFtZTtcbn07XG5jb25zdCBjcmVhdGVTb3J0TW9kaWZpZXJzID0gKGNvbmZpZykgPT4ge1xuICBjb25zdCBvcmRlclNlbnNpdGl2ZU1vZGlmaWVycyA9IE9iamVjdC5mcm9tRW50cmllcyhjb25maWcub3JkZXJTZW5zaXRpdmVNb2RpZmllcnMubWFwKChtb2RpZmllcikgPT4gW21vZGlmaWVyLCB0cnVlXSkpO1xuICBjb25zdCBzb3J0TW9kaWZpZXJzID0gKG1vZGlmaWVycykgPT4ge1xuICAgIGlmIChtb2RpZmllcnMubGVuZ3RoIDw9IDEpIHtcbiAgICAgIHJldHVybiBtb2RpZmllcnM7XG4gICAgfVxuICAgIGNvbnN0IHNvcnRlZE1vZGlmaWVycyA9IFtdO1xuICAgIGxldCB1bnNvcnRlZE1vZGlmaWVycyA9IFtdO1xuICAgIG1vZGlmaWVycy5mb3JFYWNoKChtb2RpZmllcikgPT4ge1xuICAgICAgY29uc3QgaXNQb3NpdGlvblNlbnNpdGl2ZSA9IG1vZGlmaWVyWzBdID09PSBcIltcIiB8fCBvcmRlclNlbnNpdGl2ZU1vZGlmaWVyc1ttb2RpZmllcl07XG4gICAgICBpZiAoaXNQb3NpdGlvblNlbnNpdGl2ZSkge1xuICAgICAgICBzb3J0ZWRNb2RpZmllcnMucHVzaCguLi51bnNvcnRlZE1vZGlmaWVycy5zb3J0KCksIG1vZGlmaWVyKTtcbiAgICAgICAgdW5zb3J0ZWRNb2RpZmllcnMgPSBbXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVuc29ydGVkTW9kaWZpZXJzLnB1c2gobW9kaWZpZXIpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHNvcnRlZE1vZGlmaWVycy5wdXNoKC4uLnVuc29ydGVkTW9kaWZpZXJzLnNvcnQoKSk7XG4gICAgcmV0dXJuIHNvcnRlZE1vZGlmaWVycztcbiAgfTtcbiAgcmV0dXJuIHNvcnRNb2RpZmllcnM7XG59O1xuY29uc3QgY3JlYXRlQ29uZmlnVXRpbHMgPSAoY29uZmlnKSA9PiAoe1xuICBjYWNoZTogY3JlYXRlTHJ1Q2FjaGUoY29uZmlnLmNhY2hlU2l6ZSksXG4gIHBhcnNlQ2xhc3NOYW1lOiBjcmVhdGVQYXJzZUNsYXNzTmFtZShjb25maWcpLFxuICBzb3J0TW9kaWZpZXJzOiBjcmVhdGVTb3J0TW9kaWZpZXJzKGNvbmZpZyksXG4gIC4uLmNyZWF0ZUNsYXNzR3JvdXBVdGlscyhjb25maWcpXG59KTtcbmNvbnN0IFNQTElUX0NMQVNTRVNfUkVHRVggPSAvXFxzKy87XG5jb25zdCBtZXJnZUNsYXNzTGlzdCA9IChjbGFzc0xpc3QsIGNvbmZpZ1V0aWxzKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBwYXJzZUNsYXNzTmFtZSxcbiAgICBnZXRDbGFzc0dyb3VwSWQsXG4gICAgZ2V0Q29uZmxpY3RpbmdDbGFzc0dyb3VwSWRzLFxuICAgIHNvcnRNb2RpZmllcnNcbiAgfSA9IGNvbmZpZ1V0aWxzO1xuICBjb25zdCBjbGFzc0dyb3Vwc0luQ29uZmxpY3QgPSBbXTtcbiAgY29uc3QgY2xhc3NOYW1lcyA9IGNsYXNzTGlzdC50cmltKCkuc3BsaXQoU1BMSVRfQ0xBU1NFU19SRUdFWCk7XG4gIGxldCByZXN1bHQgPSBcIlwiO1xuICBmb3IgKGxldCBpbmRleDIgPSBjbGFzc05hbWVzLmxlbmd0aCAtIDE7IGluZGV4MiA+PSAwOyBpbmRleDIgLT0gMSkge1xuICAgIGNvbnN0IG9yaWdpbmFsQ2xhc3NOYW1lID0gY2xhc3NOYW1lc1tpbmRleDJdO1xuICAgIGNvbnN0IHtcbiAgICAgIGlzRXh0ZXJuYWwsXG4gICAgICBtb2RpZmllcnMsXG4gICAgICBoYXNJbXBvcnRhbnRNb2RpZmllcixcbiAgICAgIGJhc2VDbGFzc05hbWUsXG4gICAgICBtYXliZVBvc3RmaXhNb2RpZmllclBvc2l0aW9uXG4gICAgfSA9IHBhcnNlQ2xhc3NOYW1lKG9yaWdpbmFsQ2xhc3NOYW1lKTtcbiAgICBpZiAoaXNFeHRlcm5hbCkge1xuICAgICAgcmVzdWx0ID0gb3JpZ2luYWxDbGFzc05hbWUgKyAocmVzdWx0Lmxlbmd0aCA+IDAgPyBcIiBcIiArIHJlc3VsdCA6IHJlc3VsdCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgbGV0IGhhc1Bvc3RmaXhNb2RpZmllciA9ICEhbWF5YmVQb3N0Zml4TW9kaWZpZXJQb3NpdGlvbjtcbiAgICBsZXQgY2xhc3NHcm91cElkID0gZ2V0Q2xhc3NHcm91cElkKGhhc1Bvc3RmaXhNb2RpZmllciA/IGJhc2VDbGFzc05hbWUuc3Vic3RyaW5nKDAsIG1heWJlUG9zdGZpeE1vZGlmaWVyUG9zaXRpb24pIDogYmFzZUNsYXNzTmFtZSk7XG4gICAgaWYgKCFjbGFzc0dyb3VwSWQpIHtcbiAgICAgIGlmICghaGFzUG9zdGZpeE1vZGlmaWVyKSB7XG4gICAgICAgIHJlc3VsdCA9IG9yaWdpbmFsQ2xhc3NOYW1lICsgKHJlc3VsdC5sZW5ndGggPiAwID8gXCIgXCIgKyByZXN1bHQgOiByZXN1bHQpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNsYXNzR3JvdXBJZCA9IGdldENsYXNzR3JvdXBJZChiYXNlQ2xhc3NOYW1lKTtcbiAgICAgIGlmICghY2xhc3NHcm91cElkKSB7XG4gICAgICAgIHJlc3VsdCA9IG9yaWdpbmFsQ2xhc3NOYW1lICsgKHJlc3VsdC5sZW5ndGggPiAwID8gXCIgXCIgKyByZXN1bHQgOiByZXN1bHQpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGhhc1Bvc3RmaXhNb2RpZmllciA9IGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCB2YXJpYW50TW9kaWZpZXIgPSBzb3J0TW9kaWZpZXJzKG1vZGlmaWVycykuam9pbihcIjpcIik7XG4gICAgY29uc3QgbW9kaWZpZXJJZCA9IGhhc0ltcG9ydGFudE1vZGlmaWVyID8gdmFyaWFudE1vZGlmaWVyICsgSU1QT1JUQU5UX01PRElGSUVSIDogdmFyaWFudE1vZGlmaWVyO1xuICAgIGNvbnN0IGNsYXNzSWQgPSBtb2RpZmllcklkICsgY2xhc3NHcm91cElkO1xuICAgIGlmIChjbGFzc0dyb3Vwc0luQ29uZmxpY3QuaW5jbHVkZXMoY2xhc3NJZCkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBjbGFzc0dyb3Vwc0luQ29uZmxpY3QucHVzaChjbGFzc0lkKTtcbiAgICBjb25zdCBjb25mbGljdEdyb3VwcyA9IGdldENvbmZsaWN0aW5nQ2xhc3NHcm91cElkcyhjbGFzc0dyb3VwSWQsIGhhc1Bvc3RmaXhNb2RpZmllcik7XG4gICAgZm9yIChsZXQgaTIgPSAwOyBpMiA8IGNvbmZsaWN0R3JvdXBzLmxlbmd0aDsgKytpMikge1xuICAgICAgY29uc3QgZ3JvdXAgPSBjb25mbGljdEdyb3Vwc1tpMl07XG4gICAgICBjbGFzc0dyb3Vwc0luQ29uZmxpY3QucHVzaChtb2RpZmllcklkICsgZ3JvdXApO1xuICAgIH1cbiAgICByZXN1bHQgPSBvcmlnaW5hbENsYXNzTmFtZSArIChyZXN1bHQubGVuZ3RoID4gMCA/IFwiIFwiICsgcmVzdWx0IDogcmVzdWx0KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcbmZ1bmN0aW9uIHR3Sm9pbigpIHtcbiAgbGV0IGluZGV4MiA9IDA7XG4gIGxldCBhcmd1bWVudDtcbiAgbGV0IHJlc29sdmVkVmFsdWU7XG4gIGxldCBzdHJpbmcgPSBcIlwiO1xuICB3aGlsZSAoaW5kZXgyIDwgYXJndW1lbnRzLmxlbmd0aCkge1xuICAgIGlmIChhcmd1bWVudCA9IGFyZ3VtZW50c1tpbmRleDIrK10pIHtcbiAgICAgIGlmIChyZXNvbHZlZFZhbHVlID0gdG9WYWx1ZShhcmd1bWVudCkpIHtcbiAgICAgICAgc3RyaW5nICYmIChzdHJpbmcgKz0gXCIgXCIpO1xuICAgICAgICBzdHJpbmcgKz0gcmVzb2x2ZWRWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0cmluZztcbn1cbmNvbnN0IHRvVmFsdWUgPSAobWl4KSA9PiB7XG4gIGlmICh0eXBlb2YgbWl4ID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIG1peDtcbiAgfVxuICBsZXQgcmVzb2x2ZWRWYWx1ZTtcbiAgbGV0IHN0cmluZyA9IFwiXCI7XG4gIGZvciAobGV0IGsyID0gMDsgazIgPCBtaXgubGVuZ3RoOyBrMisrKSB7XG4gICAgaWYgKG1peFtrMl0pIHtcbiAgICAgIGlmIChyZXNvbHZlZFZhbHVlID0gdG9WYWx1ZShtaXhbazJdKSkge1xuICAgICAgICBzdHJpbmcgJiYgKHN0cmluZyArPSBcIiBcIik7XG4gICAgICAgIHN0cmluZyArPSByZXNvbHZlZFZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gc3RyaW5nO1xufTtcbmZ1bmN0aW9uIGNyZWF0ZVRhaWx3aW5kTWVyZ2UoY3JlYXRlQ29uZmlnRmlyc3QsIC4uLmNyZWF0ZUNvbmZpZ1Jlc3QpIHtcbiAgbGV0IGNvbmZpZ1V0aWxzO1xuICBsZXQgY2FjaGVHZXQ7XG4gIGxldCBjYWNoZVNldDtcbiAgbGV0IGZ1bmN0aW9uVG9DYWxsID0gaW5pdFRhaWx3aW5kTWVyZ2U7XG4gIGZ1bmN0aW9uIGluaXRUYWlsd2luZE1lcmdlKGNsYXNzTGlzdCkge1xuICAgIGNvbnN0IGNvbmZpZyA9IGNyZWF0ZUNvbmZpZ1Jlc3QucmVkdWNlKChwcmV2aW91c0NvbmZpZywgY3JlYXRlQ29uZmlnQ3VycmVudCkgPT4gY3JlYXRlQ29uZmlnQ3VycmVudChwcmV2aW91c0NvbmZpZyksIGNyZWF0ZUNvbmZpZ0ZpcnN0KCkpO1xuICAgIGNvbmZpZ1V0aWxzID0gY3JlYXRlQ29uZmlnVXRpbHMoY29uZmlnKTtcbiAgICBjYWNoZUdldCA9IGNvbmZpZ1V0aWxzLmNhY2hlLmdldDtcbiAgICBjYWNoZVNldCA9IGNvbmZpZ1V0aWxzLmNhY2hlLnNldDtcbiAgICBmdW5jdGlvblRvQ2FsbCA9IHRhaWx3aW5kTWVyZ2U7XG4gICAgcmV0dXJuIHRhaWx3aW5kTWVyZ2UoY2xhc3NMaXN0KTtcbiAgfVxuICBmdW5jdGlvbiB0YWlsd2luZE1lcmdlKGNsYXNzTGlzdCkge1xuICAgIGNvbnN0IGNhY2hlZFJlc3VsdCA9IGNhY2hlR2V0KGNsYXNzTGlzdCk7XG4gICAgaWYgKGNhY2hlZFJlc3VsdCkge1xuICAgICAgcmV0dXJuIGNhY2hlZFJlc3VsdDtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gbWVyZ2VDbGFzc0xpc3QoY2xhc3NMaXN0LCBjb25maWdVdGlscyk7XG4gICAgY2FjaGVTZXQoY2xhc3NMaXN0LCByZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uIGNhbGxUYWlsd2luZE1lcmdlKCkge1xuICAgIHJldHVybiBmdW5jdGlvblRvQ2FsbCh0d0pvaW4uYXBwbHkobnVsbCwgYXJndW1lbnRzKSk7XG4gIH07XG59XG5jb25zdCBmcm9tVGhlbWUgPSAoa2V5KSA9PiB7XG4gIGNvbnN0IHRoZW1lR2V0dGVyID0gKHRoZW1lKSA9PiB0aGVtZVtrZXldIHx8IFtdO1xuICB0aGVtZUdldHRlci5pc1RoZW1lR2V0dGVyID0gdHJ1ZTtcbiAgcmV0dXJuIHRoZW1lR2V0dGVyO1xufTtcbmNvbnN0IGFyYml0cmFyeVZhbHVlUmVnZXggPSAvXlxcWyg/OihcXHdbXFx3LV0qKTopPyguKylcXF0kL2k7XG5jb25zdCBhcmJpdHJhcnlWYXJpYWJsZVJlZ2V4ID0gL15cXCgoPzooXFx3W1xcdy1dKik6KT8oLispXFwpJC9pO1xuY29uc3QgZnJhY3Rpb25SZWdleCA9IC9eXFxkK1xcL1xcZCskLztcbmNvbnN0IHRzaGlydFVuaXRSZWdleCA9IC9eKFxcZCsoXFwuXFxkKyk/KT8oeHN8c218bWR8bGd8eGwpJC87XG5jb25zdCBsZW5ndGhVbml0UmVnZXggPSAvXFxkKyglfHB4fHI/ZW18W3NkbF0/dihbaHdpYl18bWlufG1heCl8cHR8cGN8aW58Y218bW18Y2FwfGNofGV4fHI/bGh8Y3Eod3xofGl8YnxtaW58bWF4KSl8XFxiKGNhbGN8bWlufG1heHxjbGFtcClcXCguK1xcKXxeMCQvO1xuY29uc3QgY29sb3JGdW5jdGlvblJlZ2V4ID0gL14ocmdiYT98aHNsYT98aHdifChvayk/KGxhYnxsY2gpKVxcKC4rXFwpJC87XG5jb25zdCBzaGFkb3dSZWdleCA9IC9eKGluc2V0Xyk/LT8oKFxcZCspP1xcLj8oXFxkKylbYS16XSt8MClfLT8oKFxcZCspP1xcLj8oXFxkKylbYS16XSt8MCkvO1xuY29uc3QgaW1hZ2VSZWdleCA9IC9eKHVybHxpbWFnZXxpbWFnZS1zZXR8Y3Jvc3MtZmFkZXxlbGVtZW50fChyZXBlYXRpbmctKT8obGluZWFyfHJhZGlhbHxjb25pYyktZ3JhZGllbnQpXFwoLitcXCkkLztcbmNvbnN0IGlzRnJhY3Rpb24gPSAodmFsdWUpID0+IGZyYWN0aW9uUmVnZXgudGVzdCh2YWx1ZSk7XG5jb25zdCBpc051bWJlciA9ICh2YWx1ZSkgPT4gISF2YWx1ZSAmJiAhTnVtYmVyLmlzTmFOKE51bWJlcih2YWx1ZSkpO1xuY29uc3QgaXNJbnRlZ2VyID0gKHZhbHVlKSA9PiAhIXZhbHVlICYmIE51bWJlci5pc0ludGVnZXIoTnVtYmVyKHZhbHVlKSk7XG5jb25zdCBpc1BlcmNlbnQgPSAodmFsdWUpID0+IHZhbHVlLmVuZHNXaXRoKFwiJVwiKSAmJiBpc051bWJlcih2YWx1ZS5zbGljZSgwLCAtMSkpO1xuY29uc3QgaXNUc2hpcnRTaXplID0gKHZhbHVlKSA9PiB0c2hpcnRVbml0UmVnZXgudGVzdCh2YWx1ZSk7XG5jb25zdCBpc0FueSA9ICgpID0+IHRydWU7XG5jb25zdCBpc0xlbmd0aE9ubHkgPSAodmFsdWUpID0+IChcbiAgLy8gYGNvbG9yRnVuY3Rpb25SZWdleGAgY2hlY2sgaXMgbmVjZXNzYXJ5IGJlY2F1c2UgY29sb3IgZnVuY3Rpb25zIGNhbiBoYXZlIHBlcmNlbnRhZ2VzIGluIHRoZW0gd2hpY2ggd2hpY2ggd291bGQgYmUgaW5jb3JyZWN0bHkgY2xhc3NpZmllZCBhcyBsZW5ndGhzLlxuICAvLyBGb3IgZXhhbXBsZSwgYGhzbCgwIDAlIDAlKWAgd291bGQgYmUgY2xhc3NpZmllZCBhcyBhIGxlbmd0aCB3aXRob3V0IHRoaXMgY2hlY2suXG4gIC8vIEkgY291bGQgYWxzbyB1c2UgbG9va2JlaGluZCBhc3NlcnRpb24gaW4gYGxlbmd0aFVuaXRSZWdleGAgYnV0IHRoYXQgaXNuJ3Qgc3VwcG9ydGVkIHdpZGVseSBlbm91Z2guXG4gIGxlbmd0aFVuaXRSZWdleC50ZXN0KHZhbHVlKSAmJiAhY29sb3JGdW5jdGlvblJlZ2V4LnRlc3QodmFsdWUpXG4pO1xuY29uc3QgaXNOZXZlciA9ICgpID0+IGZhbHNlO1xuY29uc3QgaXNTaGFkb3cgPSAodmFsdWUpID0+IHNoYWRvd1JlZ2V4LnRlc3QodmFsdWUpO1xuY29uc3QgaXNJbWFnZSA9ICh2YWx1ZSkgPT4gaW1hZ2VSZWdleC50ZXN0KHZhbHVlKTtcbmNvbnN0IGlzQW55Tm9uQXJiaXRyYXJ5ID0gKHZhbHVlKSA9PiAhaXNBcmJpdHJhcnlWYWx1ZSh2YWx1ZSkgJiYgIWlzQXJiaXRyYXJ5VmFyaWFibGUodmFsdWUpO1xuY29uc3QgaXNBcmJpdHJhcnlTaXplID0gKHZhbHVlKSA9PiBnZXRJc0FyYml0cmFyeVZhbHVlKHZhbHVlLCBpc0xhYmVsU2l6ZSwgaXNOZXZlcik7XG5jb25zdCBpc0FyYml0cmFyeVZhbHVlID0gKHZhbHVlKSA9PiBhcmJpdHJhcnlWYWx1ZVJlZ2V4LnRlc3QodmFsdWUpO1xuY29uc3QgaXNBcmJpdHJhcnlMZW5ndGggPSAodmFsdWUpID0+IGdldElzQXJiaXRyYXJ5VmFsdWUodmFsdWUsIGlzTGFiZWxMZW5ndGgsIGlzTGVuZ3RoT25seSk7XG5jb25zdCBpc0FyYml0cmFyeU51bWJlciA9ICh2YWx1ZSkgPT4gZ2V0SXNBcmJpdHJhcnlWYWx1ZSh2YWx1ZSwgaXNMYWJlbE51bWJlciwgaXNOdW1iZXIpO1xuY29uc3QgaXNBcmJpdHJhcnlQb3NpdGlvbiA9ICh2YWx1ZSkgPT4gZ2V0SXNBcmJpdHJhcnlWYWx1ZSh2YWx1ZSwgaXNMYWJlbFBvc2l0aW9uLCBpc05ldmVyKTtcbmNvbnN0IGlzQXJiaXRyYXJ5SW1hZ2UgPSAodmFsdWUpID0+IGdldElzQXJiaXRyYXJ5VmFsdWUodmFsdWUsIGlzTGFiZWxJbWFnZSwgaXNJbWFnZSk7XG5jb25zdCBpc0FyYml0cmFyeVNoYWRvdyA9ICh2YWx1ZSkgPT4gZ2V0SXNBcmJpdHJhcnlWYWx1ZSh2YWx1ZSwgaXNMYWJlbFNoYWRvdywgaXNTaGFkb3cpO1xuY29uc3QgaXNBcmJpdHJhcnlWYXJpYWJsZSA9ICh2YWx1ZSkgPT4gYXJiaXRyYXJ5VmFyaWFibGVSZWdleC50ZXN0KHZhbHVlKTtcbmNvbnN0IGlzQXJiaXRyYXJ5VmFyaWFibGVMZW5ndGggPSAodmFsdWUpID0+IGdldElzQXJiaXRyYXJ5VmFyaWFibGUodmFsdWUsIGlzTGFiZWxMZW5ndGgpO1xuY29uc3QgaXNBcmJpdHJhcnlWYXJpYWJsZUZhbWlseU5hbWUgPSAodmFsdWUpID0+IGdldElzQXJiaXRyYXJ5VmFyaWFibGUodmFsdWUsIGlzTGFiZWxGYW1pbHlOYW1lKTtcbmNvbnN0IGlzQXJiaXRyYXJ5VmFyaWFibGVQb3NpdGlvbiA9ICh2YWx1ZSkgPT4gZ2V0SXNBcmJpdHJhcnlWYXJpYWJsZSh2YWx1ZSwgaXNMYWJlbFBvc2l0aW9uKTtcbmNvbnN0IGlzQXJiaXRyYXJ5VmFyaWFibGVTaXplID0gKHZhbHVlKSA9PiBnZXRJc0FyYml0cmFyeVZhcmlhYmxlKHZhbHVlLCBpc0xhYmVsU2l6ZSk7XG5jb25zdCBpc0FyYml0cmFyeVZhcmlhYmxlSW1hZ2UgPSAodmFsdWUpID0+IGdldElzQXJiaXRyYXJ5VmFyaWFibGUodmFsdWUsIGlzTGFiZWxJbWFnZSk7XG5jb25zdCBpc0FyYml0cmFyeVZhcmlhYmxlU2hhZG93ID0gKHZhbHVlKSA9PiBnZXRJc0FyYml0cmFyeVZhcmlhYmxlKHZhbHVlLCBpc0xhYmVsU2hhZG93LCB0cnVlKTtcbmNvbnN0IGdldElzQXJiaXRyYXJ5VmFsdWUgPSAodmFsdWUsIHRlc3RMYWJlbCwgdGVzdFZhbHVlKSA9PiB7XG4gIGNvbnN0IHJlc3VsdCA9IGFyYml0cmFyeVZhbHVlUmVnZXguZXhlYyh2YWx1ZSk7XG4gIGlmIChyZXN1bHQpIHtcbiAgICBpZiAocmVzdWx0WzFdKSB7XG4gICAgICByZXR1cm4gdGVzdExhYmVsKHJlc3VsdFsxXSk7XG4gICAgfVxuICAgIHJldHVybiB0ZXN0VmFsdWUocmVzdWx0WzJdKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59O1xuY29uc3QgZ2V0SXNBcmJpdHJhcnlWYXJpYWJsZSA9ICh2YWx1ZSwgdGVzdExhYmVsLCBzaG91bGRNYXRjaE5vTGFiZWwgPSBmYWxzZSkgPT4ge1xuICBjb25zdCByZXN1bHQgPSBhcmJpdHJhcnlWYXJpYWJsZVJlZ2V4LmV4ZWModmFsdWUpO1xuICBpZiAocmVzdWx0KSB7XG4gICAgaWYgKHJlc3VsdFsxXSkge1xuICAgICAgcmV0dXJuIHRlc3RMYWJlbChyZXN1bHRbMV0pO1xuICAgIH1cbiAgICByZXR1cm4gc2hvdWxkTWF0Y2hOb0xhYmVsO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5jb25zdCBpc0xhYmVsUG9zaXRpb24gPSAobGFiZWwpID0+IGxhYmVsID09PSBcInBvc2l0aW9uXCIgfHwgbGFiZWwgPT09IFwicGVyY2VudGFnZVwiO1xuY29uc3QgaXNMYWJlbEltYWdlID0gKGxhYmVsKSA9PiBsYWJlbCA9PT0gXCJpbWFnZVwiIHx8IGxhYmVsID09PSBcInVybFwiO1xuY29uc3QgaXNMYWJlbFNpemUgPSAobGFiZWwpID0+IGxhYmVsID09PSBcImxlbmd0aFwiIHx8IGxhYmVsID09PSBcInNpemVcIiB8fCBsYWJlbCA9PT0gXCJiZy1zaXplXCI7XG5jb25zdCBpc0xhYmVsTGVuZ3RoID0gKGxhYmVsKSA9PiBsYWJlbCA9PT0gXCJsZW5ndGhcIjtcbmNvbnN0IGlzTGFiZWxOdW1iZXIgPSAobGFiZWwpID0+IGxhYmVsID09PSBcIm51bWJlclwiO1xuY29uc3QgaXNMYWJlbEZhbWlseU5hbWUgPSAobGFiZWwpID0+IGxhYmVsID09PSBcImZhbWlseS1uYW1lXCI7XG5jb25zdCBpc0xhYmVsU2hhZG93ID0gKGxhYmVsKSA9PiBsYWJlbCA9PT0gXCJzaGFkb3dcIjtcbmNvbnN0IGdldERlZmF1bHRDb25maWcgPSAoKSA9PiB7XG4gIGNvbnN0IHRoZW1lQ29sb3IgPSBmcm9tVGhlbWUoXCJjb2xvclwiKTtcbiAgY29uc3QgdGhlbWVGb250ID0gZnJvbVRoZW1lKFwiZm9udFwiKTtcbiAgY29uc3QgdGhlbWVUZXh0ID0gZnJvbVRoZW1lKFwidGV4dFwiKTtcbiAgY29uc3QgdGhlbWVGb250V2VpZ2h0ID0gZnJvbVRoZW1lKFwiZm9udC13ZWlnaHRcIik7XG4gIGNvbnN0IHRoZW1lVHJhY2tpbmcgPSBmcm9tVGhlbWUoXCJ0cmFja2luZ1wiKTtcbiAgY29uc3QgdGhlbWVMZWFkaW5nID0gZnJvbVRoZW1lKFwibGVhZGluZ1wiKTtcbiAgY29uc3QgdGhlbWVCcmVha3BvaW50ID0gZnJvbVRoZW1lKFwiYnJlYWtwb2ludFwiKTtcbiAgY29uc3QgdGhlbWVDb250YWluZXIgPSBmcm9tVGhlbWUoXCJjb250YWluZXJcIik7XG4gIGNvbnN0IHRoZW1lU3BhY2luZyA9IGZyb21UaGVtZShcInNwYWNpbmdcIik7XG4gIGNvbnN0IHRoZW1lUmFkaXVzID0gZnJvbVRoZW1lKFwicmFkaXVzXCIpO1xuICBjb25zdCB0aGVtZVNoYWRvdyA9IGZyb21UaGVtZShcInNoYWRvd1wiKTtcbiAgY29uc3QgdGhlbWVJbnNldFNoYWRvdyA9IGZyb21UaGVtZShcImluc2V0LXNoYWRvd1wiKTtcbiAgY29uc3QgdGhlbWVUZXh0U2hhZG93ID0gZnJvbVRoZW1lKFwidGV4dC1zaGFkb3dcIik7XG4gIGNvbnN0IHRoZW1lRHJvcFNoYWRvdyA9IGZyb21UaGVtZShcImRyb3Atc2hhZG93XCIpO1xuICBjb25zdCB0aGVtZUJsdXIgPSBmcm9tVGhlbWUoXCJibHVyXCIpO1xuICBjb25zdCB0aGVtZVBlcnNwZWN0aXZlID0gZnJvbVRoZW1lKFwicGVyc3BlY3RpdmVcIik7XG4gIGNvbnN0IHRoZW1lQXNwZWN0ID0gZnJvbVRoZW1lKFwiYXNwZWN0XCIpO1xuICBjb25zdCB0aGVtZUVhc2UgPSBmcm9tVGhlbWUoXCJlYXNlXCIpO1xuICBjb25zdCB0aGVtZUFuaW1hdGUgPSBmcm9tVGhlbWUoXCJhbmltYXRlXCIpO1xuICBjb25zdCBzY2FsZUJyZWFrID0gKCkgPT4gW1wiYXV0b1wiLCBcImF2b2lkXCIsIFwiYWxsXCIsIFwiYXZvaWQtcGFnZVwiLCBcInBhZ2VcIiwgXCJsZWZ0XCIsIFwicmlnaHRcIiwgXCJjb2x1bW5cIl07XG4gIGNvbnN0IHNjYWxlUG9zaXRpb24gPSAoKSA9PiBbXG4gICAgXCJjZW50ZXJcIixcbiAgICBcInRvcFwiLFxuICAgIFwiYm90dG9tXCIsXG4gICAgXCJsZWZ0XCIsXG4gICAgXCJyaWdodFwiLFxuICAgIFwidG9wLWxlZnRcIixcbiAgICAvLyBEZXByZWNhdGVkIHNpbmNlIFRhaWx3aW5kIENTUyB2NC4xLjAsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vdGFpbHdpbmRsYWJzL3RhaWx3aW5kY3NzL3B1bGwvMTczNzhcbiAgICBcImxlZnQtdG9wXCIsXG4gICAgXCJ0b3AtcmlnaHRcIixcbiAgICAvLyBEZXByZWNhdGVkIHNpbmNlIFRhaWx3aW5kIENTUyB2NC4xLjAsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vdGFpbHdpbmRsYWJzL3RhaWx3aW5kY3NzL3B1bGwvMTczNzhcbiAgICBcInJpZ2h0LXRvcFwiLFxuICAgIFwiYm90dG9tLXJpZ2h0XCIsXG4gICAgLy8gRGVwcmVjYXRlZCBzaW5jZSBUYWlsd2luZCBDU1MgdjQuMS4wLCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3RhaWx3aW5kbGFicy90YWlsd2luZGNzcy9wdWxsLzE3Mzc4XG4gICAgXCJyaWdodC1ib3R0b21cIixcbiAgICBcImJvdHRvbS1sZWZ0XCIsXG4gICAgLy8gRGVwcmVjYXRlZCBzaW5jZSBUYWlsd2luZCBDU1MgdjQuMS4wLCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3RhaWx3aW5kbGFicy90YWlsd2luZGNzcy9wdWxsLzE3Mzc4XG4gICAgXCJsZWZ0LWJvdHRvbVwiXG4gIF07XG4gIGNvbnN0IHNjYWxlUG9zaXRpb25XaXRoQXJiaXRyYXJ5ID0gKCkgPT4gWy4uLnNjYWxlUG9zaXRpb24oKSwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV07XG4gIGNvbnN0IHNjYWxlT3ZlcmZsb3cgPSAoKSA9PiBbXCJhdXRvXCIsIFwiaGlkZGVuXCIsIFwiY2xpcFwiLCBcInZpc2libGVcIiwgXCJzY3JvbGxcIl07XG4gIGNvbnN0IHNjYWxlT3ZlcnNjcm9sbCA9ICgpID0+IFtcImF1dG9cIiwgXCJjb250YWluXCIsIFwibm9uZVwiXTtcbiAgY29uc3Qgc2NhbGVVbmFtYmlndW91c1NwYWNpbmcgPSAoKSA9PiBbaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZSwgdGhlbWVTcGFjaW5nXTtcbiAgY29uc3Qgc2NhbGVJbnNldCA9ICgpID0+IFtpc0ZyYWN0aW9uLCBcImZ1bGxcIiwgXCJhdXRvXCIsIC4uLnNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKCldO1xuICBjb25zdCBzY2FsZUdyaWRUZW1wbGF0ZUNvbHNSb3dzID0gKCkgPT4gW2lzSW50ZWdlciwgXCJub25lXCIsIFwic3ViZ3JpZFwiLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXTtcbiAgY29uc3Qgc2NhbGVHcmlkQ29sUm93U3RhcnRBbmRFbmQgPSAoKSA9PiBbXCJhdXRvXCIsIHtcbiAgICBzcGFuOiBbXCJmdWxsXCIsIGlzSW50ZWdlciwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgfSwgaXNJbnRlZ2VyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXTtcbiAgY29uc3Qgc2NhbGVHcmlkQ29sUm93U3RhcnRPckVuZCA9ICgpID0+IFtpc0ludGVnZXIsIFwiYXV0b1wiLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXTtcbiAgY29uc3Qgc2NhbGVHcmlkQXV0b0NvbHNSb3dzID0gKCkgPT4gW1wiYXV0b1wiLCBcIm1pblwiLCBcIm1heFwiLCBcImZyXCIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdO1xuICBjb25zdCBzY2FsZUFsaWduUHJpbWFyeUF4aXMgPSAoKSA9PiBbXCJzdGFydFwiLCBcImVuZFwiLCBcImNlbnRlclwiLCBcImJldHdlZW5cIiwgXCJhcm91bmRcIiwgXCJldmVubHlcIiwgXCJzdHJldGNoXCIsIFwiYmFzZWxpbmVcIiwgXCJjZW50ZXItc2FmZVwiLCBcImVuZC1zYWZlXCJdO1xuICBjb25zdCBzY2FsZUFsaWduU2Vjb25kYXJ5QXhpcyA9ICgpID0+IFtcInN0YXJ0XCIsIFwiZW5kXCIsIFwiY2VudGVyXCIsIFwic3RyZXRjaFwiLCBcImNlbnRlci1zYWZlXCIsIFwiZW5kLXNhZmVcIl07XG4gIGNvbnN0IHNjYWxlTWFyZ2luID0gKCkgPT4gW1wiYXV0b1wiLCAuLi5zY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXTtcbiAgY29uc3Qgc2NhbGVTaXppbmcgPSAoKSA9PiBbaXNGcmFjdGlvbiwgXCJhdXRvXCIsIFwiZnVsbFwiLCBcImR2d1wiLCBcImR2aFwiLCBcImx2d1wiLCBcImx2aFwiLCBcInN2d1wiLCBcInN2aFwiLCBcIm1pblwiLCBcIm1heFwiLCBcImZpdFwiLCAuLi5zY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXTtcbiAgY29uc3Qgc2NhbGVDb2xvciA9ICgpID0+IFt0aGVtZUNvbG9yLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXTtcbiAgY29uc3Qgc2NhbGVCZ1Bvc2l0aW9uID0gKCkgPT4gWy4uLnNjYWxlUG9zaXRpb24oKSwgaXNBcmJpdHJhcnlWYXJpYWJsZVBvc2l0aW9uLCBpc0FyYml0cmFyeVBvc2l0aW9uLCB7XG4gICAgcG9zaXRpb246IFtpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICB9XTtcbiAgY29uc3Qgc2NhbGVCZ1JlcGVhdCA9ICgpID0+IFtcIm5vLXJlcGVhdFwiLCB7XG4gICAgcmVwZWF0OiBbXCJcIiwgXCJ4XCIsIFwieVwiLCBcInNwYWNlXCIsIFwicm91bmRcIl1cbiAgfV07XG4gIGNvbnN0IHNjYWxlQmdTaXplID0gKCkgPT4gW1wiYXV0b1wiLCBcImNvdmVyXCIsIFwiY29udGFpblwiLCBpc0FyYml0cmFyeVZhcmlhYmxlU2l6ZSwgaXNBcmJpdHJhcnlTaXplLCB7XG4gICAgc2l6ZTogW2lzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gIH1dO1xuICBjb25zdCBzY2FsZUdyYWRpZW50U3RvcFBvc2l0aW9uID0gKCkgPT4gW2lzUGVyY2VudCwgaXNBcmJpdHJhcnlWYXJpYWJsZUxlbmd0aCwgaXNBcmJpdHJhcnlMZW5ndGhdO1xuICBjb25zdCBzY2FsZVJhZGl1cyA9ICgpID0+IFtcbiAgICAvLyBEZXByZWNhdGVkIHNpbmNlIFRhaWx3aW5kIENTUyB2NC4wLjBcbiAgICBcIlwiLFxuICAgIFwibm9uZVwiLFxuICAgIFwiZnVsbFwiLFxuICAgIHRoZW1lUmFkaXVzLFxuICAgIGlzQXJiaXRyYXJ5VmFyaWFibGUsXG4gICAgaXNBcmJpdHJhcnlWYWx1ZVxuICBdO1xuICBjb25zdCBzY2FsZUJvcmRlcldpZHRoID0gKCkgPT4gW1wiXCIsIGlzTnVtYmVyLCBpc0FyYml0cmFyeVZhcmlhYmxlTGVuZ3RoLCBpc0FyYml0cmFyeUxlbmd0aF07XG4gIGNvbnN0IHNjYWxlTGluZVN0eWxlID0gKCkgPT4gW1wic29saWRcIiwgXCJkYXNoZWRcIiwgXCJkb3R0ZWRcIiwgXCJkb3VibGVcIl07XG4gIGNvbnN0IHNjYWxlQmxlbmRNb2RlID0gKCkgPT4gW1wibm9ybWFsXCIsIFwibXVsdGlwbHlcIiwgXCJzY3JlZW5cIiwgXCJvdmVybGF5XCIsIFwiZGFya2VuXCIsIFwibGlnaHRlblwiLCBcImNvbG9yLWRvZGdlXCIsIFwiY29sb3ItYnVyblwiLCBcImhhcmQtbGlnaHRcIiwgXCJzb2Z0LWxpZ2h0XCIsIFwiZGlmZmVyZW5jZVwiLCBcImV4Y2x1c2lvblwiLCBcImh1ZVwiLCBcInNhdHVyYXRpb25cIiwgXCJjb2xvclwiLCBcImx1bWlub3NpdHlcIl07XG4gIGNvbnN0IHNjYWxlTWFza0ltYWdlUG9zaXRpb24gPSAoKSA9PiBbaXNOdW1iZXIsIGlzUGVyY2VudCwgaXNBcmJpdHJhcnlWYXJpYWJsZVBvc2l0aW9uLCBpc0FyYml0cmFyeVBvc2l0aW9uXTtcbiAgY29uc3Qgc2NhbGVCbHVyID0gKCkgPT4gW1xuICAgIC8vIERlcHJlY2F0ZWQgc2luY2UgVGFpbHdpbmQgQ1NTIHY0LjAuMFxuICAgIFwiXCIsXG4gICAgXCJub25lXCIsXG4gICAgdGhlbWVCbHVyLFxuICAgIGlzQXJiaXRyYXJ5VmFyaWFibGUsXG4gICAgaXNBcmJpdHJhcnlWYWx1ZVxuICBdO1xuICBjb25zdCBzY2FsZVJvdGF0ZSA9ICgpID0+IFtcIm5vbmVcIiwgaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdO1xuICBjb25zdCBzY2FsZVNjYWxlID0gKCkgPT4gW1wibm9uZVwiLCBpc051bWJlciwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV07XG4gIGNvbnN0IHNjYWxlU2tldyA9ICgpID0+IFtpc051bWJlciwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV07XG4gIGNvbnN0IHNjYWxlVHJhbnNsYXRlID0gKCkgPT4gW2lzRnJhY3Rpb24sIFwiZnVsbFwiLCAuLi5zY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXTtcbiAgcmV0dXJuIHtcbiAgICBjYWNoZVNpemU6IDUwMCxcbiAgICB0aGVtZToge1xuICAgICAgYW5pbWF0ZTogW1wic3BpblwiLCBcInBpbmdcIiwgXCJwdWxzZVwiLCBcImJvdW5jZVwiXSxcbiAgICAgIGFzcGVjdDogW1widmlkZW9cIl0sXG4gICAgICBibHVyOiBbaXNUc2hpcnRTaXplXSxcbiAgICAgIGJyZWFrcG9pbnQ6IFtpc1RzaGlydFNpemVdLFxuICAgICAgY29sb3I6IFtpc0FueV0sXG4gICAgICBjb250YWluZXI6IFtpc1RzaGlydFNpemVdLFxuICAgICAgXCJkcm9wLXNoYWRvd1wiOiBbaXNUc2hpcnRTaXplXSxcbiAgICAgIGVhc2U6IFtcImluXCIsIFwib3V0XCIsIFwiaW4tb3V0XCJdLFxuICAgICAgZm9udDogW2lzQW55Tm9uQXJiaXRyYXJ5XSxcbiAgICAgIFwiZm9udC13ZWlnaHRcIjogW1widGhpblwiLCBcImV4dHJhbGlnaHRcIiwgXCJsaWdodFwiLCBcIm5vcm1hbFwiLCBcIm1lZGl1bVwiLCBcInNlbWlib2xkXCIsIFwiYm9sZFwiLCBcImV4dHJhYm9sZFwiLCBcImJsYWNrXCJdLFxuICAgICAgXCJpbnNldC1zaGFkb3dcIjogW2lzVHNoaXJ0U2l6ZV0sXG4gICAgICBsZWFkaW5nOiBbXCJub25lXCIsIFwidGlnaHRcIiwgXCJzbnVnXCIsIFwibm9ybWFsXCIsIFwicmVsYXhlZFwiLCBcImxvb3NlXCJdLFxuICAgICAgcGVyc3BlY3RpdmU6IFtcImRyYW1hdGljXCIsIFwibmVhclwiLCBcIm5vcm1hbFwiLCBcIm1pZHJhbmdlXCIsIFwiZGlzdGFudFwiLCBcIm5vbmVcIl0sXG4gICAgICByYWRpdXM6IFtpc1RzaGlydFNpemVdLFxuICAgICAgc2hhZG93OiBbaXNUc2hpcnRTaXplXSxcbiAgICAgIHNwYWNpbmc6IFtcInB4XCIsIGlzTnVtYmVyXSxcbiAgICAgIHRleHQ6IFtpc1RzaGlydFNpemVdLFxuICAgICAgXCJ0ZXh0LXNoYWRvd1wiOiBbaXNUc2hpcnRTaXplXSxcbiAgICAgIHRyYWNraW5nOiBbXCJ0aWdodGVyXCIsIFwidGlnaHRcIiwgXCJub3JtYWxcIiwgXCJ3aWRlXCIsIFwid2lkZXJcIiwgXCJ3aWRlc3RcIl1cbiAgICB9LFxuICAgIGNsYXNzR3JvdXBzOiB7XG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLVxuICAgICAgLy8gLS0tIExheW91dCAtLS1cbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tXG4gICAgICAvKipcbiAgICAgICAqIEFzcGVjdCBSYXRpb1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2FzcGVjdC1yYXRpb1xuICAgICAgICovXG4gICAgICBhc3BlY3Q6IFt7XG4gICAgICAgIGFzcGVjdDogW1wiYXV0b1wiLCBcInNxdWFyZVwiLCBpc0ZyYWN0aW9uLCBpc0FyYml0cmFyeVZhbHVlLCBpc0FyYml0cmFyeVZhcmlhYmxlLCB0aGVtZUFzcGVjdF1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBDb250YWluZXJcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9jb250YWluZXJcbiAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIFRhaWx3aW5kIENTUyB2NC4wLjBcbiAgICAgICAqL1xuICAgICAgY29udGFpbmVyOiBbXCJjb250YWluZXJcIl0sXG4gICAgICAvKipcbiAgICAgICAqIENvbHVtbnNcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9jb2x1bW5zXG4gICAgICAgKi9cbiAgICAgIGNvbHVtbnM6IFt7XG4gICAgICAgIGNvbHVtbnM6IFtpc051bWJlciwgaXNBcmJpdHJhcnlWYWx1ZSwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgdGhlbWVDb250YWluZXJdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQnJlYWsgQWZ0ZXJcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9icmVhay1hZnRlclxuICAgICAgICovXG4gICAgICBcImJyZWFrLWFmdGVyXCI6IFt7XG4gICAgICAgIFwiYnJlYWstYWZ0ZXJcIjogc2NhbGVCcmVhaygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQnJlYWsgQmVmb3JlXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYnJlYWstYmVmb3JlXG4gICAgICAgKi9cbiAgICAgIFwiYnJlYWstYmVmb3JlXCI6IFt7XG4gICAgICAgIFwiYnJlYWstYmVmb3JlXCI6IHNjYWxlQnJlYWsoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJyZWFrIEluc2lkZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JyZWFrLWluc2lkZVxuICAgICAgICovXG4gICAgICBcImJyZWFrLWluc2lkZVwiOiBbe1xuICAgICAgICBcImJyZWFrLWluc2lkZVwiOiBbXCJhdXRvXCIsIFwiYXZvaWRcIiwgXCJhdm9pZC1wYWdlXCIsIFwiYXZvaWQtY29sdW1uXCJdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm94IERlY29yYXRpb24gQnJlYWtcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3gtZGVjb3JhdGlvbi1icmVha1xuICAgICAgICovXG4gICAgICBcImJveC1kZWNvcmF0aW9uXCI6IFt7XG4gICAgICAgIFwiYm94LWRlY29yYXRpb25cIjogW1wic2xpY2VcIiwgXCJjbG9uZVwiXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJveCBTaXppbmdcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3gtc2l6aW5nXG4gICAgICAgKi9cbiAgICAgIGJveDogW3tcbiAgICAgICAgYm94OiBbXCJib3JkZXJcIiwgXCJjb250ZW50XCJdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogRGlzcGxheVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2Rpc3BsYXlcbiAgICAgICAqL1xuICAgICAgZGlzcGxheTogW1wiYmxvY2tcIiwgXCJpbmxpbmUtYmxvY2tcIiwgXCJpbmxpbmVcIiwgXCJmbGV4XCIsIFwiaW5saW5lLWZsZXhcIiwgXCJ0YWJsZVwiLCBcImlubGluZS10YWJsZVwiLCBcInRhYmxlLWNhcHRpb25cIiwgXCJ0YWJsZS1jZWxsXCIsIFwidGFibGUtY29sdW1uXCIsIFwidGFibGUtY29sdW1uLWdyb3VwXCIsIFwidGFibGUtZm9vdGVyLWdyb3VwXCIsIFwidGFibGUtaGVhZGVyLWdyb3VwXCIsIFwidGFibGUtcm93LWdyb3VwXCIsIFwidGFibGUtcm93XCIsIFwiZmxvdy1yb290XCIsIFwiZ3JpZFwiLCBcImlubGluZS1ncmlkXCIsIFwiY29udGVudHNcIiwgXCJsaXN0LWl0ZW1cIiwgXCJoaWRkZW5cIl0sXG4gICAgICAvKipcbiAgICAgICAqIFNjcmVlbiBSZWFkZXIgT25seVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2Rpc3BsYXkjc2NyZWVuLXJlYWRlci1vbmx5XG4gICAgICAgKi9cbiAgICAgIHNyOiBbXCJzci1vbmx5XCIsIFwibm90LXNyLW9ubHlcIl0sXG4gICAgICAvKipcbiAgICAgICAqIEZsb2F0c1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2Zsb2F0XG4gICAgICAgKi9cbiAgICAgIGZsb2F0OiBbe1xuICAgICAgICBmbG9hdDogW1wicmlnaHRcIiwgXCJsZWZ0XCIsIFwibm9uZVwiLCBcInN0YXJ0XCIsIFwiZW5kXCJdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQ2xlYXJcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9jbGVhclxuICAgICAgICovXG4gICAgICBjbGVhcjogW3tcbiAgICAgICAgY2xlYXI6IFtcImxlZnRcIiwgXCJyaWdodFwiLCBcImJvdGhcIiwgXCJub25lXCIsIFwic3RhcnRcIiwgXCJlbmRcIl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBJc29sYXRpb25cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9pc29sYXRpb25cbiAgICAgICAqL1xuICAgICAgaXNvbGF0aW9uOiBbXCJpc29sYXRlXCIsIFwiaXNvbGF0aW9uLWF1dG9cIl0sXG4gICAgICAvKipcbiAgICAgICAqIE9iamVjdCBGaXRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9vYmplY3QtZml0XG4gICAgICAgKi9cbiAgICAgIFwib2JqZWN0LWZpdFwiOiBbe1xuICAgICAgICBvYmplY3Q6IFtcImNvbnRhaW5cIiwgXCJjb3ZlclwiLCBcImZpbGxcIiwgXCJub25lXCIsIFwic2NhbGUtZG93blwiXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE9iamVjdCBQb3NpdGlvblxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL29iamVjdC1wb3NpdGlvblxuICAgICAgICovXG4gICAgICBcIm9iamVjdC1wb3NpdGlvblwiOiBbe1xuICAgICAgICBvYmplY3Q6IHNjYWxlUG9zaXRpb25XaXRoQXJiaXRyYXJ5KClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBPdmVyZmxvd1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL292ZXJmbG93XG4gICAgICAgKi9cbiAgICAgIG92ZXJmbG93OiBbe1xuICAgICAgICBvdmVyZmxvdzogc2NhbGVPdmVyZmxvdygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogT3ZlcmZsb3cgWFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL292ZXJmbG93XG4gICAgICAgKi9cbiAgICAgIFwib3ZlcmZsb3cteFwiOiBbe1xuICAgICAgICBcIm92ZXJmbG93LXhcIjogc2NhbGVPdmVyZmxvdygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogT3ZlcmZsb3cgWVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL292ZXJmbG93XG4gICAgICAgKi9cbiAgICAgIFwib3ZlcmZsb3cteVwiOiBbe1xuICAgICAgICBcIm92ZXJmbG93LXlcIjogc2NhbGVPdmVyZmxvdygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogT3ZlcnNjcm9sbCBCZWhhdmlvclxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL292ZXJzY3JvbGwtYmVoYXZpb3JcbiAgICAgICAqL1xuICAgICAgb3ZlcnNjcm9sbDogW3tcbiAgICAgICAgb3ZlcnNjcm9sbDogc2NhbGVPdmVyc2Nyb2xsKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBPdmVyc2Nyb2xsIEJlaGF2aW9yIFhcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9vdmVyc2Nyb2xsLWJlaGF2aW9yXG4gICAgICAgKi9cbiAgICAgIFwib3ZlcnNjcm9sbC14XCI6IFt7XG4gICAgICAgIFwib3ZlcnNjcm9sbC14XCI6IHNjYWxlT3ZlcnNjcm9sbCgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogT3ZlcnNjcm9sbCBCZWhhdmlvciBZXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvb3ZlcnNjcm9sbC1iZWhhdmlvclxuICAgICAgICovXG4gICAgICBcIm92ZXJzY3JvbGwteVwiOiBbe1xuICAgICAgICBcIm92ZXJzY3JvbGwteVwiOiBzY2FsZU92ZXJzY3JvbGwoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFBvc2l0aW9uXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvcG9zaXRpb25cbiAgICAgICAqL1xuICAgICAgcG9zaXRpb246IFtcInN0YXRpY1wiLCBcImZpeGVkXCIsIFwiYWJzb2x1dGVcIiwgXCJyZWxhdGl2ZVwiLCBcInN0aWNreVwiXSxcbiAgICAgIC8qKlxuICAgICAgICogVG9wIC8gUmlnaHQgLyBCb3R0b20gLyBMZWZ0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdG9wLXJpZ2h0LWJvdHRvbS1sZWZ0XG4gICAgICAgKi9cbiAgICAgIGluc2V0OiBbe1xuICAgICAgICBpbnNldDogc2NhbGVJbnNldCgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogUmlnaHQgLyBMZWZ0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdG9wLXJpZ2h0LWJvdHRvbS1sZWZ0XG4gICAgICAgKi9cbiAgICAgIFwiaW5zZXQteFwiOiBbe1xuICAgICAgICBcImluc2V0LXhcIjogc2NhbGVJbnNldCgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogVG9wIC8gQm90dG9tXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdG9wLXJpZ2h0LWJvdHRvbS1sZWZ0XG4gICAgICAgKi9cbiAgICAgIFwiaW5zZXQteVwiOiBbe1xuICAgICAgICBcImluc2V0LXlcIjogc2NhbGVJbnNldCgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU3RhcnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90b3AtcmlnaHQtYm90dG9tLWxlZnRcbiAgICAgICAqL1xuICAgICAgc3RhcnQ6IFt7XG4gICAgICAgIHN0YXJ0OiBzY2FsZUluc2V0KClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBFbmRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90b3AtcmlnaHQtYm90dG9tLWxlZnRcbiAgICAgICAqL1xuICAgICAgZW5kOiBbe1xuICAgICAgICBlbmQ6IHNjYWxlSW5zZXQoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRvcFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RvcC1yaWdodC1ib3R0b20tbGVmdFxuICAgICAgICovXG4gICAgICB0b3A6IFt7XG4gICAgICAgIHRvcDogc2NhbGVJbnNldCgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogUmlnaHRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90b3AtcmlnaHQtYm90dG9tLWxlZnRcbiAgICAgICAqL1xuICAgICAgcmlnaHQ6IFt7XG4gICAgICAgIHJpZ2h0OiBzY2FsZUluc2V0KClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3R0b21cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90b3AtcmlnaHQtYm90dG9tLWxlZnRcbiAgICAgICAqL1xuICAgICAgYm90dG9tOiBbe1xuICAgICAgICBib3R0b206IHNjYWxlSW5zZXQoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIExlZnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90b3AtcmlnaHQtYm90dG9tLWxlZnRcbiAgICAgICAqL1xuICAgICAgbGVmdDogW3tcbiAgICAgICAgbGVmdDogc2NhbGVJbnNldCgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogVmlzaWJpbGl0eVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Zpc2liaWxpdHlcbiAgICAgICAqL1xuICAgICAgdmlzaWJpbGl0eTogW1widmlzaWJsZVwiLCBcImludmlzaWJsZVwiLCBcImNvbGxhcHNlXCJdLFxuICAgICAgLyoqXG4gICAgICAgKiBaLUluZGV4XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvei1pbmRleFxuICAgICAgICovXG4gICAgICB6OiBbe1xuICAgICAgICB6OiBbaXNJbnRlZ2VyLCBcImF1dG9cIiwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgIH1dLFxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAvLyAtLS0gRmxleGJveCBhbmQgR3JpZCAtLS1cbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgLyoqXG4gICAgICAgKiBGbGV4IEJhc2lzXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZmxleC1iYXNpc1xuICAgICAgICovXG4gICAgICBiYXNpczogW3tcbiAgICAgICAgYmFzaXM6IFtpc0ZyYWN0aW9uLCBcImZ1bGxcIiwgXCJhdXRvXCIsIHRoZW1lQ29udGFpbmVyLCAuLi5zY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEZsZXggRGlyZWN0aW9uXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZmxleC1kaXJlY3Rpb25cbiAgICAgICAqL1xuICAgICAgXCJmbGV4LWRpcmVjdGlvblwiOiBbe1xuICAgICAgICBmbGV4OiBbXCJyb3dcIiwgXCJyb3ctcmV2ZXJzZVwiLCBcImNvbFwiLCBcImNvbC1yZXZlcnNlXCJdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogRmxleCBXcmFwXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZmxleC13cmFwXG4gICAgICAgKi9cbiAgICAgIFwiZmxleC13cmFwXCI6IFt7XG4gICAgICAgIGZsZXg6IFtcIm5vd3JhcFwiLCBcIndyYXBcIiwgXCJ3cmFwLXJldmVyc2VcIl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBGbGV4XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZmxleFxuICAgICAgICovXG4gICAgICBmbGV4OiBbe1xuICAgICAgICBmbGV4OiBbaXNOdW1iZXIsIGlzRnJhY3Rpb24sIFwiYXV0b1wiLCBcImluaXRpYWxcIiwgXCJub25lXCIsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogRmxleCBHcm93XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZmxleC1ncm93XG4gICAgICAgKi9cbiAgICAgIGdyb3c6IFt7XG4gICAgICAgIGdyb3c6IFtcIlwiLCBpc051bWJlciwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBGbGV4IFNocmlua1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZsZXgtc2hyaW5rXG4gICAgICAgKi9cbiAgICAgIHNocmluazogW3tcbiAgICAgICAgc2hyaW5rOiBbXCJcIiwgaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogT3JkZXJcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9vcmRlclxuICAgICAgICovXG4gICAgICBvcmRlcjogW3tcbiAgICAgICAgb3JkZXI6IFtpc0ludGVnZXIsIFwiZmlyc3RcIiwgXCJsYXN0XCIsIFwibm9uZVwiLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEdyaWQgVGVtcGxhdGUgQ29sdW1uc1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2dyaWQtdGVtcGxhdGUtY29sdW1uc1xuICAgICAgICovXG4gICAgICBcImdyaWQtY29sc1wiOiBbe1xuICAgICAgICBcImdyaWQtY29sc1wiOiBzY2FsZUdyaWRUZW1wbGF0ZUNvbHNSb3dzKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBHcmlkIENvbHVtbiBTdGFydCAvIEVuZFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2dyaWQtY29sdW1uXG4gICAgICAgKi9cbiAgICAgIFwiY29sLXN0YXJ0LWVuZFwiOiBbe1xuICAgICAgICBjb2w6IHNjYWxlR3JpZENvbFJvd1N0YXJ0QW5kRW5kKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBHcmlkIENvbHVtbiBTdGFydFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2dyaWQtY29sdW1uXG4gICAgICAgKi9cbiAgICAgIFwiY29sLXN0YXJ0XCI6IFt7XG4gICAgICAgIFwiY29sLXN0YXJ0XCI6IHNjYWxlR3JpZENvbFJvd1N0YXJ0T3JFbmQoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEdyaWQgQ29sdW1uIEVuZFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2dyaWQtY29sdW1uXG4gICAgICAgKi9cbiAgICAgIFwiY29sLWVuZFwiOiBbe1xuICAgICAgICBcImNvbC1lbmRcIjogc2NhbGVHcmlkQ29sUm93U3RhcnRPckVuZCgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogR3JpZCBUZW1wbGF0ZSBSb3dzXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ3JpZC10ZW1wbGF0ZS1yb3dzXG4gICAgICAgKi9cbiAgICAgIFwiZ3JpZC1yb3dzXCI6IFt7XG4gICAgICAgIFwiZ3JpZC1yb3dzXCI6IHNjYWxlR3JpZFRlbXBsYXRlQ29sc1Jvd3MoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEdyaWQgUm93IFN0YXJ0IC8gRW5kXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ3JpZC1yb3dcbiAgICAgICAqL1xuICAgICAgXCJyb3ctc3RhcnQtZW5kXCI6IFt7XG4gICAgICAgIHJvdzogc2NhbGVHcmlkQ29sUm93U3RhcnRBbmRFbmQoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEdyaWQgUm93IFN0YXJ0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ3JpZC1yb3dcbiAgICAgICAqL1xuICAgICAgXCJyb3ctc3RhcnRcIjogW3tcbiAgICAgICAgXCJyb3ctc3RhcnRcIjogc2NhbGVHcmlkQ29sUm93U3RhcnRPckVuZCgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogR3JpZCBSb3cgRW5kXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ3JpZC1yb3dcbiAgICAgICAqL1xuICAgICAgXCJyb3ctZW5kXCI6IFt7XG4gICAgICAgIFwicm93LWVuZFwiOiBzY2FsZUdyaWRDb2xSb3dTdGFydE9yRW5kKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBHcmlkIEF1dG8gRmxvd1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2dyaWQtYXV0by1mbG93XG4gICAgICAgKi9cbiAgICAgIFwiZ3JpZC1mbG93XCI6IFt7XG4gICAgICAgIFwiZ3JpZC1mbG93XCI6IFtcInJvd1wiLCBcImNvbFwiLCBcImRlbnNlXCIsIFwicm93LWRlbnNlXCIsIFwiY29sLWRlbnNlXCJdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogR3JpZCBBdXRvIENvbHVtbnNcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ncmlkLWF1dG8tY29sdW1uc1xuICAgICAgICovXG4gICAgICBcImF1dG8tY29sc1wiOiBbe1xuICAgICAgICBcImF1dG8tY29sc1wiOiBzY2FsZUdyaWRBdXRvQ29sc1Jvd3MoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEdyaWQgQXV0byBSb3dzXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ3JpZC1hdXRvLXJvd3NcbiAgICAgICAqL1xuICAgICAgXCJhdXRvLXJvd3NcIjogW3tcbiAgICAgICAgXCJhdXRvLXJvd3NcIjogc2NhbGVHcmlkQXV0b0NvbHNSb3dzKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBHYXBcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9nYXBcbiAgICAgICAqL1xuICAgICAgZ2FwOiBbe1xuICAgICAgICBnYXA6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBHYXAgWFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2dhcFxuICAgICAgICovXG4gICAgICBcImdhcC14XCI6IFt7XG4gICAgICAgIFwiZ2FwLXhcIjogc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEdhcCBZXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ2FwXG4gICAgICAgKi9cbiAgICAgIFwiZ2FwLXlcIjogW3tcbiAgICAgICAgXCJnYXAteVwiOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogSnVzdGlmeSBDb250ZW50XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvanVzdGlmeS1jb250ZW50XG4gICAgICAgKi9cbiAgICAgIFwianVzdGlmeS1jb250ZW50XCI6IFt7XG4gICAgICAgIGp1c3RpZnk6IFsuLi5zY2FsZUFsaWduUHJpbWFyeUF4aXMoKSwgXCJub3JtYWxcIl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBKdXN0aWZ5IEl0ZW1zXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvanVzdGlmeS1pdGVtc1xuICAgICAgICovXG4gICAgICBcImp1c3RpZnktaXRlbXNcIjogW3tcbiAgICAgICAgXCJqdXN0aWZ5LWl0ZW1zXCI6IFsuLi5zY2FsZUFsaWduU2Vjb25kYXJ5QXhpcygpLCBcIm5vcm1hbFwiXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEp1c3RpZnkgU2VsZlxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2p1c3RpZnktc2VsZlxuICAgICAgICovXG4gICAgICBcImp1c3RpZnktc2VsZlwiOiBbe1xuICAgICAgICBcImp1c3RpZnktc2VsZlwiOiBbXCJhdXRvXCIsIC4uLnNjYWxlQWxpZ25TZWNvbmRhcnlBeGlzKCldXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQWxpZ24gQ29udGVudFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2FsaWduLWNvbnRlbnRcbiAgICAgICAqL1xuICAgICAgXCJhbGlnbi1jb250ZW50XCI6IFt7XG4gICAgICAgIGNvbnRlbnQ6IFtcIm5vcm1hbFwiLCAuLi5zY2FsZUFsaWduUHJpbWFyeUF4aXMoKV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBBbGlnbiBJdGVtc1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2FsaWduLWl0ZW1zXG4gICAgICAgKi9cbiAgICAgIFwiYWxpZ24taXRlbXNcIjogW3tcbiAgICAgICAgaXRlbXM6IFsuLi5zY2FsZUFsaWduU2Vjb25kYXJ5QXhpcygpLCB7XG4gICAgICAgICAgYmFzZWxpbmU6IFtcIlwiLCBcImxhc3RcIl1cbiAgICAgICAgfV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBBbGlnbiBTZWxmXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYWxpZ24tc2VsZlxuICAgICAgICovXG4gICAgICBcImFsaWduLXNlbGZcIjogW3tcbiAgICAgICAgc2VsZjogW1wiYXV0b1wiLCAuLi5zY2FsZUFsaWduU2Vjb25kYXJ5QXhpcygpLCB7XG4gICAgICAgICAgYmFzZWxpbmU6IFtcIlwiLCBcImxhc3RcIl1cbiAgICAgICAgfV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBQbGFjZSBDb250ZW50XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvcGxhY2UtY29udGVudFxuICAgICAgICovXG4gICAgICBcInBsYWNlLWNvbnRlbnRcIjogW3tcbiAgICAgICAgXCJwbGFjZS1jb250ZW50XCI6IHNjYWxlQWxpZ25QcmltYXJ5QXhpcygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogUGxhY2UgSXRlbXNcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9wbGFjZS1pdGVtc1xuICAgICAgICovXG4gICAgICBcInBsYWNlLWl0ZW1zXCI6IFt7XG4gICAgICAgIFwicGxhY2UtaXRlbXNcIjogWy4uLnNjYWxlQWxpZ25TZWNvbmRhcnlBeGlzKCksIFwiYmFzZWxpbmVcIl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBQbGFjZSBTZWxmXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvcGxhY2Utc2VsZlxuICAgICAgICovXG4gICAgICBcInBsYWNlLXNlbGZcIjogW3tcbiAgICAgICAgXCJwbGFjZS1zZWxmXCI6IFtcImF1dG9cIiwgLi4uc2NhbGVBbGlnblNlY29uZGFyeUF4aXMoKV1cbiAgICAgIH1dLFxuICAgICAgLy8gU3BhY2luZ1xuICAgICAgLyoqXG4gICAgICAgKiBQYWRkaW5nXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvcGFkZGluZ1xuICAgICAgICovXG4gICAgICBwOiBbe1xuICAgICAgICBwOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogUGFkZGluZyBYXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvcGFkZGluZ1xuICAgICAgICovXG4gICAgICBweDogW3tcbiAgICAgICAgcHg6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBQYWRkaW5nIFlcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9wYWRkaW5nXG4gICAgICAgKi9cbiAgICAgIHB5OiBbe1xuICAgICAgICBweTogc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFBhZGRpbmcgU3RhcnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9wYWRkaW5nXG4gICAgICAgKi9cbiAgICAgIHBzOiBbe1xuICAgICAgICBwczogc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFBhZGRpbmcgRW5kXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvcGFkZGluZ1xuICAgICAgICovXG4gICAgICBwZTogW3tcbiAgICAgICAgcGU6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBQYWRkaW5nIFRvcFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3BhZGRpbmdcbiAgICAgICAqL1xuICAgICAgcHQ6IFt7XG4gICAgICAgIHB0OiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogUGFkZGluZyBSaWdodFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3BhZGRpbmdcbiAgICAgICAqL1xuICAgICAgcHI6IFt7XG4gICAgICAgIHByOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogUGFkZGluZyBCb3R0b21cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9wYWRkaW5nXG4gICAgICAgKi9cbiAgICAgIHBiOiBbe1xuICAgICAgICBwYjogc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFBhZGRpbmcgTGVmdFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3BhZGRpbmdcbiAgICAgICAqL1xuICAgICAgcGw6IFt7XG4gICAgICAgIHBsOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogTWFyZ2luXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFyZ2luXG4gICAgICAgKi9cbiAgICAgIG06IFt7XG4gICAgICAgIG06IHNjYWxlTWFyZ2luKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBNYXJnaW4gWFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21hcmdpblxuICAgICAgICovXG4gICAgICBteDogW3tcbiAgICAgICAgbXg6IHNjYWxlTWFyZ2luKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBNYXJnaW4gWVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21hcmdpblxuICAgICAgICovXG4gICAgICBteTogW3tcbiAgICAgICAgbXk6IHNjYWxlTWFyZ2luKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBNYXJnaW4gU3RhcnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9tYXJnaW5cbiAgICAgICAqL1xuICAgICAgbXM6IFt7XG4gICAgICAgIG1zOiBzY2FsZU1hcmdpbigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogTWFyZ2luIEVuZFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21hcmdpblxuICAgICAgICovXG4gICAgICBtZTogW3tcbiAgICAgICAgbWU6IHNjYWxlTWFyZ2luKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBNYXJnaW4gVG9wXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFyZ2luXG4gICAgICAgKi9cbiAgICAgIG10OiBbe1xuICAgICAgICBtdDogc2NhbGVNYXJnaW4oKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE1hcmdpbiBSaWdodFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21hcmdpblxuICAgICAgICovXG4gICAgICBtcjogW3tcbiAgICAgICAgbXI6IHNjYWxlTWFyZ2luKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBNYXJnaW4gQm90dG9tXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFyZ2luXG4gICAgICAgKi9cbiAgICAgIG1iOiBbe1xuICAgICAgICBtYjogc2NhbGVNYXJnaW4oKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE1hcmdpbiBMZWZ0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFyZ2luXG4gICAgICAgKi9cbiAgICAgIG1sOiBbe1xuICAgICAgICBtbDogc2NhbGVNYXJnaW4oKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFNwYWNlIEJldHdlZW4gWFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21hcmdpbiNhZGRpbmctc3BhY2UtYmV0d2Vlbi1jaGlsZHJlblxuICAgICAgICovXG4gICAgICBcInNwYWNlLXhcIjogW3tcbiAgICAgICAgXCJzcGFjZS14XCI6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTcGFjZSBCZXR3ZWVuIFggUmV2ZXJzZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21hcmdpbiNhZGRpbmctc3BhY2UtYmV0d2Vlbi1jaGlsZHJlblxuICAgICAgICovXG4gICAgICBcInNwYWNlLXgtcmV2ZXJzZVwiOiBbXCJzcGFjZS14LXJldmVyc2VcIl0sXG4gICAgICAvKipcbiAgICAgICAqIFNwYWNlIEJldHdlZW4gWVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21hcmdpbiNhZGRpbmctc3BhY2UtYmV0d2Vlbi1jaGlsZHJlblxuICAgICAgICovXG4gICAgICBcInNwYWNlLXlcIjogW3tcbiAgICAgICAgXCJzcGFjZS15XCI6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTcGFjZSBCZXR3ZWVuIFkgUmV2ZXJzZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21hcmdpbiNhZGRpbmctc3BhY2UtYmV0d2Vlbi1jaGlsZHJlblxuICAgICAgICovXG4gICAgICBcInNwYWNlLXktcmV2ZXJzZVwiOiBbXCJzcGFjZS15LXJldmVyc2VcIl0sXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLVxuICAgICAgLy8gLS0tIFNpemluZyAtLS1cbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tXG4gICAgICAvKipcbiAgICAgICAqIFNpemVcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy93aWR0aCNzZXR0aW5nLWJvdGgtd2lkdGgtYW5kLWhlaWdodFxuICAgICAgICovXG4gICAgICBzaXplOiBbe1xuICAgICAgICBzaXplOiBzY2FsZVNpemluZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogV2lkdGhcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy93aWR0aFxuICAgICAgICovXG4gICAgICB3OiBbe1xuICAgICAgICB3OiBbdGhlbWVDb250YWluZXIsIFwic2NyZWVuXCIsIC4uLnNjYWxlU2l6aW5nKCldXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogTWluLVdpZHRoXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWluLXdpZHRoXG4gICAgICAgKi9cbiAgICAgIFwibWluLXdcIjogW3tcbiAgICAgICAgXCJtaW4td1wiOiBbXG4gICAgICAgICAgdGhlbWVDb250YWluZXIsXG4gICAgICAgICAgXCJzY3JlZW5cIixcbiAgICAgICAgICAvKiogRGVwcmVjYXRlZC4gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vdGFpbHdpbmRsYWJzL3RhaWx3aW5kY3NzLmNvbS9pc3N1ZXMvMjAyNyNpc3N1ZWNvbW1lbnQtMjYyMDE1Mjc1NyAqL1xuICAgICAgICAgIFwibm9uZVwiLFxuICAgICAgICAgIC4uLnNjYWxlU2l6aW5nKClcbiAgICAgICAgXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE1heC1XaWR0aFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21heC13aWR0aFxuICAgICAgICovXG4gICAgICBcIm1heC13XCI6IFt7XG4gICAgICAgIFwibWF4LXdcIjogW1xuICAgICAgICAgIHRoZW1lQ29udGFpbmVyLFxuICAgICAgICAgIFwic2NyZWVuXCIsXG4gICAgICAgICAgXCJub25lXCIsXG4gICAgICAgICAgLyoqIERlcHJlY2F0ZWQgc2luY2UgVGFpbHdpbmQgQ1NTIHY0LjAuMC4gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vdGFpbHdpbmRsYWJzL3RhaWx3aW5kY3NzLmNvbS9pc3N1ZXMvMjAyNyNpc3N1ZWNvbW1lbnQtMjYyMDE1Mjc1NyAqL1xuICAgICAgICAgIFwicHJvc2VcIixcbiAgICAgICAgICAvKiogRGVwcmVjYXRlZCBzaW5jZSBUYWlsd2luZCBDU1MgdjQuMC4wLiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS90YWlsd2luZGxhYnMvdGFpbHdpbmRjc3MuY29tL2lzc3Vlcy8yMDI3I2lzc3VlY29tbWVudC0yNjIwMTUyNzU3ICovXG4gICAgICAgICAge1xuICAgICAgICAgICAgc2NyZWVuOiBbdGhlbWVCcmVha3BvaW50XVxuICAgICAgICAgIH0sXG4gICAgICAgICAgLi4uc2NhbGVTaXppbmcoKVxuICAgICAgICBdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogSGVpZ2h0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvaGVpZ2h0XG4gICAgICAgKi9cbiAgICAgIGg6IFt7XG4gICAgICAgIGg6IFtcInNjcmVlblwiLCAuLi5zY2FsZVNpemluZygpXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE1pbi1IZWlnaHRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9taW4taGVpZ2h0XG4gICAgICAgKi9cbiAgICAgIFwibWluLWhcIjogW3tcbiAgICAgICAgXCJtaW4taFwiOiBbXCJzY3JlZW5cIiwgXCJub25lXCIsIC4uLnNjYWxlU2l6aW5nKCldXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogTWF4LUhlaWdodFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21heC1oZWlnaHRcbiAgICAgICAqL1xuICAgICAgXCJtYXgtaFwiOiBbe1xuICAgICAgICBcIm1heC1oXCI6IFtcInNjcmVlblwiLCAuLi5zY2FsZVNpemluZygpXVxuICAgICAgfV0sXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8vIC0tLSBUeXBvZ3JhcGh5IC0tLVxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAvKipcbiAgICAgICAqIEZvbnQgU2l6ZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZvbnQtc2l6ZVxuICAgICAgICovXG4gICAgICBcImZvbnQtc2l6ZVwiOiBbe1xuICAgICAgICB0ZXh0OiBbXCJiYXNlXCIsIHRoZW1lVGV4dCwgaXNBcmJpdHJhcnlWYXJpYWJsZUxlbmd0aCwgaXNBcmJpdHJhcnlMZW5ndGhdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogRm9udCBTbW9vdGhpbmdcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9mb250LXNtb290aGluZ1xuICAgICAgICovXG4gICAgICBcImZvbnQtc21vb3RoaW5nXCI6IFtcImFudGlhbGlhc2VkXCIsIFwic3VicGl4ZWwtYW50aWFsaWFzZWRcIl0sXG4gICAgICAvKipcbiAgICAgICAqIEZvbnQgU3R5bGVcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9mb250LXN0eWxlXG4gICAgICAgKi9cbiAgICAgIFwiZm9udC1zdHlsZVwiOiBbXCJpdGFsaWNcIiwgXCJub3QtaXRhbGljXCJdLFxuICAgICAgLyoqXG4gICAgICAgKiBGb250IFdlaWdodFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZvbnQtd2VpZ2h0XG4gICAgICAgKi9cbiAgICAgIFwiZm9udC13ZWlnaHRcIjogW3tcbiAgICAgICAgZm9udDogW3RoZW1lRm9udFdlaWdodCwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlOdW1iZXJdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogRm9udCBTdHJldGNoXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZm9udC1zdHJldGNoXG4gICAgICAgKi9cbiAgICAgIFwiZm9udC1zdHJldGNoXCI6IFt7XG4gICAgICAgIFwiZm9udC1zdHJldGNoXCI6IFtcInVsdHJhLWNvbmRlbnNlZFwiLCBcImV4dHJhLWNvbmRlbnNlZFwiLCBcImNvbmRlbnNlZFwiLCBcInNlbWktY29uZGVuc2VkXCIsIFwibm9ybWFsXCIsIFwic2VtaS1leHBhbmRlZFwiLCBcImV4cGFuZGVkXCIsIFwiZXh0cmEtZXhwYW5kZWRcIiwgXCJ1bHRyYS1leHBhbmRlZFwiLCBpc1BlcmNlbnQsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogRm9udCBGYW1pbHlcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9mb250LWZhbWlseVxuICAgICAgICovXG4gICAgICBcImZvbnQtZmFtaWx5XCI6IFt7XG4gICAgICAgIGZvbnQ6IFtpc0FyYml0cmFyeVZhcmlhYmxlRmFtaWx5TmFtZSwgaXNBcmJpdHJhcnlWYWx1ZSwgdGhlbWVGb250XVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEZvbnQgVmFyaWFudCBOdW1lcmljXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZm9udC12YXJpYW50LW51bWVyaWNcbiAgICAgICAqL1xuICAgICAgXCJmdm4tbm9ybWFsXCI6IFtcIm5vcm1hbC1udW1zXCJdLFxuICAgICAgLyoqXG4gICAgICAgKiBGb250IFZhcmlhbnQgTnVtZXJpY1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZvbnQtdmFyaWFudC1udW1lcmljXG4gICAgICAgKi9cbiAgICAgIFwiZnZuLW9yZGluYWxcIjogW1wib3JkaW5hbFwiXSxcbiAgICAgIC8qKlxuICAgICAgICogRm9udCBWYXJpYW50IE51bWVyaWNcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9mb250LXZhcmlhbnQtbnVtZXJpY1xuICAgICAgICovXG4gICAgICBcImZ2bi1zbGFzaGVkLXplcm9cIjogW1wic2xhc2hlZC16ZXJvXCJdLFxuICAgICAgLyoqXG4gICAgICAgKiBGb250IFZhcmlhbnQgTnVtZXJpY1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZvbnQtdmFyaWFudC1udW1lcmljXG4gICAgICAgKi9cbiAgICAgIFwiZnZuLWZpZ3VyZVwiOiBbXCJsaW5pbmctbnVtc1wiLCBcIm9sZHN0eWxlLW51bXNcIl0sXG4gICAgICAvKipcbiAgICAgICAqIEZvbnQgVmFyaWFudCBOdW1lcmljXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZm9udC12YXJpYW50LW51bWVyaWNcbiAgICAgICAqL1xuICAgICAgXCJmdm4tc3BhY2luZ1wiOiBbXCJwcm9wb3J0aW9uYWwtbnVtc1wiLCBcInRhYnVsYXItbnVtc1wiXSxcbiAgICAgIC8qKlxuICAgICAgICogRm9udCBWYXJpYW50IE51bWVyaWNcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9mb250LXZhcmlhbnQtbnVtZXJpY1xuICAgICAgICovXG4gICAgICBcImZ2bi1mcmFjdGlvblwiOiBbXCJkaWFnb25hbC1mcmFjdGlvbnNcIiwgXCJzdGFja2VkLWZyYWN0aW9uc1wiXSxcbiAgICAgIC8qKlxuICAgICAgICogTGV0dGVyIFNwYWNpbmdcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9sZXR0ZXItc3BhY2luZ1xuICAgICAgICovXG4gICAgICB0cmFja2luZzogW3tcbiAgICAgICAgdHJhY2tpbmc6IFt0aGVtZVRyYWNraW5nLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIExpbmUgQ2xhbXBcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9saW5lLWNsYW1wXG4gICAgICAgKi9cbiAgICAgIFwibGluZS1jbGFtcFwiOiBbe1xuICAgICAgICBcImxpbmUtY2xhbXBcIjogW2lzTnVtYmVyLCBcIm5vbmVcIiwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlOdW1iZXJdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogTGluZSBIZWlnaHRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9saW5lLWhlaWdodFxuICAgICAgICovXG4gICAgICBsZWFkaW5nOiBbe1xuICAgICAgICBsZWFkaW5nOiBbXG4gICAgICAgICAgLyoqIERlcHJlY2F0ZWQgc2luY2UgVGFpbHdpbmQgQ1NTIHY0LjAuMC4gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vdGFpbHdpbmRsYWJzL3RhaWx3aW5kY3NzLmNvbS9pc3N1ZXMvMjAyNyNpc3N1ZWNvbW1lbnQtMjYyMDE1Mjc1NyAqL1xuICAgICAgICAgIHRoZW1lTGVhZGluZyxcbiAgICAgICAgICAuLi5zY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICAgIF1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBMaXN0IFN0eWxlIEltYWdlXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbGlzdC1zdHlsZS1pbWFnZVxuICAgICAgICovXG4gICAgICBcImxpc3QtaW1hZ2VcIjogW3tcbiAgICAgICAgXCJsaXN0LWltYWdlXCI6IFtcIm5vbmVcIiwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBMaXN0IFN0eWxlIFBvc2l0aW9uXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbGlzdC1zdHlsZS1wb3NpdGlvblxuICAgICAgICovXG4gICAgICBcImxpc3Qtc3R5bGUtcG9zaXRpb25cIjogW3tcbiAgICAgICAgbGlzdDogW1wiaW5zaWRlXCIsIFwib3V0c2lkZVwiXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIExpc3QgU3R5bGUgVHlwZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2xpc3Qtc3R5bGUtdHlwZVxuICAgICAgICovXG4gICAgICBcImxpc3Qtc3R5bGUtdHlwZVwiOiBbe1xuICAgICAgICBsaXN0OiBbXCJkaXNjXCIsIFwiZGVjaW1hbFwiLCBcIm5vbmVcIiwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBUZXh0IEFsaWdubWVudFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RleHQtYWxpZ25cbiAgICAgICAqL1xuICAgICAgXCJ0ZXh0LWFsaWdubWVudFwiOiBbe1xuICAgICAgICB0ZXh0OiBbXCJsZWZ0XCIsIFwiY2VudGVyXCIsIFwicmlnaHRcIiwgXCJqdXN0aWZ5XCIsIFwic3RhcnRcIiwgXCJlbmRcIl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBQbGFjZWhvbGRlciBDb2xvclxuICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgVGFpbHdpbmQgQ1NTIHYzLjAuMFxuICAgICAgICogQHNlZSBodHRwczovL3YzLnRhaWx3aW5kY3NzLmNvbS9kb2NzL3BsYWNlaG9sZGVyLWNvbG9yXG4gICAgICAgKi9cbiAgICAgIFwicGxhY2Vob2xkZXItY29sb3JcIjogW3tcbiAgICAgICAgcGxhY2Vob2xkZXI6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRleHQgQ29sb3JcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90ZXh0LWNvbG9yXG4gICAgICAgKi9cbiAgICAgIFwidGV4dC1jb2xvclwiOiBbe1xuICAgICAgICB0ZXh0OiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBUZXh0IERlY29yYXRpb25cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90ZXh0LWRlY29yYXRpb25cbiAgICAgICAqL1xuICAgICAgXCJ0ZXh0LWRlY29yYXRpb25cIjogW1widW5kZXJsaW5lXCIsIFwib3ZlcmxpbmVcIiwgXCJsaW5lLXRocm91Z2hcIiwgXCJuby11bmRlcmxpbmVcIl0sXG4gICAgICAvKipcbiAgICAgICAqIFRleHQgRGVjb3JhdGlvbiBTdHlsZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RleHQtZGVjb3JhdGlvbi1zdHlsZVxuICAgICAgICovXG4gICAgICBcInRleHQtZGVjb3JhdGlvbi1zdHlsZVwiOiBbe1xuICAgICAgICBkZWNvcmF0aW9uOiBbLi4uc2NhbGVMaW5lU3R5bGUoKSwgXCJ3YXZ5XCJdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogVGV4dCBEZWNvcmF0aW9uIFRoaWNrbmVzc1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RleHQtZGVjb3JhdGlvbi10aGlja25lc3NcbiAgICAgICAqL1xuICAgICAgXCJ0ZXh0LWRlY29yYXRpb24tdGhpY2tuZXNzXCI6IFt7XG4gICAgICAgIGRlY29yYXRpb246IFtpc051bWJlciwgXCJmcm9tLWZvbnRcIiwgXCJhdXRvXCIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5TGVuZ3RoXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRleHQgRGVjb3JhdGlvbiBDb2xvclxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RleHQtZGVjb3JhdGlvbi1jb2xvclxuICAgICAgICovXG4gICAgICBcInRleHQtZGVjb3JhdGlvbi1jb2xvclwiOiBbe1xuICAgICAgICBkZWNvcmF0aW9uOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBUZXh0IFVuZGVybGluZSBPZmZzZXRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90ZXh0LXVuZGVybGluZS1vZmZzZXRcbiAgICAgICAqL1xuICAgICAgXCJ1bmRlcmxpbmUtb2Zmc2V0XCI6IFt7XG4gICAgICAgIFwidW5kZXJsaW5lLW9mZnNldFwiOiBbaXNOdW1iZXIsIFwiYXV0b1wiLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRleHQgVHJhbnNmb3JtXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdGV4dC10cmFuc2Zvcm1cbiAgICAgICAqL1xuICAgICAgXCJ0ZXh0LXRyYW5zZm9ybVwiOiBbXCJ1cHBlcmNhc2VcIiwgXCJsb3dlcmNhc2VcIiwgXCJjYXBpdGFsaXplXCIsIFwibm9ybWFsLWNhc2VcIl0sXG4gICAgICAvKipcbiAgICAgICAqIFRleHQgT3ZlcmZsb3dcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90ZXh0LW92ZXJmbG93XG4gICAgICAgKi9cbiAgICAgIFwidGV4dC1vdmVyZmxvd1wiOiBbXCJ0cnVuY2F0ZVwiLCBcInRleHQtZWxsaXBzaXNcIiwgXCJ0ZXh0LWNsaXBcIl0sXG4gICAgICAvKipcbiAgICAgICAqIFRleHQgV3JhcFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RleHQtd3JhcFxuICAgICAgICovXG4gICAgICBcInRleHQtd3JhcFwiOiBbe1xuICAgICAgICB0ZXh0OiBbXCJ3cmFwXCIsIFwibm93cmFwXCIsIFwiYmFsYW5jZVwiLCBcInByZXR0eVwiXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRleHQgSW5kZW50XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdGV4dC1pbmRlbnRcbiAgICAgICAqL1xuICAgICAgaW5kZW50OiBbe1xuICAgICAgICBpbmRlbnQ6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBWZXJ0aWNhbCBBbGlnbm1lbnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy92ZXJ0aWNhbC1hbGlnblxuICAgICAgICovXG4gICAgICBcInZlcnRpY2FsLWFsaWduXCI6IFt7XG4gICAgICAgIGFsaWduOiBbXCJiYXNlbGluZVwiLCBcInRvcFwiLCBcIm1pZGRsZVwiLCBcImJvdHRvbVwiLCBcInRleHQtdG9wXCIsIFwidGV4dC1ib3R0b21cIiwgXCJzdWJcIiwgXCJzdXBlclwiLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFdoaXRlc3BhY2VcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy93aGl0ZXNwYWNlXG4gICAgICAgKi9cbiAgICAgIHdoaXRlc3BhY2U6IFt7XG4gICAgICAgIHdoaXRlc3BhY2U6IFtcIm5vcm1hbFwiLCBcIm5vd3JhcFwiLCBcInByZVwiLCBcInByZS1saW5lXCIsIFwicHJlLXdyYXBcIiwgXCJicmVhay1zcGFjZXNcIl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBXb3JkIEJyZWFrXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvd29yZC1icmVha1xuICAgICAgICovXG4gICAgICBicmVhazogW3tcbiAgICAgICAgYnJlYWs6IFtcIm5vcm1hbFwiLCBcIndvcmRzXCIsIFwiYWxsXCIsIFwia2VlcFwiXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE92ZXJmbG93IFdyYXBcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9vdmVyZmxvdy13cmFwXG4gICAgICAgKi9cbiAgICAgIHdyYXA6IFt7XG4gICAgICAgIHdyYXA6IFtcImJyZWFrLXdvcmRcIiwgXCJhbnl3aGVyZVwiLCBcIm5vcm1hbFwiXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEh5cGhlbnNcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9oeXBoZW5zXG4gICAgICAgKi9cbiAgICAgIGh5cGhlbnM6IFt7XG4gICAgICAgIGh5cGhlbnM6IFtcIm5vbmVcIiwgXCJtYW51YWxcIiwgXCJhdXRvXCJdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQ29udGVudFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2NvbnRlbnRcbiAgICAgICAqL1xuICAgICAgY29udGVudDogW3tcbiAgICAgICAgY29udGVudDogW1wibm9uZVwiLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAvLyAtLS0gQmFja2dyb3VuZHMgLS0tXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAvKipcbiAgICAgICAqIEJhY2tncm91bmQgQXR0YWNobWVudFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tncm91bmQtYXR0YWNobWVudFxuICAgICAgICovXG4gICAgICBcImJnLWF0dGFjaG1lbnRcIjogW3tcbiAgICAgICAgYmc6IFtcImZpeGVkXCIsIFwibG9jYWxcIiwgXCJzY3JvbGxcIl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCYWNrZ3JvdW5kIENsaXBcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9iYWNrZ3JvdW5kLWNsaXBcbiAgICAgICAqL1xuICAgICAgXCJiZy1jbGlwXCI6IFt7XG4gICAgICAgIFwiYmctY2xpcFwiOiBbXCJib3JkZXJcIiwgXCJwYWRkaW5nXCIsIFwiY29udGVudFwiLCBcInRleHRcIl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCYWNrZ3JvdW5kIE9yaWdpblxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tncm91bmQtb3JpZ2luXG4gICAgICAgKi9cbiAgICAgIFwiYmctb3JpZ2luXCI6IFt7XG4gICAgICAgIFwiYmctb3JpZ2luXCI6IFtcImJvcmRlclwiLCBcInBhZGRpbmdcIiwgXCJjb250ZW50XCJdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQmFja2dyb3VuZCBQb3NpdGlvblxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tncm91bmQtcG9zaXRpb25cbiAgICAgICAqL1xuICAgICAgXCJiZy1wb3NpdGlvblwiOiBbe1xuICAgICAgICBiZzogc2NhbGVCZ1Bvc2l0aW9uKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCYWNrZ3JvdW5kIFJlcGVhdFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tncm91bmQtcmVwZWF0XG4gICAgICAgKi9cbiAgICAgIFwiYmctcmVwZWF0XCI6IFt7XG4gICAgICAgIGJnOiBzY2FsZUJnUmVwZWF0KClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCYWNrZ3JvdW5kIFNpemVcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9iYWNrZ3JvdW5kLXNpemVcbiAgICAgICAqL1xuICAgICAgXCJiZy1zaXplXCI6IFt7XG4gICAgICAgIGJnOiBzY2FsZUJnU2l6ZSgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQmFja2dyb3VuZCBJbWFnZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tncm91bmQtaW1hZ2VcbiAgICAgICAqL1xuICAgICAgXCJiZy1pbWFnZVwiOiBbe1xuICAgICAgICBiZzogW1wibm9uZVwiLCB7XG4gICAgICAgICAgbGluZWFyOiBbe1xuICAgICAgICAgICAgdG86IFtcInRcIiwgXCJ0clwiLCBcInJcIiwgXCJiclwiLCBcImJcIiwgXCJibFwiLCBcImxcIiwgXCJ0bFwiXVxuICAgICAgICAgIH0sIGlzSW50ZWdlciwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV0sXG4gICAgICAgICAgcmFkaWFsOiBbXCJcIiwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV0sXG4gICAgICAgICAgY29uaWM6IFtpc0ludGVnZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICAgIH0sIGlzQXJiaXRyYXJ5VmFyaWFibGVJbWFnZSwgaXNBcmJpdHJhcnlJbWFnZV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCYWNrZ3JvdW5kIENvbG9yXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2dyb3VuZC1jb2xvclxuICAgICAgICovXG4gICAgICBcImJnLWNvbG9yXCI6IFt7XG4gICAgICAgIGJnOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBHcmFkaWVudCBDb2xvciBTdG9wcyBGcm9tIFBvc2l0aW9uXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ3JhZGllbnQtY29sb3Itc3RvcHNcbiAgICAgICAqL1xuICAgICAgXCJncmFkaWVudC1mcm9tLXBvc1wiOiBbe1xuICAgICAgICBmcm9tOiBzY2FsZUdyYWRpZW50U3RvcFBvc2l0aW9uKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBHcmFkaWVudCBDb2xvciBTdG9wcyBWaWEgUG9zaXRpb25cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ncmFkaWVudC1jb2xvci1zdG9wc1xuICAgICAgICovXG4gICAgICBcImdyYWRpZW50LXZpYS1wb3NcIjogW3tcbiAgICAgICAgdmlhOiBzY2FsZUdyYWRpZW50U3RvcFBvc2l0aW9uKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBHcmFkaWVudCBDb2xvciBTdG9wcyBUbyBQb3NpdGlvblxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2dyYWRpZW50LWNvbG9yLXN0b3BzXG4gICAgICAgKi9cbiAgICAgIFwiZ3JhZGllbnQtdG8tcG9zXCI6IFt7XG4gICAgICAgIHRvOiBzY2FsZUdyYWRpZW50U3RvcFBvc2l0aW9uKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBHcmFkaWVudCBDb2xvciBTdG9wcyBGcm9tXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ3JhZGllbnQtY29sb3Itc3RvcHNcbiAgICAgICAqL1xuICAgICAgXCJncmFkaWVudC1mcm9tXCI6IFt7XG4gICAgICAgIGZyb206IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEdyYWRpZW50IENvbG9yIFN0b3BzIFZpYVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2dyYWRpZW50LWNvbG9yLXN0b3BzXG4gICAgICAgKi9cbiAgICAgIFwiZ3JhZGllbnQtdmlhXCI6IFt7XG4gICAgICAgIHZpYTogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogR3JhZGllbnQgQ29sb3IgU3RvcHMgVG9cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ncmFkaWVudC1jb2xvci1zdG9wc1xuICAgICAgICovXG4gICAgICBcImdyYWRpZW50LXRvXCI6IFt7XG4gICAgICAgIHRvOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tXG4gICAgICAvLyAtLS0gQm9yZGVycyAtLS1cbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLVxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgUmFkaXVzXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXJhZGl1c1xuICAgICAgICovXG4gICAgICByb3VuZGVkOiBbe1xuICAgICAgICByb3VuZGVkOiBzY2FsZVJhZGl1cygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIFJhZGl1cyBTdGFydFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1yYWRpdXNcbiAgICAgICAqL1xuICAgICAgXCJyb3VuZGVkLXNcIjogW3tcbiAgICAgICAgXCJyb3VuZGVkLXNcIjogc2NhbGVSYWRpdXMoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBSYWRpdXMgRW5kXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXJhZGl1c1xuICAgICAgICovXG4gICAgICBcInJvdW5kZWQtZVwiOiBbe1xuICAgICAgICBcInJvdW5kZWQtZVwiOiBzY2FsZVJhZGl1cygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIFJhZGl1cyBUb3BcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItcmFkaXVzXG4gICAgICAgKi9cbiAgICAgIFwicm91bmRlZC10XCI6IFt7XG4gICAgICAgIFwicm91bmRlZC10XCI6IHNjYWxlUmFkaXVzKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgUmFkaXVzIFJpZ2h0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXJhZGl1c1xuICAgICAgICovXG4gICAgICBcInJvdW5kZWQtclwiOiBbe1xuICAgICAgICBcInJvdW5kZWQtclwiOiBzY2FsZVJhZGl1cygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIFJhZGl1cyBCb3R0b21cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItcmFkaXVzXG4gICAgICAgKi9cbiAgICAgIFwicm91bmRlZC1iXCI6IFt7XG4gICAgICAgIFwicm91bmRlZC1iXCI6IHNjYWxlUmFkaXVzKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgUmFkaXVzIExlZnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItcmFkaXVzXG4gICAgICAgKi9cbiAgICAgIFwicm91bmRlZC1sXCI6IFt7XG4gICAgICAgIFwicm91bmRlZC1sXCI6IHNjYWxlUmFkaXVzKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgUmFkaXVzIFN0YXJ0IFN0YXJ0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXJhZGl1c1xuICAgICAgICovXG4gICAgICBcInJvdW5kZWQtc3NcIjogW3tcbiAgICAgICAgXCJyb3VuZGVkLXNzXCI6IHNjYWxlUmFkaXVzKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgUmFkaXVzIFN0YXJ0IEVuZFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1yYWRpdXNcbiAgICAgICAqL1xuICAgICAgXCJyb3VuZGVkLXNlXCI6IFt7XG4gICAgICAgIFwicm91bmRlZC1zZVwiOiBzY2FsZVJhZGl1cygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIFJhZGl1cyBFbmQgRW5kXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXJhZGl1c1xuICAgICAgICovXG4gICAgICBcInJvdW5kZWQtZWVcIjogW3tcbiAgICAgICAgXCJyb3VuZGVkLWVlXCI6IHNjYWxlUmFkaXVzKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgUmFkaXVzIEVuZCBTdGFydFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1yYWRpdXNcbiAgICAgICAqL1xuICAgICAgXCJyb3VuZGVkLWVzXCI6IFt7XG4gICAgICAgIFwicm91bmRlZC1lc1wiOiBzY2FsZVJhZGl1cygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIFJhZGl1cyBUb3AgTGVmdFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1yYWRpdXNcbiAgICAgICAqL1xuICAgICAgXCJyb3VuZGVkLXRsXCI6IFt7XG4gICAgICAgIFwicm91bmRlZC10bFwiOiBzY2FsZVJhZGl1cygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIFJhZGl1cyBUb3AgUmlnaHRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItcmFkaXVzXG4gICAgICAgKi9cbiAgICAgIFwicm91bmRlZC10clwiOiBbe1xuICAgICAgICBcInJvdW5kZWQtdHJcIjogc2NhbGVSYWRpdXMoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBSYWRpdXMgQm90dG9tIFJpZ2h0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXJhZGl1c1xuICAgICAgICovXG4gICAgICBcInJvdW5kZWQtYnJcIjogW3tcbiAgICAgICAgXCJyb3VuZGVkLWJyXCI6IHNjYWxlUmFkaXVzKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgUmFkaXVzIEJvdHRvbSBMZWZ0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXJhZGl1c1xuICAgICAgICovXG4gICAgICBcInJvdW5kZWQtYmxcIjogW3tcbiAgICAgICAgXCJyb3VuZGVkLWJsXCI6IHNjYWxlUmFkaXVzKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgV2lkdGhcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItd2lkdGhcbiAgICAgICAqL1xuICAgICAgXCJib3JkZXItd1wiOiBbe1xuICAgICAgICBib3JkZXI6IHNjYWxlQm9yZGVyV2lkdGgoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBXaWR0aCBYXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXdpZHRoXG4gICAgICAgKi9cbiAgICAgIFwiYm9yZGVyLXcteFwiOiBbe1xuICAgICAgICBcImJvcmRlci14XCI6IHNjYWxlQm9yZGVyV2lkdGgoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBXaWR0aCBZXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXdpZHRoXG4gICAgICAgKi9cbiAgICAgIFwiYm9yZGVyLXcteVwiOiBbe1xuICAgICAgICBcImJvcmRlci15XCI6IHNjYWxlQm9yZGVyV2lkdGgoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBXaWR0aCBTdGFydFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci13aWR0aFxuICAgICAgICovXG4gICAgICBcImJvcmRlci13LXNcIjogW3tcbiAgICAgICAgXCJib3JkZXItc1wiOiBzY2FsZUJvcmRlcldpZHRoKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgV2lkdGggRW5kXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXdpZHRoXG4gICAgICAgKi9cbiAgICAgIFwiYm9yZGVyLXctZVwiOiBbe1xuICAgICAgICBcImJvcmRlci1lXCI6IHNjYWxlQm9yZGVyV2lkdGgoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBXaWR0aCBUb3BcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItd2lkdGhcbiAgICAgICAqL1xuICAgICAgXCJib3JkZXItdy10XCI6IFt7XG4gICAgICAgIFwiYm9yZGVyLXRcIjogc2NhbGVCb3JkZXJXaWR0aCgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIFdpZHRoIFJpZ2h0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXdpZHRoXG4gICAgICAgKi9cbiAgICAgIFwiYm9yZGVyLXctclwiOiBbe1xuICAgICAgICBcImJvcmRlci1yXCI6IHNjYWxlQm9yZGVyV2lkdGgoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBXaWR0aCBCb3R0b21cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItd2lkdGhcbiAgICAgICAqL1xuICAgICAgXCJib3JkZXItdy1iXCI6IFt7XG4gICAgICAgIFwiYm9yZGVyLWJcIjogc2NhbGVCb3JkZXJXaWR0aCgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIFdpZHRoIExlZnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItd2lkdGhcbiAgICAgICAqL1xuICAgICAgXCJib3JkZXItdy1sXCI6IFt7XG4gICAgICAgIFwiYm9yZGVyLWxcIjogc2NhbGVCb3JkZXJXaWR0aCgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogRGl2aWRlIFdpZHRoIFhcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItd2lkdGgjYmV0d2Vlbi1jaGlsZHJlblxuICAgICAgICovXG4gICAgICBcImRpdmlkZS14XCI6IFt7XG4gICAgICAgIFwiZGl2aWRlLXhcIjogc2NhbGVCb3JkZXJXaWR0aCgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogRGl2aWRlIFdpZHRoIFggUmV2ZXJzZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci13aWR0aCNiZXR3ZWVuLWNoaWxkcmVuXG4gICAgICAgKi9cbiAgICAgIFwiZGl2aWRlLXgtcmV2ZXJzZVwiOiBbXCJkaXZpZGUteC1yZXZlcnNlXCJdLFxuICAgICAgLyoqXG4gICAgICAgKiBEaXZpZGUgV2lkdGggWVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci13aWR0aCNiZXR3ZWVuLWNoaWxkcmVuXG4gICAgICAgKi9cbiAgICAgIFwiZGl2aWRlLXlcIjogW3tcbiAgICAgICAgXCJkaXZpZGUteVwiOiBzY2FsZUJvcmRlcldpZHRoKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBEaXZpZGUgV2lkdGggWSBSZXZlcnNlXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXdpZHRoI2JldHdlZW4tY2hpbGRyZW5cbiAgICAgICAqL1xuICAgICAgXCJkaXZpZGUteS1yZXZlcnNlXCI6IFtcImRpdmlkZS15LXJldmVyc2VcIl0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBTdHlsZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1zdHlsZVxuICAgICAgICovXG4gICAgICBcImJvcmRlci1zdHlsZVwiOiBbe1xuICAgICAgICBib3JkZXI6IFsuLi5zY2FsZUxpbmVTdHlsZSgpLCBcImhpZGRlblwiLCBcIm5vbmVcIl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBEaXZpZGUgU3R5bGVcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItc3R5bGUjc2V0dGluZy10aGUtZGl2aWRlci1zdHlsZVxuICAgICAgICovXG4gICAgICBcImRpdmlkZS1zdHlsZVwiOiBbe1xuICAgICAgICBkaXZpZGU6IFsuLi5zY2FsZUxpbmVTdHlsZSgpLCBcImhpZGRlblwiLCBcIm5vbmVcIl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgQ29sb3JcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItY29sb3JcbiAgICAgICAqL1xuICAgICAgXCJib3JkZXItY29sb3JcIjogW3tcbiAgICAgICAgYm9yZGVyOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgQ29sb3IgWFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1jb2xvclxuICAgICAgICovXG4gICAgICBcImJvcmRlci1jb2xvci14XCI6IFt7XG4gICAgICAgIFwiYm9yZGVyLXhcIjogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIENvbG9yIFlcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItY29sb3JcbiAgICAgICAqL1xuICAgICAgXCJib3JkZXItY29sb3IteVwiOiBbe1xuICAgICAgICBcImJvcmRlci15XCI6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBDb2xvciBTXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLWNvbG9yXG4gICAgICAgKi9cbiAgICAgIFwiYm9yZGVyLWNvbG9yLXNcIjogW3tcbiAgICAgICAgXCJib3JkZXItc1wiOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgQ29sb3IgRVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1jb2xvclxuICAgICAgICovXG4gICAgICBcImJvcmRlci1jb2xvci1lXCI6IFt7XG4gICAgICAgIFwiYm9yZGVyLWVcIjogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIENvbG9yIFRvcFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1jb2xvclxuICAgICAgICovXG4gICAgICBcImJvcmRlci1jb2xvci10XCI6IFt7XG4gICAgICAgIFwiYm9yZGVyLXRcIjogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIENvbG9yIFJpZ2h0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLWNvbG9yXG4gICAgICAgKi9cbiAgICAgIFwiYm9yZGVyLWNvbG9yLXJcIjogW3tcbiAgICAgICAgXCJib3JkZXItclwiOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgQ29sb3IgQm90dG9tXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLWNvbG9yXG4gICAgICAgKi9cbiAgICAgIFwiYm9yZGVyLWNvbG9yLWJcIjogW3tcbiAgICAgICAgXCJib3JkZXItYlwiOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgQ29sb3IgTGVmdFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1jb2xvclxuICAgICAgICovXG4gICAgICBcImJvcmRlci1jb2xvci1sXCI6IFt7XG4gICAgICAgIFwiYm9yZGVyLWxcIjogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogRGl2aWRlIENvbG9yXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZGl2aWRlLWNvbG9yXG4gICAgICAgKi9cbiAgICAgIFwiZGl2aWRlLWNvbG9yXCI6IFt7XG4gICAgICAgIGRpdmlkZTogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogT3V0bGluZSBTdHlsZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL291dGxpbmUtc3R5bGVcbiAgICAgICAqL1xuICAgICAgXCJvdXRsaW5lLXN0eWxlXCI6IFt7XG4gICAgICAgIG91dGxpbmU6IFsuLi5zY2FsZUxpbmVTdHlsZSgpLCBcIm5vbmVcIiwgXCJoaWRkZW5cIl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBPdXRsaW5lIE9mZnNldFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL291dGxpbmUtb2Zmc2V0XG4gICAgICAgKi9cbiAgICAgIFwib3V0bGluZS1vZmZzZXRcIjogW3tcbiAgICAgICAgXCJvdXRsaW5lLW9mZnNldFwiOiBbaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogT3V0bGluZSBXaWR0aFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL291dGxpbmUtd2lkdGhcbiAgICAgICAqL1xuICAgICAgXCJvdXRsaW5lLXdcIjogW3tcbiAgICAgICAgb3V0bGluZTogW1wiXCIsIGlzTnVtYmVyLCBpc0FyYml0cmFyeVZhcmlhYmxlTGVuZ3RoLCBpc0FyYml0cmFyeUxlbmd0aF1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBPdXRsaW5lIENvbG9yXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvb3V0bGluZS1jb2xvclxuICAgICAgICovXG4gICAgICBcIm91dGxpbmUtY29sb3JcIjogW3tcbiAgICAgICAgb3V0bGluZTogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLVxuICAgICAgLy8gLS0tIEVmZmVjdHMgLS0tXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8qKlxuICAgICAgICogQm94IFNoYWRvd1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JveC1zaGFkb3dcbiAgICAgICAqL1xuICAgICAgc2hhZG93OiBbe1xuICAgICAgICBzaGFkb3c6IFtcbiAgICAgICAgICAvLyBEZXByZWNhdGVkIHNpbmNlIFRhaWx3aW5kIENTUyB2NC4wLjBcbiAgICAgICAgICBcIlwiLFxuICAgICAgICAgIFwibm9uZVwiLFxuICAgICAgICAgIHRoZW1lU2hhZG93LFxuICAgICAgICAgIGlzQXJiaXRyYXJ5VmFyaWFibGVTaGFkb3csXG4gICAgICAgICAgaXNBcmJpdHJhcnlTaGFkb3dcbiAgICAgICAgXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJveCBTaGFkb3cgQ29sb3JcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3gtc2hhZG93I3NldHRpbmctdGhlLXNoYWRvdy1jb2xvclxuICAgICAgICovXG4gICAgICBcInNoYWRvdy1jb2xvclwiOiBbe1xuICAgICAgICBzaGFkb3c6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEluc2V0IEJveCBTaGFkb3dcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3gtc2hhZG93I2FkZGluZy1hbi1pbnNldC1zaGFkb3dcbiAgICAgICAqL1xuICAgICAgXCJpbnNldC1zaGFkb3dcIjogW3tcbiAgICAgICAgXCJpbnNldC1zaGFkb3dcIjogW1wibm9uZVwiLCB0aGVtZUluc2V0U2hhZG93LCBpc0FyYml0cmFyeVZhcmlhYmxlU2hhZG93LCBpc0FyYml0cmFyeVNoYWRvd11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBJbnNldCBCb3ggU2hhZG93IENvbG9yXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm94LXNoYWRvdyNzZXR0aW5nLXRoZS1pbnNldC1zaGFkb3ctY29sb3JcbiAgICAgICAqL1xuICAgICAgXCJpbnNldC1zaGFkb3ctY29sb3JcIjogW3tcbiAgICAgICAgXCJpbnNldC1zaGFkb3dcIjogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogUmluZyBXaWR0aFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JveC1zaGFkb3cjYWRkaW5nLWEtcmluZ1xuICAgICAgICovXG4gICAgICBcInJpbmctd1wiOiBbe1xuICAgICAgICByaW5nOiBzY2FsZUJvcmRlcldpZHRoKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBSaW5nIFdpZHRoIEluc2V0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdjMudGFpbHdpbmRjc3MuY29tL2RvY3MvcmluZy13aWR0aCNpbnNldC1yaW5nc1xuICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgVGFpbHdpbmQgQ1NTIHY0LjAuMFxuICAgICAgICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vdGFpbHdpbmRsYWJzL3RhaWx3aW5kY3NzL2Jsb2IvdjQuMC4wL3BhY2thZ2VzL3RhaWx3aW5kY3NzL3NyYy91dGlsaXRpZXMudHMjTDQxNThcbiAgICAgICAqL1xuICAgICAgXCJyaW5nLXctaW5zZXRcIjogW1wicmluZy1pbnNldFwiXSxcbiAgICAgIC8qKlxuICAgICAgICogUmluZyBDb2xvclxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JveC1zaGFkb3cjc2V0dGluZy10aGUtcmluZy1jb2xvclxuICAgICAgICovXG4gICAgICBcInJpbmctY29sb3JcIjogW3tcbiAgICAgICAgcmluZzogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogUmluZyBPZmZzZXQgV2lkdGhcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly92My50YWlsd2luZGNzcy5jb20vZG9jcy9yaW5nLW9mZnNldC13aWR0aFxuICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgVGFpbHdpbmQgQ1NTIHY0LjAuMFxuICAgICAgICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vdGFpbHdpbmRsYWJzL3RhaWx3aW5kY3NzL2Jsb2IvdjQuMC4wL3BhY2thZ2VzL3RhaWx3aW5kY3NzL3NyYy91dGlsaXRpZXMudHMjTDQxNThcbiAgICAgICAqL1xuICAgICAgXCJyaW5nLW9mZnNldC13XCI6IFt7XG4gICAgICAgIFwicmluZy1vZmZzZXRcIjogW2lzTnVtYmVyLCBpc0FyYml0cmFyeUxlbmd0aF1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBSaW5nIE9mZnNldCBDb2xvclxuICAgICAgICogQHNlZSBodHRwczovL3YzLnRhaWx3aW5kY3NzLmNvbS9kb2NzL3Jpbmctb2Zmc2V0LWNvbG9yXG4gICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSBUYWlsd2luZCBDU1MgdjQuMC4wXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS90YWlsd2luZGxhYnMvdGFpbHdpbmRjc3MvYmxvYi92NC4wLjAvcGFja2FnZXMvdGFpbHdpbmRjc3Mvc3JjL3V0aWxpdGllcy50cyNMNDE1OFxuICAgICAgICovXG4gICAgICBcInJpbmctb2Zmc2V0LWNvbG9yXCI6IFt7XG4gICAgICAgIFwicmluZy1vZmZzZXRcIjogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogSW5zZXQgUmluZyBXaWR0aFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JveC1zaGFkb3cjYWRkaW5nLWFuLWluc2V0LXJpbmdcbiAgICAgICAqL1xuICAgICAgXCJpbnNldC1yaW5nLXdcIjogW3tcbiAgICAgICAgXCJpbnNldC1yaW5nXCI6IHNjYWxlQm9yZGVyV2lkdGgoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEluc2V0IFJpbmcgQ29sb3JcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3gtc2hhZG93I3NldHRpbmctdGhlLWluc2V0LXJpbmctY29sb3JcbiAgICAgICAqL1xuICAgICAgXCJpbnNldC1yaW5nLWNvbG9yXCI6IFt7XG4gICAgICAgIFwiaW5zZXQtcmluZ1wiOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBUZXh0IFNoYWRvd1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RleHQtc2hhZG93XG4gICAgICAgKi9cbiAgICAgIFwidGV4dC1zaGFkb3dcIjogW3tcbiAgICAgICAgXCJ0ZXh0LXNoYWRvd1wiOiBbXCJub25lXCIsIHRoZW1lVGV4dFNoYWRvdywgaXNBcmJpdHJhcnlWYXJpYWJsZVNoYWRvdywgaXNBcmJpdHJhcnlTaGFkb3ddXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogVGV4dCBTaGFkb3cgQ29sb3JcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90ZXh0LXNoYWRvdyNzZXR0aW5nLXRoZS1zaGFkb3ctY29sb3JcbiAgICAgICAqL1xuICAgICAgXCJ0ZXh0LXNoYWRvdy1jb2xvclwiOiBbe1xuICAgICAgICBcInRleHQtc2hhZG93XCI6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE9wYWNpdHlcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9vcGFjaXR5XG4gICAgICAgKi9cbiAgICAgIG9wYWNpdHk6IFt7XG4gICAgICAgIG9wYWNpdHk6IFtpc051bWJlciwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBNaXggQmxlbmQgTW9kZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21peC1ibGVuZC1tb2RlXG4gICAgICAgKi9cbiAgICAgIFwibWl4LWJsZW5kXCI6IFt7XG4gICAgICAgIFwibWl4LWJsZW5kXCI6IFsuLi5zY2FsZUJsZW5kTW9kZSgpLCBcInBsdXMtZGFya2VyXCIsIFwicGx1cy1saWdodGVyXCJdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQmFja2dyb3VuZCBCbGVuZCBNb2RlXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2dyb3VuZC1ibGVuZC1tb2RlXG4gICAgICAgKi9cbiAgICAgIFwiYmctYmxlbmRcIjogW3tcbiAgICAgICAgXCJiZy1ibGVuZFwiOiBzY2FsZUJsZW5kTW9kZSgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogTWFzayBDbGlwXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFzay1jbGlwXG4gICAgICAgKi9cbiAgICAgIFwibWFzay1jbGlwXCI6IFt7XG4gICAgICAgIFwibWFzay1jbGlwXCI6IFtcImJvcmRlclwiLCBcInBhZGRpbmdcIiwgXCJjb250ZW50XCIsIFwiZmlsbFwiLCBcInN0cm9rZVwiLCBcInZpZXdcIl1cbiAgICAgIH0sIFwibWFzay1uby1jbGlwXCJdLFxuICAgICAgLyoqXG4gICAgICAgKiBNYXNrIENvbXBvc2l0ZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21hc2stY29tcG9zaXRlXG4gICAgICAgKi9cbiAgICAgIFwibWFzay1jb21wb3NpdGVcIjogW3tcbiAgICAgICAgbWFzazogW1wiYWRkXCIsIFwic3VidHJhY3RcIiwgXCJpbnRlcnNlY3RcIiwgXCJleGNsdWRlXCJdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogTWFzayBJbWFnZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21hc2staW1hZ2VcbiAgICAgICAqL1xuICAgICAgXCJtYXNrLWltYWdlLWxpbmVhci1wb3NcIjogW3tcbiAgICAgICAgXCJtYXNrLWxpbmVhclwiOiBbaXNOdW1iZXJdXG4gICAgICB9XSxcbiAgICAgIFwibWFzay1pbWFnZS1saW5lYXItZnJvbS1wb3NcIjogW3tcbiAgICAgICAgXCJtYXNrLWxpbmVhci1mcm9tXCI6IHNjYWxlTWFza0ltYWdlUG9zaXRpb24oKVxuICAgICAgfV0sXG4gICAgICBcIm1hc2staW1hZ2UtbGluZWFyLXRvLXBvc1wiOiBbe1xuICAgICAgICBcIm1hc2stbGluZWFyLXRvXCI6IHNjYWxlTWFza0ltYWdlUG9zaXRpb24oKVxuICAgICAgfV0sXG4gICAgICBcIm1hc2staW1hZ2UtbGluZWFyLWZyb20tY29sb3JcIjogW3tcbiAgICAgICAgXCJtYXNrLWxpbmVhci1mcm9tXCI6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICBcIm1hc2staW1hZ2UtbGluZWFyLXRvLWNvbG9yXCI6IFt7XG4gICAgICAgIFwibWFzay1saW5lYXItdG9cIjogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIFwibWFzay1pbWFnZS10LWZyb20tcG9zXCI6IFt7XG4gICAgICAgIFwibWFzay10LWZyb21cIjogc2NhbGVNYXNrSW1hZ2VQb3NpdGlvbigpXG4gICAgICB9XSxcbiAgICAgIFwibWFzay1pbWFnZS10LXRvLXBvc1wiOiBbe1xuICAgICAgICBcIm1hc2stdC10b1wiOiBzY2FsZU1hc2tJbWFnZVBvc2l0aW9uKClcbiAgICAgIH1dLFxuICAgICAgXCJtYXNrLWltYWdlLXQtZnJvbS1jb2xvclwiOiBbe1xuICAgICAgICBcIm1hc2stdC1mcm9tXCI6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICBcIm1hc2staW1hZ2UtdC10by1jb2xvclwiOiBbe1xuICAgICAgICBcIm1hc2stdC10b1wiOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgXCJtYXNrLWltYWdlLXItZnJvbS1wb3NcIjogW3tcbiAgICAgICAgXCJtYXNrLXItZnJvbVwiOiBzY2FsZU1hc2tJbWFnZVBvc2l0aW9uKClcbiAgICAgIH1dLFxuICAgICAgXCJtYXNrLWltYWdlLXItdG8tcG9zXCI6IFt7XG4gICAgICAgIFwibWFzay1yLXRvXCI6IHNjYWxlTWFza0ltYWdlUG9zaXRpb24oKVxuICAgICAgfV0sXG4gICAgICBcIm1hc2staW1hZ2Utci1mcm9tLWNvbG9yXCI6IFt7XG4gICAgICAgIFwibWFzay1yLWZyb21cIjogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIFwibWFzay1pbWFnZS1yLXRvLWNvbG9yXCI6IFt7XG4gICAgICAgIFwibWFzay1yLXRvXCI6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICBcIm1hc2staW1hZ2UtYi1mcm9tLXBvc1wiOiBbe1xuICAgICAgICBcIm1hc2stYi1mcm9tXCI6IHNjYWxlTWFza0ltYWdlUG9zaXRpb24oKVxuICAgICAgfV0sXG4gICAgICBcIm1hc2staW1hZ2UtYi10by1wb3NcIjogW3tcbiAgICAgICAgXCJtYXNrLWItdG9cIjogc2NhbGVNYXNrSW1hZ2VQb3NpdGlvbigpXG4gICAgICB9XSxcbiAgICAgIFwibWFzay1pbWFnZS1iLWZyb20tY29sb3JcIjogW3tcbiAgICAgICAgXCJtYXNrLWItZnJvbVwiOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgXCJtYXNrLWltYWdlLWItdG8tY29sb3JcIjogW3tcbiAgICAgICAgXCJtYXNrLWItdG9cIjogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIFwibWFzay1pbWFnZS1sLWZyb20tcG9zXCI6IFt7XG4gICAgICAgIFwibWFzay1sLWZyb21cIjogc2NhbGVNYXNrSW1hZ2VQb3NpdGlvbigpXG4gICAgICB9XSxcbiAgICAgIFwibWFzay1pbWFnZS1sLXRvLXBvc1wiOiBbe1xuICAgICAgICBcIm1hc2stbC10b1wiOiBzY2FsZU1hc2tJbWFnZVBvc2l0aW9uKClcbiAgICAgIH1dLFxuICAgICAgXCJtYXNrLWltYWdlLWwtZnJvbS1jb2xvclwiOiBbe1xuICAgICAgICBcIm1hc2stbC1mcm9tXCI6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICBcIm1hc2staW1hZ2UtbC10by1jb2xvclwiOiBbe1xuICAgICAgICBcIm1hc2stbC10b1wiOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgXCJtYXNrLWltYWdlLXgtZnJvbS1wb3NcIjogW3tcbiAgICAgICAgXCJtYXNrLXgtZnJvbVwiOiBzY2FsZU1hc2tJbWFnZVBvc2l0aW9uKClcbiAgICAgIH1dLFxuICAgICAgXCJtYXNrLWltYWdlLXgtdG8tcG9zXCI6IFt7XG4gICAgICAgIFwibWFzay14LXRvXCI6IHNjYWxlTWFza0ltYWdlUG9zaXRpb24oKVxuICAgICAgfV0sXG4gICAgICBcIm1hc2staW1hZ2UteC1mcm9tLWNvbG9yXCI6IFt7XG4gICAgICAgIFwibWFzay14LWZyb21cIjogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIFwibWFzay1pbWFnZS14LXRvLWNvbG9yXCI6IFt7XG4gICAgICAgIFwibWFzay14LXRvXCI6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICBcIm1hc2staW1hZ2UteS1mcm9tLXBvc1wiOiBbe1xuICAgICAgICBcIm1hc2steS1mcm9tXCI6IHNjYWxlTWFza0ltYWdlUG9zaXRpb24oKVxuICAgICAgfV0sXG4gICAgICBcIm1hc2staW1hZ2UteS10by1wb3NcIjogW3tcbiAgICAgICAgXCJtYXNrLXktdG9cIjogc2NhbGVNYXNrSW1hZ2VQb3NpdGlvbigpXG4gICAgICB9XSxcbiAgICAgIFwibWFzay1pbWFnZS15LWZyb20tY29sb3JcIjogW3tcbiAgICAgICAgXCJtYXNrLXktZnJvbVwiOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgXCJtYXNrLWltYWdlLXktdG8tY29sb3JcIjogW3tcbiAgICAgICAgXCJtYXNrLXktdG9cIjogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIFwibWFzay1pbWFnZS1yYWRpYWxcIjogW3tcbiAgICAgICAgXCJtYXNrLXJhZGlhbFwiOiBbaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgIH1dLFxuICAgICAgXCJtYXNrLWltYWdlLXJhZGlhbC1mcm9tLXBvc1wiOiBbe1xuICAgICAgICBcIm1hc2stcmFkaWFsLWZyb21cIjogc2NhbGVNYXNrSW1hZ2VQb3NpdGlvbigpXG4gICAgICB9XSxcbiAgICAgIFwibWFzay1pbWFnZS1yYWRpYWwtdG8tcG9zXCI6IFt7XG4gICAgICAgIFwibWFzay1yYWRpYWwtdG9cIjogc2NhbGVNYXNrSW1hZ2VQb3NpdGlvbigpXG4gICAgICB9XSxcbiAgICAgIFwibWFzay1pbWFnZS1yYWRpYWwtZnJvbS1jb2xvclwiOiBbe1xuICAgICAgICBcIm1hc2stcmFkaWFsLWZyb21cIjogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIFwibWFzay1pbWFnZS1yYWRpYWwtdG8tY29sb3JcIjogW3tcbiAgICAgICAgXCJtYXNrLXJhZGlhbC10b1wiOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgXCJtYXNrLWltYWdlLXJhZGlhbC1zaGFwZVwiOiBbe1xuICAgICAgICBcIm1hc2stcmFkaWFsXCI6IFtcImNpcmNsZVwiLCBcImVsbGlwc2VcIl1cbiAgICAgIH1dLFxuICAgICAgXCJtYXNrLWltYWdlLXJhZGlhbC1zaXplXCI6IFt7XG4gICAgICAgIFwibWFzay1yYWRpYWxcIjogW3tcbiAgICAgICAgICBjbG9zZXN0OiBbXCJzaWRlXCIsIFwiY29ybmVyXCJdLFxuICAgICAgICAgIGZhcnRoZXN0OiBbXCJzaWRlXCIsIFwiY29ybmVyXCJdXG4gICAgICAgIH1dXG4gICAgICB9XSxcbiAgICAgIFwibWFzay1pbWFnZS1yYWRpYWwtcG9zXCI6IFt7XG4gICAgICAgIFwibWFzay1yYWRpYWwtYXRcIjogc2NhbGVQb3NpdGlvbigpXG4gICAgICB9XSxcbiAgICAgIFwibWFzay1pbWFnZS1jb25pYy1wb3NcIjogW3tcbiAgICAgICAgXCJtYXNrLWNvbmljXCI6IFtpc051bWJlcl1cbiAgICAgIH1dLFxuICAgICAgXCJtYXNrLWltYWdlLWNvbmljLWZyb20tcG9zXCI6IFt7XG4gICAgICAgIFwibWFzay1jb25pYy1mcm9tXCI6IHNjYWxlTWFza0ltYWdlUG9zaXRpb24oKVxuICAgICAgfV0sXG4gICAgICBcIm1hc2staW1hZ2UtY29uaWMtdG8tcG9zXCI6IFt7XG4gICAgICAgIFwibWFzay1jb25pYy10b1wiOiBzY2FsZU1hc2tJbWFnZVBvc2l0aW9uKClcbiAgICAgIH1dLFxuICAgICAgXCJtYXNrLWltYWdlLWNvbmljLWZyb20tY29sb3JcIjogW3tcbiAgICAgICAgXCJtYXNrLWNvbmljLWZyb21cIjogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIFwibWFzay1pbWFnZS1jb25pYy10by1jb2xvclwiOiBbe1xuICAgICAgICBcIm1hc2stY29uaWMtdG9cIjogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogTWFzayBNb2RlXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFzay1tb2RlXG4gICAgICAgKi9cbiAgICAgIFwibWFzay1tb2RlXCI6IFt7XG4gICAgICAgIG1hc2s6IFtcImFscGhhXCIsIFwibHVtaW5hbmNlXCIsIFwibWF0Y2hcIl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBNYXNrIE9yaWdpblxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21hc2stb3JpZ2luXG4gICAgICAgKi9cbiAgICAgIFwibWFzay1vcmlnaW5cIjogW3tcbiAgICAgICAgXCJtYXNrLW9yaWdpblwiOiBbXCJib3JkZXJcIiwgXCJwYWRkaW5nXCIsIFwiY29udGVudFwiLCBcImZpbGxcIiwgXCJzdHJva2VcIiwgXCJ2aWV3XCJdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogTWFzayBQb3NpdGlvblxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21hc2stcG9zaXRpb25cbiAgICAgICAqL1xuICAgICAgXCJtYXNrLXBvc2l0aW9uXCI6IFt7XG4gICAgICAgIG1hc2s6IHNjYWxlQmdQb3NpdGlvbigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogTWFzayBSZXBlYXRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9tYXNrLXJlcGVhdFxuICAgICAgICovXG4gICAgICBcIm1hc2stcmVwZWF0XCI6IFt7XG4gICAgICAgIG1hc2s6IHNjYWxlQmdSZXBlYXQoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE1hc2sgU2l6ZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21hc2stc2l6ZVxuICAgICAgICovXG4gICAgICBcIm1hc2stc2l6ZVwiOiBbe1xuICAgICAgICBtYXNrOiBzY2FsZUJnU2l6ZSgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogTWFzayBUeXBlXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFzay10eXBlXG4gICAgICAgKi9cbiAgICAgIFwibWFzay10eXBlXCI6IFt7XG4gICAgICAgIFwibWFzay10eXBlXCI6IFtcImFscGhhXCIsIFwibHVtaW5hbmNlXCJdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogTWFzayBJbWFnZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21hc2staW1hZ2VcbiAgICAgICAqL1xuICAgICAgXCJtYXNrLWltYWdlXCI6IFt7XG4gICAgICAgIG1hc2s6IFtcIm5vbmVcIiwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgIH1dLFxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tXG4gICAgICAvLyAtLS0gRmlsdGVycyAtLS1cbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLVxuICAgICAgLyoqXG4gICAgICAgKiBGaWx0ZXJcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9maWx0ZXJcbiAgICAgICAqL1xuICAgICAgZmlsdGVyOiBbe1xuICAgICAgICBmaWx0ZXI6IFtcbiAgICAgICAgICAvLyBEZXByZWNhdGVkIHNpbmNlIFRhaWx3aW5kIENTUyB2My4wLjBcbiAgICAgICAgICBcIlwiLFxuICAgICAgICAgIFwibm9uZVwiLFxuICAgICAgICAgIGlzQXJiaXRyYXJ5VmFyaWFibGUsXG4gICAgICAgICAgaXNBcmJpdHJhcnlWYWx1ZVxuICAgICAgICBdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQmx1clxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JsdXJcbiAgICAgICAqL1xuICAgICAgYmx1cjogW3tcbiAgICAgICAgYmx1cjogc2NhbGVCbHVyKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCcmlnaHRuZXNzXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYnJpZ2h0bmVzc1xuICAgICAgICovXG4gICAgICBicmlnaHRuZXNzOiBbe1xuICAgICAgICBicmlnaHRuZXNzOiBbaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQ29udHJhc3RcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9jb250cmFzdFxuICAgICAgICovXG4gICAgICBjb250cmFzdDogW3tcbiAgICAgICAgY29udHJhc3Q6IFtpc051bWJlciwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBEcm9wIFNoYWRvd1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2Ryb3Atc2hhZG93XG4gICAgICAgKi9cbiAgICAgIFwiZHJvcC1zaGFkb3dcIjogW3tcbiAgICAgICAgXCJkcm9wLXNoYWRvd1wiOiBbXG4gICAgICAgICAgLy8gRGVwcmVjYXRlZCBzaW5jZSBUYWlsd2luZCBDU1MgdjQuMC4wXG4gICAgICAgICAgXCJcIixcbiAgICAgICAgICBcIm5vbmVcIixcbiAgICAgICAgICB0aGVtZURyb3BTaGFkb3csXG4gICAgICAgICAgaXNBcmJpdHJhcnlWYXJpYWJsZVNoYWRvdyxcbiAgICAgICAgICBpc0FyYml0cmFyeVNoYWRvd1xuICAgICAgICBdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogRHJvcCBTaGFkb3cgQ29sb3JcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9maWx0ZXItZHJvcC1zaGFkb3cjc2V0dGluZy10aGUtc2hhZG93LWNvbG9yXG4gICAgICAgKi9cbiAgICAgIFwiZHJvcC1zaGFkb3ctY29sb3JcIjogW3tcbiAgICAgICAgXCJkcm9wLXNoYWRvd1wiOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBHcmF5c2NhbGVcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ncmF5c2NhbGVcbiAgICAgICAqL1xuICAgICAgZ3JheXNjYWxlOiBbe1xuICAgICAgICBncmF5c2NhbGU6IFtcIlwiLCBpc051bWJlciwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBIdWUgUm90YXRlXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvaHVlLXJvdGF0ZVxuICAgICAgICovXG4gICAgICBcImh1ZS1yb3RhdGVcIjogW3tcbiAgICAgICAgXCJodWUtcm90YXRlXCI6IFtpc051bWJlciwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBJbnZlcnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9pbnZlcnRcbiAgICAgICAqL1xuICAgICAgaW52ZXJ0OiBbe1xuICAgICAgICBpbnZlcnQ6IFtcIlwiLCBpc051bWJlciwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTYXR1cmF0ZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3NhdHVyYXRlXG4gICAgICAgKi9cbiAgICAgIHNhdHVyYXRlOiBbe1xuICAgICAgICBzYXR1cmF0ZTogW2lzTnVtYmVyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFNlcGlhXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2VwaWFcbiAgICAgICAqL1xuICAgICAgc2VwaWE6IFt7XG4gICAgICAgIHNlcGlhOiBbXCJcIiwgaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQmFja2Ryb3AgRmlsdGVyXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2Ryb3AtZmlsdGVyXG4gICAgICAgKi9cbiAgICAgIFwiYmFja2Ryb3AtZmlsdGVyXCI6IFt7XG4gICAgICAgIFwiYmFja2Ryb3AtZmlsdGVyXCI6IFtcbiAgICAgICAgICAvLyBEZXByZWNhdGVkIHNpbmNlIFRhaWx3aW5kIENTUyB2My4wLjBcbiAgICAgICAgICBcIlwiLFxuICAgICAgICAgIFwibm9uZVwiLFxuICAgICAgICAgIGlzQXJiaXRyYXJ5VmFyaWFibGUsXG4gICAgICAgICAgaXNBcmJpdHJhcnlWYWx1ZVxuICAgICAgICBdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQmFja2Ryb3AgQmx1clxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tkcm9wLWJsdXJcbiAgICAgICAqL1xuICAgICAgXCJiYWNrZHJvcC1ibHVyXCI6IFt7XG4gICAgICAgIFwiYmFja2Ryb3AtYmx1clwiOiBzY2FsZUJsdXIoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJhY2tkcm9wIEJyaWdodG5lc3NcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9iYWNrZHJvcC1icmlnaHRuZXNzXG4gICAgICAgKi9cbiAgICAgIFwiYmFja2Ryb3AtYnJpZ2h0bmVzc1wiOiBbe1xuICAgICAgICBcImJhY2tkcm9wLWJyaWdodG5lc3NcIjogW2lzTnVtYmVyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJhY2tkcm9wIENvbnRyYXN0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2Ryb3AtY29udHJhc3RcbiAgICAgICAqL1xuICAgICAgXCJiYWNrZHJvcC1jb250cmFzdFwiOiBbe1xuICAgICAgICBcImJhY2tkcm9wLWNvbnRyYXN0XCI6IFtpc051bWJlciwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCYWNrZHJvcCBHcmF5c2NhbGVcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9iYWNrZHJvcC1ncmF5c2NhbGVcbiAgICAgICAqL1xuICAgICAgXCJiYWNrZHJvcC1ncmF5c2NhbGVcIjogW3tcbiAgICAgICAgXCJiYWNrZHJvcC1ncmF5c2NhbGVcIjogW1wiXCIsIGlzTnVtYmVyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJhY2tkcm9wIEh1ZSBSb3RhdGVcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9iYWNrZHJvcC1odWUtcm90YXRlXG4gICAgICAgKi9cbiAgICAgIFwiYmFja2Ryb3AtaHVlLXJvdGF0ZVwiOiBbe1xuICAgICAgICBcImJhY2tkcm9wLWh1ZS1yb3RhdGVcIjogW2lzTnVtYmVyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJhY2tkcm9wIEludmVydFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tkcm9wLWludmVydFxuICAgICAgICovXG4gICAgICBcImJhY2tkcm9wLWludmVydFwiOiBbe1xuICAgICAgICBcImJhY2tkcm9wLWludmVydFwiOiBbXCJcIiwgaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQmFja2Ryb3AgT3BhY2l0eVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tkcm9wLW9wYWNpdHlcbiAgICAgICAqL1xuICAgICAgXCJiYWNrZHJvcC1vcGFjaXR5XCI6IFt7XG4gICAgICAgIFwiYmFja2Ryb3Atb3BhY2l0eVwiOiBbaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQmFja2Ryb3AgU2F0dXJhdGVcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9iYWNrZHJvcC1zYXR1cmF0ZVxuICAgICAgICovXG4gICAgICBcImJhY2tkcm9wLXNhdHVyYXRlXCI6IFt7XG4gICAgICAgIFwiYmFja2Ryb3Atc2F0dXJhdGVcIjogW2lzTnVtYmVyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJhY2tkcm9wIFNlcGlhXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2Ryb3Atc2VwaWFcbiAgICAgICAqL1xuICAgICAgXCJiYWNrZHJvcC1zZXBpYVwiOiBbe1xuICAgICAgICBcImJhY2tkcm9wLXNlcGlhXCI6IFtcIlwiLCBpc051bWJlciwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgIH1dLFxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8vIC0tLSBUYWJsZXMgLS0tXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLVxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgQ29sbGFwc2VcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItY29sbGFwc2VcbiAgICAgICAqL1xuICAgICAgXCJib3JkZXItY29sbGFwc2VcIjogW3tcbiAgICAgICAgYm9yZGVyOiBbXCJjb2xsYXBzZVwiLCBcInNlcGFyYXRlXCJdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIFNwYWNpbmdcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItc3BhY2luZ1xuICAgICAgICovXG4gICAgICBcImJvcmRlci1zcGFjaW5nXCI6IFt7XG4gICAgICAgIFwiYm9yZGVyLXNwYWNpbmdcIjogc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBTcGFjaW5nIFhcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItc3BhY2luZ1xuICAgICAgICovXG4gICAgICBcImJvcmRlci1zcGFjaW5nLXhcIjogW3tcbiAgICAgICAgXCJib3JkZXItc3BhY2luZy14XCI6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgU3BhY2luZyBZXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXNwYWNpbmdcbiAgICAgICAqL1xuICAgICAgXCJib3JkZXItc3BhY2luZy15XCI6IFt7XG4gICAgICAgIFwiYm9yZGVyLXNwYWNpbmcteVwiOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogVGFibGUgTGF5b3V0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdGFibGUtbGF5b3V0XG4gICAgICAgKi9cbiAgICAgIFwidGFibGUtbGF5b3V0XCI6IFt7XG4gICAgICAgIHRhYmxlOiBbXCJhdXRvXCIsIFwiZml4ZWRcIl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBDYXB0aW9uIFNpZGVcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9jYXB0aW9uLXNpZGVcbiAgICAgICAqL1xuICAgICAgY2FwdGlvbjogW3tcbiAgICAgICAgY2FwdGlvbjogW1widG9wXCIsIFwiYm90dG9tXCJdXG4gICAgICB9XSxcbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgLy8gLS0tIFRyYW5zaXRpb25zIGFuZCBBbmltYXRpb24gLS0tXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8qKlxuICAgICAgICogVHJhbnNpdGlvbiBQcm9wZXJ0eVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RyYW5zaXRpb24tcHJvcGVydHlcbiAgICAgICAqL1xuICAgICAgdHJhbnNpdGlvbjogW3tcbiAgICAgICAgdHJhbnNpdGlvbjogW1wiXCIsIFwiYWxsXCIsIFwiY29sb3JzXCIsIFwib3BhY2l0eVwiLCBcInNoYWRvd1wiLCBcInRyYW5zZm9ybVwiLCBcIm5vbmVcIiwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBUcmFuc2l0aW9uIEJlaGF2aW9yXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdHJhbnNpdGlvbi1iZWhhdmlvclxuICAgICAgICovXG4gICAgICBcInRyYW5zaXRpb24tYmVoYXZpb3JcIjogW3tcbiAgICAgICAgdHJhbnNpdGlvbjogW1wibm9ybWFsXCIsIFwiZGlzY3JldGVcIl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBUcmFuc2l0aW9uIER1cmF0aW9uXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdHJhbnNpdGlvbi1kdXJhdGlvblxuICAgICAgICovXG4gICAgICBkdXJhdGlvbjogW3tcbiAgICAgICAgZHVyYXRpb246IFtpc051bWJlciwgXCJpbml0aWFsXCIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogVHJhbnNpdGlvbiBUaW1pbmcgRnVuY3Rpb25cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvblxuICAgICAgICovXG4gICAgICBlYXNlOiBbe1xuICAgICAgICBlYXNlOiBbXCJsaW5lYXJcIiwgXCJpbml0aWFsXCIsIHRoZW1lRWFzZSwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBUcmFuc2l0aW9uIERlbGF5XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdHJhbnNpdGlvbi1kZWxheVxuICAgICAgICovXG4gICAgICBkZWxheTogW3tcbiAgICAgICAgZGVsYXk6IFtpc051bWJlciwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBBbmltYXRpb25cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9hbmltYXRpb25cbiAgICAgICAqL1xuICAgICAgYW5pbWF0ZTogW3tcbiAgICAgICAgYW5pbWF0ZTogW1wibm9uZVwiLCB0aGVtZUFuaW1hdGUsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgLy8gLS0tIFRyYW5zZm9ybXMgLS0tXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8qKlxuICAgICAgICogQmFja2ZhY2UgVmlzaWJpbGl0eVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tmYWNlLXZpc2liaWxpdHlcbiAgICAgICAqL1xuICAgICAgYmFja2ZhY2U6IFt7XG4gICAgICAgIGJhY2tmYWNlOiBbXCJoaWRkZW5cIiwgXCJ2aXNpYmxlXCJdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogUGVyc3BlY3RpdmVcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9wZXJzcGVjdGl2ZVxuICAgICAgICovXG4gICAgICBwZXJzcGVjdGl2ZTogW3tcbiAgICAgICAgcGVyc3BlY3RpdmU6IFt0aGVtZVBlcnNwZWN0aXZlLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFBlcnNwZWN0aXZlIE9yaWdpblxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3BlcnNwZWN0aXZlLW9yaWdpblxuICAgICAgICovXG4gICAgICBcInBlcnNwZWN0aXZlLW9yaWdpblwiOiBbe1xuICAgICAgICBcInBlcnNwZWN0aXZlLW9yaWdpblwiOiBzY2FsZVBvc2l0aW9uV2l0aEFyYml0cmFyeSgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogUm90YXRlXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvcm90YXRlXG4gICAgICAgKi9cbiAgICAgIHJvdGF0ZTogW3tcbiAgICAgICAgcm90YXRlOiBzY2FsZVJvdGF0ZSgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogUm90YXRlIFhcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9yb3RhdGVcbiAgICAgICAqL1xuICAgICAgXCJyb3RhdGUteFwiOiBbe1xuICAgICAgICBcInJvdGF0ZS14XCI6IHNjYWxlUm90YXRlKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBSb3RhdGUgWVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3JvdGF0ZVxuICAgICAgICovXG4gICAgICBcInJvdGF0ZS15XCI6IFt7XG4gICAgICAgIFwicm90YXRlLXlcIjogc2NhbGVSb3RhdGUoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFJvdGF0ZSBaXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvcm90YXRlXG4gICAgICAgKi9cbiAgICAgIFwicm90YXRlLXpcIjogW3tcbiAgICAgICAgXCJyb3RhdGUtelwiOiBzY2FsZVJvdGF0ZSgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2NhbGVcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY2FsZVxuICAgICAgICovXG4gICAgICBzY2FsZTogW3tcbiAgICAgICAgc2NhbGU6IHNjYWxlU2NhbGUoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFNjYWxlIFhcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY2FsZVxuICAgICAgICovXG4gICAgICBcInNjYWxlLXhcIjogW3tcbiAgICAgICAgXCJzY2FsZS14XCI6IHNjYWxlU2NhbGUoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFNjYWxlIFlcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY2FsZVxuICAgICAgICovXG4gICAgICBcInNjYWxlLXlcIjogW3tcbiAgICAgICAgXCJzY2FsZS15XCI6IHNjYWxlU2NhbGUoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFNjYWxlIFpcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY2FsZVxuICAgICAgICovXG4gICAgICBcInNjYWxlLXpcIjogW3tcbiAgICAgICAgXCJzY2FsZS16XCI6IHNjYWxlU2NhbGUoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFNjYWxlIDNEXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2NhbGVcbiAgICAgICAqL1xuICAgICAgXCJzY2FsZS0zZFwiOiBbXCJzY2FsZS0zZFwiXSxcbiAgICAgIC8qKlxuICAgICAgICogU2tld1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3NrZXdcbiAgICAgICAqL1xuICAgICAgc2tldzogW3tcbiAgICAgICAgc2tldzogc2NhbGVTa2V3KClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTa2V3IFhcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9za2V3XG4gICAgICAgKi9cbiAgICAgIFwic2tldy14XCI6IFt7XG4gICAgICAgIFwic2tldy14XCI6IHNjYWxlU2tldygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2tldyBZXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2tld1xuICAgICAgICovXG4gICAgICBcInNrZXcteVwiOiBbe1xuICAgICAgICBcInNrZXcteVwiOiBzY2FsZVNrZXcoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRyYW5zZm9ybVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RyYW5zZm9ybVxuICAgICAgICovXG4gICAgICB0cmFuc2Zvcm06IFt7XG4gICAgICAgIHRyYW5zZm9ybTogW2lzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWUsIFwiXCIsIFwibm9uZVwiLCBcImdwdVwiLCBcImNwdVwiXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRyYW5zZm9ybSBPcmlnaW5cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90cmFuc2Zvcm0tb3JpZ2luXG4gICAgICAgKi9cbiAgICAgIFwidHJhbnNmb3JtLW9yaWdpblwiOiBbe1xuICAgICAgICBvcmlnaW46IHNjYWxlUG9zaXRpb25XaXRoQXJiaXRyYXJ5KClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBUcmFuc2Zvcm0gU3R5bGVcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90cmFuc2Zvcm0tc3R5bGVcbiAgICAgICAqL1xuICAgICAgXCJ0cmFuc2Zvcm0tc3R5bGVcIjogW3tcbiAgICAgICAgdHJhbnNmb3JtOiBbXCIzZFwiLCBcImZsYXRcIl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBUcmFuc2xhdGVcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90cmFuc2xhdGVcbiAgICAgICAqL1xuICAgICAgdHJhbnNsYXRlOiBbe1xuICAgICAgICB0cmFuc2xhdGU6IHNjYWxlVHJhbnNsYXRlKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBUcmFuc2xhdGUgWFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RyYW5zbGF0ZVxuICAgICAgICovXG4gICAgICBcInRyYW5zbGF0ZS14XCI6IFt7XG4gICAgICAgIFwidHJhbnNsYXRlLXhcIjogc2NhbGVUcmFuc2xhdGUoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRyYW5zbGF0ZSBZXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdHJhbnNsYXRlXG4gICAgICAgKi9cbiAgICAgIFwidHJhbnNsYXRlLXlcIjogW3tcbiAgICAgICAgXCJ0cmFuc2xhdGUteVwiOiBzY2FsZVRyYW5zbGF0ZSgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogVHJhbnNsYXRlIFpcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90cmFuc2xhdGVcbiAgICAgICAqL1xuICAgICAgXCJ0cmFuc2xhdGUtelwiOiBbe1xuICAgICAgICBcInRyYW5zbGF0ZS16XCI6IHNjYWxlVHJhbnNsYXRlKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBUcmFuc2xhdGUgTm9uZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RyYW5zbGF0ZVxuICAgICAgICovXG4gICAgICBcInRyYW5zbGF0ZS1ub25lXCI6IFtcInRyYW5zbGF0ZS1ub25lXCJdLFxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAvLyAtLS0gSW50ZXJhY3Rpdml0eSAtLS1cbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgLyoqXG4gICAgICAgKiBBY2NlbnQgQ29sb3JcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9hY2NlbnQtY29sb3JcbiAgICAgICAqL1xuICAgICAgYWNjZW50OiBbe1xuICAgICAgICBhY2NlbnQ6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEFwcGVhcmFuY2VcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9hcHBlYXJhbmNlXG4gICAgICAgKi9cbiAgICAgIGFwcGVhcmFuY2U6IFt7XG4gICAgICAgIGFwcGVhcmFuY2U6IFtcIm5vbmVcIiwgXCJhdXRvXCJdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQ2FyZXQgQ29sb3JcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9qdXN0LWluLXRpbWUtbW9kZSNjYXJldC1jb2xvci11dGlsaXRpZXNcbiAgICAgICAqL1xuICAgICAgXCJjYXJldC1jb2xvclwiOiBbe1xuICAgICAgICBjYXJldDogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQ29sb3IgU2NoZW1lXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvY29sb3Itc2NoZW1lXG4gICAgICAgKi9cbiAgICAgIFwiY29sb3Itc2NoZW1lXCI6IFt7XG4gICAgICAgIHNjaGVtZTogW1wibm9ybWFsXCIsIFwiZGFya1wiLCBcImxpZ2h0XCIsIFwibGlnaHQtZGFya1wiLCBcIm9ubHktZGFya1wiLCBcIm9ubHktbGlnaHRcIl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBDdXJzb3JcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9jdXJzb3JcbiAgICAgICAqL1xuICAgICAgY3Vyc29yOiBbe1xuICAgICAgICBjdXJzb3I6IFtcImF1dG9cIiwgXCJkZWZhdWx0XCIsIFwicG9pbnRlclwiLCBcIndhaXRcIiwgXCJ0ZXh0XCIsIFwibW92ZVwiLCBcImhlbHBcIiwgXCJub3QtYWxsb3dlZFwiLCBcIm5vbmVcIiwgXCJjb250ZXh0LW1lbnVcIiwgXCJwcm9ncmVzc1wiLCBcImNlbGxcIiwgXCJjcm9zc2hhaXJcIiwgXCJ2ZXJ0aWNhbC10ZXh0XCIsIFwiYWxpYXNcIiwgXCJjb3B5XCIsIFwibm8tZHJvcFwiLCBcImdyYWJcIiwgXCJncmFiYmluZ1wiLCBcImFsbC1zY3JvbGxcIiwgXCJjb2wtcmVzaXplXCIsIFwicm93LXJlc2l6ZVwiLCBcIm4tcmVzaXplXCIsIFwiZS1yZXNpemVcIiwgXCJzLXJlc2l6ZVwiLCBcInctcmVzaXplXCIsIFwibmUtcmVzaXplXCIsIFwibnctcmVzaXplXCIsIFwic2UtcmVzaXplXCIsIFwic3ctcmVzaXplXCIsIFwiZXctcmVzaXplXCIsIFwibnMtcmVzaXplXCIsIFwibmVzdy1yZXNpemVcIiwgXCJud3NlLXJlc2l6ZVwiLCBcInpvb20taW5cIiwgXCJ6b29tLW91dFwiLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEZpZWxkIFNpemluZ1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZpZWxkLXNpemluZ1xuICAgICAgICovXG4gICAgICBcImZpZWxkLXNpemluZ1wiOiBbe1xuICAgICAgICBcImZpZWxkLXNpemluZ1wiOiBbXCJmaXhlZFwiLCBcImNvbnRlbnRcIl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBQb2ludGVyIEV2ZW50c1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3BvaW50ZXItZXZlbnRzXG4gICAgICAgKi9cbiAgICAgIFwicG9pbnRlci1ldmVudHNcIjogW3tcbiAgICAgICAgXCJwb2ludGVyLWV2ZW50c1wiOiBbXCJhdXRvXCIsIFwibm9uZVwiXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFJlc2l6ZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Jlc2l6ZVxuICAgICAgICovXG4gICAgICByZXNpemU6IFt7XG4gICAgICAgIHJlc2l6ZTogW1wibm9uZVwiLCBcIlwiLCBcInlcIiwgXCJ4XCJdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2Nyb2xsIEJlaGF2aW9yXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLWJlaGF2aW9yXG4gICAgICAgKi9cbiAgICAgIFwic2Nyb2xsLWJlaGF2aW9yXCI6IFt7XG4gICAgICAgIHNjcm9sbDogW1wiYXV0b1wiLCBcInNtb290aFwiXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFNjcm9sbCBNYXJnaW5cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY3JvbGwtbWFyZ2luXG4gICAgICAgKi9cbiAgICAgIFwic2Nyb2xsLW1cIjogW3tcbiAgICAgICAgXCJzY3JvbGwtbVwiOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2Nyb2xsIE1hcmdpbiBYXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLW1hcmdpblxuICAgICAgICovXG4gICAgICBcInNjcm9sbC1teFwiOiBbe1xuICAgICAgICBcInNjcm9sbC1teFwiOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2Nyb2xsIE1hcmdpbiBZXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLW1hcmdpblxuICAgICAgICovXG4gICAgICBcInNjcm9sbC1teVwiOiBbe1xuICAgICAgICBcInNjcm9sbC1teVwiOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2Nyb2xsIE1hcmdpbiBTdGFydFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Njcm9sbC1tYXJnaW5cbiAgICAgICAqL1xuICAgICAgXCJzY3JvbGwtbXNcIjogW3tcbiAgICAgICAgXCJzY3JvbGwtbXNcIjogc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFNjcm9sbCBNYXJnaW4gRW5kXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLW1hcmdpblxuICAgICAgICovXG4gICAgICBcInNjcm9sbC1tZVwiOiBbe1xuICAgICAgICBcInNjcm9sbC1tZVwiOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2Nyb2xsIE1hcmdpbiBUb3BcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY3JvbGwtbWFyZ2luXG4gICAgICAgKi9cbiAgICAgIFwic2Nyb2xsLW10XCI6IFt7XG4gICAgICAgIFwic2Nyb2xsLW10XCI6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTY3JvbGwgTWFyZ2luIFJpZ2h0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLW1hcmdpblxuICAgICAgICovXG4gICAgICBcInNjcm9sbC1tclwiOiBbe1xuICAgICAgICBcInNjcm9sbC1tclwiOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2Nyb2xsIE1hcmdpbiBCb3R0b21cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY3JvbGwtbWFyZ2luXG4gICAgICAgKi9cbiAgICAgIFwic2Nyb2xsLW1iXCI6IFt7XG4gICAgICAgIFwic2Nyb2xsLW1iXCI6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTY3JvbGwgTWFyZ2luIExlZnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY3JvbGwtbWFyZ2luXG4gICAgICAgKi9cbiAgICAgIFwic2Nyb2xsLW1sXCI6IFt7XG4gICAgICAgIFwic2Nyb2xsLW1sXCI6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTY3JvbGwgUGFkZGluZ1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Njcm9sbC1wYWRkaW5nXG4gICAgICAgKi9cbiAgICAgIFwic2Nyb2xsLXBcIjogW3tcbiAgICAgICAgXCJzY3JvbGwtcFwiOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2Nyb2xsIFBhZGRpbmcgWFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Njcm9sbC1wYWRkaW5nXG4gICAgICAgKi9cbiAgICAgIFwic2Nyb2xsLXB4XCI6IFt7XG4gICAgICAgIFwic2Nyb2xsLXB4XCI6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTY3JvbGwgUGFkZGluZyBZXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLXBhZGRpbmdcbiAgICAgICAqL1xuICAgICAgXCJzY3JvbGwtcHlcIjogW3tcbiAgICAgICAgXCJzY3JvbGwtcHlcIjogc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFNjcm9sbCBQYWRkaW5nIFN0YXJ0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLXBhZGRpbmdcbiAgICAgICAqL1xuICAgICAgXCJzY3JvbGwtcHNcIjogW3tcbiAgICAgICAgXCJzY3JvbGwtcHNcIjogc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFNjcm9sbCBQYWRkaW5nIEVuZFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Njcm9sbC1wYWRkaW5nXG4gICAgICAgKi9cbiAgICAgIFwic2Nyb2xsLXBlXCI6IFt7XG4gICAgICAgIFwic2Nyb2xsLXBlXCI6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTY3JvbGwgUGFkZGluZyBUb3BcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY3JvbGwtcGFkZGluZ1xuICAgICAgICovXG4gICAgICBcInNjcm9sbC1wdFwiOiBbe1xuICAgICAgICBcInNjcm9sbC1wdFwiOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2Nyb2xsIFBhZGRpbmcgUmlnaHRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY3JvbGwtcGFkZGluZ1xuICAgICAgICovXG4gICAgICBcInNjcm9sbC1wclwiOiBbe1xuICAgICAgICBcInNjcm9sbC1wclwiOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2Nyb2xsIFBhZGRpbmcgQm90dG9tXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLXBhZGRpbmdcbiAgICAgICAqL1xuICAgICAgXCJzY3JvbGwtcGJcIjogW3tcbiAgICAgICAgXCJzY3JvbGwtcGJcIjogc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFNjcm9sbCBQYWRkaW5nIExlZnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY3JvbGwtcGFkZGluZ1xuICAgICAgICovXG4gICAgICBcInNjcm9sbC1wbFwiOiBbe1xuICAgICAgICBcInNjcm9sbC1wbFwiOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2Nyb2xsIFNuYXAgQWxpZ25cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY3JvbGwtc25hcC1hbGlnblxuICAgICAgICovXG4gICAgICBcInNuYXAtYWxpZ25cIjogW3tcbiAgICAgICAgc25hcDogW1wic3RhcnRcIiwgXCJlbmRcIiwgXCJjZW50ZXJcIiwgXCJhbGlnbi1ub25lXCJdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2Nyb2xsIFNuYXAgU3RvcFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Njcm9sbC1zbmFwLXN0b3BcbiAgICAgICAqL1xuICAgICAgXCJzbmFwLXN0b3BcIjogW3tcbiAgICAgICAgc25hcDogW1wibm9ybWFsXCIsIFwiYWx3YXlzXCJdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2Nyb2xsIFNuYXAgVHlwZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Njcm9sbC1zbmFwLXR5cGVcbiAgICAgICAqL1xuICAgICAgXCJzbmFwLXR5cGVcIjogW3tcbiAgICAgICAgc25hcDogW1wibm9uZVwiLCBcInhcIiwgXCJ5XCIsIFwiYm90aFwiXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFNjcm9sbCBTbmFwIFR5cGUgU3RyaWN0bmVzc1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Njcm9sbC1zbmFwLXR5cGVcbiAgICAgICAqL1xuICAgICAgXCJzbmFwLXN0cmljdG5lc3NcIjogW3tcbiAgICAgICAgc25hcDogW1wibWFuZGF0b3J5XCIsIFwicHJveGltaXR5XCJdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogVG91Y2ggQWN0aW9uXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdG91Y2gtYWN0aW9uXG4gICAgICAgKi9cbiAgICAgIHRvdWNoOiBbe1xuICAgICAgICB0b3VjaDogW1wiYXV0b1wiLCBcIm5vbmVcIiwgXCJtYW5pcHVsYXRpb25cIl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBUb3VjaCBBY3Rpb24gWFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RvdWNoLWFjdGlvblxuICAgICAgICovXG4gICAgICBcInRvdWNoLXhcIjogW3tcbiAgICAgICAgXCJ0b3VjaC1wYW5cIjogW1wieFwiLCBcImxlZnRcIiwgXCJyaWdodFwiXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRvdWNoIEFjdGlvbiBZXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdG91Y2gtYWN0aW9uXG4gICAgICAgKi9cbiAgICAgIFwidG91Y2gteVwiOiBbe1xuICAgICAgICBcInRvdWNoLXBhblwiOiBbXCJ5XCIsIFwidXBcIiwgXCJkb3duXCJdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogVG91Y2ggQWN0aW9uIFBpbmNoIFpvb21cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90b3VjaC1hY3Rpb25cbiAgICAgICAqL1xuICAgICAgXCJ0b3VjaC1welwiOiBbXCJ0b3VjaC1waW5jaC16b29tXCJdLFxuICAgICAgLyoqXG4gICAgICAgKiBVc2VyIFNlbGVjdFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3VzZXItc2VsZWN0XG4gICAgICAgKi9cbiAgICAgIHNlbGVjdDogW3tcbiAgICAgICAgc2VsZWN0OiBbXCJub25lXCIsIFwidGV4dFwiLCBcImFsbFwiLCBcImF1dG9cIl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBXaWxsIENoYW5nZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3dpbGwtY2hhbmdlXG4gICAgICAgKi9cbiAgICAgIFwid2lsbC1jaGFuZ2VcIjogW3tcbiAgICAgICAgXCJ3aWxsLWNoYW5nZVwiOiBbXCJhdXRvXCIsIFwic2Nyb2xsXCIsIFwiY29udGVudHNcIiwgXCJ0cmFuc2Zvcm1cIiwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgIH1dLFxuICAgICAgLy8gLS0tLS0tLS0tLS1cbiAgICAgIC8vIC0tLSBTVkcgLS0tXG4gICAgICAvLyAtLS0tLS0tLS0tLVxuICAgICAgLyoqXG4gICAgICAgKiBGaWxsXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZmlsbFxuICAgICAgICovXG4gICAgICBmaWxsOiBbe1xuICAgICAgICBmaWxsOiBbXCJub25lXCIsIC4uLnNjYWxlQ29sb3IoKV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTdHJva2UgV2lkdGhcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zdHJva2Utd2lkdGhcbiAgICAgICAqL1xuICAgICAgXCJzdHJva2Utd1wiOiBbe1xuICAgICAgICBzdHJva2U6IFtpc051bWJlciwgaXNBcmJpdHJhcnlWYXJpYWJsZUxlbmd0aCwgaXNBcmJpdHJhcnlMZW5ndGgsIGlzQXJiaXRyYXJ5TnVtYmVyXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFN0cm9rZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3N0cm9rZVxuICAgICAgICovXG4gICAgICBzdHJva2U6IFt7XG4gICAgICAgIHN0cm9rZTogW1wibm9uZVwiLCAuLi5zY2FsZUNvbG9yKCldXG4gICAgICB9XSxcbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgLy8gLS0tIEFjY2Vzc2liaWxpdHkgLS0tXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8qKlxuICAgICAgICogRm9yY2VkIENvbG9yIEFkanVzdFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZvcmNlZC1jb2xvci1hZGp1c3RcbiAgICAgICAqL1xuICAgICAgXCJmb3JjZWQtY29sb3ItYWRqdXN0XCI6IFt7XG4gICAgICAgIFwiZm9yY2VkLWNvbG9yLWFkanVzdFwiOiBbXCJhdXRvXCIsIFwibm9uZVwiXVxuICAgICAgfV1cbiAgICB9LFxuICAgIGNvbmZsaWN0aW5nQ2xhc3NHcm91cHM6IHtcbiAgICAgIG92ZXJmbG93OiBbXCJvdmVyZmxvdy14XCIsIFwib3ZlcmZsb3cteVwiXSxcbiAgICAgIG92ZXJzY3JvbGw6IFtcIm92ZXJzY3JvbGwteFwiLCBcIm92ZXJzY3JvbGwteVwiXSxcbiAgICAgIGluc2V0OiBbXCJpbnNldC14XCIsIFwiaW5zZXQteVwiLCBcInN0YXJ0XCIsIFwiZW5kXCIsIFwidG9wXCIsIFwicmlnaHRcIiwgXCJib3R0b21cIiwgXCJsZWZ0XCJdLFxuICAgICAgXCJpbnNldC14XCI6IFtcInJpZ2h0XCIsIFwibGVmdFwiXSxcbiAgICAgIFwiaW5zZXQteVwiOiBbXCJ0b3BcIiwgXCJib3R0b21cIl0sXG4gICAgICBmbGV4OiBbXCJiYXNpc1wiLCBcImdyb3dcIiwgXCJzaHJpbmtcIl0sXG4gICAgICBnYXA6IFtcImdhcC14XCIsIFwiZ2FwLXlcIl0sXG4gICAgICBwOiBbXCJweFwiLCBcInB5XCIsIFwicHNcIiwgXCJwZVwiLCBcInB0XCIsIFwicHJcIiwgXCJwYlwiLCBcInBsXCJdLFxuICAgICAgcHg6IFtcInByXCIsIFwicGxcIl0sXG4gICAgICBweTogW1wicHRcIiwgXCJwYlwiXSxcbiAgICAgIG06IFtcIm14XCIsIFwibXlcIiwgXCJtc1wiLCBcIm1lXCIsIFwibXRcIiwgXCJtclwiLCBcIm1iXCIsIFwibWxcIl0sXG4gICAgICBteDogW1wibXJcIiwgXCJtbFwiXSxcbiAgICAgIG15OiBbXCJtdFwiLCBcIm1iXCJdLFxuICAgICAgc2l6ZTogW1wid1wiLCBcImhcIl0sXG4gICAgICBcImZvbnQtc2l6ZVwiOiBbXCJsZWFkaW5nXCJdLFxuICAgICAgXCJmdm4tbm9ybWFsXCI6IFtcImZ2bi1vcmRpbmFsXCIsIFwiZnZuLXNsYXNoZWQtemVyb1wiLCBcImZ2bi1maWd1cmVcIiwgXCJmdm4tc3BhY2luZ1wiLCBcImZ2bi1mcmFjdGlvblwiXSxcbiAgICAgIFwiZnZuLW9yZGluYWxcIjogW1wiZnZuLW5vcm1hbFwiXSxcbiAgICAgIFwiZnZuLXNsYXNoZWQtemVyb1wiOiBbXCJmdm4tbm9ybWFsXCJdLFxuICAgICAgXCJmdm4tZmlndXJlXCI6IFtcImZ2bi1ub3JtYWxcIl0sXG4gICAgICBcImZ2bi1zcGFjaW5nXCI6IFtcImZ2bi1ub3JtYWxcIl0sXG4gICAgICBcImZ2bi1mcmFjdGlvblwiOiBbXCJmdm4tbm9ybWFsXCJdLFxuICAgICAgXCJsaW5lLWNsYW1wXCI6IFtcImRpc3BsYXlcIiwgXCJvdmVyZmxvd1wiXSxcbiAgICAgIHJvdW5kZWQ6IFtcInJvdW5kZWQtc1wiLCBcInJvdW5kZWQtZVwiLCBcInJvdW5kZWQtdFwiLCBcInJvdW5kZWQtclwiLCBcInJvdW5kZWQtYlwiLCBcInJvdW5kZWQtbFwiLCBcInJvdW5kZWQtc3NcIiwgXCJyb3VuZGVkLXNlXCIsIFwicm91bmRlZC1lZVwiLCBcInJvdW5kZWQtZXNcIiwgXCJyb3VuZGVkLXRsXCIsIFwicm91bmRlZC10clwiLCBcInJvdW5kZWQtYnJcIiwgXCJyb3VuZGVkLWJsXCJdLFxuICAgICAgXCJyb3VuZGVkLXNcIjogW1wicm91bmRlZC1zc1wiLCBcInJvdW5kZWQtZXNcIl0sXG4gICAgICBcInJvdW5kZWQtZVwiOiBbXCJyb3VuZGVkLXNlXCIsIFwicm91bmRlZC1lZVwiXSxcbiAgICAgIFwicm91bmRlZC10XCI6IFtcInJvdW5kZWQtdGxcIiwgXCJyb3VuZGVkLXRyXCJdLFxuICAgICAgXCJyb3VuZGVkLXJcIjogW1wicm91bmRlZC10clwiLCBcInJvdW5kZWQtYnJcIl0sXG4gICAgICBcInJvdW5kZWQtYlwiOiBbXCJyb3VuZGVkLWJyXCIsIFwicm91bmRlZC1ibFwiXSxcbiAgICAgIFwicm91bmRlZC1sXCI6IFtcInJvdW5kZWQtdGxcIiwgXCJyb3VuZGVkLWJsXCJdLFxuICAgICAgXCJib3JkZXItc3BhY2luZ1wiOiBbXCJib3JkZXItc3BhY2luZy14XCIsIFwiYm9yZGVyLXNwYWNpbmcteVwiXSxcbiAgICAgIFwiYm9yZGVyLXdcIjogW1wiYm9yZGVyLXcteFwiLCBcImJvcmRlci13LXlcIiwgXCJib3JkZXItdy1zXCIsIFwiYm9yZGVyLXctZVwiLCBcImJvcmRlci13LXRcIiwgXCJib3JkZXItdy1yXCIsIFwiYm9yZGVyLXctYlwiLCBcImJvcmRlci13LWxcIl0sXG4gICAgICBcImJvcmRlci13LXhcIjogW1wiYm9yZGVyLXctclwiLCBcImJvcmRlci13LWxcIl0sXG4gICAgICBcImJvcmRlci13LXlcIjogW1wiYm9yZGVyLXctdFwiLCBcImJvcmRlci13LWJcIl0sXG4gICAgICBcImJvcmRlci1jb2xvclwiOiBbXCJib3JkZXItY29sb3IteFwiLCBcImJvcmRlci1jb2xvci15XCIsIFwiYm9yZGVyLWNvbG9yLXNcIiwgXCJib3JkZXItY29sb3ItZVwiLCBcImJvcmRlci1jb2xvci10XCIsIFwiYm9yZGVyLWNvbG9yLXJcIiwgXCJib3JkZXItY29sb3ItYlwiLCBcImJvcmRlci1jb2xvci1sXCJdLFxuICAgICAgXCJib3JkZXItY29sb3IteFwiOiBbXCJib3JkZXItY29sb3ItclwiLCBcImJvcmRlci1jb2xvci1sXCJdLFxuICAgICAgXCJib3JkZXItY29sb3IteVwiOiBbXCJib3JkZXItY29sb3ItdFwiLCBcImJvcmRlci1jb2xvci1iXCJdLFxuICAgICAgdHJhbnNsYXRlOiBbXCJ0cmFuc2xhdGUteFwiLCBcInRyYW5zbGF0ZS15XCIsIFwidHJhbnNsYXRlLW5vbmVcIl0sXG4gICAgICBcInRyYW5zbGF0ZS1ub25lXCI6IFtcInRyYW5zbGF0ZVwiLCBcInRyYW5zbGF0ZS14XCIsIFwidHJhbnNsYXRlLXlcIiwgXCJ0cmFuc2xhdGUtelwiXSxcbiAgICAgIFwic2Nyb2xsLW1cIjogW1wic2Nyb2xsLW14XCIsIFwic2Nyb2xsLW15XCIsIFwic2Nyb2xsLW1zXCIsIFwic2Nyb2xsLW1lXCIsIFwic2Nyb2xsLW10XCIsIFwic2Nyb2xsLW1yXCIsIFwic2Nyb2xsLW1iXCIsIFwic2Nyb2xsLW1sXCJdLFxuICAgICAgXCJzY3JvbGwtbXhcIjogW1wic2Nyb2xsLW1yXCIsIFwic2Nyb2xsLW1sXCJdLFxuICAgICAgXCJzY3JvbGwtbXlcIjogW1wic2Nyb2xsLW10XCIsIFwic2Nyb2xsLW1iXCJdLFxuICAgICAgXCJzY3JvbGwtcFwiOiBbXCJzY3JvbGwtcHhcIiwgXCJzY3JvbGwtcHlcIiwgXCJzY3JvbGwtcHNcIiwgXCJzY3JvbGwtcGVcIiwgXCJzY3JvbGwtcHRcIiwgXCJzY3JvbGwtcHJcIiwgXCJzY3JvbGwtcGJcIiwgXCJzY3JvbGwtcGxcIl0sXG4gICAgICBcInNjcm9sbC1weFwiOiBbXCJzY3JvbGwtcHJcIiwgXCJzY3JvbGwtcGxcIl0sXG4gICAgICBcInNjcm9sbC1weVwiOiBbXCJzY3JvbGwtcHRcIiwgXCJzY3JvbGwtcGJcIl0sXG4gICAgICB0b3VjaDogW1widG91Y2gteFwiLCBcInRvdWNoLXlcIiwgXCJ0b3VjaC1welwiXSxcbiAgICAgIFwidG91Y2gteFwiOiBbXCJ0b3VjaFwiXSxcbiAgICAgIFwidG91Y2gteVwiOiBbXCJ0b3VjaFwiXSxcbiAgICAgIFwidG91Y2gtcHpcIjogW1widG91Y2hcIl1cbiAgICB9LFxuICAgIGNvbmZsaWN0aW5nQ2xhc3NHcm91cE1vZGlmaWVyczoge1xuICAgICAgXCJmb250LXNpemVcIjogW1wibGVhZGluZ1wiXVxuICAgIH0sXG4gICAgb3JkZXJTZW5zaXRpdmVNb2RpZmllcnM6IFtcIipcIiwgXCIqKlwiLCBcImFmdGVyXCIsIFwiYmFja2Ryb3BcIiwgXCJiZWZvcmVcIiwgXCJkZXRhaWxzLWNvbnRlbnRcIiwgXCJmaWxlXCIsIFwiZmlyc3QtbGV0dGVyXCIsIFwiZmlyc3QtbGluZVwiLCBcIm1hcmtlclwiLCBcInBsYWNlaG9sZGVyXCIsIFwic2VsZWN0aW9uXCJdXG4gIH07XG59O1xuY29uc3QgbWVyZ2VDb25maWdzID0gKGJhc2VDb25maWcsIHtcbiAgY2FjaGVTaXplLFxuICBwcmVmaXgsXG4gIGV4cGVyaW1lbnRhbFBhcnNlQ2xhc3NOYW1lLFxuICBleHRlbmQ6IGV4dGVuZDIgPSB7fSxcbiAgb3ZlcnJpZGUgPSB7fVxufSkgPT4ge1xuICBvdmVycmlkZVByb3BlcnR5KGJhc2VDb25maWcsIFwiY2FjaGVTaXplXCIsIGNhY2hlU2l6ZSk7XG4gIG92ZXJyaWRlUHJvcGVydHkoYmFzZUNvbmZpZywgXCJwcmVmaXhcIiwgcHJlZml4KTtcbiAgb3ZlcnJpZGVQcm9wZXJ0eShiYXNlQ29uZmlnLCBcImV4cGVyaW1lbnRhbFBhcnNlQ2xhc3NOYW1lXCIsIGV4cGVyaW1lbnRhbFBhcnNlQ2xhc3NOYW1lKTtcbiAgb3ZlcnJpZGVDb25maWdQcm9wZXJ0aWVzKGJhc2VDb25maWcudGhlbWUsIG92ZXJyaWRlLnRoZW1lKTtcbiAgb3ZlcnJpZGVDb25maWdQcm9wZXJ0aWVzKGJhc2VDb25maWcuY2xhc3NHcm91cHMsIG92ZXJyaWRlLmNsYXNzR3JvdXBzKTtcbiAgb3ZlcnJpZGVDb25maWdQcm9wZXJ0aWVzKGJhc2VDb25maWcuY29uZmxpY3RpbmdDbGFzc0dyb3Vwcywgb3ZlcnJpZGUuY29uZmxpY3RpbmdDbGFzc0dyb3Vwcyk7XG4gIG92ZXJyaWRlQ29uZmlnUHJvcGVydGllcyhiYXNlQ29uZmlnLmNvbmZsaWN0aW5nQ2xhc3NHcm91cE1vZGlmaWVycywgb3ZlcnJpZGUuY29uZmxpY3RpbmdDbGFzc0dyb3VwTW9kaWZpZXJzKTtcbiAgb3ZlcnJpZGVQcm9wZXJ0eShiYXNlQ29uZmlnLCBcIm9yZGVyU2Vuc2l0aXZlTW9kaWZpZXJzXCIsIG92ZXJyaWRlLm9yZGVyU2Vuc2l0aXZlTW9kaWZpZXJzKTtcbiAgbWVyZ2VDb25maWdQcm9wZXJ0aWVzKGJhc2VDb25maWcudGhlbWUsIGV4dGVuZDIudGhlbWUpO1xuICBtZXJnZUNvbmZpZ1Byb3BlcnRpZXMoYmFzZUNvbmZpZy5jbGFzc0dyb3VwcywgZXh0ZW5kMi5jbGFzc0dyb3Vwcyk7XG4gIG1lcmdlQ29uZmlnUHJvcGVydGllcyhiYXNlQ29uZmlnLmNvbmZsaWN0aW5nQ2xhc3NHcm91cHMsIGV4dGVuZDIuY29uZmxpY3RpbmdDbGFzc0dyb3Vwcyk7XG4gIG1lcmdlQ29uZmlnUHJvcGVydGllcyhiYXNlQ29uZmlnLmNvbmZsaWN0aW5nQ2xhc3NHcm91cE1vZGlmaWVycywgZXh0ZW5kMi5jb25mbGljdGluZ0NsYXNzR3JvdXBNb2RpZmllcnMpO1xuICBtZXJnZUFycmF5UHJvcGVydGllcyhiYXNlQ29uZmlnLCBleHRlbmQyLCBcIm9yZGVyU2Vuc2l0aXZlTW9kaWZpZXJzXCIpO1xuICByZXR1cm4gYmFzZUNvbmZpZztcbn07XG5jb25zdCBvdmVycmlkZVByb3BlcnR5ID0gKGJhc2VPYmplY3QsIG92ZXJyaWRlS2V5LCBvdmVycmlkZVZhbHVlKSA9PiB7XG4gIGlmIChvdmVycmlkZVZhbHVlICE9PSB2b2lkIDApIHtcbiAgICBiYXNlT2JqZWN0W292ZXJyaWRlS2V5XSA9IG92ZXJyaWRlVmFsdWU7XG4gIH1cbn07XG5jb25zdCBvdmVycmlkZUNvbmZpZ1Byb3BlcnRpZXMgPSAoYmFzZU9iamVjdCwgb3ZlcnJpZGVPYmplY3QpID0+IHtcbiAgaWYgKG92ZXJyaWRlT2JqZWN0KSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gb3ZlcnJpZGVPYmplY3QpIHtcbiAgICAgIG92ZXJyaWRlUHJvcGVydHkoYmFzZU9iamVjdCwga2V5LCBvdmVycmlkZU9iamVjdFtrZXldKTtcbiAgICB9XG4gIH1cbn07XG5jb25zdCBtZXJnZUNvbmZpZ1Byb3BlcnRpZXMgPSAoYmFzZU9iamVjdCwgbWVyZ2VPYmplY3QpID0+IHtcbiAgaWYgKG1lcmdlT2JqZWN0KSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gbWVyZ2VPYmplY3QpIHtcbiAgICAgIG1lcmdlQXJyYXlQcm9wZXJ0aWVzKGJhc2VPYmplY3QsIG1lcmdlT2JqZWN0LCBrZXkpO1xuICAgIH1cbiAgfVxufTtcbmNvbnN0IG1lcmdlQXJyYXlQcm9wZXJ0aWVzID0gKGJhc2VPYmplY3QsIG1lcmdlT2JqZWN0LCBrZXkpID0+IHtcbiAgY29uc3QgbWVyZ2VWYWx1ZSA9IG1lcmdlT2JqZWN0W2tleV07XG4gIGlmIChtZXJnZVZhbHVlICE9PSB2b2lkIDApIHtcbiAgICBiYXNlT2JqZWN0W2tleV0gPSBiYXNlT2JqZWN0W2tleV0gPyBiYXNlT2JqZWN0W2tleV0uY29uY2F0KG1lcmdlVmFsdWUpIDogbWVyZ2VWYWx1ZTtcbiAgfVxufTtcbmNvbnN0IGV4dGVuZFRhaWx3aW5kTWVyZ2UgPSAoY29uZmlnRXh0ZW5zaW9uLCAuLi5jcmVhdGVDb25maWcpID0+IHR5cGVvZiBjb25maWdFeHRlbnNpb24gPT09IFwiZnVuY3Rpb25cIiA/IGNyZWF0ZVRhaWx3aW5kTWVyZ2UoZ2V0RGVmYXVsdENvbmZpZywgY29uZmlnRXh0ZW5zaW9uLCAuLi5jcmVhdGVDb25maWcpIDogY3JlYXRlVGFpbHdpbmRNZXJnZSgoKSA9PiBtZXJnZUNvbmZpZ3MoZ2V0RGVmYXVsdENvbmZpZygpLCBjb25maWdFeHRlbnNpb24pLCAuLi5jcmVhdGVDb25maWcpO1xuY29uc3QgY29tcGFuaW9uQW5jaG9yVGFnTmFtZSA9IFwic3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3JcIjtcbmZ1bmN0aW9uIGdldEVsZW1lbnRBdFBvaW50KHgyLCB5Mikge1xuICBjb25zdCBlbGVtZW50c0JlbG93QW5ub3RhdGlvbiA9IGRvY3VtZW50LmVsZW1lbnRzRnJvbVBvaW50KHgyLCB5Mik7XG4gIGNvbnN0IHJlZkVsZW1lbnQgPSBlbGVtZW50c0JlbG93QW5ub3RhdGlvbi5maW5kKFxuICAgIChlbGVtZW50KSA9PiBlbGVtZW50Lm5vZGVOYW1lICE9PSBcIlNUQUdFV0lTRS1DT01QQU5JT04tQU5DSE9SXCIgJiYgIWVsZW1lbnQuY2xvc2VzdChjb21wYW5pb25BbmNob3JUYWdOYW1lKSAmJiAhZWxlbWVudC5jbG9zZXN0KFwic3ZnXCIpICYmIGlzRWxlbWVudEF0UG9pbnQoZWxlbWVudCwgeDIsIHkyKVxuICApIHx8IGRvY3VtZW50LmJvZHk7XG4gIHJldHVybiByZWZFbGVtZW50O1xufVxuY29uc3QgaXNFbGVtZW50QXRQb2ludCA9IChlbGVtZW50LCBjbGllbnRYLCBjbGllbnRZKSA9PiB7XG4gIGNvbnN0IGJvdW5kaW5nUmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIGNvbnN0IGlzSW5Ib3Jpem9udGFsQm91bmRzID0gY2xpZW50WCA+IGJvdW5kaW5nUmVjdC5sZWZ0ICYmIGNsaWVudFggPCBib3VuZGluZ1JlY3QubGVmdCArIGJvdW5kaW5nUmVjdC53aWR0aDtcbiAgY29uc3QgaXNJblZlcnRpY2FsQm91bmRzID0gY2xpZW50WSA+IGJvdW5kaW5nUmVjdC50b3AgJiYgY2xpZW50WSA8IGJvdW5kaW5nUmVjdC50b3AgKyBib3VuZGluZ1JlY3QuaGVpZ2h0O1xuICByZXR1cm4gaXNJbkhvcml6b250YWxCb3VuZHMgJiYgaXNJblZlcnRpY2FsQm91bmRzO1xufTtcbnZhciBIb3RrZXlBY3Rpb25zID0gLyogQF9fUFVSRV9fICovICgoSG90a2V5QWN0aW9uczIpID0+IHtcbiAgSG90a2V5QWN0aW9uczJbSG90a2V5QWN0aW9uczJbXCJFU0NcIl0gPSAwXSA9IFwiRVNDXCI7XG4gIEhvdGtleUFjdGlvbnMyW0hvdGtleUFjdGlvbnMyW1wiQ1RSTF9BTFRfQ1wiXSA9IDFdID0gXCJDVFJMX0FMVF9DXCI7XG4gIHJldHVybiBIb3RrZXlBY3Rpb25zMjtcbn0pKEhvdGtleUFjdGlvbnMgfHwge30pO1xuY29uc3QgaG90a2V5QWN0aW9uRGVmaW5pdGlvbnMgPSB7XG4gIFtcbiAgICAwXG4gICAgLyogRVNDICovXG4gIF06IHtcbiAgICBrZXlDb21ib0RlZmF1bHQ6IFwiRXNjXCIsXG4gICAga2V5Q29tYm9NYWM6IFwiZXNjXCIsXG4gICAgaXNFdmVudE1hdGNoaW5nOiAoZXYpID0+IGV2LmNvZGUgPT09IFwiRXNjYXBlXCJcbiAgfSxcbiAgW1xuICAgIDFcbiAgICAvKiBDVFJMX0FMVF9DICovXG4gIF06IHtcbiAgICBrZXlDb21ib0RlZmF1bHQ6IFwiQ3RybCtBbHQrQ1wiLFxuICAgIGtleUNvbWJvTWFjOiBcIuKMmCvijKUrQ1wiLFxuICAgIGlzRXZlbnRNYXRjaGluZzogKGV2KSA9PiBldi5jb2RlID09PSBcIktleUNcIiAmJiAoZXYuY3RybEtleSB8fCBldi5tZXRhS2V5KSAmJiBldi5hbHRLZXlcbiAgfVxufTtcbmNvbnN0IGN1c3RvbVR3TWVyZ2UgPSBleHRlbmRUYWlsd2luZE1lcmdlKHtcbiAgZXh0ZW5kOiB7XG4gICAgY2xhc3NHcm91cHM6IHtcbiAgICAgIFwiYmctaW1hZ2VcIjogW1xuICAgICAgICBcImJnLWdyYWRpZW50XCIsXG4gICAgICAgIFwiYmctZ3JhZGllbnQtbGlnaHQtMVwiLFxuICAgICAgICBcImJnLWdyYWRpZW50LWxpZ2h0LTJcIixcbiAgICAgICAgXCJiZy1ncmFkaWVudC1saWdodC0zXCJcbiAgICAgIF1cbiAgICB9XG4gIH1cbn0pO1xuZnVuY3Rpb24gY24oLi4uaW5wdXRzKSB7XG4gIHJldHVybiBjdXN0b21Ud01lcmdlKGNsc3goaW5wdXRzKSk7XG59XG5mdW5jdGlvbiBIb3RrZXlMaXN0ZW5lcigpIHtcbiAgY29uc3QgeyBzdGFydFByb21wdENyZWF0aW9uLCBzdG9wUHJvbXB0Q3JlYXRpb24gfSA9IHVzZUNoYXRTdGF0ZSgpO1xuICBjb25zdCBob3RLZXlIYW5kbGVyTWFwID0gVCQ1KFxuICAgICgpID0+ICh7XG4gICAgICBbSG90a2V5QWN0aW9ucy5DVFJMX0FMVF9DXTogKCkgPT4ge1xuICAgICAgICBzdGFydFByb21wdENyZWF0aW9uKCk7XG4gICAgICB9LFxuICAgICAgW0hvdGtleUFjdGlvbnMuRVNDXTogKCkgPT4ge1xuICAgICAgICBzdG9wUHJvbXB0Q3JlYXRpb24oKTtcbiAgICAgIH1cbiAgICB9KSxcbiAgICBbc3RhcnRQcm9tcHRDcmVhdGlvbiwgc3RvcFByb21wdENyZWF0aW9uXVxuICApO1xuICBjb25zdCBob3RLZXlMaXN0ZW5lciA9IHEkMyhcbiAgICAoZXYpID0+IHtcbiAgICAgIGZvciAoY29uc3QgW2FjdGlvbiwgZGVmaW5pdGlvbl0gb2YgT2JqZWN0LmVudHJpZXMoXG4gICAgICAgIGhvdGtleUFjdGlvbkRlZmluaXRpb25zXG4gICAgICApKSB7XG4gICAgICAgIGlmIChkZWZpbml0aW9uLmlzRXZlbnRNYXRjaGluZyhldikpIHtcbiAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIGhvdEtleUhhbmRsZXJNYXBbYWN0aW9uXSgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBbaG90S2V5SGFuZGxlck1hcF1cbiAgKTtcbiAgdXNlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaG90S2V5TGlzdGVuZXIsIHtcbiAgICBjYXB0dXJlOiB0cnVlXG4gIH0pO1xuICByZXR1cm4gbnVsbDtcbn1cbmNvbnN0ICRmMGEwNGNjZDhkYmRkODNiJGV4cG9ydCRlNWM1YTVmOTE3YTU4NzFjID0gdHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiID8gUm4udXNlTGF5b3V0RWZmZWN0IDogKCkgPT4ge1xufTtcbmZ1bmN0aW9uICQ4YWUwNWVhYTVjMTE0ZTljJGV4cG9ydCQ3ZjU0ZmMzMTgwNTA4YTUyKGZuMikge1xuICBjb25zdCByZWYgPSBBJDMobnVsbCk7XG4gICRmMGEwNGNjZDhkYmRkODNiJGV4cG9ydCRlNWM1YTVmOTE3YTU4NzFjKCgpID0+IHtcbiAgICByZWYuY3VycmVudCA9IGZuMjtcbiAgfSwgW1xuICAgIGZuMlxuICBdKTtcbiAgcmV0dXJuIHEkMygoLi4uYXJncykgPT4ge1xuICAgIGNvbnN0IGYyID0gcmVmLmN1cnJlbnQ7XG4gICAgcmV0dXJuIGYyID09PSBudWxsIHx8IGYyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBmMiguLi5hcmdzKTtcbiAgfSwgW10pO1xufVxuY29uc3QgJDQzMWZiZDg2Y2E3ZGMyMTYkZXhwb3J0JGIyMDRhZjE1ODA0MmZiYWMgPSAoZWwpID0+IHtcbiAgdmFyIF9lbF9vd25lckRvY3VtZW50O1xuICByZXR1cm4gKF9lbF9vd25lckRvY3VtZW50ID0gZWwgPT09IG51bGwgfHwgZWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVsLm93bmVyRG9jdW1lbnQpICE9PSBudWxsICYmIF9lbF9vd25lckRvY3VtZW50ICE9PSB2b2lkIDAgPyBfZWxfb3duZXJEb2N1bWVudCA6IGRvY3VtZW50O1xufTtcbmNvbnN0ICQ0MzFmYmQ4NmNhN2RjMjE2JGV4cG9ydCRmMjFhMWZmYWUyNjAxNDVhID0gKGVsKSA9PiB7XG4gIGlmIChlbCAmJiBcIndpbmRvd1wiIGluIGVsICYmIGVsLndpbmRvdyA9PT0gZWwpIHJldHVybiBlbDtcbiAgY29uc3QgZG9jID0gJDQzMWZiZDg2Y2E3ZGMyMTYkZXhwb3J0JGIyMDRhZjE1ODA0MmZiYWMoZWwpO1xuICByZXR1cm4gZG9jLmRlZmF1bHRWaWV3IHx8IHdpbmRvdztcbn07XG5mdW5jdGlvbiAkNDMxZmJkODZjYTdkYzIxNiR2YXIkaXNOb2RlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgXCJub2RlVHlwZVwiIGluIHZhbHVlICYmIHR5cGVvZiB2YWx1ZS5ub2RlVHlwZSA9PT0gXCJudW1iZXJcIjtcbn1cbmZ1bmN0aW9uICQ0MzFmYmQ4NmNhN2RjMjE2JGV4cG9ydCRhZjUxZjBmMDZjMGYzMjhhKG5vZGUpIHtcbiAgcmV0dXJuICQ0MzFmYmQ4NmNhN2RjMjE2JHZhciRpc05vZGUobm9kZSkgJiYgbm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFICYmIFwiaG9zdFwiIGluIG5vZGU7XG59XG5sZXQgJGY0ZTJkZjZiZDE1Zjg1NjkkdmFyJF9zaGFkb3dET00gPSBmYWxzZTtcbmZ1bmN0aW9uICRmNGUyZGY2YmQxNWY4NTY5JGV4cG9ydCQ5ODY1OGU4YzU5MTI1ZTZhKCkge1xuICByZXR1cm4gJGY0ZTJkZjZiZDE1Zjg1NjkkdmFyJF9zaGFkb3dET007XG59XG5mdW5jdGlvbiAkZDRlZTEwZGUzMDZmMjUxMCRleHBvcnQkNDI4MmY3MDc5ODA2NGZlMChub2RlLCBvdGhlck5vZGUpIHtcbiAgaWYgKCEkZjRlMmRmNmJkMTVmODU2OSRleHBvcnQkOTg2NThlOGM1OTEyNWU2YSgpKSByZXR1cm4gb3RoZXJOb2RlICYmIG5vZGUgPyBub2RlLmNvbnRhaW5zKG90aGVyTm9kZSkgOiBmYWxzZTtcbiAgaWYgKCFub2RlIHx8ICFvdGhlck5vZGUpIHJldHVybiBmYWxzZTtcbiAgbGV0IGN1cnJlbnROb2RlID0gb3RoZXJOb2RlO1xuICB3aGlsZSAoY3VycmVudE5vZGUgIT09IG51bGwpIHtcbiAgICBpZiAoY3VycmVudE5vZGUgPT09IG5vZGUpIHJldHVybiB0cnVlO1xuICAgIGlmIChjdXJyZW50Tm9kZS50YWdOYW1lID09PSBcIlNMT1RcIiAmJiBjdXJyZW50Tm9kZS5hc3NpZ25lZFNsb3QpXG4gICAgICBjdXJyZW50Tm9kZSA9IGN1cnJlbnROb2RlLmFzc2lnbmVkU2xvdC5wYXJlbnROb2RlO1xuICAgIGVsc2UgaWYgKCQ0MzFmYmQ4NmNhN2RjMjE2JGV4cG9ydCRhZjUxZjBmMDZjMGYzMjhhKGN1cnJlbnROb2RlKSlcbiAgICAgIGN1cnJlbnROb2RlID0gY3VycmVudE5vZGUuaG9zdDtcbiAgICBlbHNlIGN1cnJlbnROb2RlID0gY3VycmVudE5vZGUucGFyZW50Tm9kZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5jb25zdCAkZDRlZTEwZGUzMDZmMjUxMCRleHBvcnQkY2Q0ZTU1NzNmYmUyYjU3NiA9IChkb2MgPSBkb2N1bWVudCkgPT4ge1xuICB2YXIgX2FjdGl2ZUVsZW1lbnRfc2hhZG93Um9vdDtcbiAgaWYgKCEkZjRlMmRmNmJkMTVmODU2OSRleHBvcnQkOTg2NThlOGM1OTEyNWU2YSgpKSByZXR1cm4gZG9jLmFjdGl2ZUVsZW1lbnQ7XG4gIGxldCBhY3RpdmVFbGVtZW50ID0gZG9jLmFjdGl2ZUVsZW1lbnQ7XG4gIHdoaWxlIChhY3RpdmVFbGVtZW50ICYmIFwic2hhZG93Um9vdFwiIGluIGFjdGl2ZUVsZW1lbnQgJiYgKChfYWN0aXZlRWxlbWVudF9zaGFkb3dSb290ID0gYWN0aXZlRWxlbWVudC5zaGFkb3dSb290KSA9PT0gbnVsbCB8fCBfYWN0aXZlRWxlbWVudF9zaGFkb3dSb290ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYWN0aXZlRWxlbWVudF9zaGFkb3dSb290LmFjdGl2ZUVsZW1lbnQpKSBhY3RpdmVFbGVtZW50ID0gYWN0aXZlRWxlbWVudC5zaGFkb3dSb290LmFjdGl2ZUVsZW1lbnQ7XG4gIHJldHVybiBhY3RpdmVFbGVtZW50O1xufTtcbmZ1bmN0aW9uICRkNGVlMTBkZTMwNmYyNTEwJGV4cG9ydCRlNThmMDI5ZjBmYmZkYjI5KGV2ZW50KSB7XG4gIGlmICgkZjRlMmRmNmJkMTVmODU2OSRleHBvcnQkOTg2NThlOGM1OTEyNWU2YSgpICYmIGV2ZW50LnRhcmdldC5zaGFkb3dSb290KSB7XG4gICAgaWYgKGV2ZW50LmNvbXBvc2VkUGF0aCkgcmV0dXJuIGV2ZW50LmNvbXBvc2VkUGF0aCgpWzBdO1xuICB9XG4gIHJldHVybiBldmVudC50YXJnZXQ7XG59XG5mdW5jdGlvbiAkYzg3MzExNDI0ZWEzMGEwNSR2YXIkdGVzdFVzZXJBZ2VudChyZSkge1xuICB2YXIgX3dpbmRvd19uYXZpZ2F0b3JfdXNlckFnZW50RGF0YTtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIgfHwgd2luZG93Lm5hdmlnYXRvciA9PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiAoKF93aW5kb3dfbmF2aWdhdG9yX3VzZXJBZ2VudERhdGEgPSB3aW5kb3cubmF2aWdhdG9yW1widXNlckFnZW50RGF0YVwiXSkgPT09IG51bGwgfHwgX3dpbmRvd19uYXZpZ2F0b3JfdXNlckFnZW50RGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3dpbmRvd19uYXZpZ2F0b3JfdXNlckFnZW50RGF0YS5icmFuZHMuc29tZSgoYnJhbmQpID0+IHJlLnRlc3QoYnJhbmQuYnJhbmQpKSkgfHwgcmUudGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCk7XG59XG5mdW5jdGlvbiAkYzg3MzExNDI0ZWEzMGEwNSR2YXIkdGVzdFBsYXRmb3JtKHJlKSB7XG4gIHZhciBfd2luZG93X25hdmlnYXRvcl91c2VyQWdlbnREYXRhO1xuICByZXR1cm4gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cubmF2aWdhdG9yICE9IG51bGwgPyByZS50ZXN0KCgoX3dpbmRvd19uYXZpZ2F0b3JfdXNlckFnZW50RGF0YSA9IHdpbmRvdy5uYXZpZ2F0b3JbXCJ1c2VyQWdlbnREYXRhXCJdKSA9PT0gbnVsbCB8fCBfd2luZG93X25hdmlnYXRvcl91c2VyQWdlbnREYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfd2luZG93X25hdmlnYXRvcl91c2VyQWdlbnREYXRhLnBsYXRmb3JtKSB8fCB3aW5kb3cubmF2aWdhdG9yLnBsYXRmb3JtKSA6IGZhbHNlO1xufVxuZnVuY3Rpb24gJGM4NzMxMTQyNGVhMzBhMDUkdmFyJGNhY2hlZChmbjIpIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInRlc3RcIikgcmV0dXJuIGZuMjtcbiAgbGV0IHJlcyA9IG51bGw7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgaWYgKHJlcyA9PSBudWxsKSByZXMgPSBmbjIoKTtcbiAgICByZXR1cm4gcmVzO1xuICB9O1xufVxuY29uc3QgJGM4NzMxMTQyNGVhMzBhMDUkZXhwb3J0JDlhYzEwMGU0MDYxM2VhMTAgPSAkYzg3MzExNDI0ZWEzMGEwNSR2YXIkY2FjaGVkKGZ1bmN0aW9uKCkge1xuICByZXR1cm4gJGM4NzMxMTQyNGVhMzBhMDUkdmFyJHRlc3RQbGF0Zm9ybSgvXk1hYy9pKTtcbn0pO1xuY29uc3QgJGM4NzMxMTQyNGVhMzBhMDUkZXhwb3J0JDE4NmM2OTY0Y2ExN2Q5OSA9ICRjODczMTE0MjRlYTMwYTA1JHZhciRjYWNoZWQoZnVuY3Rpb24oKSB7XG4gIHJldHVybiAkYzg3MzExNDI0ZWEzMGEwNSR2YXIkdGVzdFBsYXRmb3JtKC9eaVBob25lL2kpO1xufSk7XG5jb25zdCAkYzg3MzExNDI0ZWEzMGEwNSRleHBvcnQkN2JlZjA0OWNlOTJlNDIyNCA9ICRjODczMTE0MjRlYTMwYTA1JHZhciRjYWNoZWQoZnVuY3Rpb24oKSB7XG4gIHJldHVybiAkYzg3MzExNDI0ZWEzMGEwNSR2YXIkdGVzdFBsYXRmb3JtKC9eaVBhZC9pKSB8fCAvLyBpUGFkT1MgMTMgbGllcyBhbmQgc2F5cyBpdCdzIGEgTWFjLCBidXQgd2UgY2FuIGRpc3Rpbmd1aXNoIGJ5IGRldGVjdGluZyB0b3VjaCBzdXBwb3J0LlxuICAkYzg3MzExNDI0ZWEzMGEwNSRleHBvcnQkOWFjMTAwZTQwNjEzZWExMCgpICYmIG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA+IDE7XG59KTtcbmNvbnN0ICRjODczMTE0MjRlYTMwYTA1JGV4cG9ydCRmZWRiMzY5Y2I3MDIwN2YxID0gJGM4NzMxMTQyNGVhMzBhMDUkdmFyJGNhY2hlZChmdW5jdGlvbigpIHtcbiAgcmV0dXJuICRjODczMTE0MjRlYTMwYTA1JGV4cG9ydCQxODZjNjk2NGNhMTdkOTkoKSB8fCAkYzg3MzExNDI0ZWEzMGEwNSRleHBvcnQkN2JlZjA0OWNlOTJlNDIyNCgpO1xufSk7XG4kYzg3MzExNDI0ZWEzMGEwNSR2YXIkY2FjaGVkKGZ1bmN0aW9uKCkge1xuICByZXR1cm4gJGM4NzMxMTQyNGVhMzBhMDUkZXhwb3J0JDlhYzEwMGU0MDYxM2VhMTAoKSB8fCAkYzg3MzExNDI0ZWEzMGEwNSRleHBvcnQkZmVkYjM2OWNiNzAyMDdmMSgpO1xufSk7XG4kYzg3MzExNDI0ZWEzMGEwNSR2YXIkY2FjaGVkKGZ1bmN0aW9uKCkge1xuICByZXR1cm4gJGM4NzMxMTQyNGVhMzBhMDUkdmFyJHRlc3RVc2VyQWdlbnQoL0FwcGxlV2ViS2l0L2kpICYmICEkYzg3MzExNDI0ZWEzMGEwNSRleHBvcnQkNjQ0NmExODZkMDllMzc5ZSgpO1xufSk7XG5jb25zdCAkYzg3MzExNDI0ZWEzMGEwNSRleHBvcnQkNjQ0NmExODZkMDllMzc5ZSA9ICRjODczMTE0MjRlYTMwYTA1JHZhciRjYWNoZWQoZnVuY3Rpb24oKSB7XG4gIHJldHVybiAkYzg3MzExNDI0ZWEzMGEwNSR2YXIkdGVzdFVzZXJBZ2VudCgvQ2hyb21lL2kpO1xufSk7XG5jb25zdCAkYzg3MzExNDI0ZWEzMGEwNSRleHBvcnQkYTExYjAwNTk5MDBjZWVjOCA9ICRjODczMTE0MjRlYTMwYTA1JHZhciRjYWNoZWQoZnVuY3Rpb24oKSB7XG4gIHJldHVybiAkYzg3MzExNDI0ZWEzMGEwNSR2YXIkdGVzdFVzZXJBZ2VudCgvQW5kcm9pZC9pKTtcbn0pO1xuJGM4NzMxMTQyNGVhMzBhMDUkdmFyJGNhY2hlZChmdW5jdGlvbigpIHtcbiAgcmV0dXJuICRjODczMTE0MjRlYTMwYTA1JHZhciR0ZXN0VXNlckFnZW50KC9GaXJlZm94L2kpO1xufSk7XG5mdW5jdGlvbiAkMDNkZWIyM2ZmMTQ5MjBjNCRleHBvcnQkNGVhZjA0ZTU0YWE4ZWVkNigpIHtcbiAgbGV0IGdsb2JhbExpc3RlbmVycyA9IEEkMygvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpKTtcbiAgbGV0IGFkZEdsb2JhbExpc3RlbmVyID0gcSQzKChldmVudFRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpID0+IHtcbiAgICBsZXQgZm4yID0gKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5vbmNlKSA/ICguLi5hcmdzKSA9PiB7XG4gICAgICBnbG9iYWxMaXN0ZW5lcnMuY3VycmVudC5kZWxldGUobGlzdGVuZXIpO1xuICAgICAgbGlzdGVuZXIoLi4uYXJncyk7XG4gICAgfSA6IGxpc3RlbmVyO1xuICAgIGdsb2JhbExpc3RlbmVycy5jdXJyZW50LnNldChsaXN0ZW5lciwge1xuICAgICAgdHlwZSxcbiAgICAgIGV2ZW50VGFyZ2V0LFxuICAgICAgZm46IGZuMixcbiAgICAgIG9wdGlvbnNcbiAgICB9KTtcbiAgICBldmVudFRhcmdldC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGZuMiwgb3B0aW9ucyk7XG4gIH0sIFtdKTtcbiAgbGV0IHJlbW92ZUdsb2JhbExpc3RlbmVyID0gcSQzKChldmVudFRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpID0+IHtcbiAgICB2YXIgX2dsb2JhbExpc3RlbmVyc19jdXJyZW50X2dldDtcbiAgICBsZXQgZm4yID0gKChfZ2xvYmFsTGlzdGVuZXJzX2N1cnJlbnRfZ2V0ID0gZ2xvYmFsTGlzdGVuZXJzLmN1cnJlbnQuZ2V0KGxpc3RlbmVyKSkgPT09IG51bGwgfHwgX2dsb2JhbExpc3RlbmVyc19jdXJyZW50X2dldCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2dsb2JhbExpc3RlbmVyc19jdXJyZW50X2dldC5mbikgfHwgbGlzdGVuZXI7XG4gICAgZXZlbnRUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBmbjIsIG9wdGlvbnMpO1xuICAgIGdsb2JhbExpc3RlbmVycy5jdXJyZW50LmRlbGV0ZShsaXN0ZW5lcik7XG4gIH0sIFtdKTtcbiAgbGV0IHJlbW92ZUFsbEdsb2JhbExpc3RlbmVycyA9IHEkMygoKSA9PiB7XG4gICAgZ2xvYmFsTGlzdGVuZXJzLmN1cnJlbnQuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgcmVtb3ZlR2xvYmFsTGlzdGVuZXIodmFsdWUuZXZlbnRUYXJnZXQsIHZhbHVlLnR5cGUsIGtleSwgdmFsdWUub3B0aW9ucyk7XG4gICAgfSk7XG4gIH0sIFtcbiAgICByZW1vdmVHbG9iYWxMaXN0ZW5lclxuICBdKTtcbiAgeSQ2KCgpID0+IHtcbiAgICByZXR1cm4gcmVtb3ZlQWxsR2xvYmFsTGlzdGVuZXJzO1xuICB9LCBbXG4gICAgcmVtb3ZlQWxsR2xvYmFsTGlzdGVuZXJzXG4gIF0pO1xuICByZXR1cm4ge1xuICAgIGFkZEdsb2JhbExpc3RlbmVyLFxuICAgIHJlbW92ZUdsb2JhbExpc3RlbmVyLFxuICAgIHJlbW92ZUFsbEdsb2JhbExpc3RlbmVyc1xuICB9O1xufVxuZnVuY3Rpb24gJDZhN2RiODU0MzI0NDhmN2YkZXhwb3J0JDYwMjc4ODcxNDU3NjIyZGUoZXZlbnQpIHtcbiAgaWYgKGV2ZW50Lm1veklucHV0U291cmNlID09PSAwICYmIGV2ZW50LmlzVHJ1c3RlZCkgcmV0dXJuIHRydWU7XG4gIGlmICgkYzg3MzExNDI0ZWEzMGEwNSRleHBvcnQkYTExYjAwNTk5MDBjZWVjOCgpICYmIGV2ZW50LnBvaW50ZXJUeXBlKSByZXR1cm4gZXZlbnQudHlwZSA9PT0gXCJjbGlja1wiICYmIGV2ZW50LmJ1dHRvbnMgPT09IDE7XG4gIHJldHVybiBldmVudC5kZXRhaWwgPT09IDAgJiYgIWV2ZW50LnBvaW50ZXJUeXBlO1xufVxuZnVuY3Rpb24gJDhhOWNiMjc5ZGM4N2UxMzAkZXhwb3J0JDUyNWJjNDkyMWQ1NmQ0YShuYXRpdmVFdmVudCkge1xuICBsZXQgZXZlbnQgPSBuYXRpdmVFdmVudDtcbiAgZXZlbnQubmF0aXZlRXZlbnQgPSBuYXRpdmVFdmVudDtcbiAgZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkID0gKCkgPT4gZXZlbnQuZGVmYXVsdFByZXZlbnRlZDtcbiAgZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQgPSAoKSA9PiBldmVudC5jYW5jZWxCdWJibGU7XG4gIGV2ZW50LnBlcnNpc3QgPSAoKSA9PiB7XG4gIH07XG4gIHJldHVybiBldmVudDtcbn1cbmZ1bmN0aW9uICQ4YTljYjI3OWRjODdlMTMwJGV4cG9ydCRjMmI3YWJlNWQ2MWVjNjk2KGV2ZW50LCB0YXJnZXQpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV2ZW50LCBcInRhcmdldFwiLCB7XG4gICAgdmFsdWU6IHRhcmdldFxuICB9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV2ZW50LCBcImN1cnJlbnRUYXJnZXRcIiwge1xuICAgIHZhbHVlOiB0YXJnZXRcbiAgfSk7XG59XG5mdW5jdGlvbiAkOGE5Y2IyNzlkYzg3ZTEzMCRleHBvcnQkNzE1YzY4MmQwOWQ2MzljYyhvbkJsdXIpIHtcbiAgbGV0IHN0YXRlUmVmID0gQSQzKHtcbiAgICBpc0ZvY3VzZWQ6IGZhbHNlLFxuICAgIG9ic2VydmVyOiBudWxsXG4gIH0pO1xuICAkZjBhMDRjY2Q4ZGJkZDgzYiRleHBvcnQkZTVjNWE1ZjkxN2E1ODcxYygoKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSBzdGF0ZVJlZi5jdXJyZW50O1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAoc3RhdGUub2JzZXJ2ZXIpIHtcbiAgICAgICAgc3RhdGUub2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICBzdGF0ZS5vYnNlcnZlciA9IG51bGw7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW10pO1xuICBsZXQgZGlzcGF0Y2hCbHVyID0gJDhhZTA1ZWFhNWMxMTRlOWMkZXhwb3J0JDdmNTRmYzMxODA1MDhhNTIoKGUyKSA9PiB7XG4gICAgb25CbHVyID09PSBudWxsIHx8IG9uQmx1ciA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25CbHVyKGUyKTtcbiAgfSk7XG4gIHJldHVybiBxJDMoKGUyKSA9PiB7XG4gICAgaWYgKGUyLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxCdXR0b25FbGVtZW50IHx8IGUyLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQgfHwgZTIudGFyZ2V0IGluc3RhbmNlb2YgSFRNTFRleHRBcmVhRWxlbWVudCB8fCBlMi50YXJnZXQgaW5zdGFuY2VvZiBIVE1MU2VsZWN0RWxlbWVudCkge1xuICAgICAgc3RhdGVSZWYuY3VycmVudC5pc0ZvY3VzZWQgPSB0cnVlO1xuICAgICAgbGV0IHRhcmdldCA9IGUyLnRhcmdldDtcbiAgICAgIGxldCBvbkJsdXJIYW5kbGVyID0gKGUzKSA9PiB7XG4gICAgICAgIHN0YXRlUmVmLmN1cnJlbnQuaXNGb2N1c2VkID0gZmFsc2U7XG4gICAgICAgIGlmICh0YXJnZXQuZGlzYWJsZWQpIHtcbiAgICAgICAgICBsZXQgZXZlbnQgPSAkOGE5Y2IyNzlkYzg3ZTEzMCRleHBvcnQkNTI1YmM0OTIxZDU2ZDRhKGUzKTtcbiAgICAgICAgICBkaXNwYXRjaEJsdXIoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZVJlZi5jdXJyZW50Lm9ic2VydmVyKSB7XG4gICAgICAgICAgc3RhdGVSZWYuY3VycmVudC5vYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgc3RhdGVSZWYuY3VycmVudC5vYnNlcnZlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3Vzb3V0XCIsIG9uQmx1ckhhbmRsZXIsIHtcbiAgICAgICAgb25jZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgICBzdGF0ZVJlZi5jdXJyZW50Lm9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKCkgPT4ge1xuICAgICAgICBpZiAoc3RhdGVSZWYuY3VycmVudC5pc0ZvY3VzZWQgJiYgdGFyZ2V0LmRpc2FibGVkKSB7XG4gICAgICAgICAgdmFyIF9zdGF0ZVJlZl9jdXJyZW50X29ic2VydmVyO1xuICAgICAgICAgIChfc3RhdGVSZWZfY3VycmVudF9vYnNlcnZlciA9IHN0YXRlUmVmLmN1cnJlbnQub2JzZXJ2ZXIpID09PSBudWxsIHx8IF9zdGF0ZVJlZl9jdXJyZW50X29ic2VydmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfc3RhdGVSZWZfY3VycmVudF9vYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgbGV0IHJlbGF0ZWRUYXJnZXRFbCA9IHRhcmdldCA9PT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA/IG51bGwgOiBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgICAgICAgIHRhcmdldC5kaXNwYXRjaEV2ZW50KG5ldyBGb2N1c0V2ZW50KFwiYmx1clwiLCB7XG4gICAgICAgICAgICByZWxhdGVkVGFyZ2V0OiByZWxhdGVkVGFyZ2V0RWxcbiAgICAgICAgICB9KSk7XG4gICAgICAgICAgdGFyZ2V0LmRpc3BhdGNoRXZlbnQobmV3IEZvY3VzRXZlbnQoXCJmb2N1c291dFwiLCB7XG4gICAgICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICAgICAgcmVsYXRlZFRhcmdldDogcmVsYXRlZFRhcmdldEVsXG4gICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHN0YXRlUmVmLmN1cnJlbnQub2JzZXJ2ZXIub2JzZXJ2ZSh0YXJnZXQsIHtcbiAgICAgICAgYXR0cmlidXRlczogdHJ1ZSxcbiAgICAgICAgYXR0cmlidXRlRmlsdGVyOiBbXG4gICAgICAgICAgXCJkaXNhYmxlZFwiXG4gICAgICAgIF1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW1xuICAgIGRpc3BhdGNoQmx1clxuICBdKTtcbn1cbmxldCAkOGE5Y2IyNzlkYzg3ZTEzMCRleHBvcnQkZmRhN2RhNzNhYjVkNGM0OCA9IGZhbHNlO1xubGV0ICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRjdXJyZW50TW9kYWxpdHkgPSBudWxsO1xubGV0ICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRjaGFuZ2VIYW5kbGVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG5sZXQgJDUwN2ZhYmUxMGU3MWM2ZmIkZXhwb3J0JGQ5MDI0M2I1OGRhZWNkYTcgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xubGV0ICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRoYXNFdmVudEJlZm9yZUZvY3VzID0gZmFsc2U7XG5sZXQgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGhhc0JsdXJyZWRXaW5kb3dSZWNlbnRseSA9IGZhbHNlO1xuY29uc3QgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJEZPQ1VTX1ZJU0lCTEVfSU5QVVRfS0VZUyA9IHtcbiAgVGFiOiB0cnVlLFxuICBFc2NhcGU6IHRydWVcbn07XG5mdW5jdGlvbiAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkdHJpZ2dlckNoYW5nZUhhbmRsZXJzKG1vZGFsaXR5LCBlMikge1xuICBmb3IgKGxldCBoYW5kbGVyIG9mICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRjaGFuZ2VIYW5kbGVycykgaGFuZGxlcihtb2RhbGl0eSwgZTIpO1xufVxuZnVuY3Rpb24gJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGlzVmFsaWRLZXkoZTIpIHtcbiAgcmV0dXJuICEoZTIubWV0YUtleSB8fCAhJGM4NzMxMTQyNGVhMzBhMDUkZXhwb3J0JDlhYzEwMGU0MDYxM2VhMTAoKSAmJiBlMi5hbHRLZXkgfHwgZTIuY3RybEtleSB8fCBlMi5rZXkgPT09IFwiQ29udHJvbFwiIHx8IGUyLmtleSA9PT0gXCJTaGlmdFwiIHx8IGUyLmtleSA9PT0gXCJNZXRhXCIpO1xufVxuZnVuY3Rpb24gJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGhhbmRsZUtleWJvYXJkRXZlbnQoZTIpIHtcbiAgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGhhc0V2ZW50QmVmb3JlRm9jdXMgPSB0cnVlO1xuICBpZiAoJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGlzVmFsaWRLZXkoZTIpKSB7XG4gICAgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGN1cnJlbnRNb2RhbGl0eSA9IFwia2V5Ym9hcmRcIjtcbiAgICAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkdHJpZ2dlckNoYW5nZUhhbmRsZXJzKFwia2V5Ym9hcmRcIiwgZTIpO1xuICB9XG59XG5mdW5jdGlvbiAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkaGFuZGxlUG9pbnRlckV2ZW50KGUyKSB7XG4gICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRjdXJyZW50TW9kYWxpdHkgPSBcInBvaW50ZXJcIjtcbiAgaWYgKGUyLnR5cGUgPT09IFwibW91c2Vkb3duXCIgfHwgZTIudHlwZSA9PT0gXCJwb2ludGVyZG93blwiKSB7XG4gICAgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGhhc0V2ZW50QmVmb3JlRm9jdXMgPSB0cnVlO1xuICAgICQ1MDdmYWJlMTBlNzFjNmZiJHZhciR0cmlnZ2VyQ2hhbmdlSGFuZGxlcnMoXCJwb2ludGVyXCIsIGUyKTtcbiAgfVxufVxuZnVuY3Rpb24gJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGhhbmRsZUNsaWNrRXZlbnQoZTIpIHtcbiAgaWYgKCQ2YTdkYjg1NDMyNDQ4ZjdmJGV4cG9ydCQ2MDI3ODg3MTQ1NzYyMmRlKGUyKSkge1xuICAgICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRoYXNFdmVudEJlZm9yZUZvY3VzID0gdHJ1ZTtcbiAgICAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkY3VycmVudE1vZGFsaXR5ID0gXCJ2aXJ0dWFsXCI7XG4gIH1cbn1cbmZ1bmN0aW9uICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRoYW5kbGVGb2N1c0V2ZW50KGUyKSB7XG4gIGlmIChlMi50YXJnZXQgPT09IHdpbmRvdyB8fCBlMi50YXJnZXQgPT09IGRvY3VtZW50IHx8ICQ4YTljYjI3OWRjODdlMTMwJGV4cG9ydCRmZGE3ZGE3M2FiNWQ0YzQ4IHx8ICFlMi5pc1RydXN0ZWQpIHJldHVybjtcbiAgaWYgKCEkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkaGFzRXZlbnRCZWZvcmVGb2N1cyAmJiAhJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGhhc0JsdXJyZWRXaW5kb3dSZWNlbnRseSkge1xuICAgICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRjdXJyZW50TW9kYWxpdHkgPSBcInZpcnR1YWxcIjtcbiAgICAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkdHJpZ2dlckNoYW5nZUhhbmRsZXJzKFwidmlydHVhbFwiLCBlMik7XG4gIH1cbiAgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGhhc0V2ZW50QmVmb3JlRm9jdXMgPSBmYWxzZTtcbiAgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGhhc0JsdXJyZWRXaW5kb3dSZWNlbnRseSA9IGZhbHNlO1xufVxuZnVuY3Rpb24gJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGhhbmRsZVdpbmRvd0JsdXIoKSB7XG4gICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRoYXNFdmVudEJlZm9yZUZvY3VzID0gZmFsc2U7XG4gICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRoYXNCbHVycmVkV2luZG93UmVjZW50bHkgPSB0cnVlO1xufVxuZnVuY3Rpb24gJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJHNldHVwR2xvYmFsRm9jdXNFdmVudHMoZWxlbWVudCkge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIiB8fCAkNTA3ZmFiZTEwZTcxYzZmYiRleHBvcnQkZDkwMjQzYjU4ZGFlY2RhNy5nZXQoJDQzMWZiZDg2Y2E3ZGMyMTYkZXhwb3J0JGYyMWExZmZhZTI2MDE0NWEoZWxlbWVudCkpKSByZXR1cm47XG4gIGNvbnN0IHdpbmRvd09iamVjdCA9ICQ0MzFmYmQ4NmNhN2RjMjE2JGV4cG9ydCRmMjFhMWZmYWUyNjAxNDVhKGVsZW1lbnQpO1xuICBjb25zdCBkb2N1bWVudE9iamVjdCA9ICQ0MzFmYmQ4NmNhN2RjMjE2JGV4cG9ydCRiMjA0YWYxNTgwNDJmYmFjKGVsZW1lbnQpO1xuICBsZXQgZm9jdXMgPSB3aW5kb3dPYmplY3QuSFRNTEVsZW1lbnQucHJvdG90eXBlLmZvY3VzO1xuICB3aW5kb3dPYmplY3QuSFRNTEVsZW1lbnQucHJvdG90eXBlLmZvY3VzID0gZnVuY3Rpb24oKSB7XG4gICAgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGhhc0V2ZW50QmVmb3JlRm9jdXMgPSB0cnVlO1xuICAgIGZvY3VzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG4gIGRvY3VtZW50T2JqZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRoYW5kbGVLZXlib2FyZEV2ZW50LCB0cnVlKTtcbiAgZG9jdW1lbnRPYmplY3QuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRoYW5kbGVLZXlib2FyZEV2ZW50LCB0cnVlKTtcbiAgZG9jdW1lbnRPYmplY3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRoYW5kbGVDbGlja0V2ZW50LCB0cnVlKTtcbiAgd2luZG93T2JqZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLCAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkaGFuZGxlRm9jdXNFdmVudCwgdHJ1ZSk7XG4gIHdpbmRvd09iamVjdC5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLCAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkaGFuZGxlV2luZG93Qmx1ciwgZmFsc2UpO1xuICBpZiAodHlwZW9mIFBvaW50ZXJFdmVudCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGRvY3VtZW50T2JqZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZG93blwiLCAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkaGFuZGxlUG9pbnRlckV2ZW50LCB0cnVlKTtcbiAgICBkb2N1bWVudE9iamVjdC5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcm1vdmVcIiwgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGhhbmRsZVBvaW50ZXJFdmVudCwgdHJ1ZSk7XG4gICAgZG9jdW1lbnRPYmplY3QuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJ1cFwiLCAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkaGFuZGxlUG9pbnRlckV2ZW50LCB0cnVlKTtcbiAgfSBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJ0ZXN0XCIpIHtcbiAgICBkb2N1bWVudE9iamVjdC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRoYW5kbGVQb2ludGVyRXZlbnQsIHRydWUpO1xuICAgIGRvY3VtZW50T2JqZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGhhbmRsZVBvaW50ZXJFdmVudCwgdHJ1ZSk7XG4gICAgZG9jdW1lbnRPYmplY3QuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGhhbmRsZVBvaW50ZXJFdmVudCwgdHJ1ZSk7XG4gIH1cbiAgd2luZG93T2JqZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIiwgKCkgPT4ge1xuICAgICQ1MDdmYWJlMTBlNzFjNmZiJHZhciR0ZWFyRG93bldpbmRvd0ZvY3VzVHJhY2tpbmcoZWxlbWVudCk7XG4gIH0sIHtcbiAgICBvbmNlOiB0cnVlXG4gIH0pO1xuICAkNTA3ZmFiZTEwZTcxYzZmYiRleHBvcnQkZDkwMjQzYjU4ZGFlY2RhNy5zZXQod2luZG93T2JqZWN0LCB7XG4gICAgZm9jdXNcbiAgfSk7XG59XG5jb25zdCAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkdGVhckRvd25XaW5kb3dGb2N1c1RyYWNraW5nID0gKGVsZW1lbnQsIGxvYWRMaXN0ZW5lcikgPT4ge1xuICBjb25zdCB3aW5kb3dPYmplY3QgPSAkNDMxZmJkODZjYTdkYzIxNiRleHBvcnQkZjIxYTFmZmFlMjYwMTQ1YShlbGVtZW50KTtcbiAgY29uc3QgZG9jdW1lbnRPYmplY3QgPSAkNDMxZmJkODZjYTdkYzIxNiRleHBvcnQkYjIwNGFmMTU4MDQyZmJhYyhlbGVtZW50KTtcbiAgaWYgKGxvYWRMaXN0ZW5lcikgZG9jdW1lbnRPYmplY3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgbG9hZExpc3RlbmVyKTtcbiAgaWYgKCEkNTA3ZmFiZTEwZTcxYzZmYiRleHBvcnQkZDkwMjQzYjU4ZGFlY2RhNy5oYXMod2luZG93T2JqZWN0KSkgcmV0dXJuO1xuICB3aW5kb3dPYmplY3QuSFRNTEVsZW1lbnQucHJvdG90eXBlLmZvY3VzID0gJDUwN2ZhYmUxMGU3MWM2ZmIkZXhwb3J0JGQ5MDI0M2I1OGRhZWNkYTcuZ2V0KHdpbmRvd09iamVjdCkuZm9jdXM7XG4gIGRvY3VtZW50T2JqZWN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRoYW5kbGVLZXlib2FyZEV2ZW50LCB0cnVlKTtcbiAgZG9jdW1lbnRPYmplY3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRoYW5kbGVLZXlib2FyZEV2ZW50LCB0cnVlKTtcbiAgZG9jdW1lbnRPYmplY3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRoYW5kbGVDbGlja0V2ZW50LCB0cnVlKTtcbiAgd2luZG93T2JqZWN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLCAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkaGFuZGxlRm9jdXNFdmVudCwgdHJ1ZSk7XG4gIHdpbmRvd09iamVjdC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYmx1clwiLCAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkaGFuZGxlV2luZG93Qmx1ciwgZmFsc2UpO1xuICBpZiAodHlwZW9mIFBvaW50ZXJFdmVudCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGRvY3VtZW50T2JqZWN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZG93blwiLCAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkaGFuZGxlUG9pbnRlckV2ZW50LCB0cnVlKTtcbiAgICBkb2N1bWVudE9iamVjdC5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcm1vdmVcIiwgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGhhbmRsZVBvaW50ZXJFdmVudCwgdHJ1ZSk7XG4gICAgZG9jdW1lbnRPYmplY3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJ1cFwiLCAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkaGFuZGxlUG9pbnRlckV2ZW50LCB0cnVlKTtcbiAgfSBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJ0ZXN0XCIpIHtcbiAgICBkb2N1bWVudE9iamVjdC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRoYW5kbGVQb2ludGVyRXZlbnQsIHRydWUpO1xuICAgIGRvY3VtZW50T2JqZWN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGhhbmRsZVBvaW50ZXJFdmVudCwgdHJ1ZSk7XG4gICAgZG9jdW1lbnRPYmplY3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGhhbmRsZVBvaW50ZXJFdmVudCwgdHJ1ZSk7XG4gIH1cbiAgJDUwN2ZhYmUxMGU3MWM2ZmIkZXhwb3J0JGQ5MDI0M2I1OGRhZWNkYTcuZGVsZXRlKHdpbmRvd09iamVjdCk7XG59O1xuZnVuY3Rpb24gJDUwN2ZhYmUxMGU3MWM2ZmIkZXhwb3J0JDJmMTg4ODExMmY1NThhN2QoZWxlbWVudCkge1xuICBjb25zdCBkb2N1bWVudE9iamVjdCA9ICQ0MzFmYmQ4NmNhN2RjMjE2JGV4cG9ydCRiMjA0YWYxNTgwNDJmYmFjKGVsZW1lbnQpO1xuICBsZXQgbG9hZExpc3RlbmVyO1xuICBpZiAoZG9jdW1lbnRPYmplY3QucmVhZHlTdGF0ZSAhPT0gXCJsb2FkaW5nXCIpICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRzZXR1cEdsb2JhbEZvY3VzRXZlbnRzKGVsZW1lbnQpO1xuICBlbHNlIHtcbiAgICBsb2FkTGlzdGVuZXIgPSAoKSA9PiB7XG4gICAgICAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkc2V0dXBHbG9iYWxGb2N1c0V2ZW50cyhlbGVtZW50KTtcbiAgICB9O1xuICAgIGRvY3VtZW50T2JqZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGxvYWRMaXN0ZW5lcik7XG4gIH1cbiAgcmV0dXJuICgpID0+ICQ1MDdmYWJlMTBlNzFjNmZiJHZhciR0ZWFyRG93bldpbmRvd0ZvY3VzVHJhY2tpbmcoZWxlbWVudCwgbG9hZExpc3RlbmVyKTtcbn1cbmlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCIpICQ1MDdmYWJlMTBlNzFjNmZiJGV4cG9ydCQyZjE4ODgxMTJmNTU4YTdkKCk7XG5mdW5jdGlvbiAkNTA3ZmFiZTEwZTcxYzZmYiRleHBvcnQkYjliM2RmZGRhYjE3ZGIyNygpIHtcbiAgcmV0dXJuICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRjdXJyZW50TW9kYWxpdHkgIT09IFwicG9pbnRlclwiO1xufVxuY29uc3QgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJG5vblRleHRJbnB1dFR5cGVzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoW1xuICBcImNoZWNrYm94XCIsXG4gIFwicmFkaW9cIixcbiAgXCJyYW5nZVwiLFxuICBcImNvbG9yXCIsXG4gIFwiZmlsZVwiLFxuICBcImltYWdlXCIsXG4gIFwiYnV0dG9uXCIsXG4gIFwic3VibWl0XCIsXG4gIFwicmVzZXRcIlxuXSk7XG5mdW5jdGlvbiAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkaXNLZXlib2FyZEZvY3VzRXZlbnQoaXNUZXh0SW5wdXQsIG1vZGFsaXR5LCBlMikge1xuICBsZXQgZG9jdW1lbnQxID0gJDQzMWZiZDg2Y2E3ZGMyMTYkZXhwb3J0JGIyMDRhZjE1ODA0MmZiYWMoZTIgPT09IG51bGwgfHwgZTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGUyLnRhcmdldCk7XG4gIGNvbnN0IElIVE1MSW5wdXRFbGVtZW50ID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/ICQ0MzFmYmQ4NmNhN2RjMjE2JGV4cG9ydCRmMjFhMWZmYWUyNjAxNDVhKGUyID09PSBudWxsIHx8IGUyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlMi50YXJnZXQpLkhUTUxJbnB1dEVsZW1lbnQgOiBIVE1MSW5wdXRFbGVtZW50O1xuICBjb25zdCBJSFRNTFRleHRBcmVhRWxlbWVudCA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyAkNDMxZmJkODZjYTdkYzIxNiRleHBvcnQkZjIxYTFmZmFlMjYwMTQ1YShlMiA9PT0gbnVsbCB8fCBlMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogZTIudGFyZ2V0KS5IVE1MVGV4dEFyZWFFbGVtZW50IDogSFRNTFRleHRBcmVhRWxlbWVudDtcbiAgY29uc3QgSUhUTUxFbGVtZW50ID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/ICQ0MzFmYmQ4NmNhN2RjMjE2JGV4cG9ydCRmMjFhMWZmYWUyNjAxNDVhKGUyID09PSBudWxsIHx8IGUyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlMi50YXJnZXQpLkhUTUxFbGVtZW50IDogSFRNTEVsZW1lbnQ7XG4gIGNvbnN0IElLZXlib2FyZEV2ZW50ID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/ICQ0MzFmYmQ4NmNhN2RjMjE2JGV4cG9ydCRmMjFhMWZmYWUyNjAxNDVhKGUyID09PSBudWxsIHx8IGUyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlMi50YXJnZXQpLktleWJvYXJkRXZlbnQgOiBLZXlib2FyZEV2ZW50O1xuICBpc1RleHRJbnB1dCA9IGlzVGV4dElucHV0IHx8IGRvY3VtZW50MS5hY3RpdmVFbGVtZW50IGluc3RhbmNlb2YgSUhUTUxJbnB1dEVsZW1lbnQgJiYgISQ1MDdmYWJlMTBlNzFjNmZiJHZhciRub25UZXh0SW5wdXRUeXBlcy5oYXMoZG9jdW1lbnQxLmFjdGl2ZUVsZW1lbnQudHlwZSkgfHwgZG9jdW1lbnQxLmFjdGl2ZUVsZW1lbnQgaW5zdGFuY2VvZiBJSFRNTFRleHRBcmVhRWxlbWVudCB8fCBkb2N1bWVudDEuYWN0aXZlRWxlbWVudCBpbnN0YW5jZW9mIElIVE1MRWxlbWVudCAmJiBkb2N1bWVudDEuYWN0aXZlRWxlbWVudC5pc0NvbnRlbnRFZGl0YWJsZTtcbiAgcmV0dXJuICEoaXNUZXh0SW5wdXQgJiYgbW9kYWxpdHkgPT09IFwia2V5Ym9hcmRcIiAmJiBlMiBpbnN0YW5jZW9mIElLZXlib2FyZEV2ZW50ICYmICEkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkRk9DVVNfVklTSUJMRV9JTlBVVF9LRVlTW2UyLmtleV0pO1xufVxuZnVuY3Rpb24gJDUwN2ZhYmUxMGU3MWM2ZmIkZXhwb3J0JGVjNzFiNGI4M2FjMDhlYzMoZm4yLCBkZXBzLCBvcHRzKSB7XG4gICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRzZXR1cEdsb2JhbEZvY3VzRXZlbnRzKCk7XG4gIHkkNigoKSA9PiB7XG4gICAgbGV0IGhhbmRsZXIgPSAobW9kYWxpdHksIGUyKSA9PiB7XG4gICAgICBpZiAoISQ1MDdmYWJlMTBlNzFjNmZiJHZhciRpc0tleWJvYXJkRm9jdXNFdmVudCghIShvcHRzID09PSBudWxsIHx8IG9wdHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdHMuaXNUZXh0SW5wdXQpLCBtb2RhbGl0eSwgZTIpKSByZXR1cm47XG4gICAgICBmbjIoJDUwN2ZhYmUxMGU3MWM2ZmIkZXhwb3J0JGI5YjNkZmRkYWIxN2RiMjcoKSk7XG4gICAgfTtcbiAgICAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkY2hhbmdlSGFuZGxlcnMuYWRkKGhhbmRsZXIpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkY2hhbmdlSGFuZGxlcnMuZGVsZXRlKGhhbmRsZXIpO1xuICAgIH07XG4gIH0sIGRlcHMpO1xufVxuZnVuY3Rpb24gJGExZWE1OWQ2ODI3MGYwZGQkZXhwb3J0JGY4MTY4ZDhkZDhmZDY2ZTYocHJvcHMpIHtcbiAgbGV0IHsgaXNEaXNhYmxlZCwgb25Gb2N1czogb25Gb2N1c1Byb3AsIG9uQmx1cjogb25CbHVyUHJvcCwgb25Gb2N1c0NoYW5nZSB9ID0gcHJvcHM7XG4gIGNvbnN0IG9uQmx1ciA9IHEkMygoZTIpID0+IHtcbiAgICBpZiAoZTIudGFyZ2V0ID09PSBlMi5jdXJyZW50VGFyZ2V0KSB7XG4gICAgICBpZiAob25CbHVyUHJvcCkgb25CbHVyUHJvcChlMik7XG4gICAgICBpZiAob25Gb2N1c0NoYW5nZSkgb25Gb2N1c0NoYW5nZShmYWxzZSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sIFtcbiAgICBvbkJsdXJQcm9wLFxuICAgIG9uRm9jdXNDaGFuZ2VcbiAgXSk7XG4gIGNvbnN0IG9uU3ludGhldGljRm9jdXMgPSAkOGE5Y2IyNzlkYzg3ZTEzMCRleHBvcnQkNzE1YzY4MmQwOWQ2MzljYyhvbkJsdXIpO1xuICBjb25zdCBvbkZvY3VzID0gcSQzKChlMikgPT4ge1xuICAgIGNvbnN0IG93bmVyRG9jdW1lbnQgPSAkNDMxZmJkODZjYTdkYzIxNiRleHBvcnQkYjIwNGFmMTU4MDQyZmJhYyhlMi50YXJnZXQpO1xuICAgIGNvbnN0IGFjdGl2ZUVsZW1lbnQgPSBvd25lckRvY3VtZW50ID8gJGQ0ZWUxMGRlMzA2ZjI1MTAkZXhwb3J0JGNkNGU1NTczZmJlMmI1NzYob3duZXJEb2N1bWVudCkgOiAkZDRlZTEwZGUzMDZmMjUxMCRleHBvcnQkY2Q0ZTU1NzNmYmUyYjU3NigpO1xuICAgIGlmIChlMi50YXJnZXQgPT09IGUyLmN1cnJlbnRUYXJnZXQgJiYgYWN0aXZlRWxlbWVudCA9PT0gJGQ0ZWUxMGRlMzA2ZjI1MTAkZXhwb3J0JGU1OGYwMjlmMGZiZmRiMjkoZTIubmF0aXZlRXZlbnQpKSB7XG4gICAgICBpZiAob25Gb2N1c1Byb3ApIG9uRm9jdXNQcm9wKGUyKTtcbiAgICAgIGlmIChvbkZvY3VzQ2hhbmdlKSBvbkZvY3VzQ2hhbmdlKHRydWUpO1xuICAgICAgb25TeW50aGV0aWNGb2N1cyhlMik7XG4gICAgfVxuICB9LCBbXG4gICAgb25Gb2N1c0NoYW5nZSxcbiAgICBvbkZvY3VzUHJvcCxcbiAgICBvblN5bnRoZXRpY0ZvY3VzXG4gIF0pO1xuICByZXR1cm4ge1xuICAgIGZvY3VzUHJvcHM6IHtcbiAgICAgIG9uRm9jdXM6ICFpc0Rpc2FibGVkICYmIChvbkZvY3VzUHJvcCB8fCBvbkZvY3VzQ2hhbmdlIHx8IG9uQmx1clByb3ApID8gb25Gb2N1cyA6IHZvaWQgMCxcbiAgICAgIG9uQmx1cjogIWlzRGlzYWJsZWQgJiYgKG9uQmx1clByb3AgfHwgb25Gb2N1c0NoYW5nZSkgPyBvbkJsdXIgOiB2b2lkIDBcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiAkOWFiOTQyNjJiZDAwNDdjNyRleHBvcnQkNDIwZTY4MjczMTY1ZjRlYyhwcm9wcykge1xuICBsZXQgeyBpc0Rpc2FibGVkLCBvbkJsdXJXaXRoaW4sIG9uRm9jdXNXaXRoaW4sIG9uRm9jdXNXaXRoaW5DaGFuZ2UgfSA9IHByb3BzO1xuICBsZXQgc3RhdGUgPSBBJDMoe1xuICAgIGlzRm9jdXNXaXRoaW46IGZhbHNlXG4gIH0pO1xuICBsZXQgeyBhZGRHbG9iYWxMaXN0ZW5lciwgcmVtb3ZlQWxsR2xvYmFsTGlzdGVuZXJzIH0gPSAkMDNkZWIyM2ZmMTQ5MjBjNCRleHBvcnQkNGVhZjA0ZTU0YWE4ZWVkNigpO1xuICBsZXQgb25CbHVyID0gcSQzKChlMikgPT4ge1xuICAgIGlmICghZTIuY3VycmVudFRhcmdldC5jb250YWlucyhlMi50YXJnZXQpKSByZXR1cm47XG4gICAgaWYgKHN0YXRlLmN1cnJlbnQuaXNGb2N1c1dpdGhpbiAmJiAhZTIuY3VycmVudFRhcmdldC5jb250YWlucyhlMi5yZWxhdGVkVGFyZ2V0KSkge1xuICAgICAgc3RhdGUuY3VycmVudC5pc0ZvY3VzV2l0aGluID0gZmFsc2U7XG4gICAgICByZW1vdmVBbGxHbG9iYWxMaXN0ZW5lcnMoKTtcbiAgICAgIGlmIChvbkJsdXJXaXRoaW4pIG9uQmx1cldpdGhpbihlMik7XG4gICAgICBpZiAob25Gb2N1c1dpdGhpbkNoYW5nZSkgb25Gb2N1c1dpdGhpbkNoYW5nZShmYWxzZSk7XG4gICAgfVxuICB9LCBbXG4gICAgb25CbHVyV2l0aGluLFxuICAgIG9uRm9jdXNXaXRoaW5DaGFuZ2UsXG4gICAgc3RhdGUsXG4gICAgcmVtb3ZlQWxsR2xvYmFsTGlzdGVuZXJzXG4gIF0pO1xuICBsZXQgb25TeW50aGV0aWNGb2N1cyA9ICQ4YTljYjI3OWRjODdlMTMwJGV4cG9ydCQ3MTVjNjgyZDA5ZDYzOWNjKG9uQmx1cik7XG4gIGxldCBvbkZvY3VzID0gcSQzKChlMikgPT4ge1xuICAgIGlmICghZTIuY3VycmVudFRhcmdldC5jb250YWlucyhlMi50YXJnZXQpKSByZXR1cm47XG4gICAgY29uc3Qgb3duZXJEb2N1bWVudCA9ICQ0MzFmYmQ4NmNhN2RjMjE2JGV4cG9ydCRiMjA0YWYxNTgwNDJmYmFjKGUyLnRhcmdldCk7XG4gICAgY29uc3QgYWN0aXZlRWxlbWVudCA9ICRkNGVlMTBkZTMwNmYyNTEwJGV4cG9ydCRjZDRlNTU3M2ZiZTJiNTc2KG93bmVyRG9jdW1lbnQpO1xuICAgIGlmICghc3RhdGUuY3VycmVudC5pc0ZvY3VzV2l0aGluICYmIGFjdGl2ZUVsZW1lbnQgPT09ICRkNGVlMTBkZTMwNmYyNTEwJGV4cG9ydCRlNThmMDI5ZjBmYmZkYjI5KGUyLm5hdGl2ZUV2ZW50KSkge1xuICAgICAgaWYgKG9uRm9jdXNXaXRoaW4pIG9uRm9jdXNXaXRoaW4oZTIpO1xuICAgICAgaWYgKG9uRm9jdXNXaXRoaW5DaGFuZ2UpIG9uRm9jdXNXaXRoaW5DaGFuZ2UodHJ1ZSk7XG4gICAgICBzdGF0ZS5jdXJyZW50LmlzRm9jdXNXaXRoaW4gPSB0cnVlO1xuICAgICAgb25TeW50aGV0aWNGb2N1cyhlMik7XG4gICAgICBsZXQgY3VycmVudFRhcmdldCA9IGUyLmN1cnJlbnRUYXJnZXQ7XG4gICAgICBhZGRHbG9iYWxMaXN0ZW5lcihvd25lckRvY3VtZW50LCBcImZvY3VzXCIsIChlMykgPT4ge1xuICAgICAgICBpZiAoc3RhdGUuY3VycmVudC5pc0ZvY3VzV2l0aGluICYmICEkZDRlZTEwZGUzMDZmMjUxMCRleHBvcnQkNDI4MmY3MDc5ODA2NGZlMChjdXJyZW50VGFyZ2V0LCBlMy50YXJnZXQpKSB7XG4gICAgICAgICAgbGV0IG5hdGl2ZUV2ZW50ID0gbmV3IG93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuRm9jdXNFdmVudChcImJsdXJcIiwge1xuICAgICAgICAgICAgcmVsYXRlZFRhcmdldDogZTMudGFyZ2V0XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgJDhhOWNiMjc5ZGM4N2UxMzAkZXhwb3J0JGMyYjdhYmU1ZDYxZWM2OTYobmF0aXZlRXZlbnQsIGN1cnJlbnRUYXJnZXQpO1xuICAgICAgICAgIGxldCBldmVudCA9ICQ4YTljYjI3OWRjODdlMTMwJGV4cG9ydCQ1MjViYzQ5MjFkNTZkNGEobmF0aXZlRXZlbnQpO1xuICAgICAgICAgIG9uQmx1cihldmVudCk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgY2FwdHVyZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbXG4gICAgb25Gb2N1c1dpdGhpbixcbiAgICBvbkZvY3VzV2l0aGluQ2hhbmdlLFxuICAgIG9uU3ludGhldGljRm9jdXMsXG4gICAgYWRkR2xvYmFsTGlzdGVuZXIsXG4gICAgb25CbHVyXG4gIF0pO1xuICBpZiAoaXNEaXNhYmxlZCkgcmV0dXJuIHtcbiAgICBmb2N1c1dpdGhpblByb3BzOiB7XG4gICAgICAvLyBUaGVzZSBjYW5ub3QgYmUgbnVsbCwgdGhhdCB3b3VsZCBjb25mbGljdCBpbiBtZXJnZVByb3BzXG4gICAgICBvbkZvY3VzOiB2b2lkIDAsXG4gICAgICBvbkJsdXI6IHZvaWQgMFxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBmb2N1c1dpdGhpblByb3BzOiB7XG4gICAgICBvbkZvY3VzLFxuICAgICAgb25CbHVyXG4gICAgfVxuICB9O1xufVxubGV0ICQ2MTc5YjkzNjcwNWU3NmQzJHZhciRnbG9iYWxJZ25vcmVFbXVsYXRlZE1vdXNlRXZlbnRzID0gZmFsc2U7XG5sZXQgJDYxNzliOTM2NzA1ZTc2ZDMkdmFyJGhvdmVyQ291bnQgPSAwO1xuZnVuY3Rpb24gJDYxNzliOTM2NzA1ZTc2ZDMkdmFyJHNldEdsb2JhbElnbm9yZUVtdWxhdGVkTW91c2VFdmVudHMoKSB7XG4gICQ2MTc5YjkzNjcwNWU3NmQzJHZhciRnbG9iYWxJZ25vcmVFbXVsYXRlZE1vdXNlRXZlbnRzID0gdHJ1ZTtcbiAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgJDYxNzliOTM2NzA1ZTc2ZDMkdmFyJGdsb2JhbElnbm9yZUVtdWxhdGVkTW91c2VFdmVudHMgPSBmYWxzZTtcbiAgfSwgNTApO1xufVxuZnVuY3Rpb24gJDYxNzliOTM2NzA1ZTc2ZDMkdmFyJGhhbmRsZUdsb2JhbFBvaW50ZXJFdmVudChlMikge1xuICBpZiAoZTIucG9pbnRlclR5cGUgPT09IFwidG91Y2hcIikgJDYxNzliOTM2NzA1ZTc2ZDMkdmFyJHNldEdsb2JhbElnbm9yZUVtdWxhdGVkTW91c2VFdmVudHMoKTtcbn1cbmZ1bmN0aW9uICQ2MTc5YjkzNjcwNWU3NmQzJHZhciRzZXR1cEdsb2JhbFRvdWNoRXZlbnRzKCkge1xuICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSBcInVuZGVmaW5lZFwiKSByZXR1cm47XG4gIGlmICh0eXBlb2YgUG9pbnRlckV2ZW50ICE9PSBcInVuZGVmaW5lZFwiKSBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcnVwXCIsICQ2MTc5YjkzNjcwNWU3NmQzJHZhciRoYW5kbGVHbG9iYWxQb2ludGVyRXZlbnQpO1xuICBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJ0ZXN0XCIpIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCAkNjE3OWI5MzY3MDVlNzZkMyR2YXIkc2V0R2xvYmFsSWdub3JlRW11bGF0ZWRNb3VzZUV2ZW50cyk7XG4gICQ2MTc5YjkzNjcwNWU3NmQzJHZhciRob3ZlckNvdW50Kys7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgJDYxNzliOTM2NzA1ZTc2ZDMkdmFyJGhvdmVyQ291bnQtLTtcbiAgICBpZiAoJDYxNzliOTM2NzA1ZTc2ZDMkdmFyJGhvdmVyQ291bnQgPiAwKSByZXR1cm47XG4gICAgaWYgKHR5cGVvZiBQb2ludGVyRXZlbnQgIT09IFwidW5kZWZpbmVkXCIpIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVydXBcIiwgJDYxNzliOTM2NzA1ZTc2ZDMkdmFyJGhhbmRsZUdsb2JhbFBvaW50ZXJFdmVudCk7XG4gICAgZWxzZSBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwidGVzdFwiKSBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgJDYxNzliOTM2NzA1ZTc2ZDMkdmFyJHNldEdsb2JhbElnbm9yZUVtdWxhdGVkTW91c2VFdmVudHMpO1xuICB9O1xufVxuZnVuY3Rpb24gJDYxNzliOTM2NzA1ZTc2ZDMkZXhwb3J0JGFlNzgwZGFmMjllNmQ0NTYocHJvcHMpIHtcbiAgbGV0IHsgb25Ib3ZlclN0YXJ0LCBvbkhvdmVyQ2hhbmdlLCBvbkhvdmVyRW5kLCBpc0Rpc2FibGVkIH0gPSBwcm9wcztcbiAgbGV0IFtpc0hvdmVyZWQsIHNldEhvdmVyZWRdID0gZCQ0KGZhbHNlKTtcbiAgbGV0IHN0YXRlID0gQSQzKHtcbiAgICBpc0hvdmVyZWQ6IGZhbHNlLFxuICAgIGlnbm9yZUVtdWxhdGVkTW91c2VFdmVudHM6IGZhbHNlLFxuICAgIHBvaW50ZXJUeXBlOiBcIlwiLFxuICAgIHRhcmdldDogbnVsbFxuICB9KS5jdXJyZW50O1xuICB5JDYoJDYxNzliOTM2NzA1ZTc2ZDMkdmFyJHNldHVwR2xvYmFsVG91Y2hFdmVudHMsIFtdKTtcbiAgbGV0IHsgYWRkR2xvYmFsTGlzdGVuZXIsIHJlbW92ZUFsbEdsb2JhbExpc3RlbmVycyB9ID0gJDAzZGViMjNmZjE0OTIwYzQkZXhwb3J0JDRlYWYwNGU1NGFhOGVlZDYoKTtcbiAgbGV0IHsgaG92ZXJQcm9wcywgdHJpZ2dlckhvdmVyRW5kIH0gPSBUJDUoKCkgPT4ge1xuICAgIGxldCB0cmlnZ2VySG92ZXJTdGFydCA9IChldmVudCwgcG9pbnRlclR5cGUpID0+IHtcbiAgICAgIHN0YXRlLnBvaW50ZXJUeXBlID0gcG9pbnRlclR5cGU7XG4gICAgICBpZiAoaXNEaXNhYmxlZCB8fCBwb2ludGVyVHlwZSA9PT0gXCJ0b3VjaFwiIHx8IHN0YXRlLmlzSG92ZXJlZCB8fCAhZXZlbnQuY3VycmVudFRhcmdldC5jb250YWlucyhldmVudC50YXJnZXQpKSByZXR1cm47XG4gICAgICBzdGF0ZS5pc0hvdmVyZWQgPSB0cnVlO1xuICAgICAgbGV0IHRhcmdldCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7XG4gICAgICBzdGF0ZS50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICBhZGRHbG9iYWxMaXN0ZW5lcigkNDMxZmJkODZjYTdkYzIxNiRleHBvcnQkYjIwNGFmMTU4MDQyZmJhYyhldmVudC50YXJnZXQpLCBcInBvaW50ZXJvdmVyXCIsIChlMikgPT4ge1xuICAgICAgICBpZiAoc3RhdGUuaXNIb3ZlcmVkICYmIHN0YXRlLnRhcmdldCAmJiAhJGQ0ZWUxMGRlMzA2ZjI1MTAkZXhwb3J0JDQyODJmNzA3OTgwNjRmZTAoc3RhdGUudGFyZ2V0LCBlMi50YXJnZXQpKSB0cmlnZ2VySG92ZXJFbmQyKGUyLCBlMi5wb2ludGVyVHlwZSk7XG4gICAgICB9LCB7XG4gICAgICAgIGNhcHR1cmU6IHRydWVcbiAgICAgIH0pO1xuICAgICAgaWYgKG9uSG92ZXJTdGFydCkgb25Ib3ZlclN0YXJ0KHtcbiAgICAgICAgdHlwZTogXCJob3ZlcnN0YXJ0XCIsXG4gICAgICAgIHRhcmdldCxcbiAgICAgICAgcG9pbnRlclR5cGVcbiAgICAgIH0pO1xuICAgICAgaWYgKG9uSG92ZXJDaGFuZ2UpIG9uSG92ZXJDaGFuZ2UodHJ1ZSk7XG4gICAgICBzZXRIb3ZlcmVkKHRydWUpO1xuICAgIH07XG4gICAgbGV0IHRyaWdnZXJIb3ZlckVuZDIgPSAoZXZlbnQsIHBvaW50ZXJUeXBlKSA9PiB7XG4gICAgICBsZXQgdGFyZ2V0ID0gc3RhdGUudGFyZ2V0O1xuICAgICAgc3RhdGUucG9pbnRlclR5cGUgPSBcIlwiO1xuICAgICAgc3RhdGUudGFyZ2V0ID0gbnVsbDtcbiAgICAgIGlmIChwb2ludGVyVHlwZSA9PT0gXCJ0b3VjaFwiIHx8ICFzdGF0ZS5pc0hvdmVyZWQgfHwgIXRhcmdldCkgcmV0dXJuO1xuICAgICAgc3RhdGUuaXNIb3ZlcmVkID0gZmFsc2U7XG4gICAgICByZW1vdmVBbGxHbG9iYWxMaXN0ZW5lcnMoKTtcbiAgICAgIGlmIChvbkhvdmVyRW5kKSBvbkhvdmVyRW5kKHtcbiAgICAgICAgdHlwZTogXCJob3ZlcmVuZFwiLFxuICAgICAgICB0YXJnZXQsXG4gICAgICAgIHBvaW50ZXJUeXBlXG4gICAgICB9KTtcbiAgICAgIGlmIChvbkhvdmVyQ2hhbmdlKSBvbkhvdmVyQ2hhbmdlKGZhbHNlKTtcbiAgICAgIHNldEhvdmVyZWQoZmFsc2UpO1xuICAgIH07XG4gICAgbGV0IGhvdmVyUHJvcHMyID0ge307XG4gICAgaWYgKHR5cGVvZiBQb2ludGVyRXZlbnQgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIGhvdmVyUHJvcHMyLm9uUG9pbnRlckVudGVyID0gKGUyKSA9PiB7XG4gICAgICAgIGlmICgkNjE3OWI5MzY3MDVlNzZkMyR2YXIkZ2xvYmFsSWdub3JlRW11bGF0ZWRNb3VzZUV2ZW50cyAmJiBlMi5wb2ludGVyVHlwZSA9PT0gXCJtb3VzZVwiKSByZXR1cm47XG4gICAgICAgIHRyaWdnZXJIb3ZlclN0YXJ0KGUyLCBlMi5wb2ludGVyVHlwZSk7XG4gICAgICB9O1xuICAgICAgaG92ZXJQcm9wczIub25Qb2ludGVyTGVhdmUgPSAoZTIpID0+IHtcbiAgICAgICAgaWYgKCFpc0Rpc2FibGVkICYmIGUyLmN1cnJlbnRUYXJnZXQuY29udGFpbnMoZTIudGFyZ2V0KSkgdHJpZ2dlckhvdmVyRW5kMihlMiwgZTIucG9pbnRlclR5cGUpO1xuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInRlc3RcIikge1xuICAgICAgaG92ZXJQcm9wczIub25Ub3VjaFN0YXJ0ID0gKCkgPT4ge1xuICAgICAgICBzdGF0ZS5pZ25vcmVFbXVsYXRlZE1vdXNlRXZlbnRzID0gdHJ1ZTtcbiAgICAgIH07XG4gICAgICBob3ZlclByb3BzMi5vbk1vdXNlRW50ZXIgPSAoZTIpID0+IHtcbiAgICAgICAgaWYgKCFzdGF0ZS5pZ25vcmVFbXVsYXRlZE1vdXNlRXZlbnRzICYmICEkNjE3OWI5MzY3MDVlNzZkMyR2YXIkZ2xvYmFsSWdub3JlRW11bGF0ZWRNb3VzZUV2ZW50cykgdHJpZ2dlckhvdmVyU3RhcnQoZTIsIFwibW91c2VcIik7XG4gICAgICAgIHN0YXRlLmlnbm9yZUVtdWxhdGVkTW91c2VFdmVudHMgPSBmYWxzZTtcbiAgICAgIH07XG4gICAgICBob3ZlclByb3BzMi5vbk1vdXNlTGVhdmUgPSAoZTIpID0+IHtcbiAgICAgICAgaWYgKCFpc0Rpc2FibGVkICYmIGUyLmN1cnJlbnRUYXJnZXQuY29udGFpbnMoZTIudGFyZ2V0KSkgdHJpZ2dlckhvdmVyRW5kMihlMiwgXCJtb3VzZVwiKTtcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBob3ZlclByb3BzOiBob3ZlclByb3BzMixcbiAgICAgIHRyaWdnZXJIb3ZlckVuZDogdHJpZ2dlckhvdmVyRW5kMlxuICAgIH07XG4gIH0sIFtcbiAgICBvbkhvdmVyU3RhcnQsXG4gICAgb25Ib3ZlckNoYW5nZSxcbiAgICBvbkhvdmVyRW5kLFxuICAgIGlzRGlzYWJsZWQsXG4gICAgc3RhdGUsXG4gICAgYWRkR2xvYmFsTGlzdGVuZXIsXG4gICAgcmVtb3ZlQWxsR2xvYmFsTGlzdGVuZXJzXG4gIF0pO1xuICB5JDYoKCkgPT4ge1xuICAgIGlmIChpc0Rpc2FibGVkKSB0cmlnZ2VySG92ZXJFbmQoe1xuICAgICAgY3VycmVudFRhcmdldDogc3RhdGUudGFyZ2V0XG4gICAgfSwgc3RhdGUucG9pbnRlclR5cGUpO1xuICB9LCBbXG4gICAgaXNEaXNhYmxlZFxuICBdKTtcbiAgcmV0dXJuIHtcbiAgICBob3ZlclByb3BzLFxuICAgIGlzSG92ZXJlZFxuICB9O1xufVxuZnVuY3Rpb24gJGY3ZGNlZmZjNWFkNzc2OGIkZXhwb3J0JDRlMzI4ZjYxYzUzODY4N2YocHJvcHMgPSB7fSkge1xuICBsZXQgeyBhdXRvRm9jdXMgPSBmYWxzZSwgaXNUZXh0SW5wdXQsIHdpdGhpbiB9ID0gcHJvcHM7XG4gIGxldCBzdGF0ZSA9IEEkMyh7XG4gICAgaXNGb2N1c2VkOiBmYWxzZSxcbiAgICBpc0ZvY3VzVmlzaWJsZTogYXV0b0ZvY3VzIHx8ICQ1MDdmYWJlMTBlNzFjNmZiJGV4cG9ydCRiOWIzZGZkZGFiMTdkYjI3KClcbiAgfSk7XG4gIGxldCBbaXNGb2N1c2VkLCBzZXRGb2N1c2VkXSA9IGQkNChmYWxzZSk7XG4gIGxldCBbaXNGb2N1c1Zpc2libGVTdGF0ZSwgc2V0Rm9jdXNWaXNpYmxlXSA9IGQkNCgoKSA9PiBzdGF0ZS5jdXJyZW50LmlzRm9jdXNlZCAmJiBzdGF0ZS5jdXJyZW50LmlzRm9jdXNWaXNpYmxlKTtcbiAgbGV0IHVwZGF0ZVN0YXRlID0gcSQzKCgpID0+IHNldEZvY3VzVmlzaWJsZShzdGF0ZS5jdXJyZW50LmlzRm9jdXNlZCAmJiBzdGF0ZS5jdXJyZW50LmlzRm9jdXNWaXNpYmxlKSwgW10pO1xuICBsZXQgb25Gb2N1c0NoYW5nZSA9IHEkMygoaXNGb2N1c2VkMikgPT4ge1xuICAgIHN0YXRlLmN1cnJlbnQuaXNGb2N1c2VkID0gaXNGb2N1c2VkMjtcbiAgICBzZXRGb2N1c2VkKGlzRm9jdXNlZDIpO1xuICAgIHVwZGF0ZVN0YXRlKCk7XG4gIH0sIFtcbiAgICB1cGRhdGVTdGF0ZVxuICBdKTtcbiAgJDUwN2ZhYmUxMGU3MWM2ZmIkZXhwb3J0JGVjNzFiNGI4M2FjMDhlYzMoKGlzRm9jdXNWaXNpYmxlKSA9PiB7XG4gICAgc3RhdGUuY3VycmVudC5pc0ZvY3VzVmlzaWJsZSA9IGlzRm9jdXNWaXNpYmxlO1xuICAgIHVwZGF0ZVN0YXRlKCk7XG4gIH0sIFtdLCB7XG4gICAgaXNUZXh0SW5wdXRcbiAgfSk7XG4gIGxldCB7IGZvY3VzUHJvcHMgfSA9ICRhMWVhNTlkNjgyNzBmMGRkJGV4cG9ydCRmODE2OGQ4ZGQ4ZmQ2NmU2KHtcbiAgICBpc0Rpc2FibGVkOiB3aXRoaW4sXG4gICAgb25Gb2N1c0NoYW5nZVxuICB9KTtcbiAgbGV0IHsgZm9jdXNXaXRoaW5Qcm9wcyB9ID0gJDlhYjk0MjYyYmQwMDQ3YzckZXhwb3J0JDQyMGU2ODI3MzE2NWY0ZWMoe1xuICAgIGlzRGlzYWJsZWQ6ICF3aXRoaW4sXG4gICAgb25Gb2N1c1dpdGhpbkNoYW5nZTogb25Gb2N1c0NoYW5nZVxuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBpc0ZvY3VzZWQsXG4gICAgaXNGb2N1c1Zpc2libGU6IGlzRm9jdXNWaXNpYmxlU3RhdGUsXG4gICAgZm9jdXNQcm9wczogd2l0aGluID8gZm9jdXNXaXRoaW5Qcm9wcyA6IGZvY3VzUHJvcHNcbiAgfTtcbn1cbnZhciBpJDYgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgZCQzID0gKHQyLCBlMiwgbjIpID0+IGUyIGluIHQyID8gaSQ2KHQyLCBlMiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZTogbjIgfSkgOiB0MltlMl0gPSBuMjtcbnZhciByJDIgPSAodDIsIGUyLCBuMikgPT4gKGQkMyh0MiwgdHlwZW9mIGUyICE9IFwic3ltYm9sXCIgPyBlMiArIFwiXCIgOiBlMiwgbjIpLCBuMik7XG5sZXQgbyQ3ID0gY2xhc3MgbyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHIkMih0aGlzLCBcImN1cnJlbnRcIiwgdGhpcy5kZXRlY3QoKSk7XG4gICAgciQyKHRoaXMsIFwiaGFuZG9mZlN0YXRlXCIsIFwicGVuZGluZ1wiKTtcbiAgICByJDIodGhpcywgXCJjdXJyZW50SWRcIiwgMCk7XG4gIH1cbiAgc2V0KGUyKSB7XG4gICAgdGhpcy5jdXJyZW50ICE9PSBlMiAmJiAodGhpcy5oYW5kb2ZmU3RhdGUgPSBcInBlbmRpbmdcIiwgdGhpcy5jdXJyZW50SWQgPSAwLCB0aGlzLmN1cnJlbnQgPSBlMik7XG4gIH1cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5zZXQodGhpcy5kZXRlY3QoKSk7XG4gIH1cbiAgbmV4dElkKCkge1xuICAgIHJldHVybiArK3RoaXMuY3VycmVudElkO1xuICB9XG4gIGdldCBpc1NlcnZlcigpIHtcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50ID09PSBcInNlcnZlclwiO1xuICB9XG4gIGdldCBpc0NsaWVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50ID09PSBcImNsaWVudFwiO1xuICB9XG4gIGRldGVjdCgpIHtcbiAgICByZXR1cm4gdHlwZW9mIHdpbmRvdyA9PSBcInVuZGVmaW5lZFwiIHx8IHR5cGVvZiBkb2N1bWVudCA9PSBcInVuZGVmaW5lZFwiID8gXCJzZXJ2ZXJcIiA6IFwiY2xpZW50XCI7XG4gIH1cbiAgaGFuZG9mZigpIHtcbiAgICB0aGlzLmhhbmRvZmZTdGF0ZSA9PT0gXCJwZW5kaW5nXCIgJiYgKHRoaXMuaGFuZG9mZlN0YXRlID0gXCJjb21wbGV0ZVwiKTtcbiAgfVxuICBnZXQgaXNIYW5kb2ZmQ29tcGxldGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuaGFuZG9mZlN0YXRlID09PSBcImNvbXBsZXRlXCI7XG4gIH1cbn07XG5sZXQgcyQ3ID0gbmV3IG8kNygpO1xuZnVuY3Rpb24gbyQ2KG4yKSB7XG4gIHZhciBlMiwgcjI7XG4gIHJldHVybiBzJDcuaXNTZXJ2ZXIgPyBudWxsIDogbjIgPyBcIm93bmVyRG9jdW1lbnRcIiBpbiBuMiA/IG4yLm93bmVyRG9jdW1lbnQgOiBcImN1cnJlbnRcIiBpbiBuMiA/IChyMiA9IChlMiA9IG4yLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBlMi5vd25lckRvY3VtZW50KSAhPSBudWxsID8gcjIgOiBkb2N1bWVudCA6IG51bGwgOiBkb2N1bWVudDtcbn1cbmZ1bmN0aW9uIHQkMyhlMikge1xuICB0eXBlb2YgcXVldWVNaWNyb3Rhc2sgPT0gXCJmdW5jdGlvblwiID8gcXVldWVNaWNyb3Rhc2soZTIpIDogUHJvbWlzZS5yZXNvbHZlKCkudGhlbihlMikuY2F0Y2goKG8zKSA9PiBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICB0aHJvdyBvMztcbiAgfSkpO1xufVxuZnVuY3Rpb24gbyQ1KCkge1xuICBsZXQgbjIgPSBbXSwgcjIgPSB7IGFkZEV2ZW50TGlzdGVuZXIoZTIsIHQyLCBzMiwgYTMpIHtcbiAgICByZXR1cm4gZTIuYWRkRXZlbnRMaXN0ZW5lcih0MiwgczIsIGEzKSwgcjIuYWRkKCgpID0+IGUyLnJlbW92ZUV2ZW50TGlzdGVuZXIodDIsIHMyLCBhMykpO1xuICB9LCByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoLi4uZTIpIHtcbiAgICBsZXQgdDIgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoLi4uZTIpO1xuICAgIHJldHVybiByMi5hZGQoKCkgPT4gY2FuY2VsQW5pbWF0aW9uRnJhbWUodDIpKTtcbiAgfSwgbmV4dEZyYW1lKC4uLmUyKSB7XG4gICAgcmV0dXJuIHIyLnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiByMi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoLi4uZTIpKTtcbiAgfSwgc2V0VGltZW91dCguLi5lMikge1xuICAgIGxldCB0MiA9IHNldFRpbWVvdXQoLi4uZTIpO1xuICAgIHJldHVybiByMi5hZGQoKCkgPT4gY2xlYXJUaW1lb3V0KHQyKSk7XG4gIH0sIG1pY3JvVGFzayguLi5lMikge1xuICAgIGxldCB0MiA9IHsgY3VycmVudDogdHJ1ZSB9O1xuICAgIHJldHVybiB0JDMoKCkgPT4ge1xuICAgICAgdDIuY3VycmVudCAmJiBlMlswXSgpO1xuICAgIH0pLCByMi5hZGQoKCkgPT4ge1xuICAgICAgdDIuY3VycmVudCA9IGZhbHNlO1xuICAgIH0pO1xuICB9LCBzdHlsZShlMiwgdDIsIHMyKSB7XG4gICAgbGV0IGEzID0gZTIuc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSh0Mik7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oZTIuc3R5bGUsIHsgW3QyXTogczIgfSksIHRoaXMuYWRkKCgpID0+IHtcbiAgICAgIE9iamVjdC5hc3NpZ24oZTIuc3R5bGUsIHsgW3QyXTogYTMgfSk7XG4gICAgfSk7XG4gIH0sIGdyb3VwKGUyKSB7XG4gICAgbGV0IHQyID0gbyQ1KCk7XG4gICAgcmV0dXJuIGUyKHQyKSwgdGhpcy5hZGQoKCkgPT4gdDIuZGlzcG9zZSgpKTtcbiAgfSwgYWRkKGUyKSB7XG4gICAgcmV0dXJuIG4yLmluY2x1ZGVzKGUyKSB8fCBuMi5wdXNoKGUyKSwgKCkgPT4ge1xuICAgICAgbGV0IHQyID0gbjIuaW5kZXhPZihlMik7XG4gICAgICBpZiAodDIgPj0gMCkgZm9yIChsZXQgczIgb2YgbjIuc3BsaWNlKHQyLCAxKSkgczIoKTtcbiAgICB9O1xuICB9LCBkaXNwb3NlKCkge1xuICAgIGZvciAobGV0IGUyIG9mIG4yLnNwbGljZSgwKSkgZTIoKTtcbiAgfSB9O1xuICByZXR1cm4gcjI7XG59XG5mdW5jdGlvbiBwJDIoKSB7XG4gIGxldCBbZTJdID0gZCQ0KG8kNSk7XG4gIHJldHVybiB5JDYoKCkgPT4gKCkgPT4gZTIuZGlzcG9zZSgpLCBbZTJdKSwgZTI7XG59XG5sZXQgbiQzID0gKGUyLCB0MikgPT4ge1xuICBzJDcuaXNTZXJ2ZXIgPyB5JDYoZTIsIHQyKSA6IF8kMyhlMiwgdDIpO1xufTtcbmZ1bmN0aW9uIHMkNihlMikge1xuICBsZXQgcjIgPSBBJDMoZTIpO1xuICByZXR1cm4gbiQzKCgpID0+IHtcbiAgICByMi5jdXJyZW50ID0gZTI7XG4gIH0sIFtlMl0pLCByMjtcbn1cbmxldCBvJDQgPSBmdW5jdGlvbih0Mikge1xuICBsZXQgZTIgPSBzJDYodDIpO1xuICByZXR1cm4gUm4udXNlQ2FsbGJhY2soKC4uLnIyKSA9PiBlMi5jdXJyZW50KC4uLnIyKSwgW2UyXSk7XG59O1xuZnVuY3Rpb24gRSQxKGUyKSB7XG4gIGxldCB0MiA9IGUyLndpZHRoIC8gMiwgbjIgPSBlMi5oZWlnaHQgLyAyO1xuICByZXR1cm4geyB0b3A6IGUyLmNsaWVudFkgLSBuMiwgcmlnaHQ6IGUyLmNsaWVudFggKyB0MiwgYm90dG9tOiBlMi5jbGllbnRZICsgbjIsIGxlZnQ6IGUyLmNsaWVudFggLSB0MiB9O1xufVxuZnVuY3Rpb24gUCQzKGUyLCB0Mikge1xuICByZXR1cm4gISghZTIgfHwgIXQyIHx8IGUyLnJpZ2h0IDwgdDIubGVmdCB8fCBlMi5sZWZ0ID4gdDIucmlnaHQgfHwgZTIuYm90dG9tIDwgdDIudG9wIHx8IGUyLnRvcCA+IHQyLmJvdHRvbSk7XG59XG5mdW5jdGlvbiB3JDIoeyBkaXNhYmxlZDogZTIgPSBmYWxzZSB9ID0ge30pIHtcbiAgbGV0IHQyID0gQSQzKG51bGwpLCBbbjIsIGwyXSA9IGQkNChmYWxzZSksIHIyID0gcCQyKCksIG8zID0gbyQ0KCgpID0+IHtcbiAgICB0Mi5jdXJyZW50ID0gbnVsbCwgbDIoZmFsc2UpLCByMi5kaXNwb3NlKCk7XG4gIH0pLCBmMiA9IG8kNCgoczIpID0+IHtcbiAgICBpZiAocjIuZGlzcG9zZSgpLCB0Mi5jdXJyZW50ID09PSBudWxsKSB7XG4gICAgICB0Mi5jdXJyZW50ID0gczIuY3VycmVudFRhcmdldCwgbDIodHJ1ZSk7XG4gICAgICB7XG4gICAgICAgIGxldCBpMiA9IG8kNihzMi5jdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgcjIuYWRkRXZlbnRMaXN0ZW5lcihpMiwgXCJwb2ludGVydXBcIiwgbzMsIGZhbHNlKSwgcjIuYWRkRXZlbnRMaXN0ZW5lcihpMiwgXCJwb2ludGVybW92ZVwiLCAoYzIpID0+IHtcbiAgICAgICAgICBpZiAodDIuY3VycmVudCkge1xuICAgICAgICAgICAgbGV0IHAyID0gRSQxKGMyKTtcbiAgICAgICAgICAgIGwyKFAkMyhwMiwgdDIuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgZmFsc2UpLCByMi5hZGRFdmVudExpc3RlbmVyKGkyLCBcInBvaW50ZXJjYW5jZWxcIiwgbzMsIGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICByZXR1cm4geyBwcmVzc2VkOiBuMiwgcHJlc3NQcm9wczogZTIgPyB7fSA6IHsgb25Qb2ludGVyRG93bjogZjIsIG9uUG9pbnRlclVwOiBvMywgb25DbGljazogbzMgfSB9O1xufVxubGV0IGUkMyA9IEskMyh2b2lkIDApO1xuZnVuY3Rpb24gYSQ5KCkge1xuICByZXR1cm4geCQ0KGUkMyk7XG59XG5mdW5jdGlvbiB0JDIoLi4ucjIpIHtcbiAgcmV0dXJuIEFycmF5LmZyb20obmV3IFNldChyMi5mbGF0TWFwKChuMikgPT4gdHlwZW9mIG4yID09IFwic3RyaW5nXCIgPyBuMi5zcGxpdChcIiBcIikgOiBbXSkpKS5maWx0ZXIoQm9vbGVhbikuam9pbihcIiBcIik7XG59XG5mdW5jdGlvbiB1JDcocjIsIG4yLCAuLi5hMykge1xuICBpZiAocjIgaW4gbjIpIHtcbiAgICBsZXQgZTIgPSBuMltyMl07XG4gICAgcmV0dXJuIHR5cGVvZiBlMiA9PSBcImZ1bmN0aW9uXCIgPyBlMiguLi5hMykgOiBlMjtcbiAgfVxuICBsZXQgdDIgPSBuZXcgRXJyb3IoYFRyaWVkIHRvIGhhbmRsZSBcIiR7cjJ9XCIgYnV0IHRoZXJlIGlzIG5vIGhhbmRsZXIgZGVmaW5lZC4gT25seSBkZWZpbmVkIGhhbmRsZXJzIGFyZTogJHtPYmplY3Qua2V5cyhuMikubWFwKChlMikgPT4gYFwiJHtlMn1cImApLmpvaW4oXCIsIFwiKX0uYCk7XG4gIHRocm93IEVycm9yLmNhcHR1cmVTdGFja1RyYWNlICYmIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHQyLCB1JDcpLCB0Mjtcbn1cbnZhciBPJDEgPSAoKGEzKSA9PiAoYTNbYTMuTm9uZSA9IDBdID0gXCJOb25lXCIsIGEzW2EzLlJlbmRlclN0cmF0ZWd5ID0gMV0gPSBcIlJlbmRlclN0cmF0ZWd5XCIsIGEzW2EzLlN0YXRpYyA9IDJdID0gXCJTdGF0aWNcIiwgYTMpKShPJDEgfHwge30pLCBBJDEgPSAoKGUyKSA9PiAoZTJbZTIuVW5tb3VudCA9IDBdID0gXCJVbm1vdW50XCIsIGUyW2UyLkhpZGRlbiA9IDFdID0gXCJIaWRkZW5cIiwgZTIpKShBJDEgfHwge30pO1xuZnVuY3Rpb24gTCQyKCkge1xuICBsZXQgbjIgPSBVJDIoKTtcbiAgcmV0dXJuIHEkMygocjIpID0+IEMkMih7IG1lcmdlUmVmczogbjIsIC4uLnIyIH0pLCBbbjJdKTtcbn1cbmZ1bmN0aW9uIEMkMih7IG91clByb3BzOiBuMiwgdGhlaXJQcm9wczogcjIsIHNsb3Q6IGUyLCBkZWZhdWx0VGFnOiBhMywgZmVhdHVyZXM6IHMyLCB2aXNpYmxlOiB0MiA9IHRydWUsIG5hbWU6IGwyLCBtZXJnZVJlZnM6IGkyIH0pIHtcbiAgaTIgPSBpMiAhPSBudWxsID8gaTIgOiAkO1xuICBsZXQgbzMgPSBQJDIocjIsIG4yKTtcbiAgaWYgKHQyKSByZXR1cm4gRiQzKG8zLCBlMiwgYTMsIGwyLCBpMik7XG4gIGxldCB5MiA9IHMyICE9IG51bGwgPyBzMiA6IDA7XG4gIGlmICh5MiAmIDIpIHtcbiAgICBsZXQgeyBzdGF0aWM6IGYyID0gZmFsc2UsIC4uLnUyIH0gPSBvMztcbiAgICBpZiAoZjIpIHJldHVybiBGJDModTIsIGUyLCBhMywgbDIsIGkyKTtcbiAgfVxuICBpZiAoeTIgJiAxKSB7XG4gICAgbGV0IHsgdW5tb3VudDogZjIgPSB0cnVlLCAuLi51MiB9ID0gbzM7XG4gICAgcmV0dXJuIHUkNyhmMiA/IDAgOiAxLCB7IFswXSgpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0sIFsxXSgpIHtcbiAgICAgIHJldHVybiBGJDMoeyAuLi51MiwgaGlkZGVuOiB0cnVlLCBzdHlsZTogeyBkaXNwbGF5OiBcIm5vbmVcIiB9IH0sIGUyLCBhMywgbDIsIGkyKTtcbiAgICB9IH0pO1xuICB9XG4gIHJldHVybiBGJDMobzMsIGUyLCBhMywgbDIsIGkyKTtcbn1cbmZ1bmN0aW9uIEYkMyhuMiwgcjIgPSB7fSwgZTIsIGEzLCBzMikge1xuICBsZXQgeyBhczogdDIgPSBlMiwgY2hpbGRyZW46IGwyLCByZWZOYW1lOiBpMiA9IFwicmVmXCIsIC4uLm8zIH0gPSBoJDQobjIsIFtcInVubW91bnRcIiwgXCJzdGF0aWNcIl0pLCB5MiA9IG4yLnJlZiAhPT0gdm9pZCAwID8geyBbaTJdOiBuMi5yZWYgfSA6IHt9LCBmMiA9IHR5cGVvZiBsMiA9PSBcImZ1bmN0aW9uXCIgPyBsMihyMikgOiBsMjtcbiAgXCJjbGFzc05hbWVcIiBpbiBvMyAmJiBvMy5jbGFzc05hbWUgJiYgdHlwZW9mIG8zLmNsYXNzTmFtZSA9PSBcImZ1bmN0aW9uXCIgJiYgKG8zLmNsYXNzTmFtZSA9IG8zLmNsYXNzTmFtZShyMikpLCBvM1tcImFyaWEtbGFiZWxsZWRieVwiXSAmJiBvM1tcImFyaWEtbGFiZWxsZWRieVwiXSA9PT0gbzMuaWQgJiYgKG8zW1wiYXJpYS1sYWJlbGxlZGJ5XCJdID0gdm9pZCAwKTtcbiAgbGV0IHUyID0ge307XG4gIGlmIChyMikge1xuICAgIGxldCBkMiA9IGZhbHNlLCBwMiA9IFtdO1xuICAgIGZvciAobGV0IFtjMiwgVDJdIG9mIE9iamVjdC5lbnRyaWVzKHIyKSkgdHlwZW9mIFQyID09IFwiYm9vbGVhblwiICYmIChkMiA9IHRydWUpLCBUMiA9PT0gdHJ1ZSAmJiBwMi5wdXNoKGMyLnJlcGxhY2UoLyhbQS1aXSkvZywgKGcyKSA9PiBgLSR7ZzIudG9Mb3dlckNhc2UoKX1gKSk7XG4gICAgaWYgKGQyKSB7XG4gICAgICB1MltcImRhdGEtaGVhZGxlc3N1aS1zdGF0ZVwiXSA9IHAyLmpvaW4oXCIgXCIpO1xuICAgICAgZm9yIChsZXQgYzIgb2YgcDIpIHUyW2BkYXRhLSR7YzJ9YF0gPSBcIlwiO1xuICAgIH1cbiAgfVxuICBpZiAodDIgPT09IGskMyAmJiAoT2JqZWN0LmtleXMobSQ0KG8zKSkubGVuZ3RoID4gMCB8fCBPYmplY3Qua2V5cyhtJDQodTIpKS5sZW5ndGggPiAwKSkgaWYgKCFtbihmMikgfHwgQXJyYXkuaXNBcnJheShmMikgJiYgZjIubGVuZ3RoID4gMSkge1xuICAgIGlmIChPYmplY3Qua2V5cyhtJDQobzMpKS5sZW5ndGggPiAwKSB0aHJvdyBuZXcgRXJyb3IoWydQYXNzaW5nIHByb3BzIG9uIFwiRnJhZ21lbnRcIiEnLCBcIlwiLCBgVGhlIGN1cnJlbnQgY29tcG9uZW50IDwke2EzfSAvPiBpcyByZW5kZXJpbmcgYSBcIkZyYWdtZW50XCIuYCwgXCJIb3dldmVyIHdlIG5lZWQgdG8gcGFzc3Rocm91Z2ggdGhlIGZvbGxvd2luZyBwcm9wczpcIiwgT2JqZWN0LmtleXMobSQ0KG8zKSkuY29uY2F0KE9iamVjdC5rZXlzKG0kNCh1MikpKS5tYXAoKGQyKSA9PiBgICAtICR7ZDJ9YCkuam9pbihgXG5gKSwgXCJcIiwgXCJZb3UgY2FuIGFwcGx5IGEgZmV3IHNvbHV0aW9uczpcIiwgWydBZGQgYW4gYGFzPVwiLi4uXCJgIHByb3AsIHRvIGVuc3VyZSB0aGF0IHdlIHJlbmRlciBhbiBhY3R1YWwgZWxlbWVudCBpbnN0ZWFkIG9mIGEgXCJGcmFnbWVudFwiLicsIFwiUmVuZGVyIGEgc2luZ2xlIGVsZW1lbnQgYXMgdGhlIGNoaWxkIHNvIHRoYXQgd2UgY2FuIGZvcndhcmQgdGhlIHByb3BzIG9udG8gdGhhdCBlbGVtZW50LlwiXS5tYXAoKGQyKSA9PiBgICAtICR7ZDJ9YCkuam9pbihgXG5gKV0uam9pbihgXG5gKSk7XG4gIH0gZWxzZSB7XG4gICAgbGV0IGQyID0gZjIucHJvcHMsIHAyID0gZDIgPT0gbnVsbCA/IHZvaWQgMCA6IGQyLmNsYXNzTmFtZSwgYzIgPSB0eXBlb2YgcDIgPT0gXCJmdW5jdGlvblwiID8gKC4uLlIyKSA9PiB0JDIocDIoLi4uUjIpLCBvMy5jbGFzc05hbWUpIDogdCQyKHAyLCBvMy5jbGFzc05hbWUpLCBUMiA9IGMyID8geyBjbGFzc05hbWU6IGMyIH0gOiB7fSwgZzIgPSBQJDIoZjIucHJvcHMsIG0kNChoJDQobzMsIFtcInJlZlwiXSkpKTtcbiAgICBmb3IgKGxldCBSMiBpbiB1MikgUjIgaW4gZzIgJiYgZGVsZXRlIHUyW1IyXTtcbiAgICByZXR1cm4gX24oZjIsIE9iamVjdC5hc3NpZ24oe30sIGcyLCB1MiwgeTIsIHsgcmVmOiBzMihIJDQoZjIpLCB5Mi5yZWYpIH0sIFQyKSk7XG4gIH1cbiAgcmV0dXJuIF8kNCh0MiwgT2JqZWN0LmFzc2lnbih7fSwgaCQ0KG8zLCBbXCJyZWZcIl0pLCB0MiAhPT0gayQzICYmIHkyLCB0MiAhPT0gayQzICYmIHUyKSwgZjIpO1xufVxuZnVuY3Rpb24gVSQyKCkge1xuICBsZXQgbjIgPSBBJDMoW10pLCByMiA9IHEkMygoZTIpID0+IHtcbiAgICBmb3IgKGxldCBhMyBvZiBuMi5jdXJyZW50KSBhMyAhPSBudWxsICYmICh0eXBlb2YgYTMgPT0gXCJmdW5jdGlvblwiID8gYTMoZTIpIDogYTMuY3VycmVudCA9IGUyKTtcbiAgfSwgW10pO1xuICByZXR1cm4gKC4uLmUyKSA9PiB7XG4gICAgaWYgKCFlMi5ldmVyeSgoYTMpID0+IGEzID09IG51bGwpKSByZXR1cm4gbjIuY3VycmVudCA9IGUyLCByMjtcbiAgfTtcbn1cbmZ1bmN0aW9uICQoLi4ubjIpIHtcbiAgcmV0dXJuIG4yLmV2ZXJ5KChyMikgPT4gcjIgPT0gbnVsbCkgPyB2b2lkIDAgOiAocjIpID0+IHtcbiAgICBmb3IgKGxldCBlMiBvZiBuMikgZTIgIT0gbnVsbCAmJiAodHlwZW9mIGUyID09IFwiZnVuY3Rpb25cIiA/IGUyKHIyKSA6IGUyLmN1cnJlbnQgPSByMik7XG4gIH07XG59XG5mdW5jdGlvbiBQJDIoLi4ubjIpIHtcbiAgaWYgKG4yLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHt9O1xuICBpZiAobjIubGVuZ3RoID09PSAxKSByZXR1cm4gbjJbMF07XG4gIGxldCByMiA9IHt9LCBlMiA9IHt9O1xuICBmb3IgKGxldCBzMiBvZiBuMikgZm9yIChsZXQgdDIgaW4gczIpIHQyLnN0YXJ0c1dpdGgoXCJvblwiKSAmJiB0eXBlb2YgczJbdDJdID09IFwiZnVuY3Rpb25cIiA/IChlMlt0Ml0gIT0gbnVsbCB8fCAoZTJbdDJdID0gW10pLCBlMlt0Ml0ucHVzaChzMlt0Ml0pKSA6IHIyW3QyXSA9IHMyW3QyXTtcbiAgaWYgKHIyLmRpc2FibGVkIHx8IHIyW1wiYXJpYS1kaXNhYmxlZFwiXSkgZm9yIChsZXQgczIgaW4gZTIpIC9eKG9uKD86Q2xpY2t8UG9pbnRlcnxNb3VzZXxLZXkpKD86RG93bnxVcHxQcmVzcyk/KSQvLnRlc3QoczIpICYmIChlMltzMl0gPSBbKHQyKSA9PiB7XG4gICAgdmFyIGwyO1xuICAgIHJldHVybiAobDIgPSB0MiA9PSBudWxsID8gdm9pZCAwIDogdDIucHJldmVudERlZmF1bHQpID09IG51bGwgPyB2b2lkIDAgOiBsMi5jYWxsKHQyKTtcbiAgfV0pO1xuICBmb3IgKGxldCBzMiBpbiBlMikgT2JqZWN0LmFzc2lnbihyMiwgeyBbczJdKHQyLCAuLi5sMikge1xuICAgIGxldCBpMiA9IGUyW3MyXTtcbiAgICBmb3IgKGxldCBvMyBvZiBpMikge1xuICAgICAgaWYgKCh0MiBpbnN0YW5jZW9mIEV2ZW50IHx8ICh0MiA9PSBudWxsID8gdm9pZCAwIDogdDIubmF0aXZlRXZlbnQpIGluc3RhbmNlb2YgRXZlbnQpICYmIHQyLmRlZmF1bHRQcmV2ZW50ZWQpIHJldHVybjtcbiAgICAgIG8zKHQyLCAuLi5sMik7XG4gICAgfVxuICB9IH0pO1xuICByZXR1cm4gcjI7XG59XG5mdW5jdGlvbiBfJDIoLi4ubjIpIHtcbiAgaWYgKG4yLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHt9O1xuICBpZiAobjIubGVuZ3RoID09PSAxKSByZXR1cm4gbjJbMF07XG4gIGxldCByMiA9IHt9LCBlMiA9IHt9O1xuICBmb3IgKGxldCBzMiBvZiBuMikgZm9yIChsZXQgdDIgaW4gczIpIHQyLnN0YXJ0c1dpdGgoXCJvblwiKSAmJiB0eXBlb2YgczJbdDJdID09IFwiZnVuY3Rpb25cIiA/IChlMlt0Ml0gIT0gbnVsbCB8fCAoZTJbdDJdID0gW10pLCBlMlt0Ml0ucHVzaChzMlt0Ml0pKSA6IHIyW3QyXSA9IHMyW3QyXTtcbiAgZm9yIChsZXQgczIgaW4gZTIpIE9iamVjdC5hc3NpZ24ocjIsIHsgW3MyXSguLi50Mikge1xuICAgIGxldCBsMiA9IGUyW3MyXTtcbiAgICBmb3IgKGxldCBpMiBvZiBsMikgaTIgPT0gbnVsbCB8fCBpMiguLi50Mik7XG4gIH0gfSk7XG4gIHJldHVybiByMjtcbn1cbmZ1bmN0aW9uIEskMShuMikge1xuICB2YXIgcjI7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKEQkMShuMiksIHsgZGlzcGxheU5hbWU6IChyMiA9IG4yLmRpc3BsYXlOYW1lKSAhPSBudWxsID8gcjIgOiBuMi5uYW1lIH0pO1xufVxuZnVuY3Rpb24gbSQ0KG4yKSB7XG4gIGxldCByMiA9IE9iamVjdC5hc3NpZ24oe30sIG4yKTtcbiAgZm9yIChsZXQgZTIgaW4gcjIpIHIyW2UyXSA9PT0gdm9pZCAwICYmIGRlbGV0ZSByMltlMl07XG4gIHJldHVybiByMjtcbn1cbmZ1bmN0aW9uIGgkNChuMiwgcjIgPSBbXSkge1xuICBsZXQgZTIgPSBPYmplY3QuYXNzaWduKHt9LCBuMik7XG4gIGZvciAobGV0IGEzIG9mIHIyKSBhMyBpbiBlMiAmJiBkZWxldGUgZTJbYTNdO1xuICByZXR1cm4gZTI7XG59XG5mdW5jdGlvbiBIJDQobjIpIHtcbiAgcmV0dXJuIFJuLnZlcnNpb24uc3BsaXQoXCIuXCIpWzBdID49IFwiMTlcIiA/IG4yLnByb3BzLnJlZiA6IG4yLnJlZjtcbn1cbmxldCBSJDIgPSBcImJ1dHRvblwiO1xuZnVuY3Rpb24gdiQxKGEzLCB1Mikge1xuICB2YXIgcDI7XG4gIGxldCBsMiA9IGEkOSgpLCB7IGRpc2FibGVkOiBlMiA9IGwyIHx8IGZhbHNlLCBhdXRvRm9jdXM6IHQyID0gZmFsc2UsIC4uLm8zIH0gPSBhMywgeyBpc0ZvY3VzVmlzaWJsZTogcjIsIGZvY3VzUHJvcHM6IGkyIH0gPSAkZjdkY2VmZmM1YWQ3NzY4YiRleHBvcnQkNGUzMjhmNjFjNTM4Njg3Zih7IGF1dG9Gb2N1czogdDIgfSksIHsgaXNIb3ZlcmVkOiBzMiwgaG92ZXJQcm9wczogVDIgfSA9ICQ2MTc5YjkzNjcwNWU3NmQzJGV4cG9ydCRhZTc4MGRhZjI5ZTZkNDU2KHsgaXNEaXNhYmxlZDogZTIgfSksIHsgcHJlc3NlZDogbjIsIHByZXNzUHJvcHM6IGQyIH0gPSB3JDIoeyBkaXNhYmxlZDogZTIgfSksIGYyID0gXyQyKHsgcmVmOiB1MiwgdHlwZTogKHAyID0gbzMudHlwZSkgIT0gbnVsbCA/IHAyIDogXCJidXR0b25cIiwgZGlzYWJsZWQ6IGUyIHx8IHZvaWQgMCwgYXV0b0ZvY3VzOiB0MiB9LCBpMiwgVDIsIGQyKSwgbTIgPSBUJDUoKCkgPT4gKHsgZGlzYWJsZWQ6IGUyLCBob3ZlcjogczIsIGZvY3VzOiByMiwgYWN0aXZlOiBuMiwgYXV0b2ZvY3VzOiB0MiB9KSwgW2UyLCBzMiwgcjIsIG4yLCB0Ml0pO1xuICByZXR1cm4gTCQyKCkoeyBvdXJQcm9wczogZjIsIHRoZWlyUHJvcHM6IG8zLCBzbG90OiBtMiwgZGVmYXVsdFRhZzogUiQyLCBuYW1lOiBcIkJ1dHRvblwiIH0pO1xufVxubGV0IEgkMyA9IEskMSh2JDEpO1xubGV0IGUkMiA9IEskMyh2b2lkIDApO1xuZnVuY3Rpb24gdSQ2KCkge1xuICByZXR1cm4geCQ0KGUkMik7XG59XG5mdW5jdGlvbiByJDEobjIpIHtcbiAgbGV0IGUyID0gbjIucGFyZW50RWxlbWVudCwgbDIgPSBudWxsO1xuICBmb3IgKDsgZTIgJiYgIShlMiBpbnN0YW5jZW9mIEhUTUxGaWVsZFNldEVsZW1lbnQpOyApIGUyIGluc3RhbmNlb2YgSFRNTExlZ2VuZEVsZW1lbnQgJiYgKGwyID0gZTIpLCBlMiA9IGUyLnBhcmVudEVsZW1lbnQ7XG4gIGxldCB0MiA9IChlMiA9PSBudWxsID8gdm9pZCAwIDogZTIuZ2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIikpID09PSBcIlwiO1xuICByZXR1cm4gdDIgJiYgaSQ1KGwyKSA/IGZhbHNlIDogdDI7XG59XG5mdW5jdGlvbiBpJDUobjIpIHtcbiAgaWYgKCFuMikgcmV0dXJuIGZhbHNlO1xuICBsZXQgZTIgPSBuMi5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuICBmb3IgKDsgZTIgIT09IG51bGw7ICkge1xuICAgIGlmIChlMiBpbnN0YW5jZW9mIEhUTUxMZWdlbmRFbGVtZW50KSByZXR1cm4gZmFsc2U7XG4gICAgZTIgPSBlMi5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxubGV0IHUkNSA9IFN5bWJvbCgpO1xuZnVuY3Rpb24gVCQzKHQyLCBuMiA9IHRydWUpIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24odDIsIHsgW3UkNV06IG4yIH0pO1xufVxuZnVuY3Rpb24geSQ1KC4uLnQyKSB7XG4gIGxldCBuMiA9IEEkMyh0Mik7XG4gIHkkNigoKSA9PiB7XG4gICAgbjIuY3VycmVudCA9IHQyO1xuICB9LCBbdDJdKTtcbiAgbGV0IGMyID0gbyQ0KChlMikgPT4ge1xuICAgIGZvciAobGV0IG8zIG9mIG4yLmN1cnJlbnQpIG8zICE9IG51bGwgJiYgKHR5cGVvZiBvMyA9PSBcImZ1bmN0aW9uXCIgPyBvMyhlMikgOiBvMy5jdXJyZW50ID0gZTIpO1xuICB9KTtcbiAgcmV0dXJuIHQyLmV2ZXJ5KChlMikgPT4gZTIgPT0gbnVsbCB8fCAoZTIgPT0gbnVsbCA/IHZvaWQgMCA6IGUyW3UkNV0pKSA/IHZvaWQgMCA6IGMyO1xufVxubGV0IGEkOCA9IEskMyhudWxsKTtcbmEkOC5kaXNwbGF5TmFtZSA9IFwiRGVzY3JpcHRpb25Db250ZXh0XCI7XG5mdW5jdGlvbiBmJDYoKSB7XG4gIGxldCByMiA9IHgkNChhJDgpO1xuICBpZiAocjIgPT09IG51bGwpIHtcbiAgICBsZXQgZTIgPSBuZXcgRXJyb3IoXCJZb3UgdXNlZCBhIDxEZXNjcmlwdGlvbiAvPiBjb21wb25lbnQsIGJ1dCBpdCBpcyBub3QgaW5zaWRlIGEgcmVsZXZhbnQgcGFyZW50LlwiKTtcbiAgICB0aHJvdyBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSAmJiBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZShlMiwgZiQ2KSwgZTI7XG4gIH1cbiAgcmV0dXJuIHIyO1xufVxuZnVuY3Rpb24gVSQxKCkge1xuICB2YXIgcjIsIGUyO1xuICByZXR1cm4gKGUyID0gKHIyID0geCQ0KGEkOCkpID09IG51bGwgPyB2b2lkIDAgOiByMi52YWx1ZSkgIT0gbnVsbCA/IGUyIDogdm9pZCAwO1xufVxuZnVuY3Rpb24gdyQxKCkge1xuICBsZXQgW3IyLCBlMl0gPSBkJDQoW10pO1xuICByZXR1cm4gW3IyLmxlbmd0aCA+IDAgPyByMi5qb2luKFwiIFwiKSA6IHZvaWQgMCwgVCQ1KCgpID0+IGZ1bmN0aW9uKHQyKSB7XG4gICAgbGV0IGkyID0gbyQ0KChuMikgPT4gKGUyKChzMikgPT4gWy4uLnMyLCBuMl0pLCAoKSA9PiBlMigoczIpID0+IHtcbiAgICAgIGxldCBvMyA9IHMyLnNsaWNlKCksIHAyID0gbzMuaW5kZXhPZihuMik7XG4gICAgICByZXR1cm4gcDIgIT09IC0xICYmIG8zLnNwbGljZShwMiwgMSksIG8zO1xuICAgIH0pKSksIGwyID0gVCQ1KCgpID0+ICh7IHJlZ2lzdGVyOiBpMiwgc2xvdDogdDIuc2xvdCwgbmFtZTogdDIubmFtZSwgcHJvcHM6IHQyLnByb3BzLCB2YWx1ZTogdDIudmFsdWUgfSksIFtpMiwgdDIuc2xvdCwgdDIubmFtZSwgdDIucHJvcHMsIHQyLnZhbHVlXSk7XG4gICAgcmV0dXJuIFJuLmNyZWF0ZUVsZW1lbnQoYSQ4LlByb3ZpZGVyLCB7IHZhbHVlOiBsMiB9LCB0Mi5jaGlsZHJlbik7XG4gIH0sIFtlMl0pXTtcbn1cbmxldCBTJDQgPSBcInBcIjtcbmZ1bmN0aW9uIEMkMShyMiwgZTIpIHtcbiAgbGV0IGQyID0gZyQzKCksIHQyID0gYSQ5KCksIHsgaWQ6IGkyID0gYGhlYWRsZXNzdWktZGVzY3JpcHRpb24tJHtkMn1gLCAuLi5sMiB9ID0gcjIsIG4yID0gZiQ2KCksIHMyID0geSQ1KGUyKTtcbiAgbiQzKCgpID0+IG4yLnJlZ2lzdGVyKGkyKSwgW2kyLCBuMi5yZWdpc3Rlcl0pO1xuICBsZXQgbzMgPSB0MiB8fCBmYWxzZSwgcDIgPSBUJDUoKCkgPT4gKHsgLi4ubjIuc2xvdCwgZGlzYWJsZWQ6IG8zIH0pLCBbbjIuc2xvdCwgbzNdKSwgRDIgPSB7IHJlZjogczIsIC4uLm4yLnByb3BzLCBpZDogaTIgfTtcbiAgcmV0dXJuIEwkMigpKHsgb3VyUHJvcHM6IEQyLCB0aGVpclByb3BzOiBsMiwgc2xvdDogcDIsIGRlZmF1bHRUYWc6IFMkNCwgbmFtZTogbjIubmFtZSB8fCBcIkRlc2NyaXB0aW9uXCIgfSk7XG59XG5sZXQgXyQxID0gSyQxKEMkMSk7XG5PYmplY3QuYXNzaWduKF8kMSwge30pO1xudmFyIG8kMyA9ICgocjIpID0+IChyMi5TcGFjZSA9IFwiIFwiLCByMi5FbnRlciA9IFwiRW50ZXJcIiwgcjIuRXNjYXBlID0gXCJFc2NhcGVcIiwgcjIuQmFja3NwYWNlID0gXCJCYWNrc3BhY2VcIiwgcjIuRGVsZXRlID0gXCJEZWxldGVcIiwgcjIuQXJyb3dMZWZ0ID0gXCJBcnJvd0xlZnRcIiwgcjIuQXJyb3dVcCA9IFwiQXJyb3dVcFwiLCByMi5BcnJvd1JpZ2h0ID0gXCJBcnJvd1JpZ2h0XCIsIHIyLkFycm93RG93biA9IFwiQXJyb3dEb3duXCIsIHIyLkhvbWUgPSBcIkhvbWVcIiwgcjIuRW5kID0gXCJFbmRcIiwgcjIuUGFnZVVwID0gXCJQYWdlVXBcIiwgcjIuUGFnZURvd24gPSBcIlBhZ2VEb3duXCIsIHIyLlRhYiA9IFwiVGFiXCIsIHIyKSkobyQzIHx8IHt9KTtcbmxldCBjJDUgPSBLJDMobnVsbCk7XG5jJDUuZGlzcGxheU5hbWUgPSBcIkxhYmVsQ29udGV4dFwiO1xuZnVuY3Rpb24gUCQxKCkge1xuICBsZXQgcjIgPSB4JDQoYyQ1KTtcbiAgaWYgKHIyID09PSBudWxsKSB7XG4gICAgbGV0IGwyID0gbmV3IEVycm9yKFwiWW91IHVzZWQgYSA8TGFiZWwgLz4gY29tcG9uZW50LCBidXQgaXQgaXMgbm90IGluc2lkZSBhIHJlbGV2YW50IHBhcmVudC5cIik7XG4gICAgdGhyb3cgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UgJiYgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UobDIsIFAkMSksIGwyO1xuICB9XG4gIHJldHVybiByMjtcbn1cbmZ1bmN0aW9uIEkkMihyMikge1xuICB2YXIgYTMsIGUyLCBvMztcbiAgbGV0IGwyID0gKGUyID0gKGEzID0geCQ0KGMkNSkpID09IG51bGwgPyB2b2lkIDAgOiBhMy52YWx1ZSkgIT0gbnVsbCA/IGUyIDogdm9pZCAwO1xuICByZXR1cm4gKChvMyA9IHZvaWQgMCkgIT0gbnVsbCA/IG8zIDogMCkgPiAwID8gW2wyLCAuLi5yMl0uZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCIgXCIpIDogbDI7XG59XG5mdW5jdGlvbiBLKHsgaW5oZXJpdDogcjIgPSBmYWxzZSB9ID0ge30pIHtcbiAgbGV0IGwyID0gSSQyKCksIFthMywgZTJdID0gZCQ0KFtdKSwgbzMgPSByMiA/IFtsMiwgLi4uYTNdLmZpbHRlcihCb29sZWFuKSA6IGEzO1xuICByZXR1cm4gW28zLmxlbmd0aCA+IDAgPyBvMy5qb2luKFwiIFwiKSA6IHZvaWQgMCwgVCQ1KCgpID0+IGZ1bmN0aW9uKHQyKSB7XG4gICAgbGV0IHMyID0gbyQ0KChpMikgPT4gKGUyKChwMikgPT4gWy4uLnAyLCBpMl0pLCAoKSA9PiBlMigocDIpID0+IHtcbiAgICAgIGxldCB1MiA9IHAyLnNsaWNlKCksIGQyID0gdTIuaW5kZXhPZihpMik7XG4gICAgICByZXR1cm4gZDIgIT09IC0xICYmIHUyLnNwbGljZShkMiwgMSksIHUyO1xuICAgIH0pKSksIG0yID0gVCQ1KCgpID0+ICh7IHJlZ2lzdGVyOiBzMiwgc2xvdDogdDIuc2xvdCwgbmFtZTogdDIubmFtZSwgcHJvcHM6IHQyLnByb3BzLCB2YWx1ZTogdDIudmFsdWUgfSksIFtzMiwgdDIuc2xvdCwgdDIubmFtZSwgdDIucHJvcHMsIHQyLnZhbHVlXSk7XG4gICAgcmV0dXJuIFJuLmNyZWF0ZUVsZW1lbnQoYyQ1LlByb3ZpZGVyLCB7IHZhbHVlOiBtMiB9LCB0Mi5jaGlsZHJlbik7XG4gIH0sIFtlMl0pXTtcbn1cbmxldCBOID0gXCJsYWJlbFwiO1xuZnVuY3Rpb24gRyQxKHIyLCBsMikge1xuICB2YXIgeTI7XG4gIGxldCBhMyA9IGckMygpLCBlMiA9IFAkMSgpLCBvMyA9IHUkNigpLCBnMiA9IGEkOSgpLCB7IGlkOiB0MiA9IGBoZWFkbGVzc3VpLWxhYmVsLSR7YTN9YCwgaHRtbEZvcjogczIgPSBvMyAhPSBudWxsID8gbzMgOiAoeTIgPSBlMi5wcm9wcykgPT0gbnVsbCA/IHZvaWQgMCA6IHkyLmh0bWxGb3IsIHBhc3NpdmU6IG0yID0gZmFsc2UsIC4uLmkyIH0gPSByMiwgcDIgPSB5JDUobDIpO1xuICBuJDMoKCkgPT4gZTIucmVnaXN0ZXIodDIpLCBbdDIsIGUyLnJlZ2lzdGVyXSk7XG4gIGxldCB1MiA9IG8kNCgoTDIpID0+IHtcbiAgICBsZXQgYjIgPSBMMi5jdXJyZW50VGFyZ2V0O1xuICAgIGlmIChiMiBpbnN0YW5jZW9mIEhUTUxMYWJlbEVsZW1lbnQgJiYgTDIucHJldmVudERlZmF1bHQoKSwgZTIucHJvcHMgJiYgXCJvbkNsaWNrXCIgaW4gZTIucHJvcHMgJiYgdHlwZW9mIGUyLnByb3BzLm9uQ2xpY2sgPT0gXCJmdW5jdGlvblwiICYmIGUyLnByb3BzLm9uQ2xpY2soTDIpLCBiMiBpbnN0YW5jZW9mIEhUTUxMYWJlbEVsZW1lbnQpIHtcbiAgICAgIGxldCBuMiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGIyLmh0bWxGb3IpO1xuICAgICAgaWYgKG4yKSB7XG4gICAgICAgIGxldCBFMiA9IG4yLmdldEF0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xuICAgICAgICBpZiAoRTIgPT09IFwidHJ1ZVwiIHx8IEUyID09PSBcIlwiKSByZXR1cm47XG4gICAgICAgIGxldCB4MiA9IG4yLmdldEF0dHJpYnV0ZShcImFyaWEtZGlzYWJsZWRcIik7XG4gICAgICAgIGlmICh4MiA9PT0gXCJ0cnVlXCIgfHwgeDIgPT09IFwiXCIpIHJldHVybjtcbiAgICAgICAgKG4yIGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCAmJiAobjIudHlwZSA9PT0gXCJyYWRpb1wiIHx8IG4yLnR5cGUgPT09IFwiY2hlY2tib3hcIikgfHwgbjIucm9sZSA9PT0gXCJyYWRpb1wiIHx8IG4yLnJvbGUgPT09IFwiY2hlY2tib3hcIiB8fCBuMi5yb2xlID09PSBcInN3aXRjaFwiKSAmJiBuMi5jbGljaygpLCBuMi5mb2N1cyh7IHByZXZlbnRTY3JvbGw6IHRydWUgfSk7XG4gICAgICB9XG4gICAgfVxuICB9KSwgZDIgPSBnMiB8fCBmYWxzZSwgQzIgPSBUJDUoKCkgPT4gKHsgLi4uZTIuc2xvdCwgZGlzYWJsZWQ6IGQyIH0pLCBbZTIuc2xvdCwgZDJdKSwgZjIgPSB7IHJlZjogcDIsIC4uLmUyLnByb3BzLCBpZDogdDIsIGh0bWxGb3I6IHMyLCBvbkNsaWNrOiB1MiB9O1xuICByZXR1cm4gbTIgJiYgKFwib25DbGlja1wiIGluIGYyICYmIChkZWxldGUgZjIuaHRtbEZvciwgZGVsZXRlIGYyLm9uQ2xpY2spLCBcIm9uQ2xpY2tcIiBpbiBpMiAmJiBkZWxldGUgaTIub25DbGljayksIEwkMigpKHsgb3VyUHJvcHM6IGYyLCB0aGVpclByb3BzOiBpMiwgc2xvdDogQzIsIGRlZmF1bHRUYWc6IHMyID8gTiA6IFwiZGl2XCIsIG5hbWU6IGUyLm5hbWUgfHwgXCJMYWJlbFwiIH0pO1xufVxubGV0IFUgPSBLJDEoRyQxKTtcbk9iamVjdC5hc3NpZ24oVSwge30pO1xuZnVuY3Rpb24gZiQ1KGUyKSB7XG4gIGlmIChlMiA9PT0gbnVsbCkgcmV0dXJuIHsgd2lkdGg6IDAsIGhlaWdodDogMCB9O1xuICBsZXQgeyB3aWR0aDogdDIsIGhlaWdodDogcjIgfSA9IGUyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICByZXR1cm4geyB3aWR0aDogdDIsIGhlaWdodDogcjIgfTtcbn1cbmZ1bmN0aW9uIGQkMihlMiwgdDIgPSBmYWxzZSkge1xuICBsZXQgW3IyLCB1Ml0gPSBoJDUoKCkgPT4gKHt9KSwge30pLCBpMiA9IFQkNSgoKSA9PiBmJDUoZTIpLCBbZTIsIHIyXSk7XG4gIHJldHVybiBuJDMoKCkgPT4ge1xuICAgIGlmICghZTIpIHJldHVybjtcbiAgICBsZXQgbjIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIodTIpO1xuICAgIHJldHVybiBuMi5vYnNlcnZlKGUyKSwgKCkgPT4ge1xuICAgICAgbjIuZGlzY29ubmVjdCgpO1xuICAgIH07XG4gIH0sIFtlMl0pLCB0MiA/IHsgd2lkdGg6IGAke2kyLndpZHRofXB4YCwgaGVpZ2h0OiBgJHtpMi5oZWlnaHR9cHhgIH0gOiBpMjtcbn1cbmxldCBhJDcgPSBjbGFzcyBhIGV4dGVuZHMgTWFwIHtcbiAgY29uc3RydWN0b3IodDIpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuZmFjdG9yeSA9IHQyO1xuICB9XG4gIGdldCh0Mikge1xuICAgIGxldCBlMiA9IHN1cGVyLmdldCh0Mik7XG4gICAgcmV0dXJuIGUyID09PSB2b2lkIDAgJiYgKGUyID0gdGhpcy5mYWN0b3J5KHQyKSwgdGhpcy5zZXQodDIsIGUyKSksIGUyO1xuICB9XG59O1xuZnVuY3Rpb24gYSQ2KG8zLCByMikge1xuICBsZXQgdDIgPSBvMygpLCBuMiA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIHJldHVybiB7IGdldFNuYXBzaG90KCkge1xuICAgIHJldHVybiB0MjtcbiAgfSwgc3Vic2NyaWJlKGUyKSB7XG4gICAgcmV0dXJuIG4yLmFkZChlMiksICgpID0+IG4yLmRlbGV0ZShlMik7XG4gIH0sIGRpc3BhdGNoKGUyLCAuLi5zMikge1xuICAgIGxldCBpMiA9IHIyW2UyXS5jYWxsKHQyLCAuLi5zMik7XG4gICAgaTIgJiYgKHQyID0gaTIsIG4yLmZvckVhY2goKGMyKSA9PiBjMigpKSk7XG4gIH0gfTtcbn1cbmZ1bmN0aW9uIG8kMih0Mikge1xuICByZXR1cm4gQyQzKHQyLnN1YnNjcmliZSwgdDIuZ2V0U25hcHNob3QsIHQyLmdldFNuYXBzaG90KTtcbn1cbmxldCBwJDEgPSBuZXcgYSQ3KCgpID0+IGEkNigoKSA9PiBbXSwgeyBBREQocjIpIHtcbiAgcmV0dXJuIHRoaXMuaW5jbHVkZXMocjIpID8gdGhpcyA6IFsuLi50aGlzLCByMl07XG59LCBSRU1PVkUocjIpIHtcbiAgbGV0IGUyID0gdGhpcy5pbmRleE9mKHIyKTtcbiAgaWYgKGUyID09PSAtMSkgcmV0dXJuIHRoaXM7XG4gIGxldCB0MiA9IHRoaXMuc2xpY2UoKTtcbiAgcmV0dXJuIHQyLnNwbGljZShlMiwgMSksIHQyO1xufSB9KSk7XG5mdW5jdGlvbiB4JDIocjIsIGUyKSB7XG4gIGxldCB0MiA9IHAkMS5nZXQoZTIpLCBpMiA9IGckMygpLCBoMiA9IG8kMih0Mik7XG4gIGlmIChuJDMoKCkgPT4ge1xuICAgIGlmIChyMikgcmV0dXJuIHQyLmRpc3BhdGNoKFwiQUREXCIsIGkyKSwgKCkgPT4gdDIuZGlzcGF0Y2goXCJSRU1PVkVcIiwgaTIpO1xuICB9LCBbdDIsIHIyXSksICFyMikgcmV0dXJuIGZhbHNlO1xuICBsZXQgczIgPSBoMi5pbmRleE9mKGkyKSwgbzMgPSBoMi5sZW5ndGg7XG4gIHJldHVybiBzMiA9PT0gLTEgJiYgKHMyID0gbzMsIG8zICs9IDEpLCBzMiA9PT0gbzMgLSAxO1xufVxubGV0IGYkNCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCksIHUkNCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG5mdW5jdGlvbiBoJDModDIpIHtcbiAgdmFyIGUyO1xuICBsZXQgcjIgPSAoZTIgPSB1JDQuZ2V0KHQyKSkgIT0gbnVsbCA/IGUyIDogMDtcbiAgcmV0dXJuIHUkNC5zZXQodDIsIHIyICsgMSksIHIyICE9PSAwID8gKCkgPT4gbSQzKHQyKSA6IChmJDQuc2V0KHQyLCB7IFwiYXJpYS1oaWRkZW5cIjogdDIuZ2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiksIGluZXJ0OiB0Mi5pbmVydCB9KSwgdDIuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgXCJ0cnVlXCIpLCB0Mi5pbmVydCA9IHRydWUsICgpID0+IG0kMyh0MikpO1xufVxuZnVuY3Rpb24gbSQzKHQyKSB7XG4gIHZhciBpMjtcbiAgbGV0IHIyID0gKGkyID0gdSQ0LmdldCh0MikpICE9IG51bGwgPyBpMiA6IDE7XG4gIGlmIChyMiA9PT0gMSA/IHUkNC5kZWxldGUodDIpIDogdSQ0LnNldCh0MiwgcjIgLSAxKSwgcjIgIT09IDEpIHJldHVybjtcbiAgbGV0IGUyID0gZiQ0LmdldCh0Mik7XG4gIGUyICYmIChlMltcImFyaWEtaGlkZGVuXCJdID09PSBudWxsID8gdDIucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIikgOiB0Mi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLCBlMltcImFyaWEtaGlkZGVuXCJdKSwgdDIuaW5lcnQgPSBlMi5pbmVydCwgZiQ0LmRlbGV0ZSh0MikpO1xufVxuZnVuY3Rpb24geSQ0KHQyLCB7IGFsbG93ZWQ6IHIyLCBkaXNhbGxvd2VkOiBlMiB9ID0ge30pIHtcbiAgbGV0IGkyID0geCQyKHQyLCBcImluZXJ0LW90aGVyc1wiKTtcbiAgbiQzKCgpID0+IHtcbiAgICB2YXIgZDIsIGMyO1xuICAgIGlmICghaTIpIHJldHVybjtcbiAgICBsZXQgYTMgPSBvJDUoKTtcbiAgICBmb3IgKGxldCBuMiBvZiAoZDIgPSBlMiA9PSBudWxsID8gdm9pZCAwIDogZTIoKSkgIT0gbnVsbCA/IGQyIDogW10pIG4yICYmIGEzLmFkZChoJDMobjIpKTtcbiAgICBsZXQgczIgPSAoYzIgPSByMiA9PSBudWxsID8gdm9pZCAwIDogcjIoKSkgIT0gbnVsbCA/IGMyIDogW107XG4gICAgZm9yIChsZXQgbjIgb2YgczIpIHtcbiAgICAgIGlmICghbjIpIGNvbnRpbnVlO1xuICAgICAgbGV0IGwyID0gbyQ2KG4yKTtcbiAgICAgIGlmICghbDIpIGNvbnRpbnVlO1xuICAgICAgbGV0IG8zID0gbjIucGFyZW50RWxlbWVudDtcbiAgICAgIGZvciAoOyBvMyAmJiBvMyAhPT0gbDIuYm9keTsgKSB7XG4gICAgICAgIGZvciAobGV0IHAyIG9mIG8zLmNoaWxkcmVuKSBzMi5zb21lKChFMikgPT4gcDIuY29udGFpbnMoRTIpKSB8fCBhMy5hZGQoaCQzKHAyKSk7XG4gICAgICAgIG8zID0gbzMucGFyZW50RWxlbWVudDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGEzLmRpc3Bvc2U7XG4gIH0sIFtpMiwgcjIsIGUyXSk7XG59XG5mdW5jdGlvbiBtJDIoczIsIG4yLCBsMikge1xuICBsZXQgaTIgPSBzJDYoKHQyKSA9PiB7XG4gICAgbGV0IGUyID0gdDIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgZTIueCA9PT0gMCAmJiBlMi55ID09PSAwICYmIGUyLndpZHRoID09PSAwICYmIGUyLmhlaWdodCA9PT0gMCAmJiBsMigpO1xuICB9KTtcbiAgeSQ2KCgpID0+IHtcbiAgICBpZiAoIXMyKSByZXR1cm47XG4gICAgbGV0IHQyID0gbjIgPT09IG51bGwgPyBudWxsIDogbjIgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCA/IG4yIDogbjIuY3VycmVudDtcbiAgICBpZiAoIXQyKSByZXR1cm47XG4gICAgbGV0IGUyID0gbyQ1KCk7XG4gICAgaWYgKHR5cGVvZiBSZXNpemVPYnNlcnZlciAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBsZXQgcjIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKCkgPT4gaTIuY3VycmVudCh0MikpO1xuICAgICAgcjIub2JzZXJ2ZSh0MiksIGUyLmFkZCgoKSA9PiByMi5kaXNjb25uZWN0KCkpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIEludGVyc2VjdGlvbk9ic2VydmVyICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIGxldCByMiA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcigoKSA9PiBpMi5jdXJyZW50KHQyKSk7XG4gICAgICByMi5vYnNlcnZlKHQyKSwgZTIuYWRkKCgpID0+IHIyLmRpc2Nvbm5lY3QoKSk7XG4gICAgfVxuICAgIHJldHVybiAoKSA9PiBlMi5kaXNwb3NlKCk7XG4gIH0sIFtuMiwgaTIsIHMyXSk7XG59XG5sZXQgZiQzID0gW1wiW2NvbnRlbnRFZGl0YWJsZT10cnVlXVwiLCBcIlt0YWJpbmRleF1cIiwgXCJhW2hyZWZdXCIsIFwiYXJlYVtocmVmXVwiLCBcImJ1dHRvbjpub3QoW2Rpc2FibGVkXSlcIiwgXCJpZnJhbWVcIiwgXCJpbnB1dDpub3QoW2Rpc2FibGVkXSlcIiwgXCJzZWxlY3Q6bm90KFtkaXNhYmxlZF0pXCIsIFwidGV4dGFyZWE6bm90KFtkaXNhYmxlZF0pXCJdLm1hcCgoZTIpID0+IGAke2UyfTpub3QoW3RhYmluZGV4PSctMSddKWApLmpvaW4oXCIsXCIpLCBwID0gW1wiW2RhdGEtYXV0b2ZvY3VzXVwiXS5tYXAoKGUyKSA9PiBgJHtlMn06bm90KFt0YWJpbmRleD0nLTEnXSlgKS5qb2luKFwiLFwiKTtcbnZhciBGJDIgPSAoKG4yKSA9PiAobjJbbjIuRmlyc3QgPSAxXSA9IFwiRmlyc3RcIiwgbjJbbjIuUHJldmlvdXMgPSAyXSA9IFwiUHJldmlvdXNcIiwgbjJbbjIuTmV4dCA9IDRdID0gXCJOZXh0XCIsIG4yW24yLkxhc3QgPSA4XSA9IFwiTGFzdFwiLCBuMltuMi5XcmFwQXJvdW5kID0gMTZdID0gXCJXcmFwQXJvdW5kXCIsIG4yW24yLk5vU2Nyb2xsID0gMzJdID0gXCJOb1Njcm9sbFwiLCBuMltuMi5BdXRvRm9jdXMgPSA2NF0gPSBcIkF1dG9Gb2N1c1wiLCBuMikpKEYkMiB8fCB7fSksIFQkMiA9ICgobzMpID0+IChvM1tvMy5FcnJvciA9IDBdID0gXCJFcnJvclwiLCBvM1tvMy5PdmVyZmxvdyA9IDFdID0gXCJPdmVyZmxvd1wiLCBvM1tvMy5TdWNjZXNzID0gMl0gPSBcIlN1Y2Nlc3NcIiwgbzNbbzMuVW5kZXJmbG93ID0gM10gPSBcIlVuZGVyZmxvd1wiLCBvMykpKFQkMiB8fCB7fSksIHkkMyA9ICgodDIpID0+ICh0Mlt0Mi5QcmV2aW91cyA9IC0xXSA9IFwiUHJldmlvdXNcIiwgdDJbdDIuTmV4dCA9IDFdID0gXCJOZXh0XCIsIHQyKSkoeSQzIHx8IHt9KTtcbmZ1bmN0aW9uIGIkMyhlMiA9IGRvY3VtZW50LmJvZHkpIHtcbiAgcmV0dXJuIGUyID09IG51bGwgPyBbXSA6IEFycmF5LmZyb20oZTIucXVlcnlTZWxlY3RvckFsbChmJDMpKS5zb3J0KChyMiwgdDIpID0+IE1hdGguc2lnbigocjIudGFiSW5kZXggfHwgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpIC0gKHQyLnRhYkluZGV4IHx8IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSKSkpO1xufVxuZnVuY3Rpb24gUyQzKGUyID0gZG9jdW1lbnQuYm9keSkge1xuICByZXR1cm4gZTIgPT0gbnVsbCA/IFtdIDogQXJyYXkuZnJvbShlMi5xdWVyeVNlbGVjdG9yQWxsKHApKS5zb3J0KChyMiwgdDIpID0+IE1hdGguc2lnbigocjIudGFiSW5kZXggfHwgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpIC0gKHQyLnRhYkluZGV4IHx8IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSKSkpO1xufVxudmFyIGgkMiA9ICgodDIpID0+ICh0Mlt0Mi5TdHJpY3QgPSAwXSA9IFwiU3RyaWN0XCIsIHQyW3QyLkxvb3NlID0gMV0gPSBcIkxvb3NlXCIsIHQyKSkoaCQyIHx8IHt9KTtcbmZ1bmN0aW9uIEEoZTIsIHIyID0gMCkge1xuICB2YXIgdDI7XG4gIHJldHVybiBlMiA9PT0gKCh0MiA9IG8kNihlMikpID09IG51bGwgPyB2b2lkIDAgOiB0Mi5ib2R5KSA/IGZhbHNlIDogdSQ3KHIyLCB7IFswXSgpIHtcbiAgICByZXR1cm4gZTIubWF0Y2hlcyhmJDMpO1xuICB9LCBbMV0oKSB7XG4gICAgbGV0IHUyID0gZTI7XG4gICAgZm9yICg7IHUyICE9PSBudWxsOyApIHtcbiAgICAgIGlmICh1Mi5tYXRjaGVzKGYkMykpIHJldHVybiB0cnVlO1xuICAgICAgdTIgPSB1Mi5wYXJlbnRFbGVtZW50O1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gfSk7XG59XG5mdW5jdGlvbiBHKGUyKSB7XG4gIGxldCByMiA9IG8kNihlMik7XG4gIG8kNSgpLm5leHRGcmFtZSgoKSA9PiB7XG4gICAgcjIgJiYgIUEocjIuYWN0aXZlRWxlbWVudCwgMCkgJiYgSSQxKGUyKTtcbiAgfSk7XG59XG52YXIgSCQyID0gKCh0MikgPT4gKHQyW3QyLktleWJvYXJkID0gMF0gPSBcIktleWJvYXJkXCIsIHQyW3QyLk1vdXNlID0gMV0gPSBcIk1vdXNlXCIsIHQyKSkoSCQyIHx8IHt9KTtcbnR5cGVvZiB3aW5kb3cgIT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgZG9jdW1lbnQgIT0gXCJ1bmRlZmluZWRcIiAmJiAoZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGUyKSA9PiB7XG4gIGUyLm1ldGFLZXkgfHwgZTIuYWx0S2V5IHx8IGUyLmN0cmxLZXkgfHwgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kYXRhc2V0LmhlYWRsZXNzdWlGb2N1c1Zpc2libGUgPSBcIlwiKTtcbn0sIHRydWUpLCBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUyKSA9PiB7XG4gIGUyLmRldGFpbCA9PT0gMSA/IGRlbGV0ZSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZGF0YXNldC5oZWFkbGVzc3VpRm9jdXNWaXNpYmxlIDogZTIuZGV0YWlsID09PSAwICYmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZGF0YXNldC5oZWFkbGVzc3VpRm9jdXNWaXNpYmxlID0gXCJcIik7XG59LCB0cnVlKSk7XG5mdW5jdGlvbiBJJDEoZTIpIHtcbiAgZTIgPT0gbnVsbCB8fCBlMi5mb2N1cyh7IHByZXZlbnRTY3JvbGw6IHRydWUgfSk7XG59XG5sZXQgdyA9IFtcInRleHRhcmVhXCIsIFwiaW5wdXRcIl0uam9pbihcIixcIik7XG5mdW5jdGlvbiBPKGUyKSB7XG4gIHZhciByMiwgdDI7XG4gIHJldHVybiAodDIgPSAocjIgPSBlMiA9PSBudWxsID8gdm9pZCAwIDogZTIubWF0Y2hlcykgPT0gbnVsbCA/IHZvaWQgMCA6IHIyLmNhbGwoZTIsIHcpKSAhPSBudWxsID8gdDIgOiBmYWxzZTtcbn1cbmZ1bmN0aW9uIF8oZTIsIHIyID0gKHQyKSA9PiB0Mikge1xuICByZXR1cm4gZTIuc2xpY2UoKS5zb3J0KCh0MiwgdTIpID0+IHtcbiAgICBsZXQgbzMgPSByMih0MiksIGMyID0gcjIodTIpO1xuICAgIGlmIChvMyA9PT0gbnVsbCB8fCBjMiA9PT0gbnVsbCkgcmV0dXJuIDA7XG4gICAgbGV0IGwyID0gbzMuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYzIpO1xuICAgIHJldHVybiBsMiAmIE5vZGUuRE9DVU1FTlRfUE9TSVRJT05fRk9MTE9XSU5HID8gLTEgOiBsMiAmIE5vZGUuRE9DVU1FTlRfUE9TSVRJT05fUFJFQ0VESU5HID8gMSA6IDA7XG4gIH0pO1xufVxuZnVuY3Rpb24gaiQyKGUyLCByMikge1xuICByZXR1cm4gUChiJDMoKSwgcjIsIHsgcmVsYXRpdmVUbzogZTIgfSk7XG59XG5mdW5jdGlvbiBQKGUyLCByMiwgeyBzb3J0ZWQ6IHQyID0gdHJ1ZSwgcmVsYXRpdmVUbzogdTIgPSBudWxsLCBza2lwRWxlbWVudHM6IG8zID0gW10gfSA9IHt9KSB7XG4gIGxldCBjMiA9IEFycmF5LmlzQXJyYXkoZTIpID8gZTIubGVuZ3RoID4gMCA/IGUyWzBdLm93bmVyRG9jdW1lbnQgOiBkb2N1bWVudCA6IGUyLm93bmVyRG9jdW1lbnQsIGwyID0gQXJyYXkuaXNBcnJheShlMikgPyB0MiA/IF8oZTIpIDogZTIgOiByMiAmIDY0ID8gUyQzKGUyKSA6IGIkMyhlMik7XG4gIG8zLmxlbmd0aCA+IDAgJiYgbDIubGVuZ3RoID4gMSAmJiAobDIgPSBsMi5maWx0ZXIoKHMyKSA9PiAhbzMuc29tZSgoYTMpID0+IGEzICE9IG51bGwgJiYgXCJjdXJyZW50XCIgaW4gYTMgPyAoYTMgPT0gbnVsbCA/IHZvaWQgMCA6IGEzLmN1cnJlbnQpID09PSBzMiA6IGEzID09PSBzMikpKSwgdTIgPSB1MiAhPSBudWxsID8gdTIgOiBjMi5hY3RpdmVFbGVtZW50O1xuICBsZXQgbjIgPSAoKCkgPT4ge1xuICAgIGlmIChyMiAmIDUpIHJldHVybiAxO1xuICAgIGlmIChyMiAmIDEwKSByZXR1cm4gLTE7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBGb2N1cy5GaXJzdCwgRm9jdXMuUHJldmlvdXMsIEZvY3VzLk5leHQgb3IgRm9jdXMuTGFzdFwiKTtcbiAgfSkoKSwgeDIgPSAoKCkgPT4ge1xuICAgIGlmIChyMiAmIDEpIHJldHVybiAwO1xuICAgIGlmIChyMiAmIDIpIHJldHVybiBNYXRoLm1heCgwLCBsMi5pbmRleE9mKHUyKSkgLSAxO1xuICAgIGlmIChyMiAmIDQpIHJldHVybiBNYXRoLm1heCgwLCBsMi5pbmRleE9mKHUyKSkgKyAxO1xuICAgIGlmIChyMiAmIDgpIHJldHVybiBsMi5sZW5ndGggLSAxO1xuICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgRm9jdXMuRmlyc3QsIEZvY3VzLlByZXZpb3VzLCBGb2N1cy5OZXh0IG9yIEZvY3VzLkxhc3RcIik7XG4gIH0pKCksIE0yID0gcjIgJiAzMiA/IHsgcHJldmVudFNjcm9sbDogdHJ1ZSB9IDoge30sIG0yID0gMCwgZDIgPSBsMi5sZW5ndGgsIGkyO1xuICBkbyB7XG4gICAgaWYgKG0yID49IGQyIHx8IG0yICsgZDIgPD0gMCkgcmV0dXJuIDA7XG4gICAgbGV0IHMyID0geDIgKyBtMjtcbiAgICBpZiAocjIgJiAxNikgczIgPSAoczIgKyBkMikgJSBkMjtcbiAgICBlbHNlIHtcbiAgICAgIGlmIChzMiA8IDApIHJldHVybiAzO1xuICAgICAgaWYgKHMyID49IGQyKSByZXR1cm4gMTtcbiAgICB9XG4gICAgaTIgPSBsMltzMl0sIGkyID09IG51bGwgfHwgaTIuZm9jdXMoTTIpLCBtMiArPSBuMjtcbiAgfSB3aGlsZSAoaTIgIT09IGMyLmFjdGl2ZUVsZW1lbnQpO1xuICByZXR1cm4gcjIgJiA2ICYmIE8oaTIpICYmIGkyLnNlbGVjdCgpLCAyO1xufVxuZnVuY3Rpb24gdCQxKCkge1xuICByZXR1cm4gL2lQaG9uZS9naS50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IucGxhdGZvcm0pIHx8IC9NYWMvZ2kudGVzdCh3aW5kb3cubmF2aWdhdG9yLnBsYXRmb3JtKSAmJiB3aW5kb3cubmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID4gMDtcbn1cbmZ1bmN0aW9uIGkkNCgpIHtcbiAgcmV0dXJuIC9BbmRyb2lkL2dpLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpO1xufVxuZnVuY3Rpb24gbiQyKCkge1xuICByZXR1cm4gdCQxKCkgfHwgaSQ0KCk7XG59XG5mdW5jdGlvbiBpJDModDIsIGUyLCBvMywgbjIpIHtcbiAgbGV0IHUyID0gcyQ2KG8zKTtcbiAgeSQ2KCgpID0+IHtcbiAgICBpZiAoIXQyKSByZXR1cm47XG4gICAgZnVuY3Rpb24gcjIobTIpIHtcbiAgICAgIHUyLmN1cnJlbnQobTIpO1xuICAgIH1cbiAgICByZXR1cm4gZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihlMiwgcjIsIG4yKSwgKCkgPT4gZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlMiwgcjIsIG4yKTtcbiAgfSwgW3QyLCBlMiwgbjJdKTtcbn1cbmZ1bmN0aW9uIHMkNSh0MiwgZTIsIG8zLCBuMikge1xuICBsZXQgaTIgPSBzJDYobzMpO1xuICB5JDYoKCkgPT4ge1xuICAgIGlmICghdDIpIHJldHVybjtcbiAgICBmdW5jdGlvbiByMihkMikge1xuICAgICAgaTIuY3VycmVudChkMik7XG4gICAgfVxuICAgIHJldHVybiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihlMiwgcjIsIG4yKSwgKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoZTIsIHIyLCBuMik7XG4gIH0sIFt0MiwgZTIsIG4yXSk7XG59XG5jb25zdCBFID0gMzA7XG5mdW5jdGlvbiBSJDEocDIsIGYyLCBDMikge1xuICBsZXQgdTIgPSB4JDIocDIsIFwib3V0c2lkZS1jbGlja1wiKSwgbTIgPSBzJDYoQzIpLCBzMiA9IHEkMyhmdW5jdGlvbihlMiwgbjIpIHtcbiAgICBpZiAoZTIuZGVmYXVsdFByZXZlbnRlZCkgcmV0dXJuO1xuICAgIGxldCByMiA9IG4yKGUyKTtcbiAgICBpZiAocjIgPT09IG51bGwgfHwgIXIyLmdldFJvb3ROb2RlKCkuY29udGFpbnMocjIpIHx8ICFyMi5pc0Nvbm5lY3RlZCkgcmV0dXJuO1xuICAgIGxldCBoMiA9IGZ1bmN0aW9uIGwyKG8zKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIG8zID09IFwiZnVuY3Rpb25cIiA/IGwyKG8zKCkpIDogQXJyYXkuaXNBcnJheShvMykgfHwgbzMgaW5zdGFuY2VvZiBTZXQgPyBvMyA6IFtvM107XG4gICAgfShmMik7XG4gICAgZm9yIChsZXQgbDIgb2YgaDIpIGlmIChsMiAhPT0gbnVsbCAmJiAobDIuY29udGFpbnMocjIpIHx8IGUyLmNvbXBvc2VkICYmIGUyLmNvbXBvc2VkUGF0aCgpLmluY2x1ZGVzKGwyKSkpIHJldHVybjtcbiAgICByZXR1cm4gIUEocjIsIGgkMi5Mb29zZSkgJiYgcjIudGFiSW5kZXggIT09IC0xICYmIGUyLnByZXZlbnREZWZhdWx0KCksIG0yLmN1cnJlbnQoZTIsIHIyKTtcbiAgfSwgW20yLCBmMl0pLCBpMiA9IEEkMyhudWxsKTtcbiAgaSQzKHUyLCBcInBvaW50ZXJkb3duXCIsICh0MikgPT4ge1xuICAgIHZhciBlMiwgbjI7XG4gICAgaTIuY3VycmVudCA9ICgobjIgPSAoZTIgPSB0Mi5jb21wb3NlZFBhdGgpID09IG51bGwgPyB2b2lkIDAgOiBlMi5jYWxsKHQyKSkgPT0gbnVsbCA/IHZvaWQgMCA6IG4yWzBdKSB8fCB0Mi50YXJnZXQ7XG4gIH0sIHRydWUpLCBpJDModTIsIFwibW91c2Vkb3duXCIsICh0MikgPT4ge1xuICAgIHZhciBlMiwgbjI7XG4gICAgaTIuY3VycmVudCA9ICgobjIgPSAoZTIgPSB0Mi5jb21wb3NlZFBhdGgpID09IG51bGwgPyB2b2lkIDAgOiBlMi5jYWxsKHQyKSkgPT0gbnVsbCA/IHZvaWQgMCA6IG4yWzBdKSB8fCB0Mi50YXJnZXQ7XG4gIH0sIHRydWUpLCBpJDModTIsIFwiY2xpY2tcIiwgKHQyKSA9PiB7XG4gICAgbiQyKCkgfHwgaTIuY3VycmVudCAmJiAoczIodDIsICgpID0+IGkyLmN1cnJlbnQpLCBpMi5jdXJyZW50ID0gbnVsbCk7XG4gIH0sIHRydWUpO1xuICBsZXQgYTMgPSBBJDMoeyB4OiAwLCB5OiAwIH0pO1xuICBpJDModTIsIFwidG91Y2hzdGFydFwiLCAodDIpID0+IHtcbiAgICBhMy5jdXJyZW50LnggPSB0Mi50b3VjaGVzWzBdLmNsaWVudFgsIGEzLmN1cnJlbnQueSA9IHQyLnRvdWNoZXNbMF0uY2xpZW50WTtcbiAgfSwgdHJ1ZSksIGkkMyh1MiwgXCJ0b3VjaGVuZFwiLCAodDIpID0+IHtcbiAgICBsZXQgZTIgPSB7IHg6IHQyLmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFgsIHk6IHQyLmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFkgfTtcbiAgICBpZiAoIShNYXRoLmFicyhlMi54IC0gYTMuY3VycmVudC54KSA+PSBFIHx8IE1hdGguYWJzKGUyLnkgLSBhMy5jdXJyZW50LnkpID49IEUpKSByZXR1cm4gczIodDIsICgpID0+IHQyLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ID8gdDIudGFyZ2V0IDogbnVsbCk7XG4gIH0sIHRydWUpLCBzJDUodTIsIFwiYmx1clwiLCAodDIpID0+IHMyKHQyLCAoKSA9PiB3aW5kb3cuZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxJRnJhbWVFbGVtZW50ID8gd2luZG93LmRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgOiBudWxsKSwgdHJ1ZSk7XG59XG5mdW5jdGlvbiBuJDEoLi4uZTIpIHtcbiAgcmV0dXJuIFQkNSgoKSA9PiBvJDYoLi4uZTIpLCBbLi4uZTJdKTtcbn1cbmZ1bmN0aW9uIGUkMSh0MiwgdTIpIHtcbiAgcmV0dXJuIFQkNSgoKSA9PiB7XG4gICAgdmFyIG4yO1xuICAgIGlmICh0Mi50eXBlKSByZXR1cm4gdDIudHlwZTtcbiAgICBsZXQgcjIgPSAobjIgPSB0Mi5hcykgIT0gbnVsbCA/IG4yIDogXCJidXR0b25cIjtcbiAgICBpZiAodHlwZW9mIHIyID09IFwic3RyaW5nXCIgJiYgcjIudG9Mb3dlckNhc2UoKSA9PT0gXCJidXR0b25cIiB8fCAodTIgPT0gbnVsbCA/IHZvaWQgMCA6IHUyLnRhZ05hbWUpID09PSBcIkJVVFRPTlwiICYmICF1Mi5oYXNBdHRyaWJ1dGUoXCJ0eXBlXCIpKSByZXR1cm4gXCJidXR0b25cIjtcbiAgfSwgW3QyLnR5cGUsIHQyLmFzLCB1Ml0pO1xufVxuZnVuY3Rpb24gZCQxKCkge1xuICBsZXQgcjI7XG4gIHJldHVybiB7IGJlZm9yZSh7IGRvYzogZTIgfSkge1xuICAgIHZhciBsMjtcbiAgICBsZXQgbzMgPSBlMi5kb2N1bWVudEVsZW1lbnQsIHQyID0gKGwyID0gZTIuZGVmYXVsdFZpZXcpICE9IG51bGwgPyBsMiA6IHdpbmRvdztcbiAgICByMiA9IE1hdGgubWF4KDAsIHQyLmlubmVyV2lkdGggLSBvMy5jbGllbnRXaWR0aCk7XG4gIH0sIGFmdGVyKHsgZG9jOiBlMiwgZDogbzMgfSkge1xuICAgIGxldCB0MiA9IGUyLmRvY3VtZW50RWxlbWVudCwgbDIgPSBNYXRoLm1heCgwLCB0Mi5jbGllbnRXaWR0aCAtIHQyLm9mZnNldFdpZHRoKSwgbjIgPSBNYXRoLm1heCgwLCByMiAtIGwyKTtcbiAgICBvMy5zdHlsZSh0MiwgXCJwYWRkaW5nUmlnaHRcIiwgYCR7bjJ9cHhgKTtcbiAgfSB9O1xufVxuZnVuY3Rpb24gZCgpIHtcbiAgcmV0dXJuIHQkMSgpID8geyBiZWZvcmUoeyBkb2M6IHIyLCBkOiBuMiwgbWV0YTogYzIgfSkge1xuICAgIGZ1bmN0aW9uIG8zKGEzKSB7XG4gICAgICByZXR1cm4gYzIuY29udGFpbmVycy5mbGF0TWFwKChsMikgPT4gbDIoKSkuc29tZSgobDIpID0+IGwyLmNvbnRhaW5zKGEzKSk7XG4gICAgfVxuICAgIG4yLm1pY3JvVGFzaygoKSA9PiB7XG4gICAgICB2YXIgczI7XG4gICAgICBpZiAod2luZG93LmdldENvbXB1dGVkU3R5bGUocjIuZG9jdW1lbnRFbGVtZW50KS5zY3JvbGxCZWhhdmlvciAhPT0gXCJhdXRvXCIpIHtcbiAgICAgICAgbGV0IHQyID0gbyQ1KCk7XG4gICAgICAgIHQyLnN0eWxlKHIyLmRvY3VtZW50RWxlbWVudCwgXCJzY3JvbGxCZWhhdmlvclwiLCBcImF1dG9cIiksIG4yLmFkZCgoKSA9PiBuMi5taWNyb1Rhc2soKCkgPT4gdDIuZGlzcG9zZSgpKSk7XG4gICAgICB9XG4gICAgICBsZXQgYTMgPSAoczIgPSB3aW5kb3cuc2Nyb2xsWSkgIT0gbnVsbCA/IHMyIDogd2luZG93LnBhZ2VZT2Zmc2V0LCBsMiA9IG51bGw7XG4gICAgICBuMi5hZGRFdmVudExpc3RlbmVyKHIyLCBcImNsaWNrXCIsICh0MikgPT4ge1xuICAgICAgICBpZiAodDIudGFyZ2V0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHRyeSB7XG4gICAgICAgICAgbGV0IGUyID0gdDIudGFyZ2V0LmNsb3Nlc3QoXCJhXCIpO1xuICAgICAgICAgIGlmICghZTIpIHJldHVybjtcbiAgICAgICAgICBsZXQgeyBoYXNoOiBmMiB9ID0gbmV3IFVSTChlMi5ocmVmKSwgaTIgPSByMi5xdWVyeVNlbGVjdG9yKGYyKTtcbiAgICAgICAgICBpMiAmJiAhbzMoaTIpICYmIChsMiA9IGkyKTtcbiAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgIH1cbiAgICAgIH0sIHRydWUpLCBuMi5hZGRFdmVudExpc3RlbmVyKHIyLCBcInRvdWNoc3RhcnRcIiwgKHQyKSA9PiB7XG4gICAgICAgIGlmICh0Mi50YXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkgaWYgKG8zKHQyLnRhcmdldCkpIHtcbiAgICAgICAgICBsZXQgZTIgPSB0Mi50YXJnZXQ7XG4gICAgICAgICAgZm9yICg7IGUyLnBhcmVudEVsZW1lbnQgJiYgbzMoZTIucGFyZW50RWxlbWVudCk7ICkgZTIgPSBlMi5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgIG4yLnN0eWxlKGUyLCBcIm92ZXJzY3JvbGxCZWhhdmlvclwiLCBcImNvbnRhaW5cIik7XG4gICAgICAgIH0gZWxzZSBuMi5zdHlsZSh0Mi50YXJnZXQsIFwidG91Y2hBY3Rpb25cIiwgXCJub25lXCIpO1xuICAgICAgfSksIG4yLmFkZEV2ZW50TGlzdGVuZXIocjIsIFwidG91Y2htb3ZlXCIsICh0MikgPT4ge1xuICAgICAgICBpZiAodDIudGFyZ2V0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgICBpZiAodDIudGFyZ2V0LnRhZ05hbWUgPT09IFwiSU5QVVRcIikgcmV0dXJuO1xuICAgICAgICAgIGlmIChvMyh0Mi50YXJnZXQpKSB7XG4gICAgICAgICAgICBsZXQgZTIgPSB0Mi50YXJnZXQ7XG4gICAgICAgICAgICBmb3IgKDsgZTIucGFyZW50RWxlbWVudCAmJiBlMi5kYXRhc2V0LmhlYWRsZXNzdWlQb3J0YWwgIT09IFwiXCIgJiYgIShlMi5zY3JvbGxIZWlnaHQgPiBlMi5jbGllbnRIZWlnaHQgfHwgZTIuc2Nyb2xsV2lkdGggPiBlMi5jbGllbnRXaWR0aCk7ICkgZTIgPSBlMi5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgICAgZTIuZGF0YXNldC5oZWFkbGVzc3VpUG9ydGFsID09PSBcIlwiICYmIHQyLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgfSBlbHNlIHQyLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICAgIH0sIHsgcGFzc2l2ZTogZmFsc2UgfSksIG4yLmFkZCgoKSA9PiB7XG4gICAgICAgIHZhciBlMjtcbiAgICAgICAgbGV0IHQyID0gKGUyID0gd2luZG93LnNjcm9sbFkpICE9IG51bGwgPyBlMiA6IHdpbmRvdy5wYWdlWU9mZnNldDtcbiAgICAgICAgYTMgIT09IHQyICYmIHdpbmRvdy5zY3JvbGxUbygwLCBhMyksIGwyICYmIGwyLmlzQ29ubmVjdGVkICYmIChsMi5zY3JvbGxJbnRvVmlldyh7IGJsb2NrOiBcIm5lYXJlc3RcIiB9KSwgbDIgPSBudWxsKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9IH0gOiB7fTtcbn1cbmZ1bmN0aW9uIHIoKSB7XG4gIHJldHVybiB7IGJlZm9yZSh7IGRvYzogZTIsIGQ6IG8zIH0pIHtcbiAgICBvMy5zdHlsZShlMi5kb2N1bWVudEVsZW1lbnQsIFwib3ZlcmZsb3dcIiwgXCJoaWRkZW5cIik7XG4gIH0gfTtcbn1cbmZ1bmN0aW9uIG0kMShlMikge1xuICBsZXQgbjIgPSB7fTtcbiAgZm9yIChsZXQgdDIgb2YgZTIpIE9iamVjdC5hc3NpZ24objIsIHQyKG4yKSk7XG4gIHJldHVybiBuMjtcbn1cbmxldCBhJDUgPSBhJDYoKCkgPT4gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSwgeyBQVVNIKGUyLCBuMikge1xuICB2YXIgbzM7XG4gIGxldCB0MiA9IChvMyA9IHRoaXMuZ2V0KGUyKSkgIT0gbnVsbCA/IG8zIDogeyBkb2M6IGUyLCBjb3VudDogMCwgZDogbyQ1KCksIG1ldGE6IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCkgfTtcbiAgcmV0dXJuIHQyLmNvdW50KyssIHQyLm1ldGEuYWRkKG4yKSwgdGhpcy5zZXQoZTIsIHQyKSwgdGhpcztcbn0sIFBPUChlMiwgbjIpIHtcbiAgbGV0IHQyID0gdGhpcy5nZXQoZTIpO1xuICByZXR1cm4gdDIgJiYgKHQyLmNvdW50LS0sIHQyLm1ldGEuZGVsZXRlKG4yKSksIHRoaXM7XG59LCBTQ1JPTExfUFJFVkVOVCh7IGRvYzogZTIsIGQ6IG4yLCBtZXRhOiB0MiB9KSB7XG4gIGxldCBvMyA9IHsgZG9jOiBlMiwgZDogbjIsIG1ldGE6IG0kMSh0MikgfSwgYzIgPSBbZCgpLCBkJDEoKSwgcigpXTtcbiAgYzIuZm9yRWFjaCgoeyBiZWZvcmU6IHIyIH0pID0+IHIyID09IG51bGwgPyB2b2lkIDAgOiByMihvMykpLCBjMi5mb3JFYWNoKCh7IGFmdGVyOiByMiB9KSA9PiByMiA9PSBudWxsID8gdm9pZCAwIDogcjIobzMpKTtcbn0sIFNDUk9MTF9BTExPVyh7IGQ6IGUyIH0pIHtcbiAgZTIuZGlzcG9zZSgpO1xufSwgVEVBUkRPV04oeyBkb2M6IGUyIH0pIHtcbiAgdGhpcy5kZWxldGUoZTIpO1xufSB9KTtcbmEkNS5zdWJzY3JpYmUoKCkgPT4ge1xuICBsZXQgZTIgPSBhJDUuZ2V0U25hcHNob3QoKSwgbjIgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICBmb3IgKGxldCBbdDJdIG9mIGUyKSBuMi5zZXQodDIsIHQyLmRvY3VtZW50RWxlbWVudC5zdHlsZS5vdmVyZmxvdyk7XG4gIGZvciAobGV0IHQyIG9mIGUyLnZhbHVlcygpKSB7XG4gICAgbGV0IG8zID0gbjIuZ2V0KHQyLmRvYykgPT09IFwiaGlkZGVuXCIsIGMyID0gdDIuY291bnQgIT09IDA7XG4gICAgKGMyICYmICFvMyB8fCAhYzIgJiYgbzMpICYmIGEkNS5kaXNwYXRjaCh0Mi5jb3VudCA+IDAgPyBcIlNDUk9MTF9QUkVWRU5UXCIgOiBcIlNDUk9MTF9BTExPV1wiLCB0MiksIHQyLmNvdW50ID09PSAwICYmIGEkNS5kaXNwYXRjaChcIlRFQVJET1dOXCIsIHQyKTtcbiAgfVxufSk7XG5mdW5jdGlvbiBhJDQocjIsIGUyLCBuMiA9ICgpID0+ICh7IGNvbnRhaW5lcnM6IFtdIH0pKSB7XG4gIGxldCBmMiA9IG8kMihhJDUpLCBvMyA9IGUyID8gZjIuZ2V0KGUyKSA6IHZvaWQgMCwgaTIgPSBvMyA/IG8zLmNvdW50ID4gMCA6IGZhbHNlO1xuICByZXR1cm4gbiQzKCgpID0+IHtcbiAgICBpZiAoISghZTIgfHwgIXIyKSkgcmV0dXJuIGEkNS5kaXNwYXRjaChcIlBVU0hcIiwgZTIsIG4yKSwgKCkgPT4gYSQ1LmRpc3BhdGNoKFwiUE9QXCIsIGUyLCBuMik7XG4gIH0sIFtyMiwgZTJdKSwgaTI7XG59XG5mdW5jdGlvbiBmJDIoZTIsIGMyLCBuMiA9ICgpID0+IFtkb2N1bWVudC5ib2R5XSkge1xuICBsZXQgcjIgPSB4JDIoZTIsIFwic2Nyb2xsLWxvY2tcIik7XG4gIGEkNChyMiwgYzIsICh0MikgPT4ge1xuICAgIHZhciBvMztcbiAgICByZXR1cm4geyBjb250YWluZXJzOiBbLi4uKG8zID0gdDIuY29udGFpbmVycykgIT0gbnVsbCA/IG8zIDogW10sIG4yXSB9O1xuICB9KTtcbn1cbmZ1bmN0aW9uIHQoZTIpIHtcbiAgcmV0dXJuIFtlMi5zY3JlZW5YLCBlMi5zY3JlZW5ZXTtcbn1cbmZ1bmN0aW9uIHUkMygpIHtcbiAgbGV0IGUyID0gQSQzKFstMSwgLTFdKTtcbiAgcmV0dXJuIHsgd2FzTW92ZWQocjIpIHtcbiAgICBsZXQgbjIgPSB0KHIyKTtcbiAgICByZXR1cm4gZTIuY3VycmVudFswXSA9PT0gbjJbMF0gJiYgZTIuY3VycmVudFsxXSA9PT0gbjJbMV0gPyBmYWxzZSA6IChlMi5jdXJyZW50ID0gbjIsIHRydWUpO1xuICB9LCB1cGRhdGUocjIpIHtcbiAgICBlMi5jdXJyZW50ID0gdChyMik7XG4gIH0gfTtcbn1cbmZ1bmN0aW9uIGMkNCh1MiA9IDApIHtcbiAgbGV0IFt0MiwgbDJdID0gZCQ0KHUyKSwgZzIgPSBxJDMoKGUyKSA9PiBsMihlMiksIFt0Ml0pLCBzMiA9IHEkMygoZTIpID0+IGwyKChhMykgPT4gYTMgfCBlMiksIFt0Ml0pLCBtMiA9IHEkMygoZTIpID0+ICh0MiAmIGUyKSA9PT0gZTIsIFt0Ml0pLCBuMiA9IHEkMygoZTIpID0+IGwyKChhMykgPT4gYTMgJiB+ZTIpLCBbbDJdKSwgRjIgPSBxJDMoKGUyKSA9PiBsMigoYTMpID0+IGEzIF4gZTIpLCBbbDJdKTtcbiAgcmV0dXJuIHsgZmxhZ3M6IHQyLCBzZXRGbGFnOiBnMiwgYWRkRmxhZzogczIsIGhhc0ZsYWc6IG0yLCByZW1vdmVGbGFnOiBuMiwgdG9nZ2xlRmxhZzogRjIgfTtcbn1cbnZhciBUJDEsIGIkMjtcbnR5cGVvZiBwcm9jZXNzICE9IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIGdsb2JhbFRoaXMgIT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgRWxlbWVudCAhPSBcInVuZGVmaW5lZFwiICYmICgoVCQxID0gcHJvY2VzcyA9PSBudWxsID8gdm9pZCAwIDogcHJvY2Vzcy5lbnYpID09IG51bGwgPyB2b2lkIDAgOiBUJDFbXCJOT0RFX0VOVlwiXSkgPT09IFwidGVzdFwiICYmIHR5cGVvZiAoKGIkMiA9IEVsZW1lbnQgPT0gbnVsbCA/IHZvaWQgMCA6IEVsZW1lbnQucHJvdG90eXBlKSA9PSBudWxsID8gdm9pZCAwIDogYiQyLmdldEFuaW1hdGlvbnMpID09IFwidW5kZWZpbmVkXCIgJiYgKEVsZW1lbnQucHJvdG90eXBlLmdldEFuaW1hdGlvbnMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGNvbnNvbGUud2FybihbXCJIZWFkbGVzcyBVSSBoYXMgcG9seWZpbGxlZCBgRWxlbWVudC5wcm90b3R5cGUuZ2V0QW5pbWF0aW9uc2AgZm9yIHlvdXIgdGVzdHMuXCIsIFwiUGxlYXNlIGluc3RhbGwgYSBwcm9wZXIgcG9seWZpbGwgZS5nLiBganNkb20tdGVzdGluZy1tb2Nrc2AsIHRvIHNpbGVuY2UgdGhlc2Ugd2FybmluZ3MuXCIsIFwiXCIsIFwiRXhhbXBsZSB1c2FnZTpcIiwgXCJgYGBqc1wiLCBcImltcG9ydCB7IG1vY2tBbmltYXRpb25zQXBpIH0gZnJvbSAnanNkb20tdGVzdGluZy1tb2NrcydcIiwgXCJtb2NrQW5pbWF0aW9uc0FwaSgpXCIsIFwiYGBgXCJdLmpvaW4oYFxuYCkpLCBbXTtcbn0pO1xudmFyIEwkMSA9ICgocjIpID0+IChyMltyMi5Ob25lID0gMF0gPSBcIk5vbmVcIiwgcjJbcjIuQ2xvc2VkID0gMV0gPSBcIkNsb3NlZFwiLCByMltyMi5FbnRlciA9IDJdID0gXCJFbnRlclwiLCByMltyMi5MZWF2ZSA9IDRdID0gXCJMZWF2ZVwiLCByMikpKEwkMSB8fCB7fSk7XG5mdW5jdGlvbiBSKHQyKSB7XG4gIGxldCBuMiA9IHt9O1xuICBmb3IgKGxldCBlMiBpbiB0MikgdDJbZTJdID09PSB0cnVlICYmIChuMltgZGF0YS0ke2UyfWBdID0gXCJcIik7XG4gIHJldHVybiBuMjtcbn1cbmZ1bmN0aW9uIHgkMSh0MiwgbjIsIGUyLCBpMikge1xuICBsZXQgW3IyLCBvM10gPSBkJDQoZTIpLCB7IGhhc0ZsYWc6IHMyLCBhZGRGbGFnOiBhMywgcmVtb3ZlRmxhZzogbDIgfSA9IGMkNCh0MiAmJiByMiA/IDMgOiAwKSwgdTIgPSBBJDMoZmFsc2UpLCBmMiA9IEEkMyhmYWxzZSksIEUyID0gcCQyKCk7XG4gIHJldHVybiBuJDMoKCkgPT4ge1xuICAgIHZhciBkMjtcbiAgICBpZiAodDIpIHtcbiAgICAgIGlmIChlMiAmJiBvMyh0cnVlKSwgIW4yKSB7XG4gICAgICAgIGUyICYmIGEzKDMpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICByZXR1cm4gKGQyID0gdm9pZCAwKSA9PSBudWxsIHx8IGQyLmNhbGwoaTIsIGUyKSwgQyhuMiwgeyBpbkZsaWdodDogdTIsIHByZXBhcmUoKSB7XG4gICAgICAgIGYyLmN1cnJlbnQgPyBmMi5jdXJyZW50ID0gZmFsc2UgOiBmMi5jdXJyZW50ID0gdTIuY3VycmVudCwgdTIuY3VycmVudCA9IHRydWUsICFmMi5jdXJyZW50ICYmIChlMiA/IChhMygzKSwgbDIoNCkpIDogKGEzKDQpLCBsMigyKSkpO1xuICAgICAgfSwgcnVuKCkge1xuICAgICAgICBmMi5jdXJyZW50ID8gZTIgPyAobDIoMyksIGEzKDQpKSA6IChsMig0KSwgYTMoMykpIDogZTIgPyBsMigxKSA6IGEzKDEpO1xuICAgICAgfSwgZG9uZSgpIHtcbiAgICAgICAgdmFyIHAyO1xuICAgICAgICBmMi5jdXJyZW50ICYmIHR5cGVvZiBuMi5nZXRBbmltYXRpb25zID09IFwiZnVuY3Rpb25cIiAmJiBuMi5nZXRBbmltYXRpb25zKCkubGVuZ3RoID4gMCB8fCAodTIuY3VycmVudCA9IGZhbHNlLCBsMig3KSwgZTIgfHwgbzMoZmFsc2UpLCAocDIgPSB2b2lkIDApID09IG51bGwgfHwgcDIuY2FsbChpMiwgZTIpKTtcbiAgICAgIH0gfSk7XG4gICAgfVxuICB9LCBbdDIsIGUyLCBuMiwgRTJdKSwgdDIgPyBbcjIsIHsgY2xvc2VkOiBzMigxKSwgZW50ZXI6IHMyKDIpLCBsZWF2ZTogczIoNCksIHRyYW5zaXRpb246IHMyKDIpIHx8IHMyKDQpIH1dIDogW2UyLCB7IGNsb3NlZDogdm9pZCAwLCBlbnRlcjogdm9pZCAwLCBsZWF2ZTogdm9pZCAwLCB0cmFuc2l0aW9uOiB2b2lkIDAgfV07XG59XG5mdW5jdGlvbiBDKHQyLCB7IHByZXBhcmU6IG4yLCBydW46IGUyLCBkb25lOiBpMiwgaW5GbGlnaHQ6IHIyIH0pIHtcbiAgbGV0IG8zID0gbyQ1KCk7XG4gIHJldHVybiBqJDEodDIsIHsgcHJlcGFyZTogbjIsIGluRmxpZ2h0OiByMiB9KSwgbzMubmV4dEZyYW1lKCgpID0+IHtcbiAgICBlMigpLCBvMy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgbzMuYWRkKE0kMih0MiwgaTIpKTtcbiAgICB9KTtcbiAgfSksIG8zLmRpc3Bvc2U7XG59XG5mdW5jdGlvbiBNJDIodDIsIG4yKSB7XG4gIHZhciBvMywgczI7XG4gIGxldCBlMiA9IG8kNSgpO1xuICBpZiAoIXQyKSByZXR1cm4gZTIuZGlzcG9zZTtcbiAgbGV0IGkyID0gZmFsc2U7XG4gIGUyLmFkZCgoKSA9PiB7XG4gICAgaTIgPSB0cnVlO1xuICB9KTtcbiAgbGV0IHIyID0gKHMyID0gKG8zID0gdDIuZ2V0QW5pbWF0aW9ucykgPT0gbnVsbCA/IHZvaWQgMCA6IG8zLmNhbGwodDIpLmZpbHRlcigoYTMpID0+IGEzIGluc3RhbmNlb2YgQ1NTVHJhbnNpdGlvbikpICE9IG51bGwgPyBzMiA6IFtdO1xuICByZXR1cm4gcjIubGVuZ3RoID09PSAwID8gKG4yKCksIGUyLmRpc3Bvc2UpIDogKFByb21pc2UuYWxsU2V0dGxlZChyMi5tYXAoKGEzKSA9PiBhMy5maW5pc2hlZCkpLnRoZW4oKCkgPT4ge1xuICAgIGkyIHx8IG4yKCk7XG4gIH0pLCBlMi5kaXNwb3NlKTtcbn1cbmZ1bmN0aW9uIGokMSh0MiwgeyBpbkZsaWdodDogbjIsIHByZXBhcmU6IGUyIH0pIHtcbiAgaWYgKG4yICE9IG51bGwgJiYgbjIuY3VycmVudCkge1xuICAgIGUyKCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBpMiA9IHQyLnN0eWxlLnRyYW5zaXRpb247XG4gIHQyLnN0eWxlLnRyYW5zaXRpb24gPSBcIm5vbmVcIiwgZTIoKSwgdDIub2Zmc2V0SGVpZ2h0LCB0Mi5zdHlsZS50cmFuc2l0aW9uID0gaTI7XG59XG5mdW5jdGlvbiBGJDEoYzIsIHsgY29udGFpbmVyOiBlMiwgYWNjZXB0OiB0Miwgd2FsazogcjIgfSkge1xuICBsZXQgbzMgPSBBJDModDIpLCBsMiA9IEEkMyhyMik7XG4gIHkkNigoKSA9PiB7XG4gICAgbzMuY3VycmVudCA9IHQyLCBsMi5jdXJyZW50ID0gcjI7XG4gIH0sIFt0MiwgcjJdKSwgbiQzKCgpID0+IHtcbiAgICBpZiAoIWUyIHx8ICFjMikgcmV0dXJuO1xuICAgIGxldCBuMiA9IG8kNihlMik7XG4gICAgaWYgKCFuMikgcmV0dXJuO1xuICAgIGxldCBmMiA9IG8zLmN1cnJlbnQsIHAyID0gbDIuY3VycmVudCwgaTIgPSBPYmplY3QuYXNzaWduKChtMikgPT4gZjIobTIpLCB7IGFjY2VwdE5vZGU6IGYyIH0pLCB1MiA9IG4yLmNyZWF0ZVRyZWVXYWxrZXIoZTIsIE5vZGVGaWx0ZXIuU0hPV19FTEVNRU5ULCBpMiwgZmFsc2UpO1xuICAgIGZvciAoOyB1Mi5uZXh0Tm9kZSgpOyApIHAyKHUyLmN1cnJlbnROb2RlKTtcbiAgfSwgW2UyLCBjMiwgbzMsIGwyXSk7XG59XG5mdW5jdGlvbiBoYXNXaW5kb3coKSB7XG4gIHJldHVybiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiO1xufVxuZnVuY3Rpb24gZ2V0Tm9kZU5hbWUobm9kZSkge1xuICBpZiAoaXNOb2RlKG5vZGUpKSB7XG4gICAgcmV0dXJuIChub2RlLm5vZGVOYW1lIHx8IFwiXCIpLnRvTG93ZXJDYXNlKCk7XG4gIH1cbiAgcmV0dXJuIFwiI2RvY3VtZW50XCI7XG59XG5mdW5jdGlvbiBnZXRXaW5kb3cobm9kZSkge1xuICB2YXIgX25vZGUkb3duZXJEb2N1bWVudDtcbiAgcmV0dXJuIChub2RlID09IG51bGwgfHwgKF9ub2RlJG93bmVyRG9jdW1lbnQgPSBub2RlLm93bmVyRG9jdW1lbnQpID09IG51bGwgPyB2b2lkIDAgOiBfbm9kZSRvd25lckRvY3VtZW50LmRlZmF1bHRWaWV3KSB8fCB3aW5kb3c7XG59XG5mdW5jdGlvbiBnZXREb2N1bWVudEVsZW1lbnQobm9kZSkge1xuICB2YXIgX3JlZjtcbiAgcmV0dXJuIChfcmVmID0gKGlzTm9kZShub2RlKSA/IG5vZGUub3duZXJEb2N1bWVudCA6IG5vZGUuZG9jdW1lbnQpIHx8IHdpbmRvdy5kb2N1bWVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9yZWYuZG9jdW1lbnRFbGVtZW50O1xufVxuZnVuY3Rpb24gaXNOb2RlKHZhbHVlKSB7XG4gIGlmICghaGFzV2luZG93KCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgTm9kZSB8fCB2YWx1ZSBpbnN0YW5jZW9mIGdldFdpbmRvdyh2YWx1ZSkuTm9kZTtcbn1cbmZ1bmN0aW9uIGlzRWxlbWVudCh2YWx1ZSkge1xuICBpZiAoIWhhc1dpbmRvdygpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIEVsZW1lbnQgfHwgdmFsdWUgaW5zdGFuY2VvZiBnZXRXaW5kb3codmFsdWUpLkVsZW1lbnQ7XG59XG5mdW5jdGlvbiBpc0hUTUxFbGVtZW50KHZhbHVlKSB7XG4gIGlmICghaGFzV2luZG93KCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgfHwgdmFsdWUgaW5zdGFuY2VvZiBnZXRXaW5kb3codmFsdWUpLkhUTUxFbGVtZW50O1xufVxuZnVuY3Rpb24gaXNTaGFkb3dSb290KHZhbHVlKSB7XG4gIGlmICghaGFzV2luZG93KCkgfHwgdHlwZW9mIFNoYWRvd1Jvb3QgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgU2hhZG93Um9vdCB8fCB2YWx1ZSBpbnN0YW5jZW9mIGdldFdpbmRvdyh2YWx1ZSkuU2hhZG93Um9vdDtcbn1cbmZ1bmN0aW9uIGlzT3ZlcmZsb3dFbGVtZW50KGVsZW1lbnQpIHtcbiAgY29uc3Qge1xuICAgIG92ZXJmbG93LFxuICAgIG92ZXJmbG93WCxcbiAgICBvdmVyZmxvd1ksXG4gICAgZGlzcGxheVxuICB9ID0gZ2V0Q29tcHV0ZWRTdHlsZSQxKGVsZW1lbnQpO1xuICByZXR1cm4gL2F1dG98c2Nyb2xsfG92ZXJsYXl8aGlkZGVufGNsaXAvLnRlc3Qob3ZlcmZsb3cgKyBvdmVyZmxvd1kgKyBvdmVyZmxvd1gpICYmICFbXCJpbmxpbmVcIiwgXCJjb250ZW50c1wiXS5pbmNsdWRlcyhkaXNwbGF5KTtcbn1cbmZ1bmN0aW9uIGlzVGFibGVFbGVtZW50KGVsZW1lbnQpIHtcbiAgcmV0dXJuIFtcInRhYmxlXCIsIFwidGRcIiwgXCJ0aFwiXS5pbmNsdWRlcyhnZXROb2RlTmFtZShlbGVtZW50KSk7XG59XG5mdW5jdGlvbiBpc1RvcExheWVyKGVsZW1lbnQpIHtcbiAgcmV0dXJuIFtcIjpwb3BvdmVyLW9wZW5cIiwgXCI6bW9kYWxcIl0uc29tZSgoc2VsZWN0b3IpID0+IHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGVsZW1lbnQubWF0Y2hlcyhzZWxlY3Rvcik7XG4gICAgfSBjYXRjaCAoZTIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gaXNDb250YWluaW5nQmxvY2soZWxlbWVudE9yQ3NzKSB7XG4gIGNvbnN0IHdlYmtpdCA9IGlzV2ViS2l0KCk7XG4gIGNvbnN0IGNzcyA9IGlzRWxlbWVudChlbGVtZW50T3JDc3MpID8gZ2V0Q29tcHV0ZWRTdHlsZSQxKGVsZW1lbnRPckNzcykgOiBlbGVtZW50T3JDc3M7XG4gIHJldHVybiBbXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGVcIiwgXCJzY2FsZVwiLCBcInJvdGF0ZVwiLCBcInBlcnNwZWN0aXZlXCJdLnNvbWUoKHZhbHVlKSA9PiBjc3NbdmFsdWVdID8gY3NzW3ZhbHVlXSAhPT0gXCJub25lXCIgOiBmYWxzZSkgfHwgKGNzcy5jb250YWluZXJUeXBlID8gY3NzLmNvbnRhaW5lclR5cGUgIT09IFwibm9ybWFsXCIgOiBmYWxzZSkgfHwgIXdlYmtpdCAmJiAoY3NzLmJhY2tkcm9wRmlsdGVyID8gY3NzLmJhY2tkcm9wRmlsdGVyICE9PSBcIm5vbmVcIiA6IGZhbHNlKSB8fCAhd2Via2l0ICYmIChjc3MuZmlsdGVyID8gY3NzLmZpbHRlciAhPT0gXCJub25lXCIgOiBmYWxzZSkgfHwgW1widHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlXCIsIFwic2NhbGVcIiwgXCJyb3RhdGVcIiwgXCJwZXJzcGVjdGl2ZVwiLCBcImZpbHRlclwiXS5zb21lKCh2YWx1ZSkgPT4gKGNzcy53aWxsQ2hhbmdlIHx8IFwiXCIpLmluY2x1ZGVzKHZhbHVlKSkgfHwgW1wicGFpbnRcIiwgXCJsYXlvdXRcIiwgXCJzdHJpY3RcIiwgXCJjb250ZW50XCJdLnNvbWUoKHZhbHVlKSA9PiAoY3NzLmNvbnRhaW4gfHwgXCJcIikuaW5jbHVkZXModmFsdWUpKTtcbn1cbmZ1bmN0aW9uIGdldENvbnRhaW5pbmdCbG9jayhlbGVtZW50KSB7XG4gIGxldCBjdXJyZW50Tm9kZSA9IGdldFBhcmVudE5vZGUoZWxlbWVudCk7XG4gIHdoaWxlIChpc0hUTUxFbGVtZW50KGN1cnJlbnROb2RlKSAmJiAhaXNMYXN0VHJhdmVyc2FibGVOb2RlKGN1cnJlbnROb2RlKSkge1xuICAgIGlmIChpc0NvbnRhaW5pbmdCbG9jayhjdXJyZW50Tm9kZSkpIHtcbiAgICAgIHJldHVybiBjdXJyZW50Tm9kZTtcbiAgICB9IGVsc2UgaWYgKGlzVG9wTGF5ZXIoY3VycmVudE5vZGUpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY3VycmVudE5vZGUgPSBnZXRQYXJlbnROb2RlKGN1cnJlbnROb2RlKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGlzV2ViS2l0KCkge1xuICBpZiAodHlwZW9mIENTUyA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhQ1NTLnN1cHBvcnRzKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBDU1Muc3VwcG9ydHMoXCItd2Via2l0LWJhY2tkcm9wLWZpbHRlclwiLCBcIm5vbmVcIik7XG59XG5mdW5jdGlvbiBpc0xhc3RUcmF2ZXJzYWJsZU5vZGUobm9kZSkge1xuICByZXR1cm4gW1wiaHRtbFwiLCBcImJvZHlcIiwgXCIjZG9jdW1lbnRcIl0uaW5jbHVkZXMoZ2V0Tm9kZU5hbWUobm9kZSkpO1xufVxuZnVuY3Rpb24gZ2V0Q29tcHV0ZWRTdHlsZSQxKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGdldFdpbmRvdyhlbGVtZW50KS5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xufVxuZnVuY3Rpb24gZ2V0Tm9kZVNjcm9sbChlbGVtZW50KSB7XG4gIGlmIChpc0VsZW1lbnQoZWxlbWVudCkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2Nyb2xsTGVmdDogZWxlbWVudC5zY3JvbGxMZWZ0LFxuICAgICAgc2Nyb2xsVG9wOiBlbGVtZW50LnNjcm9sbFRvcFxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBzY3JvbGxMZWZ0OiBlbGVtZW50LnNjcm9sbFgsXG4gICAgc2Nyb2xsVG9wOiBlbGVtZW50LnNjcm9sbFlcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldFBhcmVudE5vZGUobm9kZSkge1xuICBpZiAoZ2V0Tm9kZU5hbWUobm9kZSkgPT09IFwiaHRtbFwiKSB7XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgY29uc3QgcmVzdWx0ID0gKFxuICAgIC8vIFN0ZXAgaW50byB0aGUgc2hhZG93IERPTSBvZiB0aGUgcGFyZW50IG9mIGEgc2xvdHRlZCBub2RlLlxuICAgIG5vZGUuYXNzaWduZWRTbG90IHx8IC8vIERPTSBFbGVtZW50IGRldGVjdGVkLlxuICAgIG5vZGUucGFyZW50Tm9kZSB8fCAvLyBTaGFkb3dSb290IGRldGVjdGVkLlxuICAgIGlzU2hhZG93Um9vdChub2RlKSAmJiBub2RlLmhvc3QgfHwgLy8gRmFsbGJhY2suXG4gICAgZ2V0RG9jdW1lbnRFbGVtZW50KG5vZGUpXG4gICk7XG4gIHJldHVybiBpc1NoYWRvd1Jvb3QocmVzdWx0KSA/IHJlc3VsdC5ob3N0IDogcmVzdWx0O1xufVxuZnVuY3Rpb24gZ2V0TmVhcmVzdE92ZXJmbG93QW5jZXN0b3Iobm9kZSkge1xuICBjb25zdCBwYXJlbnROb2RlID0gZ2V0UGFyZW50Tm9kZShub2RlKTtcbiAgaWYgKGlzTGFzdFRyYXZlcnNhYmxlTm9kZShwYXJlbnROb2RlKSkge1xuICAgIHJldHVybiBub2RlLm93bmVyRG9jdW1lbnQgPyBub2RlLm93bmVyRG9jdW1lbnQuYm9keSA6IG5vZGUuYm9keTtcbiAgfVxuICBpZiAoaXNIVE1MRWxlbWVudChwYXJlbnROb2RlKSAmJiBpc092ZXJmbG93RWxlbWVudChwYXJlbnROb2RlKSkge1xuICAgIHJldHVybiBwYXJlbnROb2RlO1xuICB9XG4gIHJldHVybiBnZXROZWFyZXN0T3ZlcmZsb3dBbmNlc3RvcihwYXJlbnROb2RlKTtcbn1cbmZ1bmN0aW9uIGdldE92ZXJmbG93QW5jZXN0b3JzKG5vZGUsIGxpc3QsIHRyYXZlcnNlSWZyYW1lcykge1xuICB2YXIgX25vZGUkb3duZXJEb2N1bWVudDI7XG4gIGlmIChsaXN0ID09PSB2b2lkIDApIHtcbiAgICBsaXN0ID0gW107XG4gIH1cbiAgaWYgKHRyYXZlcnNlSWZyYW1lcyA9PT0gdm9pZCAwKSB7XG4gICAgdHJhdmVyc2VJZnJhbWVzID0gdHJ1ZTtcbiAgfVxuICBjb25zdCBzY3JvbGxhYmxlQW5jZXN0b3IgPSBnZXROZWFyZXN0T3ZlcmZsb3dBbmNlc3Rvcihub2RlKTtcbiAgY29uc3QgaXNCb2R5ID0gc2Nyb2xsYWJsZUFuY2VzdG9yID09PSAoKF9ub2RlJG93bmVyRG9jdW1lbnQyID0gbm9kZS5vd25lckRvY3VtZW50KSA9PSBudWxsID8gdm9pZCAwIDogX25vZGUkb3duZXJEb2N1bWVudDIuYm9keSk7XG4gIGNvbnN0IHdpbiA9IGdldFdpbmRvdyhzY3JvbGxhYmxlQW5jZXN0b3IpO1xuICBpZiAoaXNCb2R5KSB7XG4gICAgY29uc3QgZnJhbWVFbGVtZW50ID0gZ2V0RnJhbWVFbGVtZW50KHdpbik7XG4gICAgcmV0dXJuIGxpc3QuY29uY2F0KHdpbiwgd2luLnZpc3VhbFZpZXdwb3J0IHx8IFtdLCBpc092ZXJmbG93RWxlbWVudChzY3JvbGxhYmxlQW5jZXN0b3IpID8gc2Nyb2xsYWJsZUFuY2VzdG9yIDogW10sIGZyYW1lRWxlbWVudCAmJiB0cmF2ZXJzZUlmcmFtZXMgPyBnZXRPdmVyZmxvd0FuY2VzdG9ycyhmcmFtZUVsZW1lbnQpIDogW10pO1xuICB9XG4gIHJldHVybiBsaXN0LmNvbmNhdChzY3JvbGxhYmxlQW5jZXN0b3IsIGdldE92ZXJmbG93QW5jZXN0b3JzKHNjcm9sbGFibGVBbmNlc3RvciwgW10sIHRyYXZlcnNlSWZyYW1lcykpO1xufVxuZnVuY3Rpb24gZ2V0RnJhbWVFbGVtZW50KHdpbikge1xuICByZXR1cm4gd2luLnBhcmVudCAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2Yod2luLnBhcmVudCkgPyB3aW4uZnJhbWVFbGVtZW50IDogbnVsbDtcbn1cbmZ1bmN0aW9uIGdldFVzZXJBZ2VudCgpIHtcbiAgY29uc3QgdWFEYXRhID0gbmF2aWdhdG9yLnVzZXJBZ2VudERhdGE7XG4gIGlmICh1YURhdGEgJiYgQXJyYXkuaXNBcnJheSh1YURhdGEuYnJhbmRzKSkge1xuICAgIHJldHVybiB1YURhdGEuYnJhbmRzLm1hcCgoX3JlZikgPT4ge1xuICAgICAgbGV0IHtcbiAgICAgICAgYnJhbmQsXG4gICAgICAgIHZlcnNpb25cbiAgICAgIH0gPSBfcmVmO1xuICAgICAgcmV0dXJuIGJyYW5kICsgXCIvXCIgKyB2ZXJzaW9uO1xuICAgIH0pLmpvaW4oXCIgXCIpO1xuICB9XG4gIHJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50O1xufVxuY29uc3QgbWluID0gTWF0aC5taW47XG5jb25zdCBtYXggPSBNYXRoLm1heDtcbmNvbnN0IHJvdW5kID0gTWF0aC5yb3VuZDtcbmNvbnN0IGZsb29yID0gTWF0aC5mbG9vcjtcbmNvbnN0IGNyZWF0ZUNvb3JkcyA9ICh2MikgPT4gKHtcbiAgeDogdjIsXG4gIHk6IHYyXG59KTtcbmNvbnN0IG9wcG9zaXRlU2lkZU1hcCA9IHtcbiAgbGVmdDogXCJyaWdodFwiLFxuICByaWdodDogXCJsZWZ0XCIsXG4gIGJvdHRvbTogXCJ0b3BcIixcbiAgdG9wOiBcImJvdHRvbVwiXG59O1xuY29uc3Qgb3Bwb3NpdGVBbGlnbm1lbnRNYXAgPSB7XG4gIHN0YXJ0OiBcImVuZFwiLFxuICBlbmQ6IFwic3RhcnRcIlxufTtcbmZ1bmN0aW9uIGNsYW1wKHN0YXJ0LCB2YWx1ZSwgZW5kKSB7XG4gIHJldHVybiBtYXgoc3RhcnQsIG1pbih2YWx1ZSwgZW5kKSk7XG59XG5mdW5jdGlvbiBldmFsdWF0ZSh2YWx1ZSwgcGFyYW0pIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiID8gdmFsdWUocGFyYW0pIDogdmFsdWU7XG59XG5mdW5jdGlvbiBnZXRTaWRlKHBsYWNlbWVudCkge1xuICByZXR1cm4gcGxhY2VtZW50LnNwbGl0KFwiLVwiKVswXTtcbn1cbmZ1bmN0aW9uIGdldEFsaWdubWVudChwbGFjZW1lbnQpIHtcbiAgcmV0dXJuIHBsYWNlbWVudC5zcGxpdChcIi1cIilbMV07XG59XG5mdW5jdGlvbiBnZXRPcHBvc2l0ZUF4aXMoYXhpcykge1xuICByZXR1cm4gYXhpcyA9PT0gXCJ4XCIgPyBcInlcIiA6IFwieFwiO1xufVxuZnVuY3Rpb24gZ2V0QXhpc0xlbmd0aChheGlzKSB7XG4gIHJldHVybiBheGlzID09PSBcInlcIiA/IFwiaGVpZ2h0XCIgOiBcIndpZHRoXCI7XG59XG5mdW5jdGlvbiBnZXRTaWRlQXhpcyhwbGFjZW1lbnQpIHtcbiAgcmV0dXJuIFtcInRvcFwiLCBcImJvdHRvbVwiXS5pbmNsdWRlcyhnZXRTaWRlKHBsYWNlbWVudCkpID8gXCJ5XCIgOiBcInhcIjtcbn1cbmZ1bmN0aW9uIGdldEFsaWdubWVudEF4aXMocGxhY2VtZW50KSB7XG4gIHJldHVybiBnZXRPcHBvc2l0ZUF4aXMoZ2V0U2lkZUF4aXMocGxhY2VtZW50KSk7XG59XG5mdW5jdGlvbiBnZXRBbGlnbm1lbnRTaWRlcyhwbGFjZW1lbnQsIHJlY3RzLCBydGwpIHtcbiAgaWYgKHJ0bCA9PT0gdm9pZCAwKSB7XG4gICAgcnRsID0gZmFsc2U7XG4gIH1cbiAgY29uc3QgYWxpZ25tZW50ID0gZ2V0QWxpZ25tZW50KHBsYWNlbWVudCk7XG4gIGNvbnN0IGFsaWdubWVudEF4aXMgPSBnZXRBbGlnbm1lbnRBeGlzKHBsYWNlbWVudCk7XG4gIGNvbnN0IGxlbmd0aCA9IGdldEF4aXNMZW5ndGgoYWxpZ25tZW50QXhpcyk7XG4gIGxldCBtYWluQWxpZ25tZW50U2lkZSA9IGFsaWdubWVudEF4aXMgPT09IFwieFwiID8gYWxpZ25tZW50ID09PSAocnRsID8gXCJlbmRcIiA6IFwic3RhcnRcIikgPyBcInJpZ2h0XCIgOiBcImxlZnRcIiA6IGFsaWdubWVudCA9PT0gXCJzdGFydFwiID8gXCJib3R0b21cIiA6IFwidG9wXCI7XG4gIGlmIChyZWN0cy5yZWZlcmVuY2VbbGVuZ3RoXSA+IHJlY3RzLmZsb2F0aW5nW2xlbmd0aF0pIHtcbiAgICBtYWluQWxpZ25tZW50U2lkZSA9IGdldE9wcG9zaXRlUGxhY2VtZW50KG1haW5BbGlnbm1lbnRTaWRlKTtcbiAgfVxuICByZXR1cm4gW21haW5BbGlnbm1lbnRTaWRlLCBnZXRPcHBvc2l0ZVBsYWNlbWVudChtYWluQWxpZ25tZW50U2lkZSldO1xufVxuZnVuY3Rpb24gZ2V0RXhwYW5kZWRQbGFjZW1lbnRzKHBsYWNlbWVudCkge1xuICBjb25zdCBvcHBvc2l0ZVBsYWNlbWVudCA9IGdldE9wcG9zaXRlUGxhY2VtZW50KHBsYWNlbWVudCk7XG4gIHJldHVybiBbZ2V0T3Bwb3NpdGVBbGlnbm1lbnRQbGFjZW1lbnQocGxhY2VtZW50KSwgb3Bwb3NpdGVQbGFjZW1lbnQsIGdldE9wcG9zaXRlQWxpZ25tZW50UGxhY2VtZW50KG9wcG9zaXRlUGxhY2VtZW50KV07XG59XG5mdW5jdGlvbiBnZXRPcHBvc2l0ZUFsaWdubWVudFBsYWNlbWVudChwbGFjZW1lbnQpIHtcbiAgcmV0dXJuIHBsYWNlbWVudC5yZXBsYWNlKC9zdGFydHxlbmQvZywgKGFsaWdubWVudCkgPT4gb3Bwb3NpdGVBbGlnbm1lbnRNYXBbYWxpZ25tZW50XSk7XG59XG5mdW5jdGlvbiBnZXRTaWRlTGlzdChzaWRlLCBpc1N0YXJ0LCBydGwpIHtcbiAgY29uc3QgbHIgPSBbXCJsZWZ0XCIsIFwicmlnaHRcIl07XG4gIGNvbnN0IHJsID0gW1wicmlnaHRcIiwgXCJsZWZ0XCJdO1xuICBjb25zdCB0YiA9IFtcInRvcFwiLCBcImJvdHRvbVwiXTtcbiAgY29uc3QgYnQgPSBbXCJib3R0b21cIiwgXCJ0b3BcIl07XG4gIHN3aXRjaCAoc2lkZSkge1xuICAgIGNhc2UgXCJ0b3BcIjpcbiAgICBjYXNlIFwiYm90dG9tXCI6XG4gICAgICBpZiAocnRsKSByZXR1cm4gaXNTdGFydCA/IHJsIDogbHI7XG4gICAgICByZXR1cm4gaXNTdGFydCA/IGxyIDogcmw7XG4gICAgY2FzZSBcImxlZnRcIjpcbiAgICBjYXNlIFwicmlnaHRcIjpcbiAgICAgIHJldHVybiBpc1N0YXJ0ID8gdGIgOiBidDtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIFtdO1xuICB9XG59XG5mdW5jdGlvbiBnZXRPcHBvc2l0ZUF4aXNQbGFjZW1lbnRzKHBsYWNlbWVudCwgZmxpcEFsaWdubWVudCwgZGlyZWN0aW9uLCBydGwpIHtcbiAgY29uc3QgYWxpZ25tZW50ID0gZ2V0QWxpZ25tZW50KHBsYWNlbWVudCk7XG4gIGxldCBsaXN0ID0gZ2V0U2lkZUxpc3QoZ2V0U2lkZShwbGFjZW1lbnQpLCBkaXJlY3Rpb24gPT09IFwic3RhcnRcIiwgcnRsKTtcbiAgaWYgKGFsaWdubWVudCkge1xuICAgIGxpc3QgPSBsaXN0Lm1hcCgoc2lkZSkgPT4gc2lkZSArIFwiLVwiICsgYWxpZ25tZW50KTtcbiAgICBpZiAoZmxpcEFsaWdubWVudCkge1xuICAgICAgbGlzdCA9IGxpc3QuY29uY2F0KGxpc3QubWFwKGdldE9wcG9zaXRlQWxpZ25tZW50UGxhY2VtZW50KSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBsaXN0O1xufVxuZnVuY3Rpb24gZ2V0T3Bwb3NpdGVQbGFjZW1lbnQocGxhY2VtZW50KSB7XG4gIHJldHVybiBwbGFjZW1lbnQucmVwbGFjZSgvbGVmdHxyaWdodHxib3R0b218dG9wL2csIChzaWRlKSA9PiBvcHBvc2l0ZVNpZGVNYXBbc2lkZV0pO1xufVxuZnVuY3Rpb24gZXhwYW5kUGFkZGluZ09iamVjdChwYWRkaW5nKSB7XG4gIHJldHVybiB7XG4gICAgdG9wOiAwLFxuICAgIHJpZ2h0OiAwLFxuICAgIGJvdHRvbTogMCxcbiAgICBsZWZ0OiAwLFxuICAgIC4uLnBhZGRpbmdcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldFBhZGRpbmdPYmplY3QocGFkZGluZykge1xuICByZXR1cm4gdHlwZW9mIHBhZGRpbmcgIT09IFwibnVtYmVyXCIgPyBleHBhbmRQYWRkaW5nT2JqZWN0KHBhZGRpbmcpIDoge1xuICAgIHRvcDogcGFkZGluZyxcbiAgICByaWdodDogcGFkZGluZyxcbiAgICBib3R0b206IHBhZGRpbmcsXG4gICAgbGVmdDogcGFkZGluZ1xuICB9O1xufVxuZnVuY3Rpb24gcmVjdFRvQ2xpZW50UmVjdChyZWN0KSB7XG4gIGNvbnN0IHtcbiAgICB4OiB4MixcbiAgICB5OiB5MixcbiAgICB3aWR0aCxcbiAgICBoZWlnaHRcbiAgfSA9IHJlY3Q7XG4gIHJldHVybiB7XG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgIHRvcDogeTIsXG4gICAgbGVmdDogeDIsXG4gICAgcmlnaHQ6IHgyICsgd2lkdGgsXG4gICAgYm90dG9tOiB5MiArIGhlaWdodCxcbiAgICB4OiB4MixcbiAgICB5OiB5MlxuICB9O1xufVxuZnVuY3Rpb24gY29tcHV0ZUNvb3Jkc0Zyb21QbGFjZW1lbnQoX3JlZiwgcGxhY2VtZW50LCBydGwpIHtcbiAgbGV0IHtcbiAgICByZWZlcmVuY2UsXG4gICAgZmxvYXRpbmdcbiAgfSA9IF9yZWY7XG4gIGNvbnN0IHNpZGVBeGlzID0gZ2V0U2lkZUF4aXMocGxhY2VtZW50KTtcbiAgY29uc3QgYWxpZ25tZW50QXhpcyA9IGdldEFsaWdubWVudEF4aXMocGxhY2VtZW50KTtcbiAgY29uc3QgYWxpZ25MZW5ndGggPSBnZXRBeGlzTGVuZ3RoKGFsaWdubWVudEF4aXMpO1xuICBjb25zdCBzaWRlID0gZ2V0U2lkZShwbGFjZW1lbnQpO1xuICBjb25zdCBpc1ZlcnRpY2FsID0gc2lkZUF4aXMgPT09IFwieVwiO1xuICBjb25zdCBjb21tb25YID0gcmVmZXJlbmNlLnggKyByZWZlcmVuY2Uud2lkdGggLyAyIC0gZmxvYXRpbmcud2lkdGggLyAyO1xuICBjb25zdCBjb21tb25ZID0gcmVmZXJlbmNlLnkgKyByZWZlcmVuY2UuaGVpZ2h0IC8gMiAtIGZsb2F0aW5nLmhlaWdodCAvIDI7XG4gIGNvbnN0IGNvbW1vbkFsaWduID0gcmVmZXJlbmNlW2FsaWduTGVuZ3RoXSAvIDIgLSBmbG9hdGluZ1thbGlnbkxlbmd0aF0gLyAyO1xuICBsZXQgY29vcmRzO1xuICBzd2l0Y2ggKHNpZGUpIHtcbiAgICBjYXNlIFwidG9wXCI6XG4gICAgICBjb29yZHMgPSB7XG4gICAgICAgIHg6IGNvbW1vblgsXG4gICAgICAgIHk6IHJlZmVyZW5jZS55IC0gZmxvYXRpbmcuaGVpZ2h0XG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImJvdHRvbVwiOlxuICAgICAgY29vcmRzID0ge1xuICAgICAgICB4OiBjb21tb25YLFxuICAgICAgICB5OiByZWZlcmVuY2UueSArIHJlZmVyZW5jZS5oZWlnaHRcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwicmlnaHRcIjpcbiAgICAgIGNvb3JkcyA9IHtcbiAgICAgICAgeDogcmVmZXJlbmNlLnggKyByZWZlcmVuY2Uud2lkdGgsXG4gICAgICAgIHk6IGNvbW1vbllcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwibGVmdFwiOlxuICAgICAgY29vcmRzID0ge1xuICAgICAgICB4OiByZWZlcmVuY2UueCAtIGZsb2F0aW5nLndpZHRoLFxuICAgICAgICB5OiBjb21tb25ZXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGNvb3JkcyA9IHtcbiAgICAgICAgeDogcmVmZXJlbmNlLngsXG4gICAgICAgIHk6IHJlZmVyZW5jZS55XG4gICAgICB9O1xuICB9XG4gIHN3aXRjaCAoZ2V0QWxpZ25tZW50KHBsYWNlbWVudCkpIHtcbiAgICBjYXNlIFwic3RhcnRcIjpcbiAgICAgIGNvb3Jkc1thbGlnbm1lbnRBeGlzXSAtPSBjb21tb25BbGlnbiAqIChydGwgJiYgaXNWZXJ0aWNhbCA/IC0xIDogMSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiZW5kXCI6XG4gICAgICBjb29yZHNbYWxpZ25tZW50QXhpc10gKz0gY29tbW9uQWxpZ24gKiAocnRsICYmIGlzVmVydGljYWwgPyAtMSA6IDEpO1xuICAgICAgYnJlYWs7XG4gIH1cbiAgcmV0dXJuIGNvb3Jkcztcbn1cbmNvbnN0IGNvbXB1dGVQb3NpdGlvbiQxID0gYXN5bmMgKHJlZmVyZW5jZSwgZmxvYXRpbmcsIGNvbmZpZykgPT4ge1xuICBjb25zdCB7XG4gICAgcGxhY2VtZW50ID0gXCJib3R0b21cIixcbiAgICBzdHJhdGVneSA9IFwiYWJzb2x1dGVcIixcbiAgICBtaWRkbGV3YXJlID0gW10sXG4gICAgcGxhdGZvcm06IHBsYXRmb3JtMlxuICB9ID0gY29uZmlnO1xuICBjb25zdCB2YWxpZE1pZGRsZXdhcmUgPSBtaWRkbGV3YXJlLmZpbHRlcihCb29sZWFuKTtcbiAgY29uc3QgcnRsID0gYXdhaXQgKHBsYXRmb3JtMi5pc1JUTCA9PSBudWxsID8gdm9pZCAwIDogcGxhdGZvcm0yLmlzUlRMKGZsb2F0aW5nKSk7XG4gIGxldCByZWN0cyA9IGF3YWl0IHBsYXRmb3JtMi5nZXRFbGVtZW50UmVjdHMoe1xuICAgIHJlZmVyZW5jZSxcbiAgICBmbG9hdGluZyxcbiAgICBzdHJhdGVneVxuICB9KTtcbiAgbGV0IHtcbiAgICB4OiB4MixcbiAgICB5OiB5MlxuICB9ID0gY29tcHV0ZUNvb3Jkc0Zyb21QbGFjZW1lbnQocmVjdHMsIHBsYWNlbWVudCwgcnRsKTtcbiAgbGV0IHN0YXRlZnVsUGxhY2VtZW50ID0gcGxhY2VtZW50O1xuICBsZXQgbWlkZGxld2FyZURhdGEgPSB7fTtcbiAgbGV0IHJlc2V0Q291bnQgPSAwO1xuICBmb3IgKGxldCBpMiA9IDA7IGkyIDwgdmFsaWRNaWRkbGV3YXJlLmxlbmd0aDsgaTIrKykge1xuICAgIGNvbnN0IHtcbiAgICAgIG5hbWUsXG4gICAgICBmbjogZm4yXG4gICAgfSA9IHZhbGlkTWlkZGxld2FyZVtpMl07XG4gICAgY29uc3Qge1xuICAgICAgeDogbmV4dFgsXG4gICAgICB5OiBuZXh0WSxcbiAgICAgIGRhdGEsXG4gICAgICByZXNldFxuICAgIH0gPSBhd2FpdCBmbjIoe1xuICAgICAgeDogeDIsXG4gICAgICB5OiB5MixcbiAgICAgIGluaXRpYWxQbGFjZW1lbnQ6IHBsYWNlbWVudCxcbiAgICAgIHBsYWNlbWVudDogc3RhdGVmdWxQbGFjZW1lbnQsXG4gICAgICBzdHJhdGVneSxcbiAgICAgIG1pZGRsZXdhcmVEYXRhLFxuICAgICAgcmVjdHMsXG4gICAgICBwbGF0Zm9ybTogcGxhdGZvcm0yLFxuICAgICAgZWxlbWVudHM6IHtcbiAgICAgICAgcmVmZXJlbmNlLFxuICAgICAgICBmbG9hdGluZ1xuICAgICAgfVxuICAgIH0pO1xuICAgIHgyID0gbmV4dFggIT0gbnVsbCA/IG5leHRYIDogeDI7XG4gICAgeTIgPSBuZXh0WSAhPSBudWxsID8gbmV4dFkgOiB5MjtcbiAgICBtaWRkbGV3YXJlRGF0YSA9IHtcbiAgICAgIC4uLm1pZGRsZXdhcmVEYXRhLFxuICAgICAgW25hbWVdOiB7XG4gICAgICAgIC4uLm1pZGRsZXdhcmVEYXRhW25hbWVdLFxuICAgICAgICAuLi5kYXRhXG4gICAgICB9XG4gICAgfTtcbiAgICBpZiAocmVzZXQgJiYgcmVzZXRDb3VudCA8PSA1MCkge1xuICAgICAgcmVzZXRDb3VudCsrO1xuICAgICAgaWYgKHR5cGVvZiByZXNldCA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBpZiAocmVzZXQucGxhY2VtZW50KSB7XG4gICAgICAgICAgc3RhdGVmdWxQbGFjZW1lbnQgPSByZXNldC5wbGFjZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc2V0LnJlY3RzKSB7XG4gICAgICAgICAgcmVjdHMgPSByZXNldC5yZWN0cyA9PT0gdHJ1ZSA/IGF3YWl0IHBsYXRmb3JtMi5nZXRFbGVtZW50UmVjdHMoe1xuICAgICAgICAgICAgcmVmZXJlbmNlLFxuICAgICAgICAgICAgZmxvYXRpbmcsXG4gICAgICAgICAgICBzdHJhdGVneVxuICAgICAgICAgIH0pIDogcmVzZXQucmVjdHM7XG4gICAgICAgIH1cbiAgICAgICAgKHtcbiAgICAgICAgICB4OiB4MixcbiAgICAgICAgICB5OiB5MlxuICAgICAgICB9ID0gY29tcHV0ZUNvb3Jkc0Zyb21QbGFjZW1lbnQocmVjdHMsIHN0YXRlZnVsUGxhY2VtZW50LCBydGwpKTtcbiAgICAgIH1cbiAgICAgIGkyID0gLTE7XG4gICAgfVxuICB9XG4gIHJldHVybiB7XG4gICAgeDogeDIsXG4gICAgeTogeTIsXG4gICAgcGxhY2VtZW50OiBzdGF0ZWZ1bFBsYWNlbWVudCxcbiAgICBzdHJhdGVneSxcbiAgICBtaWRkbGV3YXJlRGF0YVxuICB9O1xufTtcbmFzeW5jIGZ1bmN0aW9uIGRldGVjdE92ZXJmbG93JDEoc3RhdGUsIG9wdGlvbnMpIHtcbiAgdmFyIF9hd2FpdCRwbGF0Zm9ybSRpc0VsZTtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuICBjb25zdCB7XG4gICAgeDogeDIsXG4gICAgeTogeTIsXG4gICAgcGxhdGZvcm06IHBsYXRmb3JtMixcbiAgICByZWN0cyxcbiAgICBlbGVtZW50cyxcbiAgICBzdHJhdGVneVxuICB9ID0gc3RhdGU7XG4gIGNvbnN0IHtcbiAgICBib3VuZGFyeSA9IFwiY2xpcHBpbmdBbmNlc3RvcnNcIixcbiAgICByb290Qm91bmRhcnkgPSBcInZpZXdwb3J0XCIsXG4gICAgZWxlbWVudENvbnRleHQgPSBcImZsb2F0aW5nXCIsXG4gICAgYWx0Qm91bmRhcnkgPSBmYWxzZSxcbiAgICBwYWRkaW5nID0gMFxuICB9ID0gZXZhbHVhdGUob3B0aW9ucywgc3RhdGUpO1xuICBjb25zdCBwYWRkaW5nT2JqZWN0ID0gZ2V0UGFkZGluZ09iamVjdChwYWRkaW5nKTtcbiAgY29uc3QgYWx0Q29udGV4dCA9IGVsZW1lbnRDb250ZXh0ID09PSBcImZsb2F0aW5nXCIgPyBcInJlZmVyZW5jZVwiIDogXCJmbG9hdGluZ1wiO1xuICBjb25zdCBlbGVtZW50ID0gZWxlbWVudHNbYWx0Qm91bmRhcnkgPyBhbHRDb250ZXh0IDogZWxlbWVudENvbnRleHRdO1xuICBjb25zdCBjbGlwcGluZ0NsaWVudFJlY3QgPSByZWN0VG9DbGllbnRSZWN0KGF3YWl0IHBsYXRmb3JtMi5nZXRDbGlwcGluZ1JlY3Qoe1xuICAgIGVsZW1lbnQ6ICgoX2F3YWl0JHBsYXRmb3JtJGlzRWxlID0gYXdhaXQgKHBsYXRmb3JtMi5pc0VsZW1lbnQgPT0gbnVsbCA/IHZvaWQgMCA6IHBsYXRmb3JtMi5pc0VsZW1lbnQoZWxlbWVudCkpKSAhPSBudWxsID8gX2F3YWl0JHBsYXRmb3JtJGlzRWxlIDogdHJ1ZSkgPyBlbGVtZW50IDogZWxlbWVudC5jb250ZXh0RWxlbWVudCB8fCBhd2FpdCAocGxhdGZvcm0yLmdldERvY3VtZW50RWxlbWVudCA9PSBudWxsID8gdm9pZCAwIDogcGxhdGZvcm0yLmdldERvY3VtZW50RWxlbWVudChlbGVtZW50cy5mbG9hdGluZykpLFxuICAgIGJvdW5kYXJ5LFxuICAgIHJvb3RCb3VuZGFyeSxcbiAgICBzdHJhdGVneVxuICB9KSk7XG4gIGNvbnN0IHJlY3QgPSBlbGVtZW50Q29udGV4dCA9PT0gXCJmbG9hdGluZ1wiID8ge1xuICAgIHg6IHgyLFxuICAgIHk6IHkyLFxuICAgIHdpZHRoOiByZWN0cy5mbG9hdGluZy53aWR0aCxcbiAgICBoZWlnaHQ6IHJlY3RzLmZsb2F0aW5nLmhlaWdodFxuICB9IDogcmVjdHMucmVmZXJlbmNlO1xuICBjb25zdCBvZmZzZXRQYXJlbnQgPSBhd2FpdCAocGxhdGZvcm0yLmdldE9mZnNldFBhcmVudCA9PSBudWxsID8gdm9pZCAwIDogcGxhdGZvcm0yLmdldE9mZnNldFBhcmVudChlbGVtZW50cy5mbG9hdGluZykpO1xuICBjb25zdCBvZmZzZXRTY2FsZSA9IGF3YWl0IChwbGF0Zm9ybTIuaXNFbGVtZW50ID09IG51bGwgPyB2b2lkIDAgOiBwbGF0Zm9ybTIuaXNFbGVtZW50KG9mZnNldFBhcmVudCkpID8gYXdhaXQgKHBsYXRmb3JtMi5nZXRTY2FsZSA9PSBudWxsID8gdm9pZCAwIDogcGxhdGZvcm0yLmdldFNjYWxlKG9mZnNldFBhcmVudCkpIHx8IHtcbiAgICB4OiAxLFxuICAgIHk6IDFcbiAgfSA6IHtcbiAgICB4OiAxLFxuICAgIHk6IDFcbiAgfTtcbiAgY29uc3QgZWxlbWVudENsaWVudFJlY3QgPSByZWN0VG9DbGllbnRSZWN0KHBsYXRmb3JtMi5jb252ZXJ0T2Zmc2V0UGFyZW50UmVsYXRpdmVSZWN0VG9WaWV3cG9ydFJlbGF0aXZlUmVjdCA/IGF3YWl0IHBsYXRmb3JtMi5jb252ZXJ0T2Zmc2V0UGFyZW50UmVsYXRpdmVSZWN0VG9WaWV3cG9ydFJlbGF0aXZlUmVjdCh7XG4gICAgZWxlbWVudHMsXG4gICAgcmVjdCxcbiAgICBvZmZzZXRQYXJlbnQsXG4gICAgc3RyYXRlZ3lcbiAgfSkgOiByZWN0KTtcbiAgcmV0dXJuIHtcbiAgICB0b3A6IChjbGlwcGluZ0NsaWVudFJlY3QudG9wIC0gZWxlbWVudENsaWVudFJlY3QudG9wICsgcGFkZGluZ09iamVjdC50b3ApIC8gb2Zmc2V0U2NhbGUueSxcbiAgICBib3R0b206IChlbGVtZW50Q2xpZW50UmVjdC5ib3R0b20gLSBjbGlwcGluZ0NsaWVudFJlY3QuYm90dG9tICsgcGFkZGluZ09iamVjdC5ib3R0b20pIC8gb2Zmc2V0U2NhbGUueSxcbiAgICBsZWZ0OiAoY2xpcHBpbmdDbGllbnRSZWN0LmxlZnQgLSBlbGVtZW50Q2xpZW50UmVjdC5sZWZ0ICsgcGFkZGluZ09iamVjdC5sZWZ0KSAvIG9mZnNldFNjYWxlLngsXG4gICAgcmlnaHQ6IChlbGVtZW50Q2xpZW50UmVjdC5yaWdodCAtIGNsaXBwaW5nQ2xpZW50UmVjdC5yaWdodCArIHBhZGRpbmdPYmplY3QucmlnaHQpIC8gb2Zmc2V0U2NhbGUueFxuICB9O1xufVxuY29uc3QgZmxpcCQyID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG4gIHJldHVybiB7XG4gICAgbmFtZTogXCJmbGlwXCIsXG4gICAgb3B0aW9ucyxcbiAgICBhc3luYyBmbihzdGF0ZSkge1xuICAgICAgdmFyIF9taWRkbGV3YXJlRGF0YSRhcnJvdywgX21pZGRsZXdhcmVEYXRhJGZsaXA7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHBsYWNlbWVudCxcbiAgICAgICAgbWlkZGxld2FyZURhdGEsXG4gICAgICAgIHJlY3RzLFxuICAgICAgICBpbml0aWFsUGxhY2VtZW50LFxuICAgICAgICBwbGF0Zm9ybTogcGxhdGZvcm0yLFxuICAgICAgICBlbGVtZW50c1xuICAgICAgfSA9IHN0YXRlO1xuICAgICAgY29uc3Qge1xuICAgICAgICBtYWluQXhpczogY2hlY2tNYWluQXhpcyA9IHRydWUsXG4gICAgICAgIGNyb3NzQXhpczogY2hlY2tDcm9zc0F4aXMgPSB0cnVlLFxuICAgICAgICBmYWxsYmFja1BsYWNlbWVudHM6IHNwZWNpZmllZEZhbGxiYWNrUGxhY2VtZW50cyxcbiAgICAgICAgZmFsbGJhY2tTdHJhdGVneSA9IFwiYmVzdEZpdFwiLFxuICAgICAgICBmYWxsYmFja0F4aXNTaWRlRGlyZWN0aW9uID0gXCJub25lXCIsXG4gICAgICAgIGZsaXBBbGlnbm1lbnQgPSB0cnVlLFxuICAgICAgICAuLi5kZXRlY3RPdmVyZmxvd09wdGlvbnNcbiAgICAgIH0gPSBldmFsdWF0ZShvcHRpb25zLCBzdGF0ZSk7XG4gICAgICBpZiAoKF9taWRkbGV3YXJlRGF0YSRhcnJvdyA9IG1pZGRsZXdhcmVEYXRhLmFycm93KSAhPSBudWxsICYmIF9taWRkbGV3YXJlRGF0YSRhcnJvdy5hbGlnbm1lbnRPZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgICAgY29uc3Qgc2lkZSA9IGdldFNpZGUocGxhY2VtZW50KTtcbiAgICAgIGNvbnN0IGluaXRpYWxTaWRlQXhpcyA9IGdldFNpZGVBeGlzKGluaXRpYWxQbGFjZW1lbnQpO1xuICAgICAgY29uc3QgaXNCYXNlUGxhY2VtZW50ID0gZ2V0U2lkZShpbml0aWFsUGxhY2VtZW50KSA9PT0gaW5pdGlhbFBsYWNlbWVudDtcbiAgICAgIGNvbnN0IHJ0bCA9IGF3YWl0IChwbGF0Zm9ybTIuaXNSVEwgPT0gbnVsbCA/IHZvaWQgMCA6IHBsYXRmb3JtMi5pc1JUTChlbGVtZW50cy5mbG9hdGluZykpO1xuICAgICAgY29uc3QgZmFsbGJhY2tQbGFjZW1lbnRzID0gc3BlY2lmaWVkRmFsbGJhY2tQbGFjZW1lbnRzIHx8IChpc0Jhc2VQbGFjZW1lbnQgfHwgIWZsaXBBbGlnbm1lbnQgPyBbZ2V0T3Bwb3NpdGVQbGFjZW1lbnQoaW5pdGlhbFBsYWNlbWVudCldIDogZ2V0RXhwYW5kZWRQbGFjZW1lbnRzKGluaXRpYWxQbGFjZW1lbnQpKTtcbiAgICAgIGNvbnN0IGhhc0ZhbGxiYWNrQXhpc1NpZGVEaXJlY3Rpb24gPSBmYWxsYmFja0F4aXNTaWRlRGlyZWN0aW9uICE9PSBcIm5vbmVcIjtcbiAgICAgIGlmICghc3BlY2lmaWVkRmFsbGJhY2tQbGFjZW1lbnRzICYmIGhhc0ZhbGxiYWNrQXhpc1NpZGVEaXJlY3Rpb24pIHtcbiAgICAgICAgZmFsbGJhY2tQbGFjZW1lbnRzLnB1c2goLi4uZ2V0T3Bwb3NpdGVBeGlzUGxhY2VtZW50cyhpbml0aWFsUGxhY2VtZW50LCBmbGlwQWxpZ25tZW50LCBmYWxsYmFja0F4aXNTaWRlRGlyZWN0aW9uLCBydGwpKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBsYWNlbWVudHMgPSBbaW5pdGlhbFBsYWNlbWVudCwgLi4uZmFsbGJhY2tQbGFjZW1lbnRzXTtcbiAgICAgIGNvbnN0IG92ZXJmbG93ID0gYXdhaXQgZGV0ZWN0T3ZlcmZsb3ckMShzdGF0ZSwgZGV0ZWN0T3ZlcmZsb3dPcHRpb25zKTtcbiAgICAgIGNvbnN0IG92ZXJmbG93cyA9IFtdO1xuICAgICAgbGV0IG92ZXJmbG93c0RhdGEgPSAoKF9taWRkbGV3YXJlRGF0YSRmbGlwID0gbWlkZGxld2FyZURhdGEuZmxpcCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9taWRkbGV3YXJlRGF0YSRmbGlwLm92ZXJmbG93cykgfHwgW107XG4gICAgICBpZiAoY2hlY2tNYWluQXhpcykge1xuICAgICAgICBvdmVyZmxvd3MucHVzaChvdmVyZmxvd1tzaWRlXSk7XG4gICAgICB9XG4gICAgICBpZiAoY2hlY2tDcm9zc0F4aXMpIHtcbiAgICAgICAgY29uc3Qgc2lkZXMgPSBnZXRBbGlnbm1lbnRTaWRlcyhwbGFjZW1lbnQsIHJlY3RzLCBydGwpO1xuICAgICAgICBvdmVyZmxvd3MucHVzaChvdmVyZmxvd1tzaWRlc1swXV0sIG92ZXJmbG93W3NpZGVzWzFdXSk7XG4gICAgICB9XG4gICAgICBvdmVyZmxvd3NEYXRhID0gWy4uLm92ZXJmbG93c0RhdGEsIHtcbiAgICAgICAgcGxhY2VtZW50LFxuICAgICAgICBvdmVyZmxvd3NcbiAgICAgIH1dO1xuICAgICAgaWYgKCFvdmVyZmxvd3MuZXZlcnkoKHNpZGUyKSA9PiBzaWRlMiA8PSAwKSkge1xuICAgICAgICB2YXIgX21pZGRsZXdhcmVEYXRhJGZsaXAyLCBfb3ZlcmZsb3dzRGF0YSRmaWx0ZXI7XG4gICAgICAgIGNvbnN0IG5leHRJbmRleCA9ICgoKF9taWRkbGV3YXJlRGF0YSRmbGlwMiA9IG1pZGRsZXdhcmVEYXRhLmZsaXApID09IG51bGwgPyB2b2lkIDAgOiBfbWlkZGxld2FyZURhdGEkZmxpcDIuaW5kZXgpIHx8IDApICsgMTtcbiAgICAgICAgY29uc3QgbmV4dFBsYWNlbWVudCA9IHBsYWNlbWVudHNbbmV4dEluZGV4XTtcbiAgICAgICAgaWYgKG5leHRQbGFjZW1lbnQpIHtcbiAgICAgICAgICB2YXIgX292ZXJmbG93c0RhdGEkO1xuICAgICAgICAgIGNvbnN0IGlnbm9yZUNyb3NzQXhpc092ZXJmbG93ID0gY2hlY2tDcm9zc0F4aXMgPT09IFwiYWxpZ25tZW50XCIgPyBpbml0aWFsU2lkZUF4aXMgIT09IGdldFNpZGVBeGlzKG5leHRQbGFjZW1lbnQpIDogZmFsc2U7XG4gICAgICAgICAgY29uc3QgaGFzSW5pdGlhbE1haW5BeGlzT3ZlcmZsb3cgPSAoKF9vdmVyZmxvd3NEYXRhJCA9IG92ZXJmbG93c0RhdGFbMF0pID09IG51bGwgPyB2b2lkIDAgOiBfb3ZlcmZsb3dzRGF0YSQub3ZlcmZsb3dzWzBdKSA+IDA7XG4gICAgICAgICAgaWYgKCFpZ25vcmVDcm9zc0F4aXNPdmVyZmxvdyB8fCBoYXNJbml0aWFsTWFpbkF4aXNPdmVyZmxvdykge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGluZGV4OiBuZXh0SW5kZXgsXG4gICAgICAgICAgICAgICAgb3ZlcmZsb3dzOiBvdmVyZmxvd3NEYXRhXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHJlc2V0OiB7XG4gICAgICAgICAgICAgICAgcGxhY2VtZW50OiBuZXh0UGxhY2VtZW50XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCByZXNldFBsYWNlbWVudCA9IChfb3ZlcmZsb3dzRGF0YSRmaWx0ZXIgPSBvdmVyZmxvd3NEYXRhLmZpbHRlcigoZDIpID0+IGQyLm92ZXJmbG93c1swXSA8PSAwKS5zb3J0KChhMywgYjIpID0+IGEzLm92ZXJmbG93c1sxXSAtIGIyLm92ZXJmbG93c1sxXSlbMF0pID09IG51bGwgPyB2b2lkIDAgOiBfb3ZlcmZsb3dzRGF0YSRmaWx0ZXIucGxhY2VtZW50O1xuICAgICAgICBpZiAoIXJlc2V0UGxhY2VtZW50KSB7XG4gICAgICAgICAgc3dpdGNoIChmYWxsYmFja1N0cmF0ZWd5KSB7XG4gICAgICAgICAgICBjYXNlIFwiYmVzdEZpdFwiOiB7XG4gICAgICAgICAgICAgIHZhciBfb3ZlcmZsb3dzRGF0YSRmaWx0ZXIyO1xuICAgICAgICAgICAgICBjb25zdCBwbGFjZW1lbnQyID0gKF9vdmVyZmxvd3NEYXRhJGZpbHRlcjIgPSBvdmVyZmxvd3NEYXRhLmZpbHRlcigoZDIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaGFzRmFsbGJhY2tBeGlzU2lkZURpcmVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFNpZGVBeGlzID0gZ2V0U2lkZUF4aXMoZDIucGxhY2VtZW50KTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50U2lkZUF4aXMgPT09IGluaXRpYWxTaWRlQXhpcyB8fCAvLyBDcmVhdGUgYSBiaWFzIHRvIHRoZSBgeWAgc2lkZSBheGlzIGR1ZSB0byBob3Jpem9udGFsXG4gICAgICAgICAgICAgICAgICAvLyByZWFkaW5nIGRpcmVjdGlvbnMgZmF2b3JpbmcgZ3JlYXRlciB3aWR0aC5cbiAgICAgICAgICAgICAgICAgIGN1cnJlbnRTaWRlQXhpcyA9PT0gXCJ5XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICB9KS5tYXAoKGQyKSA9PiBbZDIucGxhY2VtZW50LCBkMi5vdmVyZmxvd3MuZmlsdGVyKChvdmVyZmxvdzIpID0+IG92ZXJmbG93MiA+IDApLnJlZHVjZSgoYWNjLCBvdmVyZmxvdzIpID0+IGFjYyArIG92ZXJmbG93MiwgMCldKS5zb3J0KChhMywgYjIpID0+IGEzWzFdIC0gYjJbMV0pWzBdKSA9PSBudWxsID8gdm9pZCAwIDogX292ZXJmbG93c0RhdGEkZmlsdGVyMlswXTtcbiAgICAgICAgICAgICAgaWYgKHBsYWNlbWVudDIpIHtcbiAgICAgICAgICAgICAgICByZXNldFBsYWNlbWVudCA9IHBsYWNlbWVudDI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW5pdGlhbFBsYWNlbWVudFwiOlxuICAgICAgICAgICAgICByZXNldFBsYWNlbWVudCA9IGluaXRpYWxQbGFjZW1lbnQ7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocGxhY2VtZW50ICE9PSByZXNldFBsYWNlbWVudCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXNldDoge1xuICAgICAgICAgICAgICBwbGFjZW1lbnQ6IHJlc2V0UGxhY2VtZW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgfTtcbn07XG5hc3luYyBmdW5jdGlvbiBjb252ZXJ0VmFsdWVUb0Nvb3JkcyhzdGF0ZSwgb3B0aW9ucykge1xuICBjb25zdCB7XG4gICAgcGxhY2VtZW50LFxuICAgIHBsYXRmb3JtOiBwbGF0Zm9ybTIsXG4gICAgZWxlbWVudHNcbiAgfSA9IHN0YXRlO1xuICBjb25zdCBydGwgPSBhd2FpdCAocGxhdGZvcm0yLmlzUlRMID09IG51bGwgPyB2b2lkIDAgOiBwbGF0Zm9ybTIuaXNSVEwoZWxlbWVudHMuZmxvYXRpbmcpKTtcbiAgY29uc3Qgc2lkZSA9IGdldFNpZGUocGxhY2VtZW50KTtcbiAgY29uc3QgYWxpZ25tZW50ID0gZ2V0QWxpZ25tZW50KHBsYWNlbWVudCk7XG4gIGNvbnN0IGlzVmVydGljYWwgPSBnZXRTaWRlQXhpcyhwbGFjZW1lbnQpID09PSBcInlcIjtcbiAgY29uc3QgbWFpbkF4aXNNdWx0aSA9IFtcImxlZnRcIiwgXCJ0b3BcIl0uaW5jbHVkZXMoc2lkZSkgPyAtMSA6IDE7XG4gIGNvbnN0IGNyb3NzQXhpc011bHRpID0gcnRsICYmIGlzVmVydGljYWwgPyAtMSA6IDE7XG4gIGNvbnN0IHJhd1ZhbHVlID0gZXZhbHVhdGUob3B0aW9ucywgc3RhdGUpO1xuICBsZXQge1xuICAgIG1haW5BeGlzLFxuICAgIGNyb3NzQXhpcyxcbiAgICBhbGlnbm1lbnRBeGlzXG4gIH0gPSB0eXBlb2YgcmF3VmFsdWUgPT09IFwibnVtYmVyXCIgPyB7XG4gICAgbWFpbkF4aXM6IHJhd1ZhbHVlLFxuICAgIGNyb3NzQXhpczogMCxcbiAgICBhbGlnbm1lbnRBeGlzOiBudWxsXG4gIH0gOiB7XG4gICAgbWFpbkF4aXM6IHJhd1ZhbHVlLm1haW5BeGlzIHx8IDAsXG4gICAgY3Jvc3NBeGlzOiByYXdWYWx1ZS5jcm9zc0F4aXMgfHwgMCxcbiAgICBhbGlnbm1lbnRBeGlzOiByYXdWYWx1ZS5hbGlnbm1lbnRBeGlzXG4gIH07XG4gIGlmIChhbGlnbm1lbnQgJiYgdHlwZW9mIGFsaWdubWVudEF4aXMgPT09IFwibnVtYmVyXCIpIHtcbiAgICBjcm9zc0F4aXMgPSBhbGlnbm1lbnQgPT09IFwiZW5kXCIgPyBhbGlnbm1lbnRBeGlzICogLTEgOiBhbGlnbm1lbnRBeGlzO1xuICB9XG4gIHJldHVybiBpc1ZlcnRpY2FsID8ge1xuICAgIHg6IGNyb3NzQXhpcyAqIGNyb3NzQXhpc011bHRpLFxuICAgIHk6IG1haW5BeGlzICogbWFpbkF4aXNNdWx0aVxuICB9IDoge1xuICAgIHg6IG1haW5BeGlzICogbWFpbkF4aXNNdWx0aSxcbiAgICB5OiBjcm9zc0F4aXMgKiBjcm9zc0F4aXNNdWx0aVxuICB9O1xufVxuY29uc3Qgb2Zmc2V0JDIgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0gMDtcbiAgfVxuICByZXR1cm4ge1xuICAgIG5hbWU6IFwib2Zmc2V0XCIsXG4gICAgb3B0aW9ucyxcbiAgICBhc3luYyBmbihzdGF0ZSkge1xuICAgICAgdmFyIF9taWRkbGV3YXJlRGF0YSRvZmZzZSwgX21pZGRsZXdhcmVEYXRhJGFycm93O1xuICAgICAgY29uc3Qge1xuICAgICAgICB4OiB4MixcbiAgICAgICAgeTogeTIsXG4gICAgICAgIHBsYWNlbWVudCxcbiAgICAgICAgbWlkZGxld2FyZURhdGFcbiAgICAgIH0gPSBzdGF0ZTtcbiAgICAgIGNvbnN0IGRpZmZDb29yZHMgPSBhd2FpdCBjb252ZXJ0VmFsdWVUb0Nvb3JkcyhzdGF0ZSwgb3B0aW9ucyk7XG4gICAgICBpZiAocGxhY2VtZW50ID09PSAoKF9taWRkbGV3YXJlRGF0YSRvZmZzZSA9IG1pZGRsZXdhcmVEYXRhLm9mZnNldCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9taWRkbGV3YXJlRGF0YSRvZmZzZS5wbGFjZW1lbnQpICYmIChfbWlkZGxld2FyZURhdGEkYXJyb3cgPSBtaWRkbGV3YXJlRGF0YS5hcnJvdykgIT0gbnVsbCAmJiBfbWlkZGxld2FyZURhdGEkYXJyb3cuYWxpZ25tZW50T2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHg6IHgyICsgZGlmZkNvb3Jkcy54LFxuICAgICAgICB5OiB5MiArIGRpZmZDb29yZHMueSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIC4uLmRpZmZDb29yZHMsXG4gICAgICAgICAgcGxhY2VtZW50XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9O1xufTtcbmNvbnN0IHNoaWZ0JDIgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiBcInNoaWZ0XCIsXG4gICAgb3B0aW9ucyxcbiAgICBhc3luYyBmbihzdGF0ZSkge1xuICAgICAgY29uc3Qge1xuICAgICAgICB4OiB4MixcbiAgICAgICAgeTogeTIsXG4gICAgICAgIHBsYWNlbWVudFxuICAgICAgfSA9IHN0YXRlO1xuICAgICAgY29uc3Qge1xuICAgICAgICBtYWluQXhpczogY2hlY2tNYWluQXhpcyA9IHRydWUsXG4gICAgICAgIGNyb3NzQXhpczogY2hlY2tDcm9zc0F4aXMgPSBmYWxzZSxcbiAgICAgICAgbGltaXRlciA9IHtcbiAgICAgICAgICBmbjogKF9yZWYpID0+IHtcbiAgICAgICAgICAgIGxldCB7XG4gICAgICAgICAgICAgIHg6IHgzLFxuICAgICAgICAgICAgICB5OiB5M1xuICAgICAgICAgICAgfSA9IF9yZWY7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICB4OiB4MyxcbiAgICAgICAgICAgICAgeTogeTNcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAuLi5kZXRlY3RPdmVyZmxvd09wdGlvbnNcbiAgICAgIH0gPSBldmFsdWF0ZShvcHRpb25zLCBzdGF0ZSk7XG4gICAgICBjb25zdCBjb29yZHMgPSB7XG4gICAgICAgIHg6IHgyLFxuICAgICAgICB5OiB5MlxuICAgICAgfTtcbiAgICAgIGNvbnN0IG92ZXJmbG93ID0gYXdhaXQgZGV0ZWN0T3ZlcmZsb3ckMShzdGF0ZSwgZGV0ZWN0T3ZlcmZsb3dPcHRpb25zKTtcbiAgICAgIGNvbnN0IGNyb3NzQXhpcyA9IGdldFNpZGVBeGlzKGdldFNpZGUocGxhY2VtZW50KSk7XG4gICAgICBjb25zdCBtYWluQXhpcyA9IGdldE9wcG9zaXRlQXhpcyhjcm9zc0F4aXMpO1xuICAgICAgbGV0IG1haW5BeGlzQ29vcmQgPSBjb29yZHNbbWFpbkF4aXNdO1xuICAgICAgbGV0IGNyb3NzQXhpc0Nvb3JkID0gY29vcmRzW2Nyb3NzQXhpc107XG4gICAgICBpZiAoY2hlY2tNYWluQXhpcykge1xuICAgICAgICBjb25zdCBtaW5TaWRlID0gbWFpbkF4aXMgPT09IFwieVwiID8gXCJ0b3BcIiA6IFwibGVmdFwiO1xuICAgICAgICBjb25zdCBtYXhTaWRlID0gbWFpbkF4aXMgPT09IFwieVwiID8gXCJib3R0b21cIiA6IFwicmlnaHRcIjtcbiAgICAgICAgY29uc3QgbWluMiA9IG1haW5BeGlzQ29vcmQgKyBvdmVyZmxvd1ttaW5TaWRlXTtcbiAgICAgICAgY29uc3QgbWF4MiA9IG1haW5BeGlzQ29vcmQgLSBvdmVyZmxvd1ttYXhTaWRlXTtcbiAgICAgICAgbWFpbkF4aXNDb29yZCA9IGNsYW1wKG1pbjIsIG1haW5BeGlzQ29vcmQsIG1heDIpO1xuICAgICAgfVxuICAgICAgaWYgKGNoZWNrQ3Jvc3NBeGlzKSB7XG4gICAgICAgIGNvbnN0IG1pblNpZGUgPSBjcm9zc0F4aXMgPT09IFwieVwiID8gXCJ0b3BcIiA6IFwibGVmdFwiO1xuICAgICAgICBjb25zdCBtYXhTaWRlID0gY3Jvc3NBeGlzID09PSBcInlcIiA/IFwiYm90dG9tXCIgOiBcInJpZ2h0XCI7XG4gICAgICAgIGNvbnN0IG1pbjIgPSBjcm9zc0F4aXNDb29yZCArIG92ZXJmbG93W21pblNpZGVdO1xuICAgICAgICBjb25zdCBtYXgyID0gY3Jvc3NBeGlzQ29vcmQgLSBvdmVyZmxvd1ttYXhTaWRlXTtcbiAgICAgICAgY3Jvc3NBeGlzQ29vcmQgPSBjbGFtcChtaW4yLCBjcm9zc0F4aXNDb29yZCwgbWF4Mik7XG4gICAgICB9XG4gICAgICBjb25zdCBsaW1pdGVkQ29vcmRzID0gbGltaXRlci5mbih7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBbbWFpbkF4aXNdOiBtYWluQXhpc0Nvb3JkLFxuICAgICAgICBbY3Jvc3NBeGlzXTogY3Jvc3NBeGlzQ29vcmRcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ubGltaXRlZENvb3JkcyxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHg6IGxpbWl0ZWRDb29yZHMueCAtIHgyLFxuICAgICAgICAgIHk6IGxpbWl0ZWRDb29yZHMueSAtIHkyLFxuICAgICAgICAgIGVuYWJsZWQ6IHtcbiAgICAgICAgICAgIFttYWluQXhpc106IGNoZWNrTWFpbkF4aXMsXG4gICAgICAgICAgICBbY3Jvc3NBeGlzXTogY2hlY2tDcm9zc0F4aXNcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9O1xufTtcbmNvbnN0IHNpemUkMiA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuICByZXR1cm4ge1xuICAgIG5hbWU6IFwic2l6ZVwiLFxuICAgIG9wdGlvbnMsXG4gICAgYXN5bmMgZm4oc3RhdGUpIHtcbiAgICAgIHZhciBfc3RhdGUkbWlkZGxld2FyZURhdGEsIF9zdGF0ZSRtaWRkbGV3YXJlRGF0YTI7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHBsYWNlbWVudCxcbiAgICAgICAgcmVjdHMsXG4gICAgICAgIHBsYXRmb3JtOiBwbGF0Zm9ybTIsXG4gICAgICAgIGVsZW1lbnRzXG4gICAgICB9ID0gc3RhdGU7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGFwcGx5ID0gKCkgPT4ge1xuICAgICAgICB9LFxuICAgICAgICAuLi5kZXRlY3RPdmVyZmxvd09wdGlvbnNcbiAgICAgIH0gPSBldmFsdWF0ZShvcHRpb25zLCBzdGF0ZSk7XG4gICAgICBjb25zdCBvdmVyZmxvdyA9IGF3YWl0IGRldGVjdE92ZXJmbG93JDEoc3RhdGUsIGRldGVjdE92ZXJmbG93T3B0aW9ucyk7XG4gICAgICBjb25zdCBzaWRlID0gZ2V0U2lkZShwbGFjZW1lbnQpO1xuICAgICAgY29uc3QgYWxpZ25tZW50ID0gZ2V0QWxpZ25tZW50KHBsYWNlbWVudCk7XG4gICAgICBjb25zdCBpc1lBeGlzID0gZ2V0U2lkZUF4aXMocGxhY2VtZW50KSA9PT0gXCJ5XCI7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHdpZHRoLFxuICAgICAgICBoZWlnaHRcbiAgICAgIH0gPSByZWN0cy5mbG9hdGluZztcbiAgICAgIGxldCBoZWlnaHRTaWRlO1xuICAgICAgbGV0IHdpZHRoU2lkZTtcbiAgICAgIGlmIChzaWRlID09PSBcInRvcFwiIHx8IHNpZGUgPT09IFwiYm90dG9tXCIpIHtcbiAgICAgICAgaGVpZ2h0U2lkZSA9IHNpZGU7XG4gICAgICAgIHdpZHRoU2lkZSA9IGFsaWdubWVudCA9PT0gKGF3YWl0IChwbGF0Zm9ybTIuaXNSVEwgPT0gbnVsbCA/IHZvaWQgMCA6IHBsYXRmb3JtMi5pc1JUTChlbGVtZW50cy5mbG9hdGluZykpID8gXCJzdGFydFwiIDogXCJlbmRcIikgPyBcImxlZnRcIiA6IFwicmlnaHRcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpZHRoU2lkZSA9IHNpZGU7XG4gICAgICAgIGhlaWdodFNpZGUgPSBhbGlnbm1lbnQgPT09IFwiZW5kXCIgPyBcInRvcFwiIDogXCJib3R0b21cIjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG1heGltdW1DbGlwcGluZ0hlaWdodCA9IGhlaWdodCAtIG92ZXJmbG93LnRvcCAtIG92ZXJmbG93LmJvdHRvbTtcbiAgICAgIGNvbnN0IG1heGltdW1DbGlwcGluZ1dpZHRoID0gd2lkdGggLSBvdmVyZmxvdy5sZWZ0IC0gb3ZlcmZsb3cucmlnaHQ7XG4gICAgICBjb25zdCBvdmVyZmxvd0F2YWlsYWJsZUhlaWdodCA9IG1pbihoZWlnaHQgLSBvdmVyZmxvd1toZWlnaHRTaWRlXSwgbWF4aW11bUNsaXBwaW5nSGVpZ2h0KTtcbiAgICAgIGNvbnN0IG92ZXJmbG93QXZhaWxhYmxlV2lkdGggPSBtaW4od2lkdGggLSBvdmVyZmxvd1t3aWR0aFNpZGVdLCBtYXhpbXVtQ2xpcHBpbmdXaWR0aCk7XG4gICAgICBjb25zdCBub1NoaWZ0ID0gIXN0YXRlLm1pZGRsZXdhcmVEYXRhLnNoaWZ0O1xuICAgICAgbGV0IGF2YWlsYWJsZUhlaWdodCA9IG92ZXJmbG93QXZhaWxhYmxlSGVpZ2h0O1xuICAgICAgbGV0IGF2YWlsYWJsZVdpZHRoID0gb3ZlcmZsb3dBdmFpbGFibGVXaWR0aDtcbiAgICAgIGlmICgoX3N0YXRlJG1pZGRsZXdhcmVEYXRhID0gc3RhdGUubWlkZGxld2FyZURhdGEuc2hpZnQpICE9IG51bGwgJiYgX3N0YXRlJG1pZGRsZXdhcmVEYXRhLmVuYWJsZWQueCkge1xuICAgICAgICBhdmFpbGFibGVXaWR0aCA9IG1heGltdW1DbGlwcGluZ1dpZHRoO1xuICAgICAgfVxuICAgICAgaWYgKChfc3RhdGUkbWlkZGxld2FyZURhdGEyID0gc3RhdGUubWlkZGxld2FyZURhdGEuc2hpZnQpICE9IG51bGwgJiYgX3N0YXRlJG1pZGRsZXdhcmVEYXRhMi5lbmFibGVkLnkpIHtcbiAgICAgICAgYXZhaWxhYmxlSGVpZ2h0ID0gbWF4aW11bUNsaXBwaW5nSGVpZ2h0O1xuICAgICAgfVxuICAgICAgaWYgKG5vU2hpZnQgJiYgIWFsaWdubWVudCkge1xuICAgICAgICBjb25zdCB4TWluID0gbWF4KG92ZXJmbG93LmxlZnQsIDApO1xuICAgICAgICBjb25zdCB4TWF4ID0gbWF4KG92ZXJmbG93LnJpZ2h0LCAwKTtcbiAgICAgICAgY29uc3QgeU1pbiA9IG1heChvdmVyZmxvdy50b3AsIDApO1xuICAgICAgICBjb25zdCB5TWF4ID0gbWF4KG92ZXJmbG93LmJvdHRvbSwgMCk7XG4gICAgICAgIGlmIChpc1lBeGlzKSB7XG4gICAgICAgICAgYXZhaWxhYmxlV2lkdGggPSB3aWR0aCAtIDIgKiAoeE1pbiAhPT0gMCB8fCB4TWF4ICE9PSAwID8geE1pbiArIHhNYXggOiBtYXgob3ZlcmZsb3cubGVmdCwgb3ZlcmZsb3cucmlnaHQpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhdmFpbGFibGVIZWlnaHQgPSBoZWlnaHQgLSAyICogKHlNaW4gIT09IDAgfHwgeU1heCAhPT0gMCA/IHlNaW4gKyB5TWF4IDogbWF4KG92ZXJmbG93LnRvcCwgb3ZlcmZsb3cuYm90dG9tKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGF3YWl0IGFwcGx5KHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGF2YWlsYWJsZVdpZHRoLFxuICAgICAgICBhdmFpbGFibGVIZWlnaHRcbiAgICAgIH0pO1xuICAgICAgY29uc3QgbmV4dERpbWVuc2lvbnMgPSBhd2FpdCBwbGF0Zm9ybTIuZ2V0RGltZW5zaW9ucyhlbGVtZW50cy5mbG9hdGluZyk7XG4gICAgICBpZiAod2lkdGggIT09IG5leHREaW1lbnNpb25zLndpZHRoIHx8IGhlaWdodCAhPT0gbmV4dERpbWVuc2lvbnMuaGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcmVzZXQ6IHtcbiAgICAgICAgICAgIHJlY3RzOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgfTtcbn07XG5mdW5jdGlvbiBnZXRDc3NEaW1lbnNpb25zKGVsZW1lbnQpIHtcbiAgY29uc3QgY3NzID0gZ2V0Q29tcHV0ZWRTdHlsZSQxKGVsZW1lbnQpO1xuICBsZXQgd2lkdGggPSBwYXJzZUZsb2F0KGNzcy53aWR0aCkgfHwgMDtcbiAgbGV0IGhlaWdodCA9IHBhcnNlRmxvYXQoY3NzLmhlaWdodCkgfHwgMDtcbiAgY29uc3QgaGFzT2Zmc2V0ID0gaXNIVE1MRWxlbWVudChlbGVtZW50KTtcbiAgY29uc3Qgb2Zmc2V0V2lkdGggPSBoYXNPZmZzZXQgPyBlbGVtZW50Lm9mZnNldFdpZHRoIDogd2lkdGg7XG4gIGNvbnN0IG9mZnNldEhlaWdodCA9IGhhc09mZnNldCA/IGVsZW1lbnQub2Zmc2V0SGVpZ2h0IDogaGVpZ2h0O1xuICBjb25zdCBzaG91bGRGYWxsYmFjayA9IHJvdW5kKHdpZHRoKSAhPT0gb2Zmc2V0V2lkdGggfHwgcm91bmQoaGVpZ2h0KSAhPT0gb2Zmc2V0SGVpZ2h0O1xuICBpZiAoc2hvdWxkRmFsbGJhY2spIHtcbiAgICB3aWR0aCA9IG9mZnNldFdpZHRoO1xuICAgIGhlaWdodCA9IG9mZnNldEhlaWdodDtcbiAgfVxuICByZXR1cm4ge1xuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICAkOiBzaG91bGRGYWxsYmFja1xuICB9O1xufVxuZnVuY3Rpb24gdW53cmFwRWxlbWVudChlbGVtZW50KSB7XG4gIHJldHVybiAhaXNFbGVtZW50KGVsZW1lbnQpID8gZWxlbWVudC5jb250ZXh0RWxlbWVudCA6IGVsZW1lbnQ7XG59XG5mdW5jdGlvbiBnZXRTY2FsZShlbGVtZW50KSB7XG4gIGNvbnN0IGRvbUVsZW1lbnQgPSB1bndyYXBFbGVtZW50KGVsZW1lbnQpO1xuICBpZiAoIWlzSFRNTEVsZW1lbnQoZG9tRWxlbWVudCkpIHtcbiAgICByZXR1cm4gY3JlYXRlQ29vcmRzKDEpO1xuICB9XG4gIGNvbnN0IHJlY3QgPSBkb21FbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBjb25zdCB7XG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgICQ6ICQyXG4gIH0gPSBnZXRDc3NEaW1lbnNpb25zKGRvbUVsZW1lbnQpO1xuICBsZXQgeDIgPSAoJDIgPyByb3VuZChyZWN0LndpZHRoKSA6IHJlY3Qud2lkdGgpIC8gd2lkdGg7XG4gIGxldCB5MiA9ICgkMiA/IHJvdW5kKHJlY3QuaGVpZ2h0KSA6IHJlY3QuaGVpZ2h0KSAvIGhlaWdodDtcbiAgaWYgKCF4MiB8fCAhTnVtYmVyLmlzRmluaXRlKHgyKSkge1xuICAgIHgyID0gMTtcbiAgfVxuICBpZiAoIXkyIHx8ICFOdW1iZXIuaXNGaW5pdGUoeTIpKSB7XG4gICAgeTIgPSAxO1xuICB9XG4gIHJldHVybiB7XG4gICAgeDogeDIsXG4gICAgeTogeTJcbiAgfTtcbn1cbmNvbnN0IG5vT2Zmc2V0cyA9IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVDb29yZHMoMCk7XG5mdW5jdGlvbiBnZXRWaXN1YWxPZmZzZXRzKGVsZW1lbnQpIHtcbiAgY29uc3Qgd2luID0gZ2V0V2luZG93KGVsZW1lbnQpO1xuICBpZiAoIWlzV2ViS2l0KCkgfHwgIXdpbi52aXN1YWxWaWV3cG9ydCkge1xuICAgIHJldHVybiBub09mZnNldHM7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB4OiB3aW4udmlzdWFsVmlld3BvcnQub2Zmc2V0TGVmdCxcbiAgICB5OiB3aW4udmlzdWFsVmlld3BvcnQub2Zmc2V0VG9wXG4gIH07XG59XG5mdW5jdGlvbiBzaG91bGRBZGRWaXN1YWxPZmZzZXRzKGVsZW1lbnQsIGlzRml4ZWQsIGZsb2F0aW5nT2Zmc2V0UGFyZW50KSB7XG4gIGlmIChpc0ZpeGVkID09PSB2b2lkIDApIHtcbiAgICBpc0ZpeGVkID0gZmFsc2U7XG4gIH1cbiAgaWYgKCFmbG9hdGluZ09mZnNldFBhcmVudCB8fCBpc0ZpeGVkICYmIGZsb2F0aW5nT2Zmc2V0UGFyZW50ICE9PSBnZXRXaW5kb3coZWxlbWVudCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIGlzRml4ZWQ7XG59XG5mdW5jdGlvbiBnZXRCb3VuZGluZ0NsaWVudFJlY3QoZWxlbWVudCwgaW5jbHVkZVNjYWxlLCBpc0ZpeGVkU3RyYXRlZ3ksIG9mZnNldFBhcmVudCkge1xuICBpZiAoaW5jbHVkZVNjYWxlID09PSB2b2lkIDApIHtcbiAgICBpbmNsdWRlU2NhbGUgPSBmYWxzZTtcbiAgfVxuICBpZiAoaXNGaXhlZFN0cmF0ZWd5ID09PSB2b2lkIDApIHtcbiAgICBpc0ZpeGVkU3RyYXRlZ3kgPSBmYWxzZTtcbiAgfVxuICBjb25zdCBjbGllbnRSZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgY29uc3QgZG9tRWxlbWVudCA9IHVud3JhcEVsZW1lbnQoZWxlbWVudCk7XG4gIGxldCBzY2FsZSA9IGNyZWF0ZUNvb3JkcygxKTtcbiAgaWYgKGluY2x1ZGVTY2FsZSkge1xuICAgIGlmIChvZmZzZXRQYXJlbnQpIHtcbiAgICAgIGlmIChpc0VsZW1lbnQob2Zmc2V0UGFyZW50KSkge1xuICAgICAgICBzY2FsZSA9IGdldFNjYWxlKG9mZnNldFBhcmVudCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNjYWxlID0gZ2V0U2NhbGUoZWxlbWVudCk7XG4gICAgfVxuICB9XG4gIGNvbnN0IHZpc3VhbE9mZnNldHMgPSBzaG91bGRBZGRWaXN1YWxPZmZzZXRzKGRvbUVsZW1lbnQsIGlzRml4ZWRTdHJhdGVneSwgb2Zmc2V0UGFyZW50KSA/IGdldFZpc3VhbE9mZnNldHMoZG9tRWxlbWVudCkgOiBjcmVhdGVDb29yZHMoMCk7XG4gIGxldCB4MiA9IChjbGllbnRSZWN0LmxlZnQgKyB2aXN1YWxPZmZzZXRzLngpIC8gc2NhbGUueDtcbiAgbGV0IHkyID0gKGNsaWVudFJlY3QudG9wICsgdmlzdWFsT2Zmc2V0cy55KSAvIHNjYWxlLnk7XG4gIGxldCB3aWR0aCA9IGNsaWVudFJlY3Qud2lkdGggLyBzY2FsZS54O1xuICBsZXQgaGVpZ2h0ID0gY2xpZW50UmVjdC5oZWlnaHQgLyBzY2FsZS55O1xuICBpZiAoZG9tRWxlbWVudCkge1xuICAgIGNvbnN0IHdpbiA9IGdldFdpbmRvdyhkb21FbGVtZW50KTtcbiAgICBjb25zdCBvZmZzZXRXaW4gPSBvZmZzZXRQYXJlbnQgJiYgaXNFbGVtZW50KG9mZnNldFBhcmVudCkgPyBnZXRXaW5kb3cob2Zmc2V0UGFyZW50KSA6IG9mZnNldFBhcmVudDtcbiAgICBsZXQgY3VycmVudFdpbiA9IHdpbjtcbiAgICBsZXQgY3VycmVudElGcmFtZSA9IGdldEZyYW1lRWxlbWVudChjdXJyZW50V2luKTtcbiAgICB3aGlsZSAoY3VycmVudElGcmFtZSAmJiBvZmZzZXRQYXJlbnQgJiYgb2Zmc2V0V2luICE9PSBjdXJyZW50V2luKSB7XG4gICAgICBjb25zdCBpZnJhbWVTY2FsZSA9IGdldFNjYWxlKGN1cnJlbnRJRnJhbWUpO1xuICAgICAgY29uc3QgaWZyYW1lUmVjdCA9IGN1cnJlbnRJRnJhbWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBjb25zdCBjc3MgPSBnZXRDb21wdXRlZFN0eWxlJDEoY3VycmVudElGcmFtZSk7XG4gICAgICBjb25zdCBsZWZ0ID0gaWZyYW1lUmVjdC5sZWZ0ICsgKGN1cnJlbnRJRnJhbWUuY2xpZW50TGVmdCArIHBhcnNlRmxvYXQoY3NzLnBhZGRpbmdMZWZ0KSkgKiBpZnJhbWVTY2FsZS54O1xuICAgICAgY29uc3QgdG9wID0gaWZyYW1lUmVjdC50b3AgKyAoY3VycmVudElGcmFtZS5jbGllbnRUb3AgKyBwYXJzZUZsb2F0KGNzcy5wYWRkaW5nVG9wKSkgKiBpZnJhbWVTY2FsZS55O1xuICAgICAgeDIgKj0gaWZyYW1lU2NhbGUueDtcbiAgICAgIHkyICo9IGlmcmFtZVNjYWxlLnk7XG4gICAgICB3aWR0aCAqPSBpZnJhbWVTY2FsZS54O1xuICAgICAgaGVpZ2h0ICo9IGlmcmFtZVNjYWxlLnk7XG4gICAgICB4MiArPSBsZWZ0O1xuICAgICAgeTIgKz0gdG9wO1xuICAgICAgY3VycmVudFdpbiA9IGdldFdpbmRvdyhjdXJyZW50SUZyYW1lKTtcbiAgICAgIGN1cnJlbnRJRnJhbWUgPSBnZXRGcmFtZUVsZW1lbnQoY3VycmVudFdpbik7XG4gICAgfVxuICB9XG4gIHJldHVybiByZWN0VG9DbGllbnRSZWN0KHtcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgeDogeDIsXG4gICAgeTogeTJcbiAgfSk7XG59XG5mdW5jdGlvbiBnZXRXaW5kb3dTY3JvbGxCYXJYKGVsZW1lbnQsIHJlY3QpIHtcbiAgY29uc3QgbGVmdFNjcm9sbCA9IGdldE5vZGVTY3JvbGwoZWxlbWVudCkuc2Nyb2xsTGVmdDtcbiAgaWYgKCFyZWN0KSB7XG4gICAgcmV0dXJuIGdldEJvdW5kaW5nQ2xpZW50UmVjdChnZXREb2N1bWVudEVsZW1lbnQoZWxlbWVudCkpLmxlZnQgKyBsZWZ0U2Nyb2xsO1xuICB9XG4gIHJldHVybiByZWN0LmxlZnQgKyBsZWZ0U2Nyb2xsO1xufVxuZnVuY3Rpb24gZ2V0SFRNTE9mZnNldChkb2N1bWVudEVsZW1lbnQsIHNjcm9sbCwgaWdub3JlU2Nyb2xsYmFyWCkge1xuICBpZiAoaWdub3JlU2Nyb2xsYmFyWCA9PT0gdm9pZCAwKSB7XG4gICAgaWdub3JlU2Nyb2xsYmFyWCA9IGZhbHNlO1xuICB9XG4gIGNvbnN0IGh0bWxSZWN0ID0gZG9jdW1lbnRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBjb25zdCB4MiA9IGh0bWxSZWN0LmxlZnQgKyBzY3JvbGwuc2Nyb2xsTGVmdCAtIChpZ25vcmVTY3JvbGxiYXJYID8gMCA6IChcbiAgICAvLyBSVEwgPGJvZHk+IHNjcm9sbGJhci5cbiAgICBnZXRXaW5kb3dTY3JvbGxCYXJYKGRvY3VtZW50RWxlbWVudCwgaHRtbFJlY3QpXG4gICkpO1xuICBjb25zdCB5MiA9IGh0bWxSZWN0LnRvcCArIHNjcm9sbC5zY3JvbGxUb3A7XG4gIHJldHVybiB7XG4gICAgeDogeDIsXG4gICAgeTogeTJcbiAgfTtcbn1cbmZ1bmN0aW9uIGNvbnZlcnRPZmZzZXRQYXJlbnRSZWxhdGl2ZVJlY3RUb1ZpZXdwb3J0UmVsYXRpdmVSZWN0KF9yZWYpIHtcbiAgbGV0IHtcbiAgICBlbGVtZW50cyxcbiAgICByZWN0LFxuICAgIG9mZnNldFBhcmVudCxcbiAgICBzdHJhdGVneVxuICB9ID0gX3JlZjtcbiAgY29uc3QgaXNGaXhlZCA9IHN0cmF0ZWd5ID09PSBcImZpeGVkXCI7XG4gIGNvbnN0IGRvY3VtZW50RWxlbWVudCA9IGdldERvY3VtZW50RWxlbWVudChvZmZzZXRQYXJlbnQpO1xuICBjb25zdCB0b3BMYXllciA9IGVsZW1lbnRzID8gaXNUb3BMYXllcihlbGVtZW50cy5mbG9hdGluZykgOiBmYWxzZTtcbiAgaWYgKG9mZnNldFBhcmVudCA9PT0gZG9jdW1lbnRFbGVtZW50IHx8IHRvcExheWVyICYmIGlzRml4ZWQpIHtcbiAgICByZXR1cm4gcmVjdDtcbiAgfVxuICBsZXQgc2Nyb2xsID0ge1xuICAgIHNjcm9sbExlZnQ6IDAsXG4gICAgc2Nyb2xsVG9wOiAwXG4gIH07XG4gIGxldCBzY2FsZSA9IGNyZWF0ZUNvb3JkcygxKTtcbiAgY29uc3Qgb2Zmc2V0cyA9IGNyZWF0ZUNvb3JkcygwKTtcbiAgY29uc3QgaXNPZmZzZXRQYXJlbnRBbkVsZW1lbnQgPSBpc0hUTUxFbGVtZW50KG9mZnNldFBhcmVudCk7XG4gIGlmIChpc09mZnNldFBhcmVudEFuRWxlbWVudCB8fCAhaXNPZmZzZXRQYXJlbnRBbkVsZW1lbnQgJiYgIWlzRml4ZWQpIHtcbiAgICBpZiAoZ2V0Tm9kZU5hbWUob2Zmc2V0UGFyZW50KSAhPT0gXCJib2R5XCIgfHwgaXNPdmVyZmxvd0VsZW1lbnQoZG9jdW1lbnRFbGVtZW50KSkge1xuICAgICAgc2Nyb2xsID0gZ2V0Tm9kZVNjcm9sbChvZmZzZXRQYXJlbnQpO1xuICAgIH1cbiAgICBpZiAoaXNIVE1MRWxlbWVudChvZmZzZXRQYXJlbnQpKSB7XG4gICAgICBjb25zdCBvZmZzZXRSZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KG9mZnNldFBhcmVudCk7XG4gICAgICBzY2FsZSA9IGdldFNjYWxlKG9mZnNldFBhcmVudCk7XG4gICAgICBvZmZzZXRzLnggPSBvZmZzZXRSZWN0LnggKyBvZmZzZXRQYXJlbnQuY2xpZW50TGVmdDtcbiAgICAgIG9mZnNldHMueSA9IG9mZnNldFJlY3QueSArIG9mZnNldFBhcmVudC5jbGllbnRUb3A7XG4gICAgfVxuICB9XG4gIGNvbnN0IGh0bWxPZmZzZXQgPSBkb2N1bWVudEVsZW1lbnQgJiYgIWlzT2Zmc2V0UGFyZW50QW5FbGVtZW50ICYmICFpc0ZpeGVkID8gZ2V0SFRNTE9mZnNldChkb2N1bWVudEVsZW1lbnQsIHNjcm9sbCwgdHJ1ZSkgOiBjcmVhdGVDb29yZHMoMCk7XG4gIHJldHVybiB7XG4gICAgd2lkdGg6IHJlY3Qud2lkdGggKiBzY2FsZS54LFxuICAgIGhlaWdodDogcmVjdC5oZWlnaHQgKiBzY2FsZS55LFxuICAgIHg6IHJlY3QueCAqIHNjYWxlLnggLSBzY3JvbGwuc2Nyb2xsTGVmdCAqIHNjYWxlLnggKyBvZmZzZXRzLnggKyBodG1sT2Zmc2V0LngsXG4gICAgeTogcmVjdC55ICogc2NhbGUueSAtIHNjcm9sbC5zY3JvbGxUb3AgKiBzY2FsZS55ICsgb2Zmc2V0cy55ICsgaHRtbE9mZnNldC55XG4gIH07XG59XG5mdW5jdGlvbiBnZXRDbGllbnRSZWN0cyhlbGVtZW50KSB7XG4gIHJldHVybiBBcnJheS5mcm9tKGVsZW1lbnQuZ2V0Q2xpZW50UmVjdHMoKSk7XG59XG5mdW5jdGlvbiBnZXREb2N1bWVudFJlY3QoZWxlbWVudCkge1xuICBjb25zdCBodG1sID0gZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnQpO1xuICBjb25zdCBzY3JvbGwgPSBnZXROb2RlU2Nyb2xsKGVsZW1lbnQpO1xuICBjb25zdCBib2R5ID0gZWxlbWVudC5vd25lckRvY3VtZW50LmJvZHk7XG4gIGNvbnN0IHdpZHRoID0gbWF4KGh0bWwuc2Nyb2xsV2lkdGgsIGh0bWwuY2xpZW50V2lkdGgsIGJvZHkuc2Nyb2xsV2lkdGgsIGJvZHkuY2xpZW50V2lkdGgpO1xuICBjb25zdCBoZWlnaHQgPSBtYXgoaHRtbC5zY3JvbGxIZWlnaHQsIGh0bWwuY2xpZW50SGVpZ2h0LCBib2R5LnNjcm9sbEhlaWdodCwgYm9keS5jbGllbnRIZWlnaHQpO1xuICBsZXQgeDIgPSAtc2Nyb2xsLnNjcm9sbExlZnQgKyBnZXRXaW5kb3dTY3JvbGxCYXJYKGVsZW1lbnQpO1xuICBjb25zdCB5MiA9IC1zY3JvbGwuc2Nyb2xsVG9wO1xuICBpZiAoZ2V0Q29tcHV0ZWRTdHlsZSQxKGJvZHkpLmRpcmVjdGlvbiA9PT0gXCJydGxcIikge1xuICAgIHgyICs9IG1heChodG1sLmNsaWVudFdpZHRoLCBib2R5LmNsaWVudFdpZHRoKSAtIHdpZHRoO1xuICB9XG4gIHJldHVybiB7XG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgIHg6IHgyLFxuICAgIHk6IHkyXG4gIH07XG59XG5mdW5jdGlvbiBnZXRWaWV3cG9ydFJlY3QoZWxlbWVudCwgc3RyYXRlZ3kpIHtcbiAgY29uc3Qgd2luID0gZ2V0V2luZG93KGVsZW1lbnQpO1xuICBjb25zdCBodG1sID0gZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnQpO1xuICBjb25zdCB2aXN1YWxWaWV3cG9ydCA9IHdpbi52aXN1YWxWaWV3cG9ydDtcbiAgbGV0IHdpZHRoID0gaHRtbC5jbGllbnRXaWR0aDtcbiAgbGV0IGhlaWdodCA9IGh0bWwuY2xpZW50SGVpZ2h0O1xuICBsZXQgeDIgPSAwO1xuICBsZXQgeTIgPSAwO1xuICBpZiAodmlzdWFsVmlld3BvcnQpIHtcbiAgICB3aWR0aCA9IHZpc3VhbFZpZXdwb3J0LndpZHRoO1xuICAgIGhlaWdodCA9IHZpc3VhbFZpZXdwb3J0LmhlaWdodDtcbiAgICBjb25zdCB2aXN1YWxWaWV3cG9ydEJhc2VkID0gaXNXZWJLaXQoKTtcbiAgICBpZiAoIXZpc3VhbFZpZXdwb3J0QmFzZWQgfHwgdmlzdWFsVmlld3BvcnRCYXNlZCAmJiBzdHJhdGVneSA9PT0gXCJmaXhlZFwiKSB7XG4gICAgICB4MiA9IHZpc3VhbFZpZXdwb3J0Lm9mZnNldExlZnQ7XG4gICAgICB5MiA9IHZpc3VhbFZpZXdwb3J0Lm9mZnNldFRvcDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgeDogeDIsXG4gICAgeTogeTJcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldElubmVyQm91bmRpbmdDbGllbnRSZWN0KGVsZW1lbnQsIHN0cmF0ZWd5KSB7XG4gIGNvbnN0IGNsaWVudFJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3QoZWxlbWVudCwgdHJ1ZSwgc3RyYXRlZ3kgPT09IFwiZml4ZWRcIik7XG4gIGNvbnN0IHRvcCA9IGNsaWVudFJlY3QudG9wICsgZWxlbWVudC5jbGllbnRUb3A7XG4gIGNvbnN0IGxlZnQgPSBjbGllbnRSZWN0LmxlZnQgKyBlbGVtZW50LmNsaWVudExlZnQ7XG4gIGNvbnN0IHNjYWxlID0gaXNIVE1MRWxlbWVudChlbGVtZW50KSA/IGdldFNjYWxlKGVsZW1lbnQpIDogY3JlYXRlQ29vcmRzKDEpO1xuICBjb25zdCB3aWR0aCA9IGVsZW1lbnQuY2xpZW50V2lkdGggKiBzY2FsZS54O1xuICBjb25zdCBoZWlnaHQgPSBlbGVtZW50LmNsaWVudEhlaWdodCAqIHNjYWxlLnk7XG4gIGNvbnN0IHgyID0gbGVmdCAqIHNjYWxlLng7XG4gIGNvbnN0IHkyID0gdG9wICogc2NhbGUueTtcbiAgcmV0dXJuIHtcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgeDogeDIsXG4gICAgeTogeTJcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldENsaWVudFJlY3RGcm9tQ2xpcHBpbmdBbmNlc3RvcihlbGVtZW50LCBjbGlwcGluZ0FuY2VzdG9yLCBzdHJhdGVneSkge1xuICBsZXQgcmVjdDtcbiAgaWYgKGNsaXBwaW5nQW5jZXN0b3IgPT09IFwidmlld3BvcnRcIikge1xuICAgIHJlY3QgPSBnZXRWaWV3cG9ydFJlY3QoZWxlbWVudCwgc3RyYXRlZ3kpO1xuICB9IGVsc2UgaWYgKGNsaXBwaW5nQW5jZXN0b3IgPT09IFwiZG9jdW1lbnRcIikge1xuICAgIHJlY3QgPSBnZXREb2N1bWVudFJlY3QoZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnQpKTtcbiAgfSBlbHNlIGlmIChpc0VsZW1lbnQoY2xpcHBpbmdBbmNlc3RvcikpIHtcbiAgICByZWN0ID0gZ2V0SW5uZXJCb3VuZGluZ0NsaWVudFJlY3QoY2xpcHBpbmdBbmNlc3Rvciwgc3RyYXRlZ3kpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHZpc3VhbE9mZnNldHMgPSBnZXRWaXN1YWxPZmZzZXRzKGVsZW1lbnQpO1xuICAgIHJlY3QgPSB7XG4gICAgICB4OiBjbGlwcGluZ0FuY2VzdG9yLnggLSB2aXN1YWxPZmZzZXRzLngsXG4gICAgICB5OiBjbGlwcGluZ0FuY2VzdG9yLnkgLSB2aXN1YWxPZmZzZXRzLnksXG4gICAgICB3aWR0aDogY2xpcHBpbmdBbmNlc3Rvci53aWR0aCxcbiAgICAgIGhlaWdodDogY2xpcHBpbmdBbmNlc3Rvci5oZWlnaHRcbiAgICB9O1xuICB9XG4gIHJldHVybiByZWN0VG9DbGllbnRSZWN0KHJlY3QpO1xufVxuZnVuY3Rpb24gaGFzRml4ZWRQb3NpdGlvbkFuY2VzdG9yKGVsZW1lbnQsIHN0b3BOb2RlKSB7XG4gIGNvbnN0IHBhcmVudE5vZGUgPSBnZXRQYXJlbnROb2RlKGVsZW1lbnQpO1xuICBpZiAocGFyZW50Tm9kZSA9PT0gc3RvcE5vZGUgfHwgIWlzRWxlbWVudChwYXJlbnROb2RlKSB8fCBpc0xhc3RUcmF2ZXJzYWJsZU5vZGUocGFyZW50Tm9kZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIGdldENvbXB1dGVkU3R5bGUkMShwYXJlbnROb2RlKS5wb3NpdGlvbiA9PT0gXCJmaXhlZFwiIHx8IGhhc0ZpeGVkUG9zaXRpb25BbmNlc3RvcihwYXJlbnROb2RlLCBzdG9wTm9kZSk7XG59XG5mdW5jdGlvbiBnZXRDbGlwcGluZ0VsZW1lbnRBbmNlc3RvcnMoZWxlbWVudCwgY2FjaGUpIHtcbiAgY29uc3QgY2FjaGVkUmVzdWx0ID0gY2FjaGUuZ2V0KGVsZW1lbnQpO1xuICBpZiAoY2FjaGVkUmVzdWx0KSB7XG4gICAgcmV0dXJuIGNhY2hlZFJlc3VsdDtcbiAgfVxuICBsZXQgcmVzdWx0ID0gZ2V0T3ZlcmZsb3dBbmNlc3RvcnMoZWxlbWVudCwgW10sIGZhbHNlKS5maWx0ZXIoKGVsKSA9PiBpc0VsZW1lbnQoZWwpICYmIGdldE5vZGVOYW1lKGVsKSAhPT0gXCJib2R5XCIpO1xuICBsZXQgY3VycmVudENvbnRhaW5pbmdCbG9ja0NvbXB1dGVkU3R5bGUgPSBudWxsO1xuICBjb25zdCBlbGVtZW50SXNGaXhlZCA9IGdldENvbXB1dGVkU3R5bGUkMShlbGVtZW50KS5wb3NpdGlvbiA9PT0gXCJmaXhlZFwiO1xuICBsZXQgY3VycmVudE5vZGUgPSBlbGVtZW50SXNGaXhlZCA/IGdldFBhcmVudE5vZGUoZWxlbWVudCkgOiBlbGVtZW50O1xuICB3aGlsZSAoaXNFbGVtZW50KGN1cnJlbnROb2RlKSAmJiAhaXNMYXN0VHJhdmVyc2FibGVOb2RlKGN1cnJlbnROb2RlKSkge1xuICAgIGNvbnN0IGNvbXB1dGVkU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlJDEoY3VycmVudE5vZGUpO1xuICAgIGNvbnN0IGN1cnJlbnROb2RlSXNDb250YWluaW5nID0gaXNDb250YWluaW5nQmxvY2soY3VycmVudE5vZGUpO1xuICAgIGlmICghY3VycmVudE5vZGVJc0NvbnRhaW5pbmcgJiYgY29tcHV0ZWRTdHlsZS5wb3NpdGlvbiA9PT0gXCJmaXhlZFwiKSB7XG4gICAgICBjdXJyZW50Q29udGFpbmluZ0Jsb2NrQ29tcHV0ZWRTdHlsZSA9IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHNob3VsZERyb3BDdXJyZW50Tm9kZSA9IGVsZW1lbnRJc0ZpeGVkID8gIWN1cnJlbnROb2RlSXNDb250YWluaW5nICYmICFjdXJyZW50Q29udGFpbmluZ0Jsb2NrQ29tcHV0ZWRTdHlsZSA6ICFjdXJyZW50Tm9kZUlzQ29udGFpbmluZyAmJiBjb21wdXRlZFN0eWxlLnBvc2l0aW9uID09PSBcInN0YXRpY1wiICYmICEhY3VycmVudENvbnRhaW5pbmdCbG9ja0NvbXB1dGVkU3R5bGUgJiYgW1wiYWJzb2x1dGVcIiwgXCJmaXhlZFwiXS5pbmNsdWRlcyhjdXJyZW50Q29udGFpbmluZ0Jsb2NrQ29tcHV0ZWRTdHlsZS5wb3NpdGlvbikgfHwgaXNPdmVyZmxvd0VsZW1lbnQoY3VycmVudE5vZGUpICYmICFjdXJyZW50Tm9kZUlzQ29udGFpbmluZyAmJiBoYXNGaXhlZFBvc2l0aW9uQW5jZXN0b3IoZWxlbWVudCwgY3VycmVudE5vZGUpO1xuICAgIGlmIChzaG91bGREcm9wQ3VycmVudE5vZGUpIHtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdC5maWx0ZXIoKGFuY2VzdG9yKSA9PiBhbmNlc3RvciAhPT0gY3VycmVudE5vZGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50Q29udGFpbmluZ0Jsb2NrQ29tcHV0ZWRTdHlsZSA9IGNvbXB1dGVkU3R5bGU7XG4gICAgfVxuICAgIGN1cnJlbnROb2RlID0gZ2V0UGFyZW50Tm9kZShjdXJyZW50Tm9kZSk7XG4gIH1cbiAgY2FjaGUuc2V0KGVsZW1lbnQsIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBnZXRDbGlwcGluZ1JlY3QoX3JlZikge1xuICBsZXQge1xuICAgIGVsZW1lbnQsXG4gICAgYm91bmRhcnksXG4gICAgcm9vdEJvdW5kYXJ5LFxuICAgIHN0cmF0ZWd5XG4gIH0gPSBfcmVmO1xuICBjb25zdCBlbGVtZW50Q2xpcHBpbmdBbmNlc3RvcnMgPSBib3VuZGFyeSA9PT0gXCJjbGlwcGluZ0FuY2VzdG9yc1wiID8gaXNUb3BMYXllcihlbGVtZW50KSA/IFtdIDogZ2V0Q2xpcHBpbmdFbGVtZW50QW5jZXN0b3JzKGVsZW1lbnQsIHRoaXMuX2MpIDogW10uY29uY2F0KGJvdW5kYXJ5KTtcbiAgY29uc3QgY2xpcHBpbmdBbmNlc3RvcnMgPSBbLi4uZWxlbWVudENsaXBwaW5nQW5jZXN0b3JzLCByb290Qm91bmRhcnldO1xuICBjb25zdCBmaXJzdENsaXBwaW5nQW5jZXN0b3IgPSBjbGlwcGluZ0FuY2VzdG9yc1swXTtcbiAgY29uc3QgY2xpcHBpbmdSZWN0ID0gY2xpcHBpbmdBbmNlc3RvcnMucmVkdWNlKChhY2NSZWN0LCBjbGlwcGluZ0FuY2VzdG9yKSA9PiB7XG4gICAgY29uc3QgcmVjdCA9IGdldENsaWVudFJlY3RGcm9tQ2xpcHBpbmdBbmNlc3RvcihlbGVtZW50LCBjbGlwcGluZ0FuY2VzdG9yLCBzdHJhdGVneSk7XG4gICAgYWNjUmVjdC50b3AgPSBtYXgocmVjdC50b3AsIGFjY1JlY3QudG9wKTtcbiAgICBhY2NSZWN0LnJpZ2h0ID0gbWluKHJlY3QucmlnaHQsIGFjY1JlY3QucmlnaHQpO1xuICAgIGFjY1JlY3QuYm90dG9tID0gbWluKHJlY3QuYm90dG9tLCBhY2NSZWN0LmJvdHRvbSk7XG4gICAgYWNjUmVjdC5sZWZ0ID0gbWF4KHJlY3QubGVmdCwgYWNjUmVjdC5sZWZ0KTtcbiAgICByZXR1cm4gYWNjUmVjdDtcbiAgfSwgZ2V0Q2xpZW50UmVjdEZyb21DbGlwcGluZ0FuY2VzdG9yKGVsZW1lbnQsIGZpcnN0Q2xpcHBpbmdBbmNlc3Rvciwgc3RyYXRlZ3kpKTtcbiAgcmV0dXJuIHtcbiAgICB3aWR0aDogY2xpcHBpbmdSZWN0LnJpZ2h0IC0gY2xpcHBpbmdSZWN0LmxlZnQsXG4gICAgaGVpZ2h0OiBjbGlwcGluZ1JlY3QuYm90dG9tIC0gY2xpcHBpbmdSZWN0LnRvcCxcbiAgICB4OiBjbGlwcGluZ1JlY3QubGVmdCxcbiAgICB5OiBjbGlwcGluZ1JlY3QudG9wXG4gIH07XG59XG5mdW5jdGlvbiBnZXREaW1lbnNpb25zKGVsZW1lbnQpIHtcbiAgY29uc3Qge1xuICAgIHdpZHRoLFxuICAgIGhlaWdodFxuICB9ID0gZ2V0Q3NzRGltZW5zaW9ucyhlbGVtZW50KTtcbiAgcmV0dXJuIHtcbiAgICB3aWR0aCxcbiAgICBoZWlnaHRcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldFJlY3RSZWxhdGl2ZVRvT2Zmc2V0UGFyZW50KGVsZW1lbnQsIG9mZnNldFBhcmVudCwgc3RyYXRlZ3kpIHtcbiAgY29uc3QgaXNPZmZzZXRQYXJlbnRBbkVsZW1lbnQgPSBpc0hUTUxFbGVtZW50KG9mZnNldFBhcmVudCk7XG4gIGNvbnN0IGRvY3VtZW50RWxlbWVudCA9IGdldERvY3VtZW50RWxlbWVudChvZmZzZXRQYXJlbnQpO1xuICBjb25zdCBpc0ZpeGVkID0gc3RyYXRlZ3kgPT09IFwiZml4ZWRcIjtcbiAgY29uc3QgcmVjdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdChlbGVtZW50LCB0cnVlLCBpc0ZpeGVkLCBvZmZzZXRQYXJlbnQpO1xuICBsZXQgc2Nyb2xsID0ge1xuICAgIHNjcm9sbExlZnQ6IDAsXG4gICAgc2Nyb2xsVG9wOiAwXG4gIH07XG4gIGNvbnN0IG9mZnNldHMgPSBjcmVhdGVDb29yZHMoMCk7XG4gIGZ1bmN0aW9uIHNldExlZnRSVExTY3JvbGxiYXJPZmZzZXQoKSB7XG4gICAgb2Zmc2V0cy54ID0gZ2V0V2luZG93U2Nyb2xsQmFyWChkb2N1bWVudEVsZW1lbnQpO1xuICB9XG4gIGlmIChpc09mZnNldFBhcmVudEFuRWxlbWVudCB8fCAhaXNPZmZzZXRQYXJlbnRBbkVsZW1lbnQgJiYgIWlzRml4ZWQpIHtcbiAgICBpZiAoZ2V0Tm9kZU5hbWUob2Zmc2V0UGFyZW50KSAhPT0gXCJib2R5XCIgfHwgaXNPdmVyZmxvd0VsZW1lbnQoZG9jdW1lbnRFbGVtZW50KSkge1xuICAgICAgc2Nyb2xsID0gZ2V0Tm9kZVNjcm9sbChvZmZzZXRQYXJlbnQpO1xuICAgIH1cbiAgICBpZiAoaXNPZmZzZXRQYXJlbnRBbkVsZW1lbnQpIHtcbiAgICAgIGNvbnN0IG9mZnNldFJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3Qob2Zmc2V0UGFyZW50LCB0cnVlLCBpc0ZpeGVkLCBvZmZzZXRQYXJlbnQpO1xuICAgICAgb2Zmc2V0cy54ID0gb2Zmc2V0UmVjdC54ICsgb2Zmc2V0UGFyZW50LmNsaWVudExlZnQ7XG4gICAgICBvZmZzZXRzLnkgPSBvZmZzZXRSZWN0LnkgKyBvZmZzZXRQYXJlbnQuY2xpZW50VG9wO1xuICAgIH0gZWxzZSBpZiAoZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgICBzZXRMZWZ0UlRMU2Nyb2xsYmFyT2Zmc2V0KCk7XG4gICAgfVxuICB9XG4gIGlmIChpc0ZpeGVkICYmICFpc09mZnNldFBhcmVudEFuRWxlbWVudCAmJiBkb2N1bWVudEVsZW1lbnQpIHtcbiAgICBzZXRMZWZ0UlRMU2Nyb2xsYmFyT2Zmc2V0KCk7XG4gIH1cbiAgY29uc3QgaHRtbE9mZnNldCA9IGRvY3VtZW50RWxlbWVudCAmJiAhaXNPZmZzZXRQYXJlbnRBbkVsZW1lbnQgJiYgIWlzRml4ZWQgPyBnZXRIVE1MT2Zmc2V0KGRvY3VtZW50RWxlbWVudCwgc2Nyb2xsKSA6IGNyZWF0ZUNvb3JkcygwKTtcbiAgY29uc3QgeDIgPSByZWN0LmxlZnQgKyBzY3JvbGwuc2Nyb2xsTGVmdCAtIG9mZnNldHMueCAtIGh0bWxPZmZzZXQueDtcbiAgY29uc3QgeTIgPSByZWN0LnRvcCArIHNjcm9sbC5zY3JvbGxUb3AgLSBvZmZzZXRzLnkgLSBodG1sT2Zmc2V0Lnk7XG4gIHJldHVybiB7XG4gICAgeDogeDIsXG4gICAgeTogeTIsXG4gICAgd2lkdGg6IHJlY3Qud2lkdGgsXG4gICAgaGVpZ2h0OiByZWN0LmhlaWdodFxuICB9O1xufVxuZnVuY3Rpb24gaXNTdGF0aWNQb3NpdGlvbmVkKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGdldENvbXB1dGVkU3R5bGUkMShlbGVtZW50KS5wb3NpdGlvbiA9PT0gXCJzdGF0aWNcIjtcbn1cbmZ1bmN0aW9uIGdldFRydWVPZmZzZXRQYXJlbnQoZWxlbWVudCwgcG9seWZpbGwpIHtcbiAgaWYgKCFpc0hUTUxFbGVtZW50KGVsZW1lbnQpIHx8IGdldENvbXB1dGVkU3R5bGUkMShlbGVtZW50KS5wb3NpdGlvbiA9PT0gXCJmaXhlZFwiKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKHBvbHlmaWxsKSB7XG4gICAgcmV0dXJuIHBvbHlmaWxsKGVsZW1lbnQpO1xuICB9XG4gIGxldCByYXdPZmZzZXRQYXJlbnQgPSBlbGVtZW50Lm9mZnNldFBhcmVudDtcbiAgaWYgKGdldERvY3VtZW50RWxlbWVudChlbGVtZW50KSA9PT0gcmF3T2Zmc2V0UGFyZW50KSB7XG4gICAgcmF3T2Zmc2V0UGFyZW50ID0gcmF3T2Zmc2V0UGFyZW50Lm93bmVyRG9jdW1lbnQuYm9keTtcbiAgfVxuICByZXR1cm4gcmF3T2Zmc2V0UGFyZW50O1xufVxuZnVuY3Rpb24gZ2V0T2Zmc2V0UGFyZW50KGVsZW1lbnQsIHBvbHlmaWxsKSB7XG4gIGNvbnN0IHdpbiA9IGdldFdpbmRvdyhlbGVtZW50KTtcbiAgaWYgKGlzVG9wTGF5ZXIoZWxlbWVudCkpIHtcbiAgICByZXR1cm4gd2luO1xuICB9XG4gIGlmICghaXNIVE1MRWxlbWVudChlbGVtZW50KSkge1xuICAgIGxldCBzdmdPZmZzZXRQYXJlbnQgPSBnZXRQYXJlbnROb2RlKGVsZW1lbnQpO1xuICAgIHdoaWxlIChzdmdPZmZzZXRQYXJlbnQgJiYgIWlzTGFzdFRyYXZlcnNhYmxlTm9kZShzdmdPZmZzZXRQYXJlbnQpKSB7XG4gICAgICBpZiAoaXNFbGVtZW50KHN2Z09mZnNldFBhcmVudCkgJiYgIWlzU3RhdGljUG9zaXRpb25lZChzdmdPZmZzZXRQYXJlbnQpKSB7XG4gICAgICAgIHJldHVybiBzdmdPZmZzZXRQYXJlbnQ7XG4gICAgICB9XG4gICAgICBzdmdPZmZzZXRQYXJlbnQgPSBnZXRQYXJlbnROb2RlKHN2Z09mZnNldFBhcmVudCk7XG4gICAgfVxuICAgIHJldHVybiB3aW47XG4gIH1cbiAgbGV0IG9mZnNldFBhcmVudCA9IGdldFRydWVPZmZzZXRQYXJlbnQoZWxlbWVudCwgcG9seWZpbGwpO1xuICB3aGlsZSAob2Zmc2V0UGFyZW50ICYmIGlzVGFibGVFbGVtZW50KG9mZnNldFBhcmVudCkgJiYgaXNTdGF0aWNQb3NpdGlvbmVkKG9mZnNldFBhcmVudCkpIHtcbiAgICBvZmZzZXRQYXJlbnQgPSBnZXRUcnVlT2Zmc2V0UGFyZW50KG9mZnNldFBhcmVudCwgcG9seWZpbGwpO1xuICB9XG4gIGlmIChvZmZzZXRQYXJlbnQgJiYgaXNMYXN0VHJhdmVyc2FibGVOb2RlKG9mZnNldFBhcmVudCkgJiYgaXNTdGF0aWNQb3NpdGlvbmVkKG9mZnNldFBhcmVudCkgJiYgIWlzQ29udGFpbmluZ0Jsb2NrKG9mZnNldFBhcmVudCkpIHtcbiAgICByZXR1cm4gd2luO1xuICB9XG4gIHJldHVybiBvZmZzZXRQYXJlbnQgfHwgZ2V0Q29udGFpbmluZ0Jsb2NrKGVsZW1lbnQpIHx8IHdpbjtcbn1cbmNvbnN0IGdldEVsZW1lbnRSZWN0cyA9IGFzeW5jIGZ1bmN0aW9uKGRhdGEpIHtcbiAgY29uc3QgZ2V0T2Zmc2V0UGFyZW50Rm4gPSB0aGlzLmdldE9mZnNldFBhcmVudCB8fCBnZXRPZmZzZXRQYXJlbnQ7XG4gIGNvbnN0IGdldERpbWVuc2lvbnNGbiA9IHRoaXMuZ2V0RGltZW5zaW9ucztcbiAgY29uc3QgZmxvYXRpbmdEaW1lbnNpb25zID0gYXdhaXQgZ2V0RGltZW5zaW9uc0ZuKGRhdGEuZmxvYXRpbmcpO1xuICByZXR1cm4ge1xuICAgIHJlZmVyZW5jZTogZ2V0UmVjdFJlbGF0aXZlVG9PZmZzZXRQYXJlbnQoZGF0YS5yZWZlcmVuY2UsIGF3YWl0IGdldE9mZnNldFBhcmVudEZuKGRhdGEuZmxvYXRpbmcpLCBkYXRhLnN0cmF0ZWd5KSxcbiAgICBmbG9hdGluZzoge1xuICAgICAgeDogMCxcbiAgICAgIHk6IDAsXG4gICAgICB3aWR0aDogZmxvYXRpbmdEaW1lbnNpb25zLndpZHRoLFxuICAgICAgaGVpZ2h0OiBmbG9hdGluZ0RpbWVuc2lvbnMuaGVpZ2h0XG4gICAgfVxuICB9O1xufTtcbmZ1bmN0aW9uIGlzUlRMKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGdldENvbXB1dGVkU3R5bGUkMShlbGVtZW50KS5kaXJlY3Rpb24gPT09IFwicnRsXCI7XG59XG5jb25zdCBwbGF0Zm9ybSA9IHtcbiAgY29udmVydE9mZnNldFBhcmVudFJlbGF0aXZlUmVjdFRvVmlld3BvcnRSZWxhdGl2ZVJlY3QsXG4gIGdldERvY3VtZW50RWxlbWVudCxcbiAgZ2V0Q2xpcHBpbmdSZWN0LFxuICBnZXRPZmZzZXRQYXJlbnQsXG4gIGdldEVsZW1lbnRSZWN0cyxcbiAgZ2V0Q2xpZW50UmVjdHMsXG4gIGdldERpbWVuc2lvbnMsXG4gIGdldFNjYWxlLFxuICBpc0VsZW1lbnQsXG4gIGlzUlRMXG59O1xuZnVuY3Rpb24gcmVjdHNBcmVFcXVhbChhMywgYjIpIHtcbiAgcmV0dXJuIGEzLnggPT09IGIyLnggJiYgYTMueSA9PT0gYjIueSAmJiBhMy53aWR0aCA9PT0gYjIud2lkdGggJiYgYTMuaGVpZ2h0ID09PSBiMi5oZWlnaHQ7XG59XG5mdW5jdGlvbiBvYnNlcnZlTW92ZShlbGVtZW50LCBvbk1vdmUpIHtcbiAgbGV0IGlvID0gbnVsbDtcbiAgbGV0IHRpbWVvdXRJZDtcbiAgY29uc3Qgcm9vdCA9IGdldERvY3VtZW50RWxlbWVudChlbGVtZW50KTtcbiAgZnVuY3Rpb24gY2xlYW51cCgpIHtcbiAgICB2YXIgX2lvO1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgIChfaW8gPSBpbykgPT0gbnVsbCB8fCBfaW8uZGlzY29ubmVjdCgpO1xuICAgIGlvID0gbnVsbDtcbiAgfVxuICBmdW5jdGlvbiByZWZyZXNoKHNraXAsIHRocmVzaG9sZCkge1xuICAgIGlmIChza2lwID09PSB2b2lkIDApIHtcbiAgICAgIHNraXAgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHRocmVzaG9sZCA9PT0gdm9pZCAwKSB7XG4gICAgICB0aHJlc2hvbGQgPSAxO1xuICAgIH1cbiAgICBjbGVhbnVwKCk7XG4gICAgY29uc3QgZWxlbWVudFJlY3RGb3JSb290TWFyZ2luID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCB7XG4gICAgICBsZWZ0LFxuICAgICAgdG9wLFxuICAgICAgd2lkdGgsXG4gICAgICBoZWlnaHRcbiAgICB9ID0gZWxlbWVudFJlY3RGb3JSb290TWFyZ2luO1xuICAgIGlmICghc2tpcCkge1xuICAgICAgb25Nb3ZlKCk7XG4gICAgfVxuICAgIGlmICghd2lkdGggfHwgIWhlaWdodCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBpbnNldFRvcCA9IGZsb29yKHRvcCk7XG4gICAgY29uc3QgaW5zZXRSaWdodCA9IGZsb29yKHJvb3QuY2xpZW50V2lkdGggLSAobGVmdCArIHdpZHRoKSk7XG4gICAgY29uc3QgaW5zZXRCb3R0b20gPSBmbG9vcihyb290LmNsaWVudEhlaWdodCAtICh0b3AgKyBoZWlnaHQpKTtcbiAgICBjb25zdCBpbnNldExlZnQgPSBmbG9vcihsZWZ0KTtcbiAgICBjb25zdCByb290TWFyZ2luID0gLWluc2V0VG9wICsgXCJweCBcIiArIC1pbnNldFJpZ2h0ICsgXCJweCBcIiArIC1pbnNldEJvdHRvbSArIFwicHggXCIgKyAtaW5zZXRMZWZ0ICsgXCJweFwiO1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICByb290TWFyZ2luLFxuICAgICAgdGhyZXNob2xkOiBtYXgoMCwgbWluKDEsIHRocmVzaG9sZCkpIHx8IDFcbiAgICB9O1xuICAgIGxldCBpc0ZpcnN0VXBkYXRlID0gdHJ1ZTtcbiAgICBmdW5jdGlvbiBoYW5kbGVPYnNlcnZlKGVudHJpZXMpIHtcbiAgICAgIGNvbnN0IHJhdGlvID0gZW50cmllc1swXS5pbnRlcnNlY3Rpb25SYXRpbztcbiAgICAgIGlmIChyYXRpbyAhPT0gdGhyZXNob2xkKSB7XG4gICAgICAgIGlmICghaXNGaXJzdFVwZGF0ZSkge1xuICAgICAgICAgIHJldHVybiByZWZyZXNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFyYXRpbykge1xuICAgICAgICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgcmVmcmVzaChmYWxzZSwgMWUtNyk7XG4gICAgICAgICAgfSwgMWUzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWZyZXNoKGZhbHNlLCByYXRpbyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChyYXRpbyA9PT0gMSAmJiAhcmVjdHNBcmVFcXVhbChlbGVtZW50UmVjdEZvclJvb3RNYXJnaW4sIGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpKSB7XG4gICAgICAgIHJlZnJlc2goKTtcbiAgICAgIH1cbiAgICAgIGlzRmlyc3RVcGRhdGUgPSBmYWxzZTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGlvID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGhhbmRsZU9ic2VydmUsIHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgLy8gSGFuZGxlIDxpZnJhbWU+c1xuICAgICAgICByb290OiByb290Lm93bmVyRG9jdW1lbnRcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKF9lKSB7XG4gICAgICBpbyA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihoYW5kbGVPYnNlcnZlLCBvcHRpb25zKTtcbiAgICB9XG4gICAgaW8ub2JzZXJ2ZShlbGVtZW50KTtcbiAgfVxuICByZWZyZXNoKHRydWUpO1xuICByZXR1cm4gY2xlYW51cDtcbn1cbmZ1bmN0aW9uIGF1dG9VcGRhdGUocmVmZXJlbmNlLCBmbG9hdGluZywgdXBkYXRlLCBvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cbiAgY29uc3Qge1xuICAgIGFuY2VzdG9yU2Nyb2xsID0gdHJ1ZSxcbiAgICBhbmNlc3RvclJlc2l6ZSA9IHRydWUsXG4gICAgZWxlbWVudFJlc2l6ZSA9IHR5cGVvZiBSZXNpemVPYnNlcnZlciA9PT0gXCJmdW5jdGlvblwiLFxuICAgIGxheW91dFNoaWZ0ID0gdHlwZW9mIEludGVyc2VjdGlvbk9ic2VydmVyID09PSBcImZ1bmN0aW9uXCIsXG4gICAgYW5pbWF0aW9uRnJhbWUgPSBmYWxzZVxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgcmVmZXJlbmNlRWwgPSB1bndyYXBFbGVtZW50KHJlZmVyZW5jZSk7XG4gIGNvbnN0IGFuY2VzdG9ycyA9IGFuY2VzdG9yU2Nyb2xsIHx8IGFuY2VzdG9yUmVzaXplID8gWy4uLnJlZmVyZW5jZUVsID8gZ2V0T3ZlcmZsb3dBbmNlc3RvcnMocmVmZXJlbmNlRWwpIDogW10sIC4uLmdldE92ZXJmbG93QW5jZXN0b3JzKGZsb2F0aW5nKV0gOiBbXTtcbiAgYW5jZXN0b3JzLmZvckVhY2goKGFuY2VzdG9yKSA9PiB7XG4gICAgYW5jZXN0b3JTY3JvbGwgJiYgYW5jZXN0b3IuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCB1cGRhdGUsIHtcbiAgICAgIHBhc3NpdmU6IHRydWVcbiAgICB9KTtcbiAgICBhbmNlc3RvclJlc2l6ZSAmJiBhbmNlc3Rvci5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHVwZGF0ZSk7XG4gIH0pO1xuICBjb25zdCBjbGVhbnVwSW8gPSByZWZlcmVuY2VFbCAmJiBsYXlvdXRTaGlmdCA/IG9ic2VydmVNb3ZlKHJlZmVyZW5jZUVsLCB1cGRhdGUpIDogbnVsbDtcbiAgbGV0IHJlb2JzZXJ2ZUZyYW1lID0gLTE7XG4gIGxldCByZXNpemVPYnNlcnZlciA9IG51bGw7XG4gIGlmIChlbGVtZW50UmVzaXplKSB7XG4gICAgcmVzaXplT2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKF9yZWYpID0+IHtcbiAgICAgIGxldCBbZmlyc3RFbnRyeV0gPSBfcmVmO1xuICAgICAgaWYgKGZpcnN0RW50cnkgJiYgZmlyc3RFbnRyeS50YXJnZXQgPT09IHJlZmVyZW5jZUVsICYmIHJlc2l6ZU9ic2VydmVyKSB7XG4gICAgICAgIHJlc2l6ZU9ic2VydmVyLnVub2JzZXJ2ZShmbG9hdGluZyk7XG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHJlb2JzZXJ2ZUZyYW1lKTtcbiAgICAgICAgcmVvYnNlcnZlRnJhbWUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgIHZhciBfcmVzaXplT2JzZXJ2ZXI7XG4gICAgICAgICAgKF9yZXNpemVPYnNlcnZlciA9IHJlc2l6ZU9ic2VydmVyKSA9PSBudWxsIHx8IF9yZXNpemVPYnNlcnZlci5vYnNlcnZlKGZsb2F0aW5nKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICB1cGRhdGUoKTtcbiAgICB9KTtcbiAgICBpZiAocmVmZXJlbmNlRWwgJiYgIWFuaW1hdGlvbkZyYW1lKSB7XG4gICAgICByZXNpemVPYnNlcnZlci5vYnNlcnZlKHJlZmVyZW5jZUVsKTtcbiAgICB9XG4gICAgcmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZShmbG9hdGluZyk7XG4gIH1cbiAgbGV0IGZyYW1lSWQ7XG4gIGxldCBwcmV2UmVmUmVjdCA9IGFuaW1hdGlvbkZyYW1lID8gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KHJlZmVyZW5jZSkgOiBudWxsO1xuICBpZiAoYW5pbWF0aW9uRnJhbWUpIHtcbiAgICBmcmFtZUxvb3AoKTtcbiAgfVxuICBmdW5jdGlvbiBmcmFtZUxvb3AoKSB7XG4gICAgY29uc3QgbmV4dFJlZlJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3QocmVmZXJlbmNlKTtcbiAgICBpZiAocHJldlJlZlJlY3QgJiYgIXJlY3RzQXJlRXF1YWwocHJldlJlZlJlY3QsIG5leHRSZWZSZWN0KSkge1xuICAgICAgdXBkYXRlKCk7XG4gICAgfVxuICAgIHByZXZSZWZSZWN0ID0gbmV4dFJlZlJlY3Q7XG4gICAgZnJhbWVJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShmcmFtZUxvb3ApO1xuICB9XG4gIHVwZGF0ZSgpO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIHZhciBfcmVzaXplT2JzZXJ2ZXIyO1xuICAgIGFuY2VzdG9ycy5mb3JFYWNoKChhbmNlc3RvcikgPT4ge1xuICAgICAgYW5jZXN0b3JTY3JvbGwgJiYgYW5jZXN0b3IucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCB1cGRhdGUpO1xuICAgICAgYW5jZXN0b3JSZXNpemUgJiYgYW5jZXN0b3IucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB1cGRhdGUpO1xuICAgIH0pO1xuICAgIGNsZWFudXBJbyA9PSBudWxsIHx8IGNsZWFudXBJbygpO1xuICAgIChfcmVzaXplT2JzZXJ2ZXIyID0gcmVzaXplT2JzZXJ2ZXIpID09IG51bGwgfHwgX3Jlc2l6ZU9ic2VydmVyMi5kaXNjb25uZWN0KCk7XG4gICAgcmVzaXplT2JzZXJ2ZXIgPSBudWxsO1xuICAgIGlmIChhbmltYXRpb25GcmFtZSkge1xuICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoZnJhbWVJZCk7XG4gICAgfVxuICB9O1xufVxuY29uc3QgZGV0ZWN0T3ZlcmZsb3cgPSBkZXRlY3RPdmVyZmxvdyQxO1xuY29uc3Qgb2Zmc2V0JDEgPSBvZmZzZXQkMjtcbmNvbnN0IHNoaWZ0JDEgPSBzaGlmdCQyO1xuY29uc3QgZmxpcCQxID0gZmxpcCQyO1xuY29uc3Qgc2l6ZSQxID0gc2l6ZSQyO1xuY29uc3QgY29tcHV0ZVBvc2l0aW9uID0gKHJlZmVyZW5jZSwgZmxvYXRpbmcsIG9wdGlvbnMpID0+IHtcbiAgY29uc3QgY2FjaGUgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICBjb25zdCBtZXJnZWRPcHRpb25zID0ge1xuICAgIHBsYXRmb3JtLFxuICAgIC4uLm9wdGlvbnNcbiAgfTtcbiAgY29uc3QgcGxhdGZvcm1XaXRoQ2FjaGUgPSB7XG4gICAgLi4ubWVyZ2VkT3B0aW9ucy5wbGF0Zm9ybSxcbiAgICBfYzogY2FjaGVcbiAgfTtcbiAgcmV0dXJuIGNvbXB1dGVQb3NpdGlvbiQxKHJlZmVyZW5jZSwgZmxvYXRpbmcsIHtcbiAgICAuLi5tZXJnZWRPcHRpb25zLFxuICAgIHBsYXRmb3JtOiBwbGF0Zm9ybVdpdGhDYWNoZVxuICB9KTtcbn07XG52YXIgaW5kZXgkMSA9IHR5cGVvZiBkb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIiA/IF8kMyA6IHkkNjtcbmZ1bmN0aW9uIGRlZXBFcXVhbChhMywgYjIpIHtcbiAgaWYgKGEzID09PSBiMikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmICh0eXBlb2YgYTMgIT09IHR5cGVvZiBiMikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAodHlwZW9mIGEzID09PSBcImZ1bmN0aW9uXCIgJiYgYTMudG9TdHJpbmcoKSA9PT0gYjIudG9TdHJpbmcoKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGxldCBsZW5ndGg7XG4gIGxldCBpMjtcbiAgbGV0IGtleXM7XG4gIGlmIChhMyAmJiBiMiAmJiB0eXBlb2YgYTMgPT09IFwib2JqZWN0XCIpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhMykpIHtcbiAgICAgIGxlbmd0aCA9IGEzLmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGggIT09IGIyLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgICAgZm9yIChpMiA9IGxlbmd0aDsgaTItLSAhPT0gMDsgKSB7XG4gICAgICAgIGlmICghZGVlcEVxdWFsKGEzW2kyXSwgYjJbaTJdKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGtleXMgPSBPYmplY3Qua2V5cyhhMyk7XG4gICAgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgaWYgKGxlbmd0aCAhPT0gT2JqZWN0LmtleXMoYjIpLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKGkyID0gbGVuZ3RoOyBpMi0tICE9PSAwOyApIHtcbiAgICAgIGlmICghe30uaGFzT3duUHJvcGVydHkuY2FsbChiMiwga2V5c1tpMl0pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChpMiA9IGxlbmd0aDsgaTItLSAhPT0gMDsgKSB7XG4gICAgICBjb25zdCBrZXkgPSBrZXlzW2kyXTtcbiAgICAgIGlmIChrZXkgPT09IFwiX293bmVyXCIgJiYgYTMuJCR0eXBlb2YpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAoIWRlZXBFcXVhbChhM1trZXldLCBiMltrZXldKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBhMyAhPT0gYTMgJiYgYjIgIT09IGIyO1xufVxuZnVuY3Rpb24gZ2V0RFBSKGVsZW1lbnQpIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4gMTtcbiAgfVxuICBjb25zdCB3aW4gPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcgfHwgd2luZG93O1xuICByZXR1cm4gd2luLmRldmljZVBpeGVsUmF0aW8gfHwgMTtcbn1cbmZ1bmN0aW9uIHJvdW5kQnlEUFIoZWxlbWVudCwgdmFsdWUpIHtcbiAgY29uc3QgZHByID0gZ2V0RFBSKGVsZW1lbnQpO1xuICByZXR1cm4gTWF0aC5yb3VuZCh2YWx1ZSAqIGRwcikgLyBkcHI7XG59XG5mdW5jdGlvbiB1c2VMYXRlc3RSZWYodmFsdWUpIHtcbiAgY29uc3QgcmVmID0gQSQzKHZhbHVlKTtcbiAgaW5kZXgkMSgoKSA9PiB7XG4gICAgcmVmLmN1cnJlbnQgPSB2YWx1ZTtcbiAgfSk7XG4gIHJldHVybiByZWY7XG59XG5mdW5jdGlvbiB1c2VGbG9hdGluZyQxKG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuICBjb25zdCB7XG4gICAgcGxhY2VtZW50ID0gXCJib3R0b21cIixcbiAgICBzdHJhdGVneSA9IFwiYWJzb2x1dGVcIixcbiAgICBtaWRkbGV3YXJlID0gW10sXG4gICAgcGxhdGZvcm06IHBsYXRmb3JtMixcbiAgICBlbGVtZW50czoge1xuICAgICAgcmVmZXJlbmNlOiBleHRlcm5hbFJlZmVyZW5jZSxcbiAgICAgIGZsb2F0aW5nOiBleHRlcm5hbEZsb2F0aW5nXG4gICAgfSA9IHt9LFxuICAgIHRyYW5zZm9ybSA9IHRydWUsXG4gICAgd2hpbGVFbGVtZW50c01vdW50ZWQsXG4gICAgb3BlblxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgW2RhdGEsIHNldERhdGFdID0gZCQ0KHtcbiAgICB4OiAwLFxuICAgIHk6IDAsXG4gICAgc3RyYXRlZ3ksXG4gICAgcGxhY2VtZW50LFxuICAgIG1pZGRsZXdhcmVEYXRhOiB7fSxcbiAgICBpc1Bvc2l0aW9uZWQ6IGZhbHNlXG4gIH0pO1xuICBjb25zdCBbbGF0ZXN0TWlkZGxld2FyZSwgc2V0TGF0ZXN0TWlkZGxld2FyZV0gPSBkJDQobWlkZGxld2FyZSk7XG4gIGlmICghZGVlcEVxdWFsKGxhdGVzdE1pZGRsZXdhcmUsIG1pZGRsZXdhcmUpKSB7XG4gICAgc2V0TGF0ZXN0TWlkZGxld2FyZShtaWRkbGV3YXJlKTtcbiAgfVxuICBjb25zdCBbX3JlZmVyZW5jZSwgX3NldFJlZmVyZW5jZV0gPSBkJDQobnVsbCk7XG4gIGNvbnN0IFtfZmxvYXRpbmcsIF9zZXRGbG9hdGluZ10gPSBkJDQobnVsbCk7XG4gIGNvbnN0IHNldFJlZmVyZW5jZSA9IHEkMygobm9kZSkgPT4ge1xuICAgIGlmIChub2RlICE9PSByZWZlcmVuY2VSZWYuY3VycmVudCkge1xuICAgICAgcmVmZXJlbmNlUmVmLmN1cnJlbnQgPSBub2RlO1xuICAgICAgX3NldFJlZmVyZW5jZShub2RlKTtcbiAgICB9XG4gIH0sIFtdKTtcbiAgY29uc3Qgc2V0RmxvYXRpbmcgPSBxJDMoKG5vZGUpID0+IHtcbiAgICBpZiAobm9kZSAhPT0gZmxvYXRpbmdSZWYuY3VycmVudCkge1xuICAgICAgZmxvYXRpbmdSZWYuY3VycmVudCA9IG5vZGU7XG4gICAgICBfc2V0RmxvYXRpbmcobm9kZSk7XG4gICAgfVxuICB9LCBbXSk7XG4gIGNvbnN0IHJlZmVyZW5jZUVsID0gZXh0ZXJuYWxSZWZlcmVuY2UgfHwgX3JlZmVyZW5jZTtcbiAgY29uc3QgZmxvYXRpbmdFbCA9IGV4dGVybmFsRmxvYXRpbmcgfHwgX2Zsb2F0aW5nO1xuICBjb25zdCByZWZlcmVuY2VSZWYgPSBBJDMobnVsbCk7XG4gIGNvbnN0IGZsb2F0aW5nUmVmID0gQSQzKG51bGwpO1xuICBjb25zdCBkYXRhUmVmID0gQSQzKGRhdGEpO1xuICBjb25zdCBoYXNXaGlsZUVsZW1lbnRzTW91bnRlZCA9IHdoaWxlRWxlbWVudHNNb3VudGVkICE9IG51bGw7XG4gIGNvbnN0IHdoaWxlRWxlbWVudHNNb3VudGVkUmVmID0gdXNlTGF0ZXN0UmVmKHdoaWxlRWxlbWVudHNNb3VudGVkKTtcbiAgY29uc3QgcGxhdGZvcm1SZWYgPSB1c2VMYXRlc3RSZWYocGxhdGZvcm0yKTtcbiAgY29uc3Qgb3BlblJlZiA9IHVzZUxhdGVzdFJlZihvcGVuKTtcbiAgY29uc3QgdXBkYXRlID0gcSQzKCgpID0+IHtcbiAgICBpZiAoIXJlZmVyZW5jZVJlZi5jdXJyZW50IHx8ICFmbG9hdGluZ1JlZi5jdXJyZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGNvbmZpZyA9IHtcbiAgICAgIHBsYWNlbWVudCxcbiAgICAgIHN0cmF0ZWd5LFxuICAgICAgbWlkZGxld2FyZTogbGF0ZXN0TWlkZGxld2FyZVxuICAgIH07XG4gICAgaWYgKHBsYXRmb3JtUmVmLmN1cnJlbnQpIHtcbiAgICAgIGNvbmZpZy5wbGF0Zm9ybSA9IHBsYXRmb3JtUmVmLmN1cnJlbnQ7XG4gICAgfVxuICAgIGNvbXB1dGVQb3NpdGlvbihyZWZlcmVuY2VSZWYuY3VycmVudCwgZmxvYXRpbmdSZWYuY3VycmVudCwgY29uZmlnKS50aGVuKChkYXRhMikgPT4ge1xuICAgICAgY29uc3QgZnVsbERhdGEgPSB7XG4gICAgICAgIC4uLmRhdGEyLFxuICAgICAgICAvLyBUaGUgZmxvYXRpbmcgZWxlbWVudCdzIHBvc2l0aW9uIG1heSBiZSByZWNvbXB1dGVkIHdoaWxlIGl0J3MgY2xvc2VkXG4gICAgICAgIC8vIGJ1dCBzdGlsbCBtb3VudGVkIChzdWNoIGFzIHdoZW4gdHJhbnNpdGlvbmluZyBvdXQpLiBUbyBlbnN1cmVcbiAgICAgICAgLy8gYGlzUG9zaXRpb25lZGAgd2lsbCBiZSBgZmFsc2VgIGluaXRpYWxseSBvbiB0aGUgbmV4dCBvcGVuLCBhdm9pZFxuICAgICAgICAvLyBzZXR0aW5nIGl0IHRvIGB0cnVlYCB3aGVuIGBvcGVuID09PSBmYWxzZWAgKG11c3QgYmUgc3BlY2lmaWVkKS5cbiAgICAgICAgaXNQb3NpdGlvbmVkOiBvcGVuUmVmLmN1cnJlbnQgIT09IGZhbHNlXG4gICAgICB9O1xuICAgICAgaWYgKGlzTW91bnRlZFJlZi5jdXJyZW50ICYmICFkZWVwRXF1YWwoZGF0YVJlZi5jdXJyZW50LCBmdWxsRGF0YSkpIHtcbiAgICAgICAgZGF0YVJlZi5jdXJyZW50ID0gZnVsbERhdGE7XG4gICAgICAgIEVuKCgpID0+IHtcbiAgICAgICAgICBzZXREYXRhKGZ1bGxEYXRhKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sIFtsYXRlc3RNaWRkbGV3YXJlLCBwbGFjZW1lbnQsIHN0cmF0ZWd5LCBwbGF0Zm9ybVJlZiwgb3BlblJlZl0pO1xuICBpbmRleCQxKCgpID0+IHtcbiAgICBpZiAob3BlbiA9PT0gZmFsc2UgJiYgZGF0YVJlZi5jdXJyZW50LmlzUG9zaXRpb25lZCkge1xuICAgICAgZGF0YVJlZi5jdXJyZW50LmlzUG9zaXRpb25lZCA9IGZhbHNlO1xuICAgICAgc2V0RGF0YSgoZGF0YTIpID0+ICh7XG4gICAgICAgIC4uLmRhdGEyLFxuICAgICAgICBpc1Bvc2l0aW9uZWQ6IGZhbHNlXG4gICAgICB9KSk7XG4gICAgfVxuICB9LCBbb3Blbl0pO1xuICBjb25zdCBpc01vdW50ZWRSZWYgPSBBJDMoZmFsc2UpO1xuICBpbmRleCQxKCgpID0+IHtcbiAgICBpc01vdW50ZWRSZWYuY3VycmVudCA9IHRydWU7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlzTW91bnRlZFJlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgfTtcbiAgfSwgW10pO1xuICBpbmRleCQxKCgpID0+IHtcbiAgICBpZiAocmVmZXJlbmNlRWwpIHJlZmVyZW5jZVJlZi5jdXJyZW50ID0gcmVmZXJlbmNlRWw7XG4gICAgaWYgKGZsb2F0aW5nRWwpIGZsb2F0aW5nUmVmLmN1cnJlbnQgPSBmbG9hdGluZ0VsO1xuICAgIGlmIChyZWZlcmVuY2VFbCAmJiBmbG9hdGluZ0VsKSB7XG4gICAgICBpZiAod2hpbGVFbGVtZW50c01vdW50ZWRSZWYuY3VycmVudCkge1xuICAgICAgICByZXR1cm4gd2hpbGVFbGVtZW50c01vdW50ZWRSZWYuY3VycmVudChyZWZlcmVuY2VFbCwgZmxvYXRpbmdFbCwgdXBkYXRlKTtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZSgpO1xuICAgIH1cbiAgfSwgW3JlZmVyZW5jZUVsLCBmbG9hdGluZ0VsLCB1cGRhdGUsIHdoaWxlRWxlbWVudHNNb3VudGVkUmVmLCBoYXNXaGlsZUVsZW1lbnRzTW91bnRlZF0pO1xuICBjb25zdCByZWZzID0gVCQ1KCgpID0+ICh7XG4gICAgcmVmZXJlbmNlOiByZWZlcmVuY2VSZWYsXG4gICAgZmxvYXRpbmc6IGZsb2F0aW5nUmVmLFxuICAgIHNldFJlZmVyZW5jZSxcbiAgICBzZXRGbG9hdGluZ1xuICB9KSwgW3NldFJlZmVyZW5jZSwgc2V0RmxvYXRpbmddKTtcbiAgY29uc3QgZWxlbWVudHMgPSBUJDUoKCkgPT4gKHtcbiAgICByZWZlcmVuY2U6IHJlZmVyZW5jZUVsLFxuICAgIGZsb2F0aW5nOiBmbG9hdGluZ0VsXG4gIH0pLCBbcmVmZXJlbmNlRWwsIGZsb2F0aW5nRWxdKTtcbiAgY29uc3QgZmxvYXRpbmdTdHlsZXMgPSBUJDUoKCkgPT4ge1xuICAgIGNvbnN0IGluaXRpYWxTdHlsZXMgPSB7XG4gICAgICBwb3NpdGlvbjogc3RyYXRlZ3ksXG4gICAgICBsZWZ0OiAwLFxuICAgICAgdG9wOiAwXG4gICAgfTtcbiAgICBpZiAoIWVsZW1lbnRzLmZsb2F0aW5nKSB7XG4gICAgICByZXR1cm4gaW5pdGlhbFN0eWxlcztcbiAgICB9XG4gICAgY29uc3QgeDIgPSByb3VuZEJ5RFBSKGVsZW1lbnRzLmZsb2F0aW5nLCBkYXRhLngpO1xuICAgIGNvbnN0IHkyID0gcm91bmRCeURQUihlbGVtZW50cy5mbG9hdGluZywgZGF0YS55KTtcbiAgICBpZiAodHJhbnNmb3JtKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5pbml0aWFsU3R5bGVzLFxuICAgICAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlKFwiICsgeDIgKyBcInB4LCBcIiArIHkyICsgXCJweClcIixcbiAgICAgICAgLi4uZ2V0RFBSKGVsZW1lbnRzLmZsb2F0aW5nKSA+PSAxLjUgJiYge1xuICAgICAgICAgIHdpbGxDaGFuZ2U6IFwidHJhbnNmb3JtXCJcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHBvc2l0aW9uOiBzdHJhdGVneSxcbiAgICAgIGxlZnQ6IHgyLFxuICAgICAgdG9wOiB5MlxuICAgIH07XG4gIH0sIFtzdHJhdGVneSwgdHJhbnNmb3JtLCBlbGVtZW50cy5mbG9hdGluZywgZGF0YS54LCBkYXRhLnldKTtcbiAgcmV0dXJuIFQkNSgoKSA9PiAoe1xuICAgIC4uLmRhdGEsXG4gICAgdXBkYXRlLFxuICAgIHJlZnMsXG4gICAgZWxlbWVudHMsXG4gICAgZmxvYXRpbmdTdHlsZXNcbiAgfSksIFtkYXRhLCB1cGRhdGUsIHJlZnMsIGVsZW1lbnRzLCBmbG9hdGluZ1N0eWxlc10pO1xufVxuY29uc3Qgb2Zmc2V0ID0gKG9wdGlvbnMsIGRlcHMpID0+ICh7XG4gIC4uLm9mZnNldCQxKG9wdGlvbnMpLFxuICBvcHRpb25zOiBbb3B0aW9ucywgZGVwc11cbn0pO1xuY29uc3Qgc2hpZnQgPSAob3B0aW9ucywgZGVwcykgPT4gKHtcbiAgLi4uc2hpZnQkMShvcHRpb25zKSxcbiAgb3B0aW9uczogW29wdGlvbnMsIGRlcHNdXG59KTtcbmNvbnN0IGZsaXAgPSAob3B0aW9ucywgZGVwcykgPT4gKHtcbiAgLi4uZmxpcCQxKG9wdGlvbnMpLFxuICBvcHRpb25zOiBbb3B0aW9ucywgZGVwc11cbn0pO1xuY29uc3Qgc2l6ZSA9IChvcHRpb25zLCBkZXBzKSA9PiAoe1xuICAuLi5zaXplJDEob3B0aW9ucyksXG4gIG9wdGlvbnM6IFtvcHRpb25zLCBkZXBzXVxufSk7XG5jb25zdCBTYWZlUmVhY3QgPSB7XG4gIC4uLnQkNFxufTtcbmNvbnN0IHVzZUluc2VydGlvbkVmZmVjdCA9IFNhZmVSZWFjdC51c2VJbnNlcnRpb25FZmZlY3Q7XG5jb25zdCB1c2VTYWZlSW5zZXJ0aW9uRWZmZWN0ID0gdXNlSW5zZXJ0aW9uRWZmZWN0IHx8ICgoZm4yKSA9PiBmbjIoKSk7XG5mdW5jdGlvbiB1c2VFZmZlY3RFdmVudChjYWxsYmFjaykge1xuICBjb25zdCByZWYgPSBBJDMoKCkgPT4ge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIGFuIGV2ZW50IGhhbmRsZXIgd2hpbGUgcmVuZGVyaW5nLlwiKTtcbiAgICB9XG4gIH0pO1xuICB1c2VTYWZlSW5zZXJ0aW9uRWZmZWN0KCgpID0+IHtcbiAgICByZWYuY3VycmVudCA9IGNhbGxiYWNrO1xuICB9KTtcbiAgcmV0dXJuIHEkMyhmdW5jdGlvbigpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuICAgIHJldHVybiByZWYuY3VycmVudCA9PSBudWxsID8gdm9pZCAwIDogcmVmLmN1cnJlbnQoLi4uYXJncyk7XG4gIH0sIFtdKTtcbn1cbnZhciBpbmRleCA9IHR5cGVvZiBkb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIiA/IF8kMyA6IHkkNjtcbmxldCBzZXJ2ZXJIYW5kb2ZmQ29tcGxldGUgPSBmYWxzZTtcbmxldCBjb3VudCA9IDA7XG5jb25zdCBnZW5JZCA9ICgpID0+IChcbiAgLy8gRW5zdXJlIHRoZSBpZCBpcyB1bmlxdWUgd2l0aCBtdWx0aXBsZSBpbmRlcGVuZGVudCB2ZXJzaW9ucyBvZiBGbG9hdGluZyBVSVxuICAvLyBvbiA8UmVhY3QgMThcbiAgXCJmbG9hdGluZy11aS1cIiArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIsIDYpICsgY291bnQrK1xuKTtcbmZ1bmN0aW9uIHVzZUZsb2F0aW5nSWQoKSB7XG4gIGNvbnN0IFtpZCwgc2V0SWRdID0gZCQ0KCgpID0+IHNlcnZlckhhbmRvZmZDb21wbGV0ZSA/IGdlbklkKCkgOiB2b2lkIDApO1xuICBpbmRleCgoKSA9PiB7XG4gICAgaWYgKGlkID09IG51bGwpIHtcbiAgICAgIHNldElkKGdlbklkKCkpO1xuICAgIH1cbiAgfSwgW10pO1xuICB5JDYoKCkgPT4ge1xuICAgIHNlcnZlckhhbmRvZmZDb21wbGV0ZSA9IHRydWU7XG4gIH0sIFtdKTtcbiAgcmV0dXJuIGlkO1xufVxuY29uc3QgdXNlUmVhY3RJZCA9IFNhZmVSZWFjdC51c2VJZDtcbmNvbnN0IHVzZUlkID0gdXNlUmVhY3RJZCB8fCB1c2VGbG9hdGluZ0lkO1xubGV0IGRldk1lc3NhZ2VTZXQ7XG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIGRldk1lc3NhZ2VTZXQgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xufVxuZnVuY3Rpb24gd2FybigpIHtcbiAgdmFyIF9kZXZNZXNzYWdlU2V0O1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgbWVzc2FnZXMgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgbWVzc2FnZXNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cbiAgY29uc3QgbWVzc2FnZSA9IFwiRmxvYXRpbmcgVUk6IFwiICsgbWVzc2FnZXMuam9pbihcIiBcIik7XG4gIGlmICghKChfZGV2TWVzc2FnZVNldCA9IGRldk1lc3NhZ2VTZXQpICE9IG51bGwgJiYgX2Rldk1lc3NhZ2VTZXQuaGFzKG1lc3NhZ2UpKSkge1xuICAgIHZhciBfZGV2TWVzc2FnZVNldDI7XG4gICAgKF9kZXZNZXNzYWdlU2V0MiA9IGRldk1lc3NhZ2VTZXQpID09IG51bGwgfHwgX2Rldk1lc3NhZ2VTZXQyLmFkZChtZXNzYWdlKTtcbiAgICBjb25zb2xlLndhcm4obWVzc2FnZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGVycm9yKCkge1xuICB2YXIgX2Rldk1lc3NhZ2VTZXQzO1xuICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIG1lc3NhZ2VzID0gbmV3IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgbWVzc2FnZXNbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgfVxuICBjb25zdCBtZXNzYWdlID0gXCJGbG9hdGluZyBVSTogXCIgKyBtZXNzYWdlcy5qb2luKFwiIFwiKTtcbiAgaWYgKCEoKF9kZXZNZXNzYWdlU2V0MyA9IGRldk1lc3NhZ2VTZXQpICE9IG51bGwgJiYgX2Rldk1lc3NhZ2VTZXQzLmhhcyhtZXNzYWdlKSkpIHtcbiAgICB2YXIgX2Rldk1lc3NhZ2VTZXQ0O1xuICAgIChfZGV2TWVzc2FnZVNldDQgPSBkZXZNZXNzYWdlU2V0KSA9PSBudWxsIHx8IF9kZXZNZXNzYWdlU2V0NC5hZGQobWVzc2FnZSk7XG4gICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgfVxufVxuZnVuY3Rpb24gY3JlYXRlUHViU3ViKCkge1xuICBjb25zdCBtYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICByZXR1cm4ge1xuICAgIGVtaXQoZXZlbnQsIGRhdGEpIHtcbiAgICAgIHZhciBfbWFwJGdldDtcbiAgICAgIChfbWFwJGdldCA9IG1hcC5nZXQoZXZlbnQpKSA9PSBudWxsIHx8IF9tYXAkZ2V0LmZvckVhY2goKGhhbmRsZXIpID0+IGhhbmRsZXIoZGF0YSkpO1xuICAgIH0sXG4gICAgb24oZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgICBtYXAuc2V0KGV2ZW50LCBbLi4ubWFwLmdldChldmVudCkgfHwgW10sIGxpc3RlbmVyXSk7XG4gICAgfSxcbiAgICBvZmYoZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgICB2YXIgX21hcCRnZXQyO1xuICAgICAgbWFwLnNldChldmVudCwgKChfbWFwJGdldDIgPSBtYXAuZ2V0KGV2ZW50KSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9tYXAkZ2V0Mi5maWx0ZXIoKGwyKSA9PiBsMiAhPT0gbGlzdGVuZXIpKSB8fCBbXSk7XG4gICAgfVxuICB9O1xufVxuY29uc3QgRmxvYXRpbmdOb2RlQ29udGV4dCA9IC8qIEBfX1BVUkVfXyAqLyBLJDMobnVsbCk7XG5jb25zdCBGbG9hdGluZ1RyZWVDb250ZXh0ID0gLyogQF9fUFVSRV9fICovIEskMyhudWxsKTtcbmNvbnN0IHVzZUZsb2F0aW5nUGFyZW50Tm9kZUlkID0gKCkgPT4ge1xuICB2YXIgX1JlYWN0JHVzZUNvbnRleHQ7XG4gIHJldHVybiAoKF9SZWFjdCR1c2VDb250ZXh0ID0geCQ0KEZsb2F0aW5nTm9kZUNvbnRleHQpKSA9PSBudWxsID8gdm9pZCAwIDogX1JlYWN0JHVzZUNvbnRleHQuaWQpIHx8IG51bGw7XG59O1xuY29uc3QgdXNlRmxvYXRpbmdUcmVlID0gKCkgPT4geCQ0KEZsb2F0aW5nVHJlZUNvbnRleHQpO1xuY29uc3QgRk9DVVNBQkxFX0FUVFJJQlVURSA9IFwiZGF0YS1mbG9hdGluZy11aS1mb2N1c2FibGVcIjtcbmZ1bmN0aW9uIHVzZUZsb2F0aW5nUm9vdENvbnRleHQob3B0aW9ucykge1xuICBjb25zdCB7XG4gICAgb3BlbiA9IGZhbHNlLFxuICAgIG9uT3BlbkNoYW5nZTogb25PcGVuQ2hhbmdlUHJvcCxcbiAgICBlbGVtZW50czogZWxlbWVudHNQcm9wXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBmbG9hdGluZ0lkID0gdXNlSWQoKTtcbiAgY29uc3QgZGF0YVJlZiA9IEEkMyh7fSk7XG4gIGNvbnN0IFtldmVudHNdID0gZCQ0KCgpID0+IGNyZWF0ZVB1YlN1YigpKTtcbiAgY29uc3QgbmVzdGVkID0gdXNlRmxvYXRpbmdQYXJlbnROb2RlSWQoKSAhPSBudWxsO1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgY29uc3Qgb3B0aW9uRG9tUmVmZXJlbmNlID0gZWxlbWVudHNQcm9wLnJlZmVyZW5jZTtcbiAgICBpZiAob3B0aW9uRG9tUmVmZXJlbmNlICYmICFpc0VsZW1lbnQob3B0aW9uRG9tUmVmZXJlbmNlKSkge1xuICAgICAgZXJyb3IoXCJDYW5ub3QgcGFzcyBhIHZpcnR1YWwgZWxlbWVudCB0byB0aGUgYGVsZW1lbnRzLnJlZmVyZW5jZWAgb3B0aW9uLFwiLCBcImFzIGl0IG11c3QgYmUgYSByZWFsIERPTSBlbGVtZW50LiBVc2UgYHJlZnMuc2V0UG9zaXRpb25SZWZlcmVuY2UoKWBcIiwgXCJpbnN0ZWFkLlwiKTtcbiAgICB9XG4gIH1cbiAgY29uc3QgW3Bvc2l0aW9uUmVmZXJlbmNlLCBzZXRQb3NpdGlvblJlZmVyZW5jZV0gPSBkJDQoZWxlbWVudHNQcm9wLnJlZmVyZW5jZSk7XG4gIGNvbnN0IG9uT3BlbkNoYW5nZSA9IHVzZUVmZmVjdEV2ZW50KChvcGVuMiwgZXZlbnQsIHJlYXNvbikgPT4ge1xuICAgIGRhdGFSZWYuY3VycmVudC5vcGVuRXZlbnQgPSBvcGVuMiA/IGV2ZW50IDogdm9pZCAwO1xuICAgIGV2ZW50cy5lbWl0KFwib3BlbmNoYW5nZVwiLCB7XG4gICAgICBvcGVuOiBvcGVuMixcbiAgICAgIGV2ZW50LFxuICAgICAgcmVhc29uLFxuICAgICAgbmVzdGVkXG4gICAgfSk7XG4gICAgb25PcGVuQ2hhbmdlUHJvcCA9PSBudWxsIHx8IG9uT3BlbkNoYW5nZVByb3Aob3BlbjIsIGV2ZW50LCByZWFzb24pO1xuICB9KTtcbiAgY29uc3QgcmVmcyA9IFQkNSgoKSA9PiAoe1xuICAgIHNldFBvc2l0aW9uUmVmZXJlbmNlXG4gIH0pLCBbXSk7XG4gIGNvbnN0IGVsZW1lbnRzID0gVCQ1KCgpID0+ICh7XG4gICAgcmVmZXJlbmNlOiBwb3NpdGlvblJlZmVyZW5jZSB8fCBlbGVtZW50c1Byb3AucmVmZXJlbmNlIHx8IG51bGwsXG4gICAgZmxvYXRpbmc6IGVsZW1lbnRzUHJvcC5mbG9hdGluZyB8fCBudWxsLFxuICAgIGRvbVJlZmVyZW5jZTogZWxlbWVudHNQcm9wLnJlZmVyZW5jZVxuICB9KSwgW3Bvc2l0aW9uUmVmZXJlbmNlLCBlbGVtZW50c1Byb3AucmVmZXJlbmNlLCBlbGVtZW50c1Byb3AuZmxvYXRpbmddKTtcbiAgcmV0dXJuIFQkNSgoKSA9PiAoe1xuICAgIGRhdGFSZWYsXG4gICAgb3BlbixcbiAgICBvbk9wZW5DaGFuZ2UsXG4gICAgZWxlbWVudHMsXG4gICAgZXZlbnRzLFxuICAgIGZsb2F0aW5nSWQsXG4gICAgcmVmc1xuICB9KSwgW29wZW4sIG9uT3BlbkNoYW5nZSwgZWxlbWVudHMsIGV2ZW50cywgZmxvYXRpbmdJZCwgcmVmc10pO1xufVxuZnVuY3Rpb24gdXNlRmxvYXRpbmcob3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG4gIGNvbnN0IHtcbiAgICBub2RlSWRcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGludGVybmFsUm9vdENvbnRleHQgPSB1c2VGbG9hdGluZ1Jvb3RDb250ZXh0KHtcbiAgICAuLi5vcHRpb25zLFxuICAgIGVsZW1lbnRzOiB7XG4gICAgICByZWZlcmVuY2U6IG51bGwsXG4gICAgICBmbG9hdGluZzogbnVsbCxcbiAgICAgIC4uLm9wdGlvbnMuZWxlbWVudHNcbiAgICB9XG4gIH0pO1xuICBjb25zdCByb290Q29udGV4dCA9IG9wdGlvbnMucm9vdENvbnRleHQgfHwgaW50ZXJuYWxSb290Q29udGV4dDtcbiAgY29uc3QgY29tcHV0ZWRFbGVtZW50cyA9IHJvb3RDb250ZXh0LmVsZW1lbnRzO1xuICBjb25zdCBbX2RvbVJlZmVyZW5jZSwgc2V0RG9tUmVmZXJlbmNlXSA9IGQkNChudWxsKTtcbiAgY29uc3QgW3Bvc2l0aW9uUmVmZXJlbmNlLCBfc2V0UG9zaXRpb25SZWZlcmVuY2VdID0gZCQ0KG51bGwpO1xuICBjb25zdCBvcHRpb25Eb21SZWZlcmVuY2UgPSBjb21wdXRlZEVsZW1lbnRzID09IG51bGwgPyB2b2lkIDAgOiBjb21wdXRlZEVsZW1lbnRzLmRvbVJlZmVyZW5jZTtcbiAgY29uc3QgZG9tUmVmZXJlbmNlID0gb3B0aW9uRG9tUmVmZXJlbmNlIHx8IF9kb21SZWZlcmVuY2U7XG4gIGNvbnN0IGRvbVJlZmVyZW5jZVJlZiA9IEEkMyhudWxsKTtcbiAgY29uc3QgdHJlZSA9IHVzZUZsb2F0aW5nVHJlZSgpO1xuICBpbmRleCgoKSA9PiB7XG4gICAgaWYgKGRvbVJlZmVyZW5jZSkge1xuICAgICAgZG9tUmVmZXJlbmNlUmVmLmN1cnJlbnQgPSBkb21SZWZlcmVuY2U7XG4gICAgfVxuICB9LCBbZG9tUmVmZXJlbmNlXSk7XG4gIGNvbnN0IHBvc2l0aW9uID0gdXNlRmxvYXRpbmckMSh7XG4gICAgLi4ub3B0aW9ucyxcbiAgICBlbGVtZW50czoge1xuICAgICAgLi4uY29tcHV0ZWRFbGVtZW50cyxcbiAgICAgIC4uLnBvc2l0aW9uUmVmZXJlbmNlICYmIHtcbiAgICAgICAgcmVmZXJlbmNlOiBwb3NpdGlvblJlZmVyZW5jZVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIGNvbnN0IHNldFBvc2l0aW9uUmVmZXJlbmNlID0gcSQzKChub2RlKSA9PiB7XG4gICAgY29uc3QgY29tcHV0ZWRQb3NpdGlvblJlZmVyZW5jZSA9IGlzRWxlbWVudChub2RlKSA/IHtcbiAgICAgIGdldEJvdW5kaW5nQ2xpZW50UmVjdDogKCkgPT4gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgIGNvbnRleHRFbGVtZW50OiBub2RlXG4gICAgfSA6IG5vZGU7XG4gICAgX3NldFBvc2l0aW9uUmVmZXJlbmNlKGNvbXB1dGVkUG9zaXRpb25SZWZlcmVuY2UpO1xuICAgIHBvc2l0aW9uLnJlZnMuc2V0UmVmZXJlbmNlKGNvbXB1dGVkUG9zaXRpb25SZWZlcmVuY2UpO1xuICB9LCBbcG9zaXRpb24ucmVmc10pO1xuICBjb25zdCBzZXRSZWZlcmVuY2UgPSBxJDMoKG5vZGUpID0+IHtcbiAgICBpZiAoaXNFbGVtZW50KG5vZGUpIHx8IG5vZGUgPT09IG51bGwpIHtcbiAgICAgIGRvbVJlZmVyZW5jZVJlZi5jdXJyZW50ID0gbm9kZTtcbiAgICAgIHNldERvbVJlZmVyZW5jZShub2RlKTtcbiAgICB9XG4gICAgaWYgKGlzRWxlbWVudChwb3NpdGlvbi5yZWZzLnJlZmVyZW5jZS5jdXJyZW50KSB8fCBwb3NpdGlvbi5yZWZzLnJlZmVyZW5jZS5jdXJyZW50ID09PSBudWxsIHx8IC8vIERvbid0IGFsbG93IHNldHRpbmcgdmlydHVhbCBlbGVtZW50cyB1c2luZyB0aGUgb2xkIHRlY2huaXF1ZSBiYWNrIHRvXG4gICAgLy8gYG51bGxgIHRvIHN1cHBvcnQgYHBvc2l0aW9uUmVmZXJlbmNlYCArIGFuIHVuc3RhYmxlIGByZWZlcmVuY2VgXG4gICAgLy8gY2FsbGJhY2sgcmVmLlxuICAgIG5vZGUgIT09IG51bGwgJiYgIWlzRWxlbWVudChub2RlKSkge1xuICAgICAgcG9zaXRpb24ucmVmcy5zZXRSZWZlcmVuY2Uobm9kZSk7XG4gICAgfVxuICB9LCBbcG9zaXRpb24ucmVmc10pO1xuICBjb25zdCByZWZzID0gVCQ1KCgpID0+ICh7XG4gICAgLi4ucG9zaXRpb24ucmVmcyxcbiAgICBzZXRSZWZlcmVuY2UsXG4gICAgc2V0UG9zaXRpb25SZWZlcmVuY2UsXG4gICAgZG9tUmVmZXJlbmNlOiBkb21SZWZlcmVuY2VSZWZcbiAgfSksIFtwb3NpdGlvbi5yZWZzLCBzZXRSZWZlcmVuY2UsIHNldFBvc2l0aW9uUmVmZXJlbmNlXSk7XG4gIGNvbnN0IGVsZW1lbnRzID0gVCQ1KCgpID0+ICh7XG4gICAgLi4ucG9zaXRpb24uZWxlbWVudHMsXG4gICAgZG9tUmVmZXJlbmNlXG4gIH0pLCBbcG9zaXRpb24uZWxlbWVudHMsIGRvbVJlZmVyZW5jZV0pO1xuICBjb25zdCBjb250ZXh0ID0gVCQ1KCgpID0+ICh7XG4gICAgLi4ucG9zaXRpb24sXG4gICAgLi4ucm9vdENvbnRleHQsXG4gICAgcmVmcyxcbiAgICBlbGVtZW50cyxcbiAgICBub2RlSWRcbiAgfSksIFtwb3NpdGlvbiwgcmVmcywgZWxlbWVudHMsIG5vZGVJZCwgcm9vdENvbnRleHRdKTtcbiAgaW5kZXgoKCkgPT4ge1xuICAgIHJvb3RDb250ZXh0LmRhdGFSZWYuY3VycmVudC5mbG9hdGluZ0NvbnRleHQgPSBjb250ZXh0O1xuICAgIGNvbnN0IG5vZGUgPSB0cmVlID09IG51bGwgPyB2b2lkIDAgOiB0cmVlLm5vZGVzUmVmLmN1cnJlbnQuZmluZCgobm9kZTIpID0+IG5vZGUyLmlkID09PSBub2RlSWQpO1xuICAgIGlmIChub2RlKSB7XG4gICAgICBub2RlLmNvbnRleHQgPSBjb250ZXh0O1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBUJDUoKCkgPT4gKHtcbiAgICAuLi5wb3NpdGlvbixcbiAgICBjb250ZXh0LFxuICAgIHJlZnMsXG4gICAgZWxlbWVudHNcbiAgfSksIFtwb3NpdGlvbiwgcmVmcywgZWxlbWVudHMsIGNvbnRleHRdKTtcbn1cbmNvbnN0IEFDVElWRV9LRVkgPSBcImFjdGl2ZVwiO1xuY29uc3QgU0VMRUNURURfS0VZID0gXCJzZWxlY3RlZFwiO1xuZnVuY3Rpb24gbWVyZ2VQcm9wcyh1c2VyUHJvcHMsIHByb3BzTGlzdCwgZWxlbWVudEtleSkge1xuICBjb25zdCBtYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICBjb25zdCBpc0l0ZW0gPSBlbGVtZW50S2V5ID09PSBcIml0ZW1cIjtcbiAgbGV0IGRvbVVzZXJQcm9wcyA9IHVzZXJQcm9wcztcbiAgaWYgKGlzSXRlbSAmJiB1c2VyUHJvcHMpIHtcbiAgICBjb25zdCB7XG4gICAgICBbQUNUSVZFX0tFWV06IF8yLFxuICAgICAgW1NFTEVDVEVEX0tFWV06IF9fLFxuICAgICAgLi4udmFsaWRQcm9wc1xuICAgIH0gPSB1c2VyUHJvcHM7XG4gICAgZG9tVXNlclByb3BzID0gdmFsaWRQcm9wcztcbiAgfVxuICByZXR1cm4ge1xuICAgIC4uLmVsZW1lbnRLZXkgPT09IFwiZmxvYXRpbmdcIiAmJiB7XG4gICAgICB0YWJJbmRleDogLTEsXG4gICAgICBbRk9DVVNBQkxFX0FUVFJJQlVURV06IFwiXCJcbiAgICB9LFxuICAgIC4uLmRvbVVzZXJQcm9wcyxcbiAgICAuLi5wcm9wc0xpc3QubWFwKCh2YWx1ZSkgPT4ge1xuICAgICAgY29uc3QgcHJvcHNPckdldFByb3BzID0gdmFsdWUgPyB2YWx1ZVtlbGVtZW50S2V5XSA6IG51bGw7XG4gICAgICBpZiAodHlwZW9mIHByb3BzT3JHZXRQcm9wcyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiB1c2VyUHJvcHMgPyBwcm9wc09yR2V0UHJvcHModXNlclByb3BzKSA6IG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJvcHNPckdldFByb3BzO1xuICAgIH0pLmNvbmNhdCh1c2VyUHJvcHMpLnJlZHVjZSgoYWNjLCBwcm9wcykgPT4ge1xuICAgICAgaWYgKCFwcm9wcykge1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgfVxuICAgICAgT2JqZWN0LmVudHJpZXMocHJvcHMpLmZvckVhY2goKF9yZWYpID0+IHtcbiAgICAgICAgbGV0IFtrZXksIHZhbHVlXSA9IF9yZWY7XG4gICAgICAgIGlmIChpc0l0ZW0gJiYgW0FDVElWRV9LRVksIFNFTEVDVEVEX0tFWV0uaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoa2V5LmluZGV4T2YoXCJvblwiKSA9PT0gMCkge1xuICAgICAgICAgIGlmICghbWFwLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICBtYXAuc2V0KGtleSwgW10pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHZhciBfbWFwJGdldDtcbiAgICAgICAgICAgIChfbWFwJGdldCA9IG1hcC5nZXQoa2V5KSkgPT0gbnVsbCB8fCBfbWFwJGdldC5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgIGFjY1trZXldID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHZhciBfbWFwJGdldDI7XG4gICAgICAgICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIChfbWFwJGdldDIgPSBtYXAuZ2V0KGtleSkpID09IG51bGwgPyB2b2lkIDAgOiBfbWFwJGdldDIubWFwKChmbjIpID0+IGZuMiguLi5hcmdzKSkuZmluZCgodmFsKSA9PiB2YWwgIT09IHZvaWQgMCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhY2Nba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pXG4gIH07XG59XG5mdW5jdGlvbiB1c2VJbnRlcmFjdGlvbnMocHJvcHNMaXN0KSB7XG4gIGlmIChwcm9wc0xpc3QgPT09IHZvaWQgMCkge1xuICAgIHByb3BzTGlzdCA9IFtdO1xuICB9XG4gIGNvbnN0IHJlZmVyZW5jZURlcHMgPSBwcm9wc0xpc3QubWFwKChrZXkpID0+IGtleSA9PSBudWxsID8gdm9pZCAwIDoga2V5LnJlZmVyZW5jZSk7XG4gIGNvbnN0IGZsb2F0aW5nRGVwcyA9IHByb3BzTGlzdC5tYXAoKGtleSkgPT4ga2V5ID09IG51bGwgPyB2b2lkIDAgOiBrZXkuZmxvYXRpbmcpO1xuICBjb25zdCBpdGVtRGVwcyA9IHByb3BzTGlzdC5tYXAoKGtleSkgPT4ga2V5ID09IG51bGwgPyB2b2lkIDAgOiBrZXkuaXRlbSk7XG4gIGNvbnN0IGdldFJlZmVyZW5jZVByb3BzID0gcSQzKFxuICAgICh1c2VyUHJvcHMpID0+IG1lcmdlUHJvcHModXNlclByb3BzLCBwcm9wc0xpc3QsIFwicmVmZXJlbmNlXCIpLFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgICByZWZlcmVuY2VEZXBzXG4gICk7XG4gIGNvbnN0IGdldEZsb2F0aW5nUHJvcHMgPSBxJDMoXG4gICAgKHVzZXJQcm9wcykgPT4gbWVyZ2VQcm9wcyh1c2VyUHJvcHMsIHByb3BzTGlzdCwgXCJmbG9hdGluZ1wiKSxcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gICAgZmxvYXRpbmdEZXBzXG4gICk7XG4gIGNvbnN0IGdldEl0ZW1Qcm9wcyA9IHEkMyhcbiAgICAodXNlclByb3BzKSA9PiBtZXJnZVByb3BzKHVzZXJQcm9wcywgcHJvcHNMaXN0LCBcIml0ZW1cIiksXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICAgIGl0ZW1EZXBzXG4gICk7XG4gIHJldHVybiBUJDUoKCkgPT4gKHtcbiAgICBnZXRSZWZlcmVuY2VQcm9wcyxcbiAgICBnZXRGbG9hdGluZ1Byb3BzLFxuICAgIGdldEl0ZW1Qcm9wc1xuICB9KSwgW2dldFJlZmVyZW5jZVByb3BzLCBnZXRGbG9hdGluZ1Byb3BzLCBnZXRJdGVtUHJvcHNdKTtcbn1cbmZ1bmN0aW9uIGdldEFyZ3NXaXRoQ3VzdG9tRmxvYXRpbmdIZWlnaHQoc3RhdGUsIGhlaWdodCkge1xuICByZXR1cm4ge1xuICAgIC4uLnN0YXRlLFxuICAgIHJlY3RzOiB7XG4gICAgICAuLi5zdGF0ZS5yZWN0cyxcbiAgICAgIGZsb2F0aW5nOiB7XG4gICAgICAgIC4uLnN0YXRlLnJlY3RzLmZsb2F0aW5nLFxuICAgICAgICBoZWlnaHRcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5jb25zdCBpbm5lciA9IChwcm9wcykgPT4gKHtcbiAgbmFtZTogXCJpbm5lclwiLFxuICBvcHRpb25zOiBwcm9wcyxcbiAgYXN5bmMgZm4oc3RhdGUpIHtcbiAgICBjb25zdCB7XG4gICAgICBsaXN0UmVmLFxuICAgICAgb3ZlcmZsb3dSZWYsXG4gICAgICBvbkZhbGxiYWNrQ2hhbmdlLFxuICAgICAgb2Zmc2V0OiBpbm5lck9mZnNldCA9IDAsXG4gICAgICBpbmRleDogaW5kZXgyID0gMCxcbiAgICAgIG1pbkl0ZW1zVmlzaWJsZSA9IDQsXG4gICAgICByZWZlcmVuY2VPdmVyZmxvd1RocmVzaG9sZCA9IDAsXG4gICAgICBzY3JvbGxSZWYsXG4gICAgICAuLi5kZXRlY3RPdmVyZmxvd09wdGlvbnNcbiAgICB9ID0gZXZhbHVhdGUocHJvcHMsIHN0YXRlKTtcbiAgICBjb25zdCB7XG4gICAgICByZWN0cyxcbiAgICAgIGVsZW1lbnRzOiB7XG4gICAgICAgIGZsb2F0aW5nXG4gICAgICB9XG4gICAgfSA9IHN0YXRlO1xuICAgIGNvbnN0IGl0ZW0gPSBsaXN0UmVmLmN1cnJlbnRbaW5kZXgyXTtcbiAgICBjb25zdCBzY3JvbGxFbCA9IChzY3JvbGxSZWYgPT0gbnVsbCA/IHZvaWQgMCA6IHNjcm9sbFJlZi5jdXJyZW50KSB8fCBmbG9hdGluZztcbiAgICBjb25zdCBjbGllbnRUb3AgPSBmbG9hdGluZy5jbGllbnRUb3AgfHwgc2Nyb2xsRWwuY2xpZW50VG9wO1xuICAgIGNvbnN0IGZsb2F0aW5nSXNCb3JkZXJlZCA9IGZsb2F0aW5nLmNsaWVudFRvcCAhPT0gMDtcbiAgICBjb25zdCBzY3JvbGxFbElzQm9yZGVyZWQgPSBzY3JvbGxFbC5jbGllbnRUb3AgIT09IDA7XG4gICAgY29uc3QgZmxvYXRpbmdJc1Njcm9sbEVsID0gZmxvYXRpbmcgPT09IHNjcm9sbEVsO1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAgIGlmICghc3RhdGUucGxhY2VtZW50LnN0YXJ0c1dpdGgoXCJib3R0b21cIikpIHtcbiAgICAgICAgd2FybignYHBsYWNlbWVudGAgc2lkZSBtdXN0IGJlIFwiYm90dG9tXCIgd2hlbiB1c2luZyB0aGUgYGlubmVyYCcsIFwibWlkZGxld2FyZS5cIik7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghaXRlbSkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBjb25zdCBuZXh0QXJncyA9IHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgLi4uYXdhaXQgb2Zmc2V0KC1pdGVtLm9mZnNldFRvcCAtIGZsb2F0aW5nLmNsaWVudFRvcCAtIHJlY3RzLnJlZmVyZW5jZS5oZWlnaHQgLyAyIC0gaXRlbS5vZmZzZXRIZWlnaHQgLyAyIC0gaW5uZXJPZmZzZXQpLmZuKHN0YXRlKVxuICAgIH07XG4gICAgY29uc3Qgb3ZlcmZsb3cgPSBhd2FpdCBkZXRlY3RPdmVyZmxvdyhnZXRBcmdzV2l0aEN1c3RvbUZsb2F0aW5nSGVpZ2h0KG5leHRBcmdzLCBzY3JvbGxFbC5zY3JvbGxIZWlnaHQgKyBjbGllbnRUb3AgKyBmbG9hdGluZy5jbGllbnRUb3ApLCBkZXRlY3RPdmVyZmxvd09wdGlvbnMpO1xuICAgIGNvbnN0IHJlZk92ZXJmbG93ID0gYXdhaXQgZGV0ZWN0T3ZlcmZsb3cobmV4dEFyZ3MsIHtcbiAgICAgIC4uLmRldGVjdE92ZXJmbG93T3B0aW9ucyxcbiAgICAgIGVsZW1lbnRDb250ZXh0OiBcInJlZmVyZW5jZVwiXG4gICAgfSk7XG4gICAgY29uc3QgZGlmZlkgPSBtYXgoMCwgb3ZlcmZsb3cudG9wKTtcbiAgICBjb25zdCBuZXh0WSA9IG5leHRBcmdzLnkgKyBkaWZmWTtcbiAgICBjb25zdCBpc1Njcm9sbGFibGUgPSBzY3JvbGxFbC5zY3JvbGxIZWlnaHQgPiBzY3JvbGxFbC5jbGllbnRIZWlnaHQ7XG4gICAgY29uc3Qgcm91bmRlciA9IGlzU2Nyb2xsYWJsZSA/ICh2MikgPT4gdjIgOiByb3VuZDtcbiAgICBjb25zdCBtYXhIZWlnaHQgPSByb3VuZGVyKG1heCgwLCBzY3JvbGxFbC5zY3JvbGxIZWlnaHQgKyAoZmxvYXRpbmdJc0JvcmRlcmVkICYmIGZsb2F0aW5nSXNTY3JvbGxFbCB8fCBzY3JvbGxFbElzQm9yZGVyZWQgPyBjbGllbnRUb3AgKiAyIDogMCkgLSBkaWZmWSAtIG1heCgwLCBvdmVyZmxvdy5ib3R0b20pKSk7XG4gICAgc2Nyb2xsRWwuc3R5bGUubWF4SGVpZ2h0ID0gbWF4SGVpZ2h0ICsgXCJweFwiO1xuICAgIHNjcm9sbEVsLnNjcm9sbFRvcCA9IGRpZmZZO1xuICAgIGlmIChvbkZhbGxiYWNrQ2hhbmdlKSB7XG4gICAgICBjb25zdCBzaG91bGRGYWxsYmFjayA9IHNjcm9sbEVsLm9mZnNldEhlaWdodCA8IGl0ZW0ub2Zmc2V0SGVpZ2h0ICogbWluKG1pbkl0ZW1zVmlzaWJsZSwgbGlzdFJlZi5jdXJyZW50Lmxlbmd0aCkgLSAxIHx8IHJlZk92ZXJmbG93LnRvcCA+PSAtcmVmZXJlbmNlT3ZlcmZsb3dUaHJlc2hvbGQgfHwgcmVmT3ZlcmZsb3cuYm90dG9tID49IC1yZWZlcmVuY2VPdmVyZmxvd1RocmVzaG9sZDtcbiAgICAgIEVuKCgpID0+IG9uRmFsbGJhY2tDaGFuZ2Uoc2hvdWxkRmFsbGJhY2spKTtcbiAgICB9XG4gICAgaWYgKG92ZXJmbG93UmVmKSB7XG4gICAgICBvdmVyZmxvd1JlZi5jdXJyZW50ID0gYXdhaXQgZGV0ZWN0T3ZlcmZsb3coZ2V0QXJnc1dpdGhDdXN0b21GbG9hdGluZ0hlaWdodCh7XG4gICAgICAgIC4uLm5leHRBcmdzLFxuICAgICAgICB5OiBuZXh0WVxuICAgICAgfSwgc2Nyb2xsRWwub2Zmc2V0SGVpZ2h0ICsgY2xpZW50VG9wICsgZmxvYXRpbmcuY2xpZW50VG9wKSwgZGV0ZWN0T3ZlcmZsb3dPcHRpb25zKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHk6IG5leHRZXG4gICAgfTtcbiAgfVxufSk7XG5mdW5jdGlvbiB1c2VJbm5lck9mZnNldChjb250ZXh0LCBwcm9wcykge1xuICBjb25zdCB7XG4gICAgb3BlbixcbiAgICBlbGVtZW50c1xuICB9ID0gY29udGV4dDtcbiAgY29uc3Qge1xuICAgIGVuYWJsZWQgPSB0cnVlLFxuICAgIG92ZXJmbG93UmVmLFxuICAgIHNjcm9sbFJlZixcbiAgICBvbkNoYW5nZTogdW5zdGFibGVfb25DaGFuZ2VcbiAgfSA9IHByb3BzO1xuICBjb25zdCBvbkNoYW5nZSA9IHVzZUVmZmVjdEV2ZW50KHVuc3RhYmxlX29uQ2hhbmdlKTtcbiAgY29uc3QgY29udHJvbGxlZFNjcm9sbGluZ1JlZiA9IEEkMyhmYWxzZSk7XG4gIGNvbnN0IHByZXZTY3JvbGxUb3BSZWYgPSBBJDMobnVsbCk7XG4gIGNvbnN0IGluaXRpYWxPdmVyZmxvd1JlZiA9IEEkMyhudWxsKTtcbiAgeSQ2KCgpID0+IHtcbiAgICBpZiAoIWVuYWJsZWQpIHJldHVybjtcbiAgICBmdW5jdGlvbiBvbldoZWVsKGUyKSB7XG4gICAgICBpZiAoZTIuY3RybEtleSB8fCAhZWwgfHwgb3ZlcmZsb3dSZWYuY3VycmVudCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRZID0gZTIuZGVsdGFZO1xuICAgICAgY29uc3QgaXNBdFRvcCA9IG92ZXJmbG93UmVmLmN1cnJlbnQudG9wID49IC0wLjU7XG4gICAgICBjb25zdCBpc0F0Qm90dG9tID0gb3ZlcmZsb3dSZWYuY3VycmVudC5ib3R0b20gPj0gLTAuNTtcbiAgICAgIGNvbnN0IHJlbWFpbmluZ1Njcm9sbCA9IGVsLnNjcm9sbEhlaWdodCAtIGVsLmNsaWVudEhlaWdodDtcbiAgICAgIGNvbnN0IHNpZ24gPSBkWSA8IDAgPyAtMSA6IDE7XG4gICAgICBjb25zdCBtZXRob2QgPSBkWSA8IDAgPyBcIm1heFwiIDogXCJtaW5cIjtcbiAgICAgIGlmIChlbC5zY3JvbGxIZWlnaHQgPD0gZWwuY2xpZW50SGVpZ2h0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghaXNBdFRvcCAmJiBkWSA+IDAgfHwgIWlzQXRCb3R0b20gJiYgZFkgPCAwKSB7XG4gICAgICAgIGUyLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIEVuKCgpID0+IHtcbiAgICAgICAgICBvbkNoYW5nZSgoZDIpID0+IGQyICsgTWF0aFttZXRob2RdKGRZLCByZW1haW5pbmdTY3JvbGwgKiBzaWduKSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmICgvZmlyZWZveC9pLnRlc3QoZ2V0VXNlckFnZW50KCkpKSB7XG4gICAgICAgIGVsLnNjcm9sbFRvcCArPSBkWTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgZWwgPSAoc2Nyb2xsUmVmID09IG51bGwgPyB2b2lkIDAgOiBzY3JvbGxSZWYuY3VycmVudCkgfHwgZWxlbWVudHMuZmxvYXRpbmc7XG4gICAgaWYgKG9wZW4gJiYgZWwpIHtcbiAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJ3aGVlbFwiLCBvbldoZWVsKTtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIHByZXZTY3JvbGxUb3BSZWYuY3VycmVudCA9IGVsLnNjcm9sbFRvcDtcbiAgICAgICAgaWYgKG92ZXJmbG93UmVmLmN1cnJlbnQgIT0gbnVsbCkge1xuICAgICAgICAgIGluaXRpYWxPdmVyZmxvd1JlZi5jdXJyZW50ID0ge1xuICAgICAgICAgICAgLi4ub3ZlcmZsb3dSZWYuY3VycmVudFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgcHJldlNjcm9sbFRvcFJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgaW5pdGlhbE92ZXJmbG93UmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKFwid2hlZWxcIiwgb25XaGVlbCk7XG4gICAgICB9O1xuICAgIH1cbiAgfSwgW2VuYWJsZWQsIG9wZW4sIGVsZW1lbnRzLmZsb2F0aW5nLCBvdmVyZmxvd1JlZiwgc2Nyb2xsUmVmLCBvbkNoYW5nZV0pO1xuICBjb25zdCBmbG9hdGluZyA9IFQkNSgoKSA9PiAoe1xuICAgIG9uS2V5RG93bigpIHtcbiAgICAgIGNvbnRyb2xsZWRTY3JvbGxpbmdSZWYuY3VycmVudCA9IHRydWU7XG4gICAgfSxcbiAgICBvbldoZWVsKCkge1xuICAgICAgY29udHJvbGxlZFNjcm9sbGluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgfSxcbiAgICBvblBvaW50ZXJNb3ZlKCkge1xuICAgICAgY29udHJvbGxlZFNjcm9sbGluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgfSxcbiAgICBvblNjcm9sbCgpIHtcbiAgICAgIGNvbnN0IGVsID0gKHNjcm9sbFJlZiA9PSBudWxsID8gdm9pZCAwIDogc2Nyb2xsUmVmLmN1cnJlbnQpIHx8IGVsZW1lbnRzLmZsb2F0aW5nO1xuICAgICAgaWYgKCFvdmVyZmxvd1JlZi5jdXJyZW50IHx8ICFlbCB8fCAhY29udHJvbGxlZFNjcm9sbGluZ1JlZi5jdXJyZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChwcmV2U2Nyb2xsVG9wUmVmLmN1cnJlbnQgIT09IG51bGwpIHtcbiAgICAgICAgY29uc3Qgc2Nyb2xsRGlmZiA9IGVsLnNjcm9sbFRvcCAtIHByZXZTY3JvbGxUb3BSZWYuY3VycmVudDtcbiAgICAgICAgaWYgKG92ZXJmbG93UmVmLmN1cnJlbnQuYm90dG9tIDwgLTAuNSAmJiBzY3JvbGxEaWZmIDwgLTEgfHwgb3ZlcmZsb3dSZWYuY3VycmVudC50b3AgPCAtMC41ICYmIHNjcm9sbERpZmYgPiAxKSB7XG4gICAgICAgICAgRW4oKCkgPT4gb25DaGFuZ2UoKGQyKSA9PiBkMiArIHNjcm9sbERpZmYpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgcHJldlNjcm9sbFRvcFJlZi5jdXJyZW50ID0gZWwuc2Nyb2xsVG9wO1xuICAgICAgfSk7XG4gICAgfVxuICB9KSwgW2VsZW1lbnRzLmZsb2F0aW5nLCBvbkNoYW5nZSwgb3ZlcmZsb3dSZWYsIHNjcm9sbFJlZl0pO1xuICByZXR1cm4gVCQ1KCgpID0+IGVuYWJsZWQgPyB7XG4gICAgZmxvYXRpbmdcbiAgfSA6IHt9LCBbZW5hYmxlZCwgZmxvYXRpbmddKTtcbn1cbmxldCB5JDIgPSBLJDMoeyBzdHlsZXM6IHZvaWQgMCwgc2V0UmVmZXJlbmNlOiAoKSA9PiB7XG59LCBzZXRGbG9hdGluZzogKCkgPT4ge1xufSwgZ2V0UmVmZXJlbmNlUHJvcHM6ICgpID0+ICh7fSksIGdldEZsb2F0aW5nUHJvcHM6ICgpID0+ICh7fSksIHNsb3Q6IHt9IH0pO1xueSQyLmRpc3BsYXlOYW1lID0gXCJGbG9hdGluZ0NvbnRleHRcIjtcbmxldCBIJDEgPSBLJDMobnVsbCk7XG5IJDEuZGlzcGxheU5hbWUgPSBcIlBsYWNlbWVudENvbnRleHRcIjtcbmZ1bmN0aW9uIHhlKGUyKSB7XG4gIHJldHVybiBUJDUoKCkgPT4gZTIgPyB0eXBlb2YgZTIgPT0gXCJzdHJpbmdcIiA/IHsgdG86IGUyIH0gOiBlMiA6IG51bGwsIFtlMl0pO1xufVxuZnVuY3Rpb24geWUoKSB7XG4gIHJldHVybiB4JDQoeSQyKS5zZXRSZWZlcmVuY2U7XG59XG5mdW5jdGlvbiBGZSgpIHtcbiAgcmV0dXJuIHgkNCh5JDIpLmdldFJlZmVyZW5jZVByb3BzO1xufVxuZnVuY3Rpb24gYmUoKSB7XG4gIGxldCB7IGdldEZsb2F0aW5nUHJvcHM6IGUyLCBzbG90OiB0MiB9ID0geCQ0KHkkMik7XG4gIHJldHVybiBxJDMoKC4uLm4yKSA9PiBPYmplY3QuYXNzaWduKHt9LCBlMiguLi5uMiksIHsgXCJkYXRhLWFuY2hvclwiOiB0Mi5hbmNob3IgfSksIFtlMiwgdDJdKTtcbn1cbmZ1bmN0aW9uIFJlKGUyID0gbnVsbCkge1xuICBlMiA9PT0gZmFsc2UgJiYgKGUyID0gbnVsbCksIHR5cGVvZiBlMiA9PSBcInN0cmluZ1wiICYmIChlMiA9IHsgdG86IGUyIH0pO1xuICBsZXQgdDIgPSB4JDQoSCQxKSwgbjIgPSBUJDUoKCkgPT4gZTIsIFtKU09OLnN0cmluZ2lmeShlMiwgKHIyLCBvMykgPT4ge1xuICAgIHZhciB1MjtcbiAgICByZXR1cm4gKHUyID0gbzMgPT0gbnVsbCA/IHZvaWQgMCA6IG8zLm91dGVySFRNTCkgIT0gbnVsbCA/IHUyIDogbzM7XG4gIH0pXSk7XG4gIG4kMygoKSA9PiB7XG4gICAgdDIgPT0gbnVsbCB8fCB0MihuMiAhPSBudWxsID8gbjIgOiBudWxsKTtcbiAgfSwgW3QyLCBuMl0pO1xuICBsZXQgbDIgPSB4JDQoeSQyKTtcbiAgcmV0dXJuIFQkNSgoKSA9PiBbbDIuc2V0RmxvYXRpbmcsIGUyID8gbDIuc3R5bGVzIDoge31dLCBbbDIuc2V0RmxvYXRpbmcsIGUyLCBsMi5zdHlsZXNdKTtcbn1cbmxldCBxJDEgPSA0O1xuZnVuY3Rpb24gTWUoeyBjaGlsZHJlbjogZTIsIGVuYWJsZWQ6IHQyID0gdHJ1ZSB9KSB7XG4gIGxldCBbbjIsIGwyXSA9IGQkNChudWxsKSwgW3IyLCBvM10gPSBkJDQoMCksIHUyID0gQSQzKG51bGwpLCBbZjIsIHMyXSA9IGQkNChudWxsKTtcbiAgcGUoZjIpO1xuICBsZXQgaTIgPSB0MiAmJiBuMiAhPT0gbnVsbCAmJiBmMiAhPT0gbnVsbCwgeyB0bzogRjIgPSBcImJvdHRvbVwiLCBnYXA6IEUyID0gMCwgb2Zmc2V0OiB2MiA9IDAsIHBhZGRpbmc6IGMyID0gMCwgaW5uZXI6IFAyIH0gPSBjZShuMiwgZjIpLCBbYTMsIHAyID0gXCJjZW50ZXJcIl0gPSBGMi5zcGxpdChcIiBcIik7XG4gIG4kMygoKSA9PiB7XG4gICAgaTIgJiYgbzMoMCk7XG4gIH0sIFtpMl0pO1xuICBsZXQgeyByZWZzOiBiMiwgZmxvYXRpbmdTdHlsZXM6IHcyLCBjb250ZXh0OiBnMiB9ID0gdXNlRmxvYXRpbmcoeyBvcGVuOiBpMiwgcGxhY2VtZW50OiBhMyA9PT0gXCJzZWxlY3Rpb25cIiA/IHAyID09PSBcImNlbnRlclwiID8gXCJib3R0b21cIiA6IGBib3R0b20tJHtwMn1gIDogcDIgPT09IFwiY2VudGVyXCIgPyBgJHthM31gIDogYCR7YTN9LSR7cDJ9YCwgc3RyYXRlZ3k6IFwiYWJzb2x1dGVcIiwgdHJhbnNmb3JtOiBmYWxzZSwgbWlkZGxld2FyZTogW29mZnNldCh7IG1haW5BeGlzOiBhMyA9PT0gXCJzZWxlY3Rpb25cIiA/IDAgOiBFMiwgY3Jvc3NBeGlzOiB2MiB9KSwgc2hpZnQoeyBwYWRkaW5nOiBjMiB9KSwgYTMgIT09IFwic2VsZWN0aW9uXCIgJiYgZmxpcCh7IHBhZGRpbmc6IGMyIH0pLCBhMyA9PT0gXCJzZWxlY3Rpb25cIiAmJiBQMiA/IGlubmVyKHsgLi4uUDIsIHBhZGRpbmc6IGMyLCBvdmVyZmxvd1JlZjogdTIsIG9mZnNldDogcjIsIG1pbkl0ZW1zVmlzaWJsZTogcSQxLCByZWZlcmVuY2VPdmVyZmxvd1RocmVzaG9sZDogYzIsIG9uRmFsbGJhY2tDaGFuZ2UoaDIpIHtcbiAgICB2YXIgTzIsIFcyO1xuICAgIGlmICghaDIpIHJldHVybjtcbiAgICBsZXQgZDIgPSBnMi5lbGVtZW50cy5mbG9hdGluZztcbiAgICBpZiAoIWQyKSByZXR1cm47XG4gICAgbGV0IFQyID0gcGFyc2VGbG9hdChnZXRDb21wdXRlZFN0eWxlKGQyKS5zY3JvbGxQYWRkaW5nQm90dG9tKSB8fCAwLCAkMiA9IE1hdGgubWluKHEkMSwgZDIuY2hpbGRFbGVtZW50Q291bnQpLCBMMiA9IDAsIE4yID0gMDtcbiAgICBmb3IgKGxldCBtMiBvZiAoVzIgPSAoTzIgPSBnMi5lbGVtZW50cy5mbG9hdGluZykgPT0gbnVsbCA/IHZvaWQgMCA6IE8yLmNoaWxkTm9kZXMpICE9IG51bGwgPyBXMiA6IFtdKSBpZiAobTIgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgbGV0IHgyID0gbTIub2Zmc2V0VG9wLCBrMiA9IHgyICsgbTIuY2xpZW50SGVpZ2h0ICsgVDIsIFMyID0gZDIuc2Nyb2xsVG9wLCBVMiA9IFMyICsgZDIuY2xpZW50SGVpZ2h0O1xuICAgICAgaWYgKHgyID49IFMyICYmIGsyIDw9IFUyKSAkMi0tO1xuICAgICAgZWxzZSB7XG4gICAgICAgIE4yID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oazIsIFUyKSAtIE1hdGgubWF4KHgyLCBTMikpLCBMMiA9IG0yLmNsaWVudEhlaWdodDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgICQyID49IDEgJiYgbzMoKG0yKSA9PiB7XG4gICAgICBsZXQgeDIgPSBMMiAqICQyIC0gTjIgKyBUMjtcbiAgICAgIHJldHVybiBtMiA+PSB4MiA/IG0yIDogeDI7XG4gICAgfSk7XG4gIH0gfSkgOiBudWxsLCBzaXplKHsgcGFkZGluZzogYzIsIGFwcGx5KHsgYXZhaWxhYmxlV2lkdGg6IGgyLCBhdmFpbGFibGVIZWlnaHQ6IGQyLCBlbGVtZW50czogVDIgfSkge1xuICAgIE9iamVjdC5hc3NpZ24oVDIuZmxvYXRpbmcuc3R5bGUsIHsgb3ZlcmZsb3c6IFwiYXV0b1wiLCBtYXhXaWR0aDogYCR7aDJ9cHhgLCBtYXhIZWlnaHQ6IGBtaW4odmFyKC0tYW5jaG9yLW1heC1oZWlnaHQsIDEwMHZoKSwgJHtkMn1weClgIH0pO1xuICB9IH0pXS5maWx0ZXIoQm9vbGVhbiksIHdoaWxlRWxlbWVudHNNb3VudGVkOiBhdXRvVXBkYXRlIH0pLCBbSTIgPSBhMywgQjIgPSBwMl0gPSBnMi5wbGFjZW1lbnQuc3BsaXQoXCItXCIpO1xuICBhMyA9PT0gXCJzZWxlY3Rpb25cIiAmJiAoSTIgPSBcInNlbGVjdGlvblwiKTtcbiAgbGV0IEcyID0gVCQ1KCgpID0+ICh7IGFuY2hvcjogW0kyLCBCMl0uZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCIgXCIpIH0pLCBbSTIsIEIyXSksIEsyID0gdXNlSW5uZXJPZmZzZXQoZzIsIHsgb3ZlcmZsb3dSZWY6IHUyLCBvbkNoYW5nZTogbzMgfSksIHsgZ2V0UmVmZXJlbmNlUHJvcHM6IFEyLCBnZXRGbG9hdGluZ1Byb3BzOiBYMiB9ID0gdXNlSW50ZXJhY3Rpb25zKFtLMl0pLCBZMiA9IG8kNCgoaDIpID0+IHtcbiAgICBzMihoMiksIGIyLnNldEZsb2F0aW5nKGgyKTtcbiAgfSk7XG4gIHJldHVybiBfJDQoSCQxLlByb3ZpZGVyLCB7IHZhbHVlOiBsMiB9LCBfJDQoeSQyLlByb3ZpZGVyLCB7IHZhbHVlOiB7IHNldEZsb2F0aW5nOiBZMiwgc2V0UmVmZXJlbmNlOiBiMi5zZXRSZWZlcmVuY2UsIHN0eWxlczogdzIsIGdldFJlZmVyZW5jZVByb3BzOiBRMiwgZ2V0RmxvYXRpbmdQcm9wczogWDIsIHNsb3Q6IEcyIH0gfSwgZTIpKTtcbn1cbmZ1bmN0aW9uIHBlKGUyKSB7XG4gIG4kMygoKSA9PiB7XG4gICAgaWYgKCFlMikgcmV0dXJuO1xuICAgIGxldCB0MiA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKCgpID0+IHtcbiAgICAgIGxldCBuMiA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGUyKS5tYXhIZWlnaHQsIGwyID0gcGFyc2VGbG9hdChuMik7XG4gICAgICBpZiAoaXNOYU4obDIpKSByZXR1cm47XG4gICAgICBsZXQgcjIgPSBwYXJzZUludChuMik7XG4gICAgICBpc05hTihyMikgfHwgbDIgIT09IHIyICYmIChlMi5zdHlsZS5tYXhIZWlnaHQgPSBgJHtNYXRoLmNlaWwobDIpfXB4YCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHQyLm9ic2VydmUoZTIsIHsgYXR0cmlidXRlczogdHJ1ZSwgYXR0cmlidXRlRmlsdGVyOiBbXCJzdHlsZVwiXSB9KSwgKCkgPT4ge1xuICAgICAgdDIuZGlzY29ubmVjdCgpO1xuICAgIH07XG4gIH0sIFtlMl0pO1xufVxuZnVuY3Rpb24gY2UoZTIsIHQyKSB7XG4gIHZhciBvMywgdTIsIGYyO1xuICBsZXQgbjIgPSBWKChvMyA9IGUyID09IG51bGwgPyB2b2lkIDAgOiBlMi5nYXApICE9IG51bGwgPyBvMyA6IFwidmFyKC0tYW5jaG9yLWdhcCwgMClcIiwgdDIpLCBsMiA9IFYoKHUyID0gZTIgPT0gbnVsbCA/IHZvaWQgMCA6IGUyLm9mZnNldCkgIT0gbnVsbCA/IHUyIDogXCJ2YXIoLS1hbmNob3Itb2Zmc2V0LCAwKVwiLCB0MiksIHIyID0gVigoZjIgPSBlMiA9PSBudWxsID8gdm9pZCAwIDogZTIucGFkZGluZykgIT0gbnVsbCA/IGYyIDogXCJ2YXIoLS1hbmNob3ItcGFkZGluZywgMClcIiwgdDIpO1xuICByZXR1cm4geyAuLi5lMiwgZ2FwOiBuMiwgb2Zmc2V0OiBsMiwgcGFkZGluZzogcjIgfTtcbn1cbmZ1bmN0aW9uIFYoZTIsIHQyLCBuMiA9IHZvaWQgMCkge1xuICBsZXQgbDIgPSBwJDIoKSwgcjIgPSBvJDQoKHMyLCBpMikgPT4ge1xuICAgIGlmIChzMiA9PSBudWxsKSByZXR1cm4gW24yLCBudWxsXTtcbiAgICBpZiAodHlwZW9mIHMyID09IFwibnVtYmVyXCIpIHJldHVybiBbczIsIG51bGxdO1xuICAgIGlmICh0eXBlb2YgczIgPT0gXCJzdHJpbmdcIikge1xuICAgICAgaWYgKCFpMikgcmV0dXJuIFtuMiwgbnVsbF07XG4gICAgICBsZXQgRjIgPSBKJDIoczIsIGkyKTtcbiAgICAgIHJldHVybiBbRjIsIChFMikgPT4ge1xuICAgICAgICBsZXQgdjIgPSBEKHMyKTtcbiAgICAgICAge1xuICAgICAgICAgIGxldCBjMiA9IHYyLm1hcCgoUDIpID0+IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGkyKS5nZXRQcm9wZXJ0eVZhbHVlKFAyKSk7XG4gICAgICAgICAgbDIucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uIFAyKCkge1xuICAgICAgICAgICAgbDIubmV4dEZyYW1lKFAyKTtcbiAgICAgICAgICAgIGxldCBhMyA9IGZhbHNlO1xuICAgICAgICAgICAgZm9yIChsZXQgW2IyLCB3Ml0gb2YgdjIuZW50cmllcygpKSB7XG4gICAgICAgICAgICAgIGxldCBnMiA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGkyKS5nZXRQcm9wZXJ0eVZhbHVlKHcyKTtcbiAgICAgICAgICAgICAgaWYgKGMyW2IyXSAhPT0gZzIpIHtcbiAgICAgICAgICAgICAgICBjMltiMl0gPSBnMiwgYTMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWEzKSByZXR1cm47XG4gICAgICAgICAgICBsZXQgcDIgPSBKJDIoczIsIGkyKTtcbiAgICAgICAgICAgIEYyICE9PSBwMiAmJiAoRTIocDIpLCBGMiA9IHAyKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbDIuZGlzcG9zZTtcbiAgICAgIH1dO1xuICAgIH1cbiAgICByZXR1cm4gW24yLCBudWxsXTtcbiAgfSksIG8zID0gVCQ1KCgpID0+IHIyKGUyLCB0MilbMF0sIFtlMiwgdDJdKSwgW3UyID0gbzMsIGYyXSA9IGQkNCgpO1xuICByZXR1cm4gbiQzKCgpID0+IHtcbiAgICBsZXQgW3MyLCBpMl0gPSByMihlMiwgdDIpO1xuICAgIGlmIChmMihzMiksICEhaTIpIHJldHVybiBpMihmMik7XG4gIH0sIFtlMiwgdDJdKSwgdTI7XG59XG5mdW5jdGlvbiBEKGUyKSB7XG4gIGxldCB0MiA9IC92YXJcXCgoLiopXFwpLy5leGVjKGUyKTtcbiAgaWYgKHQyKSB7XG4gICAgbGV0IG4yID0gdDJbMV0uaW5kZXhPZihcIixcIik7XG4gICAgaWYgKG4yID09PSAtMSkgcmV0dXJuIFt0MlsxXV07XG4gICAgbGV0IGwyID0gdDJbMV0uc2xpY2UoMCwgbjIpLnRyaW0oKSwgcjIgPSB0MlsxXS5zbGljZShuMiArIDEpLnRyaW0oKTtcbiAgICByZXR1cm4gcjIgPyBbbDIsIC4uLkQocjIpXSA6IFtsMl07XG4gIH1cbiAgcmV0dXJuIFtdO1xufVxuZnVuY3Rpb24gSiQyKGUyLCB0Mikge1xuICBsZXQgbjIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICB0Mi5hcHBlbmRDaGlsZChuMiksIG4yLnN0eWxlLnNldFByb3BlcnR5KFwibWFyZ2luLXRvcFwiLCBcIjBweFwiLCBcImltcG9ydGFudFwiKSwgbjIuc3R5bGUuc2V0UHJvcGVydHkoXCJtYXJnaW4tdG9wXCIsIGUyLCBcImltcG9ydGFudFwiKTtcbiAgbGV0IGwyID0gcGFyc2VGbG9hdCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShuMikubWFyZ2luVG9wKSB8fCAwO1xuICByZXR1cm4gdDIucmVtb3ZlQ2hpbGQobjIpLCBsMjtcbn1cbmxldCBuID0gSyQzKG51bGwpO1xubi5kaXNwbGF5TmFtZSA9IFwiT3BlbkNsb3NlZENvbnRleHRcIjtcbnZhciBpJDIgPSAoKGUyKSA9PiAoZTJbZTIuT3BlbiA9IDFdID0gXCJPcGVuXCIsIGUyW2UyLkNsb3NlZCA9IDJdID0gXCJDbG9zZWRcIiwgZTJbZTIuQ2xvc2luZyA9IDRdID0gXCJDbG9zaW5nXCIsIGUyW2UyLk9wZW5pbmcgPSA4XSA9IFwiT3BlbmluZ1wiLCBlMikpKGkkMiB8fCB7fSk7XG5mdW5jdGlvbiB1JDIoKSB7XG4gIHJldHVybiB4JDQobik7XG59XG5mdW5jdGlvbiBjJDMoeyB2YWx1ZTogbzMsIGNoaWxkcmVuOiB0MiB9KSB7XG4gIHJldHVybiBSbi5jcmVhdGVFbGVtZW50KG4uUHJvdmlkZXIsIHsgdmFsdWU6IG8zIH0sIHQyKTtcbn1cbnZhciB3aXRoU2VsZWN0b3IgPSB7IGV4cG9ydHM6IHt9IH07XG52YXIgdXNlU3luY0V4dGVybmFsU3RvcmVXaXRoU2VsZWN0b3JfcHJvZHVjdGlvbiA9IHt9O1xuLyoqXG4gKiBAbGljZW5zZSBSZWFjdFxuICogdXNlLXN5bmMtZXh0ZXJuYWwtc3RvcmUtd2l0aC1zZWxlY3Rvci5wcm9kdWN0aW9uLmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xudmFyIGhhc1JlcXVpcmVkVXNlU3luY0V4dGVybmFsU3RvcmVXaXRoU2VsZWN0b3JfcHJvZHVjdGlvbjtcbmZ1bmN0aW9uIHJlcXVpcmVVc2VTeW5jRXh0ZXJuYWxTdG9yZVdpdGhTZWxlY3Rvcl9wcm9kdWN0aW9uKCkge1xuICBpZiAoaGFzUmVxdWlyZWRVc2VTeW5jRXh0ZXJuYWxTdG9yZVdpdGhTZWxlY3Rvcl9wcm9kdWN0aW9uKSByZXR1cm4gdXNlU3luY0V4dGVybmFsU3RvcmVXaXRoU2VsZWN0b3JfcHJvZHVjdGlvbjtcbiAgaGFzUmVxdWlyZWRVc2VTeW5jRXh0ZXJuYWxTdG9yZVdpdGhTZWxlY3Rvcl9wcm9kdWN0aW9uID0gMTtcbiAgdmFyIFJlYWN0ID0gdCQ0O1xuICBmdW5jdGlvbiBpcyh4MiwgeTIpIHtcbiAgICByZXR1cm4geDIgPT09IHkyICYmICgwICE9PSB4MiB8fCAxIC8geDIgPT09IDEgLyB5MikgfHwgeDIgIT09IHgyICYmIHkyICE9PSB5MjtcbiAgfVxuICB2YXIgb2JqZWN0SXMgPSBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBPYmplY3QuaXMgPyBPYmplY3QuaXMgOiBpcywgdXNlU3luY0V4dGVybmFsU3RvcmUgPSBSZWFjdC51c2VTeW5jRXh0ZXJuYWxTdG9yZSwgdXNlUmVmID0gUmVhY3QudXNlUmVmLCB1c2VFZmZlY3QgPSBSZWFjdC51c2VFZmZlY3QsIHVzZU1lbW8gPSBSZWFjdC51c2VNZW1vLCB1c2VEZWJ1Z1ZhbHVlID0gUmVhY3QudXNlRGVidWdWYWx1ZTtcbiAgdXNlU3luY0V4dGVybmFsU3RvcmVXaXRoU2VsZWN0b3JfcHJvZHVjdGlvbi51c2VTeW5jRXh0ZXJuYWxTdG9yZVdpdGhTZWxlY3RvciA9IGZ1bmN0aW9uKHN1YnNjcmliZSwgZ2V0U25hcHNob3QsIGdldFNlcnZlclNuYXBzaG90LCBzZWxlY3RvciwgaXNFcXVhbCkge1xuICAgIHZhciBpbnN0UmVmID0gdXNlUmVmKG51bGwpO1xuICAgIGlmIChudWxsID09PSBpbnN0UmVmLmN1cnJlbnQpIHtcbiAgICAgIHZhciBpbnN0ID0geyBoYXNWYWx1ZTogZmFsc2UsIHZhbHVlOiBudWxsIH07XG4gICAgICBpbnN0UmVmLmN1cnJlbnQgPSBpbnN0O1xuICAgIH0gZWxzZSBpbnN0ID0gaW5zdFJlZi5jdXJyZW50O1xuICAgIGluc3RSZWYgPSB1c2VNZW1vKFxuICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgIGZ1bmN0aW9uIG1lbW9pemVkU2VsZWN0b3IobmV4dFNuYXBzaG90KSB7XG4gICAgICAgICAgaWYgKCFoYXNNZW1vKSB7XG4gICAgICAgICAgICBoYXNNZW1vID0gdHJ1ZTtcbiAgICAgICAgICAgIG1lbW9pemVkU25hcHNob3QgPSBuZXh0U25hcHNob3Q7XG4gICAgICAgICAgICBuZXh0U25hcHNob3QgPSBzZWxlY3RvcihuZXh0U25hcHNob3QpO1xuICAgICAgICAgICAgaWYgKHZvaWQgMCAhPT0gaXNFcXVhbCAmJiBpbnN0Lmhhc1ZhbHVlKSB7XG4gICAgICAgICAgICAgIHZhciBjdXJyZW50U2VsZWN0aW9uID0gaW5zdC52YWx1ZTtcbiAgICAgICAgICAgICAgaWYgKGlzRXF1YWwoY3VycmVudFNlbGVjdGlvbiwgbmV4dFNuYXBzaG90KSlcbiAgICAgICAgICAgICAgICByZXR1cm4gbWVtb2l6ZWRTZWxlY3Rpb24gPSBjdXJyZW50U2VsZWN0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1lbW9pemVkU2VsZWN0aW9uID0gbmV4dFNuYXBzaG90O1xuICAgICAgICAgIH1cbiAgICAgICAgICBjdXJyZW50U2VsZWN0aW9uID0gbWVtb2l6ZWRTZWxlY3Rpb247XG4gICAgICAgICAgaWYgKG9iamVjdElzKG1lbW9pemVkU25hcHNob3QsIG5leHRTbmFwc2hvdCkpIHJldHVybiBjdXJyZW50U2VsZWN0aW9uO1xuICAgICAgICAgIHZhciBuZXh0U2VsZWN0aW9uID0gc2VsZWN0b3IobmV4dFNuYXBzaG90KTtcbiAgICAgICAgICBpZiAodm9pZCAwICE9PSBpc0VxdWFsICYmIGlzRXF1YWwoY3VycmVudFNlbGVjdGlvbiwgbmV4dFNlbGVjdGlvbikpXG4gICAgICAgICAgICByZXR1cm4gbWVtb2l6ZWRTbmFwc2hvdCA9IG5leHRTbmFwc2hvdCwgY3VycmVudFNlbGVjdGlvbjtcbiAgICAgICAgICBtZW1vaXplZFNuYXBzaG90ID0gbmV4dFNuYXBzaG90O1xuICAgICAgICAgIHJldHVybiBtZW1vaXplZFNlbGVjdGlvbiA9IG5leHRTZWxlY3Rpb247XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGhhc01lbW8gPSBmYWxzZSwgbWVtb2l6ZWRTbmFwc2hvdCwgbWVtb2l6ZWRTZWxlY3Rpb24sIG1heWJlR2V0U2VydmVyU25hcHNob3QgPSB2b2lkIDAgPT09IGdldFNlcnZlclNuYXBzaG90ID8gbnVsbCA6IGdldFNlcnZlclNuYXBzaG90O1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIG1lbW9pemVkU2VsZWN0b3IoZ2V0U25hcHNob3QoKSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBudWxsID09PSBtYXliZUdldFNlcnZlclNuYXBzaG90ID8gdm9pZCAwIDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gbWVtb2l6ZWRTZWxlY3RvcihtYXliZUdldFNlcnZlclNuYXBzaG90KCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICAgIH0sXG4gICAgICBbZ2V0U25hcHNob3QsIGdldFNlcnZlclNuYXBzaG90LCBzZWxlY3RvciwgaXNFcXVhbF1cbiAgICApO1xuICAgIHZhciB2YWx1ZSA9IHVzZVN5bmNFeHRlcm5hbFN0b3JlKHN1YnNjcmliZSwgaW5zdFJlZlswXSwgaW5zdFJlZlsxXSk7XG4gICAgdXNlRWZmZWN0KFxuICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgIGluc3QuaGFzVmFsdWUgPSB0cnVlO1xuICAgICAgICBpbnN0LnZhbHVlID0gdmFsdWU7XG4gICAgICB9LFxuICAgICAgW3ZhbHVlXVxuICAgICk7XG4gICAgdXNlRGVidWdWYWx1ZSh2YWx1ZSk7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xuICByZXR1cm4gdXNlU3luY0V4dGVybmFsU3RvcmVXaXRoU2VsZWN0b3JfcHJvZHVjdGlvbjtcbn1cbnZhciB1c2VTeW5jRXh0ZXJuYWxTdG9yZVdpdGhTZWxlY3Rvcl9kZXZlbG9wbWVudCA9IHt9O1xuLyoqXG4gKiBAbGljZW5zZSBSZWFjdFxuICogdXNlLXN5bmMtZXh0ZXJuYWwtc3RvcmUtd2l0aC1zZWxlY3Rvci5kZXZlbG9wbWVudC5qc1xuICpcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cbnZhciBoYXNSZXF1aXJlZFVzZVN5bmNFeHRlcm5hbFN0b3JlV2l0aFNlbGVjdG9yX2RldmVsb3BtZW50O1xuZnVuY3Rpb24gcmVxdWlyZVVzZVN5bmNFeHRlcm5hbFN0b3JlV2l0aFNlbGVjdG9yX2RldmVsb3BtZW50KCkge1xuICBpZiAoaGFzUmVxdWlyZWRVc2VTeW5jRXh0ZXJuYWxTdG9yZVdpdGhTZWxlY3Rvcl9kZXZlbG9wbWVudCkgcmV0dXJuIHVzZVN5bmNFeHRlcm5hbFN0b3JlV2l0aFNlbGVjdG9yX2RldmVsb3BtZW50O1xuICBoYXNSZXF1aXJlZFVzZVN5bmNFeHRlcm5hbFN0b3JlV2l0aFNlbGVjdG9yX2RldmVsb3BtZW50ID0gMTtcbiAgXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WICYmIGZ1bmN0aW9uKCkge1xuICAgIGZ1bmN0aW9uIGlzKHgyLCB5Mikge1xuICAgICAgcmV0dXJuIHgyID09PSB5MiAmJiAoMCAhPT0geDIgfHwgMSAvIHgyID09PSAxIC8geTIpIHx8IHgyICE9PSB4MiAmJiB5MiAhPT0geTI7XG4gICAgfVxuICAgIFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18gJiYgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdGFydCAmJiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0YXJ0KEVycm9yKCkpO1xuICAgIHZhciBSZWFjdCA9IHQkNCwgb2JqZWN0SXMgPSBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBPYmplY3QuaXMgPyBPYmplY3QuaXMgOiBpcywgdXNlU3luY0V4dGVybmFsU3RvcmUgPSBSZWFjdC51c2VTeW5jRXh0ZXJuYWxTdG9yZSwgdXNlUmVmID0gUmVhY3QudXNlUmVmLCB1c2VFZmZlY3QgPSBSZWFjdC51c2VFZmZlY3QsIHVzZU1lbW8gPSBSZWFjdC51c2VNZW1vLCB1c2VEZWJ1Z1ZhbHVlID0gUmVhY3QudXNlRGVidWdWYWx1ZTtcbiAgICB1c2VTeW5jRXh0ZXJuYWxTdG9yZVdpdGhTZWxlY3Rvcl9kZXZlbG9wbWVudC51c2VTeW5jRXh0ZXJuYWxTdG9yZVdpdGhTZWxlY3RvciA9IGZ1bmN0aW9uKHN1YnNjcmliZSwgZ2V0U25hcHNob3QsIGdldFNlcnZlclNuYXBzaG90LCBzZWxlY3RvciwgaXNFcXVhbCkge1xuICAgICAgdmFyIGluc3RSZWYgPSB1c2VSZWYobnVsbCk7XG4gICAgICBpZiAobnVsbCA9PT0gaW5zdFJlZi5jdXJyZW50KSB7XG4gICAgICAgIHZhciBpbnN0ID0geyBoYXNWYWx1ZTogZmFsc2UsIHZhbHVlOiBudWxsIH07XG4gICAgICAgIGluc3RSZWYuY3VycmVudCA9IGluc3Q7XG4gICAgICB9IGVsc2UgaW5zdCA9IGluc3RSZWYuY3VycmVudDtcbiAgICAgIGluc3RSZWYgPSB1c2VNZW1vKFxuICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICBmdW5jdGlvbiBtZW1vaXplZFNlbGVjdG9yKG5leHRTbmFwc2hvdCkge1xuICAgICAgICAgICAgaWYgKCFoYXNNZW1vKSB7XG4gICAgICAgICAgICAgIGhhc01lbW8gPSB0cnVlO1xuICAgICAgICAgICAgICBtZW1vaXplZFNuYXBzaG90ID0gbmV4dFNuYXBzaG90O1xuICAgICAgICAgICAgICBuZXh0U25hcHNob3QgPSBzZWxlY3RvcihuZXh0U25hcHNob3QpO1xuICAgICAgICAgICAgICBpZiAodm9pZCAwICE9PSBpc0VxdWFsICYmIGluc3QuaGFzVmFsdWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudFNlbGVjdGlvbiA9IGluc3QudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKGlzRXF1YWwoY3VycmVudFNlbGVjdGlvbiwgbmV4dFNuYXBzaG90KSlcbiAgICAgICAgICAgICAgICAgIHJldHVybiBtZW1vaXplZFNlbGVjdGlvbiA9IGN1cnJlbnRTZWxlY3Rpb247XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIG1lbW9pemVkU2VsZWN0aW9uID0gbmV4dFNuYXBzaG90O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudFNlbGVjdGlvbiA9IG1lbW9pemVkU2VsZWN0aW9uO1xuICAgICAgICAgICAgaWYgKG9iamVjdElzKG1lbW9pemVkU25hcHNob3QsIG5leHRTbmFwc2hvdCkpXG4gICAgICAgICAgICAgIHJldHVybiBjdXJyZW50U2VsZWN0aW9uO1xuICAgICAgICAgICAgdmFyIG5leHRTZWxlY3Rpb24gPSBzZWxlY3RvcihuZXh0U25hcHNob3QpO1xuICAgICAgICAgICAgaWYgKHZvaWQgMCAhPT0gaXNFcXVhbCAmJiBpc0VxdWFsKGN1cnJlbnRTZWxlY3Rpb24sIG5leHRTZWxlY3Rpb24pKVxuICAgICAgICAgICAgICByZXR1cm4gbWVtb2l6ZWRTbmFwc2hvdCA9IG5leHRTbmFwc2hvdCwgY3VycmVudFNlbGVjdGlvbjtcbiAgICAgICAgICAgIG1lbW9pemVkU25hcHNob3QgPSBuZXh0U25hcHNob3Q7XG4gICAgICAgICAgICByZXR1cm4gbWVtb2l6ZWRTZWxlY3Rpb24gPSBuZXh0U2VsZWN0aW9uO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgaGFzTWVtbyA9IGZhbHNlLCBtZW1vaXplZFNuYXBzaG90LCBtZW1vaXplZFNlbGVjdGlvbiwgbWF5YmVHZXRTZXJ2ZXJTbmFwc2hvdCA9IHZvaWQgMCA9PT0gZ2V0U2VydmVyU25hcHNob3QgPyBudWxsIDogZ2V0U2VydmVyU25hcHNob3Q7XG4gICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICByZXR1cm4gbWVtb2l6ZWRTZWxlY3RvcihnZXRTbmFwc2hvdCgpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBudWxsID09PSBtYXliZUdldFNlcnZlclNuYXBzaG90ID8gdm9pZCAwIDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHJldHVybiBtZW1vaXplZFNlbGVjdG9yKG1heWJlR2V0U2VydmVyU25hcHNob3QoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgXTtcbiAgICAgICAgfSxcbiAgICAgICAgW2dldFNuYXBzaG90LCBnZXRTZXJ2ZXJTbmFwc2hvdCwgc2VsZWN0b3IsIGlzRXF1YWxdXG4gICAgICApO1xuICAgICAgdmFyIHZhbHVlID0gdXNlU3luY0V4dGVybmFsU3RvcmUoc3Vic2NyaWJlLCBpbnN0UmVmWzBdLCBpbnN0UmVmWzFdKTtcbiAgICAgIHVzZUVmZmVjdChcbiAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaW5zdC5oYXNWYWx1ZSA9IHRydWU7XG4gICAgICAgICAgaW5zdC52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBbdmFsdWVdXG4gICAgICApO1xuICAgICAgdXNlRGVidWdWYWx1ZSh2YWx1ZSk7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fICYmIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RvcCAmJiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0b3AoRXJyb3IoKSk7XG4gIH0oKTtcbiAgcmV0dXJuIHVzZVN5bmNFeHRlcm5hbFN0b3JlV2l0aFNlbGVjdG9yX2RldmVsb3BtZW50O1xufVxudmFyIGhhc1JlcXVpcmVkV2l0aFNlbGVjdG9yO1xuZnVuY3Rpb24gcmVxdWlyZVdpdGhTZWxlY3RvcigpIHtcbiAgaWYgKGhhc1JlcXVpcmVkV2l0aFNlbGVjdG9yKSByZXR1cm4gd2l0aFNlbGVjdG9yLmV4cG9ydHM7XG4gIGhhc1JlcXVpcmVkV2l0aFNlbGVjdG9yID0gMTtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIikge1xuICAgIHdpdGhTZWxlY3Rvci5leHBvcnRzID0gcmVxdWlyZVVzZVN5bmNFeHRlcm5hbFN0b3JlV2l0aFNlbGVjdG9yX3Byb2R1Y3Rpb24oKTtcbiAgfSBlbHNlIHtcbiAgICB3aXRoU2VsZWN0b3IuZXhwb3J0cyA9IHJlcXVpcmVVc2VTeW5jRXh0ZXJuYWxTdG9yZVdpdGhTZWxlY3Rvcl9kZXZlbG9wbWVudCgpO1xuICB9XG4gIHJldHVybiB3aXRoU2VsZWN0b3IuZXhwb3J0cztcbn1cbnZhciB3aXRoU2VsZWN0b3JFeHBvcnRzID0gcmVxdWlyZVdpdGhTZWxlY3RvcigpO1xudmFyIGYkMSA9ICh0MiwgZTIsIHIyKSA9PiB7XG4gIGlmICghZTIuaGFzKHQyKSkgdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IFwiICsgcjIpO1xufTtcbnZhciBhJDMgPSAodDIsIGUyLCByMikgPT4gKGYkMSh0MiwgZTIsIFwicmVhZCBmcm9tIHByaXZhdGUgZmllbGRcIiksIHIyID8gcjIuY2FsbCh0MikgOiBlMi5nZXQodDIpKSwgbCQyID0gKHQyLCBlMiwgcjIpID0+IHtcbiAgaWYgKGUyLmhhcyh0MikpIHRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBhZGQgdGhlIHNhbWUgcHJpdmF0ZSBtZW1iZXIgbW9yZSB0aGFuIG9uY2VcIik7XG4gIGUyIGluc3RhbmNlb2YgV2Vha1NldCA/IGUyLmFkZCh0MikgOiBlMi5zZXQodDIsIHIyKTtcbn0sIGMkMiA9ICh0MiwgZTIsIHIyLCBuMikgPT4gKGYkMSh0MiwgZTIsIFwid3JpdGUgdG8gcHJpdmF0ZSBmaWVsZFwiKSwgZTIuc2V0KHQyLCByMiksIHIyKTtcbnZhciBpJDEsIHMkNCwgbyQxO1xuY2xhc3MgbSB7XG4gIGNvbnN0cnVjdG9yKGUyKSB7XG4gICAgbCQyKHRoaXMsIGkkMSwge30pO1xuICAgIGwkMih0aGlzLCBzJDQsIG5ldyBhJDcoKCkgPT4gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKSkpO1xuICAgIGwkMih0aGlzLCBvJDEsIC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCkpO1xuICAgIGMkMih0aGlzLCBpJDEsIGUyKTtcbiAgfVxuICBnZXQgc3RhdGUoKSB7XG4gICAgcmV0dXJuIGEkMyh0aGlzLCBpJDEpO1xuICB9XG4gIHN1YnNjcmliZShlMiwgcjIpIHtcbiAgICBsZXQgbjIgPSB7IHNlbGVjdG9yOiBlMiwgY2FsbGJhY2s6IHIyLCBjdXJyZW50OiBlMihhJDModGhpcywgaSQxKSkgfTtcbiAgICByZXR1cm4gYSQzKHRoaXMsIG8kMSkuYWRkKG4yKSwgKCkgPT4ge1xuICAgICAgYSQzKHRoaXMsIG8kMSkuZGVsZXRlKG4yKTtcbiAgICB9O1xuICB9XG4gIG9uKGUyLCByMikge1xuICAgIHJldHVybiBhJDModGhpcywgcyQ0KS5nZXQoZTIpLmFkZChyMiksICgpID0+IHtcbiAgICAgIGEkMyh0aGlzLCBzJDQpLmdldChlMikuZGVsZXRlKHIyKTtcbiAgICB9O1xuICB9XG4gIHNlbmQoZTIpIHtcbiAgICBjJDIodGhpcywgaSQxLCB0aGlzLnJlZHVjZShhJDModGhpcywgaSQxKSwgZTIpKTtcbiAgICBmb3IgKGxldCByMiBvZiBhJDModGhpcywgbyQxKSkge1xuICAgICAgbGV0IG4yID0gcjIuc2VsZWN0b3IoYSQzKHRoaXMsIGkkMSkpO1xuICAgICAgaCQxKHIyLmN1cnJlbnQsIG4yKSB8fCAocjIuY3VycmVudCA9IG4yLCByMi5jYWxsYmFjayhuMikpO1xuICAgIH1cbiAgICBmb3IgKGxldCByMiBvZiBhJDModGhpcywgcyQ0KS5nZXQoZTIudHlwZSkpIHIyKGEkMyh0aGlzLCBpJDEpLCBlMik7XG4gIH1cbn1cbmkkMSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpLCBzJDQgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKSwgbyQxID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5mdW5jdGlvbiBoJDEodDIsIGUyKSB7XG4gIHJldHVybiBPYmplY3QuaXModDIsIGUyKSA/IHRydWUgOiB0eXBlb2YgdDIgIT0gXCJvYmplY3RcIiB8fCB0MiA9PT0gbnVsbCB8fCB0eXBlb2YgZTIgIT0gXCJvYmplY3RcIiB8fCBlMiA9PT0gbnVsbCA/IGZhbHNlIDogQXJyYXkuaXNBcnJheSh0MikgJiYgQXJyYXkuaXNBcnJheShlMikgPyB0Mi5sZW5ndGggIT09IGUyLmxlbmd0aCA/IGZhbHNlIDogdSQxKHQyW1N5bWJvbC5pdGVyYXRvcl0oKSwgZTJbU3ltYm9sLml0ZXJhdG9yXSgpKSA6IHQyIGluc3RhbmNlb2YgTWFwICYmIGUyIGluc3RhbmNlb2YgTWFwIHx8IHQyIGluc3RhbmNlb2YgU2V0ICYmIGUyIGluc3RhbmNlb2YgU2V0ID8gdDIuc2l6ZSAhPT0gZTIuc2l6ZSA/IGZhbHNlIDogdSQxKHQyLmVudHJpZXMoKSwgZTIuZW50cmllcygpKSA6IFMkMih0MikgJiYgUyQyKGUyKSA/IHUkMShPYmplY3QuZW50cmllcyh0MilbU3ltYm9sLml0ZXJhdG9yXSgpLCBPYmplY3QuZW50cmllcyhlMilbU3ltYm9sLml0ZXJhdG9yXSgpKSA6IGZhbHNlO1xufVxuZnVuY3Rpb24gdSQxKHQyLCBlMikge1xuICBkbyB7XG4gICAgbGV0IHIyID0gdDIubmV4dCgpLCBuMiA9IGUyLm5leHQoKTtcbiAgICBpZiAocjIuZG9uZSAmJiBuMi5kb25lKSByZXR1cm4gdHJ1ZTtcbiAgICBpZiAocjIuZG9uZSB8fCBuMi5kb25lIHx8ICFPYmplY3QuaXMocjIudmFsdWUsIG4yLnZhbHVlKSkgcmV0dXJuIGZhbHNlO1xuICB9IHdoaWxlICh0cnVlKTtcbn1cbmZ1bmN0aW9uIFMkMih0Mikge1xuICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQyKSAhPT0gXCJbb2JqZWN0IE9iamVjdF1cIikgcmV0dXJuIGZhbHNlO1xuICBsZXQgZTIgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodDIpO1xuICByZXR1cm4gZTIgPT09IG51bGwgfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKGUyKSA9PT0gbnVsbDtcbn1cbmZ1bmN0aW9uIGckMSh0Mikge1xuICBsZXQgW2UyLCByMl0gPSB0MigpLCBuMiA9IG8kNSgpO1xuICByZXR1cm4gKC4uLmIyKSA9PiB7XG4gICAgZTIoLi4uYjIpLCBuMi5kaXNwb3NlKCksIG4yLm1pY3JvVGFzayhyMik7XG4gIH07XG59XG5mdW5jdGlvbiBTJDEoZTIsIG4yLCByMiA9IGgkMSkge1xuICByZXR1cm4gd2l0aFNlbGVjdG9yRXhwb3J0cy51c2VTeW5jRXh0ZXJuYWxTdG9yZVdpdGhTZWxlY3RvcihvJDQoKGkyKSA9PiBlMi5zdWJzY3JpYmUocyQzLCBpMikpLCBvJDQoKCkgPT4gZTIuc3RhdGUpLCBvJDQoKCkgPT4gZTIuc3RhdGUpLCBvJDQobjIpLCByMik7XG59XG5mdW5jdGlvbiBzJDMoZTIpIHtcbiAgcmV0dXJuIGUyO1xufVxuZnVuY3Rpb24gdShsMikge1xuICB0aHJvdyBuZXcgRXJyb3IoXCJVbmV4cGVjdGVkIG9iamVjdDogXCIgKyBsMik7XG59XG52YXIgYyQxID0gKChpMikgPT4gKGkyW2kyLkZpcnN0ID0gMF0gPSBcIkZpcnN0XCIsIGkyW2kyLlByZXZpb3VzID0gMV0gPSBcIlByZXZpb3VzXCIsIGkyW2kyLk5leHQgPSAyXSA9IFwiTmV4dFwiLCBpMltpMi5MYXN0ID0gM10gPSBcIkxhc3RcIiwgaTJbaTIuU3BlY2lmaWMgPSA0XSA9IFwiU3BlY2lmaWNcIiwgaTJbaTIuTm90aGluZyA9IDVdID0gXCJOb3RoaW5nXCIsIGkyKSkoYyQxIHx8IHt9KTtcbmZ1bmN0aW9uIGYobDIsIG4yKSB7XG4gIGxldCB0MiA9IG4yLnJlc29sdmVJdGVtcygpO1xuICBpZiAodDIubGVuZ3RoIDw9IDApIHJldHVybiBudWxsO1xuICBsZXQgcjIgPSBuMi5yZXNvbHZlQWN0aXZlSW5kZXgoKSwgczIgPSByMiAhPSBudWxsID8gcjIgOiAtMTtcbiAgc3dpdGNoIChsMi5mb2N1cykge1xuICAgIGNhc2UgMDoge1xuICAgICAgZm9yIChsZXQgZTIgPSAwOyBlMiA8IHQyLmxlbmd0aDsgKytlMikgaWYgKCFuMi5yZXNvbHZlRGlzYWJsZWQodDJbZTJdLCBlMiwgdDIpKSByZXR1cm4gZTI7XG4gICAgICByZXR1cm4gcjI7XG4gICAgfVxuICAgIGNhc2UgMToge1xuICAgICAgczIgPT09IC0xICYmIChzMiA9IHQyLmxlbmd0aCk7XG4gICAgICBmb3IgKGxldCBlMiA9IHMyIC0gMTsgZTIgPj0gMDsgLS1lMikgaWYgKCFuMi5yZXNvbHZlRGlzYWJsZWQodDJbZTJdLCBlMiwgdDIpKSByZXR1cm4gZTI7XG4gICAgICByZXR1cm4gcjI7XG4gICAgfVxuICAgIGNhc2UgMjoge1xuICAgICAgZm9yIChsZXQgZTIgPSBzMiArIDE7IGUyIDwgdDIubGVuZ3RoOyArK2UyKSBpZiAoIW4yLnJlc29sdmVEaXNhYmxlZCh0MltlMl0sIGUyLCB0MikpIHJldHVybiBlMjtcbiAgICAgIHJldHVybiByMjtcbiAgICB9XG4gICAgY2FzZSAzOiB7XG4gICAgICBmb3IgKGxldCBlMiA9IHQyLmxlbmd0aCAtIDE7IGUyID49IDA7IC0tZTIpIGlmICghbjIucmVzb2x2ZURpc2FibGVkKHQyW2UyXSwgZTIsIHQyKSkgcmV0dXJuIGUyO1xuICAgICAgcmV0dXJuIHIyO1xuICAgIH1cbiAgICBjYXNlIDQ6IHtcbiAgICAgIGZvciAobGV0IGUyID0gMDsgZTIgPCB0Mi5sZW5ndGg7ICsrZTIpIGlmIChuMi5yZXNvbHZlSWQodDJbZTJdLCBlMiwgdDIpID09PSBsMi5pZCkgcmV0dXJuIGUyO1xuICAgICAgcmV0dXJuIHIyO1xuICAgIH1cbiAgICBjYXNlIDU6XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICBkZWZhdWx0OlxuICAgICAgdShsMik7XG4gIH1cbn1cbmZ1bmN0aW9uIGModDIpIHtcbiAgbGV0IHIyID0gbyQ0KHQyKSwgZTIgPSBBJDMoZmFsc2UpO1xuICB5JDYoKCkgPT4gKGUyLmN1cnJlbnQgPSBmYWxzZSwgKCkgPT4ge1xuICAgIGUyLmN1cnJlbnQgPSB0cnVlLCB0JDMoKCkgPT4ge1xuICAgICAgZTIuY3VycmVudCAmJiByMigpO1xuICAgIH0pO1xuICB9KSwgW3IyXSk7XG59XG5mdW5jdGlvbiBzJDIoKSB7XG4gIGxldCByMiA9IHR5cGVvZiBkb2N1bWVudCA9PSBcInVuZGVmaW5lZFwiO1xuICByZXR1cm4gXCJ1c2VTeW5jRXh0ZXJuYWxTdG9yZVwiIGluIHQkNCA/ICgobzMpID0+IG8zLnVzZVN5bmNFeHRlcm5hbFN0b3JlKSh0JDQpKCgpID0+ICgpID0+IHtcbiAgfSwgKCkgPT4gZmFsc2UsICgpID0+ICFyMikgOiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGwkMSgpIHtcbiAgbGV0IHIyID0gcyQyKCksIFtlMiwgbjJdID0gZCQ0KHMkNy5pc0hhbmRvZmZDb21wbGV0ZSk7XG4gIHJldHVybiBlMiAmJiBzJDcuaXNIYW5kb2ZmQ29tcGxldGUgPT09IGZhbHNlICYmIG4yKGZhbHNlKSwgeSQ2KCgpID0+IHtcbiAgICBlMiAhPT0gdHJ1ZSAmJiBuMih0cnVlKTtcbiAgfSwgW2UyXSksIHkkNigoKSA9PiBzJDcuaGFuZG9mZigpLCBbXSksIHIyID8gZmFsc2UgOiBlMjtcbn1cbmxldCBlID0gSyQzKGZhbHNlKTtcbmZ1bmN0aW9uIGEkMigpIHtcbiAgcmV0dXJuIHgkNChlKTtcbn1cbmZ1bmN0aW9uIGoodDIpIHtcbiAgbGV0IG8zID0gYSQyKCksIG4yID0geCQ0KGIkMSksIFtyMiwgdTJdID0gZCQ0KCgpID0+IHtcbiAgICB2YXIgczIsIGEzO1xuICAgIGlmICghbzMgJiYgbjIgIT09IG51bGwpIHJldHVybiAoczIgPSBuMi5jdXJyZW50KSAhPSBudWxsID8gczIgOiBudWxsO1xuICAgIGlmIChzJDcuaXNTZXJ2ZXIpIHJldHVybiBudWxsO1xuICAgIGxldCBlMiA9IHQyID09IG51bGwgPyB2b2lkIDAgOiB0Mi5nZXRFbGVtZW50QnlJZChcInN0YWdld2lzZS10b29sYmFyLXBvcnRhbC1yb290XCIpO1xuICAgIGlmIChlMikgcmV0dXJuIGUyO1xuICAgIGlmICh0MiA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gICAgbGV0IGwyID0gdDIuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICByZXR1cm4gbDIuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJzdGFnZXdpc2UtdG9vbGJhci1wb3J0YWwtcm9vdFwiKSwgbDIuc3R5bGUucG9pbnRlckV2ZW50cyA9IFwiYXV0b1wiLCAoKGEzID0gdDIucXVlcnlTZWxlY3RvcihcInN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yXCIpKSAhPSBudWxsID8gYTMgOiB0Mi5ib2R5KS5hcHBlbmRDaGlsZChsMik7XG4gIH0pO1xuICByZXR1cm4geSQ2KCgpID0+IHtcbiAgICB2YXIgbDI7XG4gICAgaWYgKHIyID09PSBudWxsKSByZXR1cm47XG4gICAgY29uc3QgZTIgPSAobDIgPSB0MiA9PSBudWxsID8gdm9pZCAwIDogdDIucXVlcnlTZWxlY3RvcihcInN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yXCIpKSAhPSBudWxsID8gbDIgOiB0MiA9PSBudWxsID8gdm9pZCAwIDogdDIuYm9keTtcbiAgICBlMiAhPSBudWxsICYmIGUyLmNvbnRhaW5zKHIyKSB8fCBlMiA9PSBudWxsIHx8IGUyLmFwcGVuZENoaWxkKHIyKTtcbiAgfSwgW3IyLCB0Ml0pLCB5JDYoKCkgPT4ge1xuICAgIG8zIHx8IG4yICE9PSBudWxsICYmIHUyKG4yLmN1cnJlbnQpO1xuICB9LCBbbjIsIHUyLCBvM10pLCByMjtcbn1cbmxldCBNJDEgPSBrJDMsIEkgPSBLJDEoZnVuY3Rpb24obzMsIG4yKSB7XG4gIGxldCB7IG93bmVyRG9jdW1lbnQ6IHIyID0gbnVsbCwgLi4udTIgfSA9IG8zLCBlMiA9IEEkMyhudWxsKSwgbDIgPSB5JDUoVCQzKChpMikgPT4ge1xuICAgIGUyLmN1cnJlbnQgPSBpMjtcbiAgfSksIG4yKSwgUjIgPSBuJDEoZTIpLCBzMiA9IHIyICE9IG51bGwgPyByMiA6IFIyLCBhMyA9IGooczIpLCBbcDJdID0gZCQ0KCgpID0+IHtcbiAgICB2YXIgaTI7XG4gICAgcmV0dXJuIHMkNy5pc1NlcnZlciA/IG51bGwgOiAoaTIgPSBzMiA9PSBudWxsID8gdm9pZCAwIDogczIuY3JlYXRlRWxlbWVudChcImRpdlwiKSkgIT0gbnVsbCA/IGkyIDogbnVsbDtcbiAgfSksIGYyID0geCQ0KHkkMSksIEgyID0gbCQxKCk7XG4gIG4kMygoKSA9PiB7XG4gICAgIWEzIHx8ICFwMiB8fCBhMy5jb250YWlucyhwMikgfHwgKHAyLnNldEF0dHJpYnV0ZShcImRhdGEtaGVhZGxlc3N1aS1wb3J0YWxcIiwgXCJcIiksIGEzLmFwcGVuZENoaWxkKHAyKSk7XG4gIH0sIFthMywgcDJdKSwgbiQzKCgpID0+IHtcbiAgICBpZiAocDIgJiYgZjIpIHJldHVybiBmMi5yZWdpc3RlcihwMik7XG4gIH0sIFtmMiwgcDJdKSwgYygoKSA9PiB7XG4gICAgdmFyIGkyO1xuICAgICFhMyB8fCAhcDIgfHwgKHAyIGluc3RhbmNlb2YgTm9kZSAmJiBhMy5jb250YWlucyhwMikgJiYgYTMucmVtb3ZlQ2hpbGQocDIpLCBhMy5jaGlsZE5vZGVzLmxlbmd0aCA8PSAwICYmICgoaTIgPSBhMy5wYXJlbnRFbGVtZW50KSA9PSBudWxsIHx8IGkyLnJlbW92ZUNoaWxkKGEzKSkpO1xuICB9KTtcbiAgbGV0IGgyID0gTCQyKCk7XG4gIHJldHVybiBIMiA/ICFhMyB8fCAhcDIgPyBudWxsIDogJCQxKGgyKHsgb3VyUHJvcHM6IHsgcmVmOiBsMiB9LCB0aGVpclByb3BzOiB1Miwgc2xvdDoge30sIGRlZmF1bHRUYWc6IE0kMSwgbmFtZTogXCJQb3J0YWxcIiB9KSwgcDIpIDogbnVsbDtcbn0pO1xuZnVuY3Rpb24gcSh0MiwgbzMpIHtcbiAgbGV0IG4yID0geSQ1KG8zKSwgeyBlbmFibGVkOiByMiA9IHRydWUsIG93bmVyRG9jdW1lbnQ6IHUyLCAuLi5lMiB9ID0gdDIsIGwyID0gTCQyKCk7XG4gIHJldHVybiByMiA/IFJuLmNyZWF0ZUVsZW1lbnQoSSwgeyAuLi5lMiwgb3duZXJEb2N1bWVudDogdTIsIHJlZjogbjIgfSkgOiBsMih7IG91clByb3BzOiB7IHJlZjogbjIgfSwgdGhlaXJQcm9wczogZTIsIHNsb3Q6IHt9LCBkZWZhdWx0VGFnOiBNJDEsIG5hbWU6IFwiUG9ydGFsXCIgfSk7XG59XG5sZXQgSiQxID0gayQzLCBiJDEgPSBLJDMobnVsbCk7XG5mdW5jdGlvbiBYKHQyLCBvMykge1xuICBsZXQgeyB0YXJnZXQ6IG4yLCAuLi5yMiB9ID0gdDIsIGUyID0geyByZWY6IHkkNShvMykgfSwgbDIgPSBMJDIoKTtcbiAgcmV0dXJuIFJuLmNyZWF0ZUVsZW1lbnQoYiQxLlByb3ZpZGVyLCB7IHZhbHVlOiBuMiB9LCBsMih7IG91clByb3BzOiBlMiwgdGhlaXJQcm9wczogcjIsIGRlZmF1bHRUYWc6IEokMSwgbmFtZTogXCJQb3BvdmVyLkdyb3VwXCIgfSkpO1xufVxubGV0IHkkMSA9IEskMyhudWxsKTtcbmxldCBrID0gSyQxKHEpLCBCID0gSyQxKFgpLCBvZSA9IE9iamVjdC5hc3NpZ24oaywgeyBHcm91cDogQiB9KTtcbmZ1bmN0aW9uIHMkMShuMiwgdDIpIHtcbiAgbGV0IGUyID0gQSQzKHsgbGVmdDogMCwgdG9wOiAwIH0pO1xuICBpZiAobiQzKCgpID0+IHtcbiAgICBpZiAoIXQyKSByZXR1cm47XG4gICAgbGV0IHIyID0gdDIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgcjIgJiYgKGUyLmN1cnJlbnQgPSByMik7XG4gIH0sIFtuMiwgdDJdKSwgdDIgPT0gbnVsbCB8fCAhbjIgfHwgdDIgPT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpIHJldHVybiBmYWxzZTtcbiAgbGV0IG8zID0gdDIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHJldHVybiBvMy50b3AgIT09IGUyLmN1cnJlbnQudG9wIHx8IG8zLmxlZnQgIT09IGUyLmN1cnJlbnQubGVmdDtcbn1cbmxldCBhJDEgPSAvKFtcXHUyNzAwLVxcdTI3QkZdfFtcXHVFMDAwLVxcdUY4RkZdfFxcdUQ4M0NbXFx1REMwMC1cXHVERkZGXXxcXHVEODNEW1xcdURDMDAtXFx1REZGRl18W1xcdTIwMTEtXFx1MjZGRl18XFx1RDgzRVtcXHVERDEwLVxcdURERkZdKS9nO1xuZnVuY3Rpb24gbzIoZTIpIHtcbiAgdmFyIHIyLCBpMjtcbiAgbGV0IG4yID0gKHIyID0gZTIuaW5uZXJUZXh0KSAhPSBudWxsID8gcjIgOiBcIlwiLCB0MiA9IGUyLmNsb25lTm9kZSh0cnVlKTtcbiAgaWYgKCEodDIgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkpIHJldHVybiBuMjtcbiAgbGV0IHUyID0gZmFsc2U7XG4gIGZvciAobGV0IGYyIG9mIHQyLnF1ZXJ5U2VsZWN0b3JBbGwoJ1toaWRkZW5dLFthcmlhLWhpZGRlbl0sW3JvbGU9XCJpbWdcIl0nKSkgZjIucmVtb3ZlKCksIHUyID0gdHJ1ZTtcbiAgbGV0IGwyID0gdTIgPyAoaTIgPSB0Mi5pbm5lclRleHQpICE9IG51bGwgPyBpMiA6IFwiXCIgOiBuMjtcbiAgcmV0dXJuIGEkMS50ZXN0KGwyKSAmJiAobDIgPSBsMi5yZXBsYWNlKGEkMSwgXCJcIikpLCBsMjtcbn1cbmZ1bmN0aW9uIGcoZTIpIHtcbiAgbGV0IG4yID0gZTIuZ2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiKTtcbiAgaWYgKHR5cGVvZiBuMiA9PSBcInN0cmluZ1wiKSByZXR1cm4gbjIudHJpbSgpO1xuICBsZXQgdDIgPSBlMi5nZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsbGVkYnlcIik7XG4gIGlmICh0Mikge1xuICAgIGxldCB1MiA9IHQyLnNwbGl0KFwiIFwiKS5tYXAoKGwyKSA9PiB7XG4gICAgICBsZXQgcjIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChsMik7XG4gICAgICBpZiAocjIpIHtcbiAgICAgICAgbGV0IGkyID0gcjIuZ2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiKTtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBpMiA9PSBcInN0cmluZ1wiID8gaTIudHJpbSgpIDogbzIocjIpLnRyaW0oKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0pLmZpbHRlcihCb29sZWFuKTtcbiAgICBpZiAodTIubGVuZ3RoID4gMCkgcmV0dXJuIHUyLmpvaW4oXCIsIFwiKTtcbiAgfVxuICByZXR1cm4gbzIoZTIpLnRyaW0oKTtcbn1cbmZ1bmN0aW9uIHMoYzIpIHtcbiAgbGV0IHQyID0gQSQzKFwiXCIpLCByMiA9IEEkMyhcIlwiKTtcbiAgcmV0dXJuIG8kNCgoKSA9PiB7XG4gICAgbGV0IGUyID0gYzIuY3VycmVudDtcbiAgICBpZiAoIWUyKSByZXR1cm4gXCJcIjtcbiAgICBsZXQgdTIgPSBlMi5pbm5lclRleHQ7XG4gICAgaWYgKHQyLmN1cnJlbnQgPT09IHUyKSByZXR1cm4gcjIuY3VycmVudDtcbiAgICBsZXQgbjIgPSBnKGUyKS50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgICByZXR1cm4gdDIuY3VycmVudCA9IHUyLCByMi5jdXJyZW50ID0gbjIsIG4yO1xuICB9KTtcbn1cbnZhciBoID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIHkgPSAoZTIsIG4yLCB0MikgPT4gbjIgaW4gZTIgPyBoKGUyLCBuMiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZTogdDIgfSkgOiBlMltuMl0gPSB0MjtcbnZhciB2ID0gKGUyLCBuMiwgdDIpID0+ICh5KGUyLCB0eXBlb2YgbjIgIT0gXCJzeW1ib2xcIiA/IG4yICsgXCJcIiA6IG4yLCB0MiksIHQyKTtcbnZhciBNID0gKCh0MikgPT4gKHQyW3QyLk9wZW4gPSAwXSA9IFwiT3BlblwiLCB0Mlt0Mi5DbG9zZWQgPSAxXSA9IFwiQ2xvc2VkXCIsIHQyKSkoTSB8fCB7fSksIFQgPSAoKHQyKSA9PiAodDJbdDIuUG9pbnRlciA9IDBdID0gXCJQb2ludGVyXCIsIHQyW3QyLk90aGVyID0gMV0gPSBcIk90aGVyXCIsIHQyKSkoVCB8fCB7fSksIGIgPSAoKGkyKSA9PiAoaTJbaTIuT3Blbk1lbnUgPSAwXSA9IFwiT3Blbk1lbnVcIiwgaTJbaTIuQ2xvc2VNZW51ID0gMV0gPSBcIkNsb3NlTWVudVwiLCBpMltpMi5Hb1RvSXRlbSA9IDJdID0gXCJHb1RvSXRlbVwiLCBpMltpMi5TZWFyY2ggPSAzXSA9IFwiU2VhcmNoXCIsIGkyW2kyLkNsZWFyU2VhcmNoID0gNF0gPSBcIkNsZWFyU2VhcmNoXCIsIGkyW2kyLlJlZ2lzdGVySXRlbXMgPSA1XSA9IFwiUmVnaXN0ZXJJdGVtc1wiLCBpMltpMi5VbnJlZ2lzdGVySXRlbXMgPSA2XSA9IFwiVW5yZWdpc3Rlckl0ZW1zXCIsIGkyW2kyLlNldEJ1dHRvbkVsZW1lbnQgPSA3XSA9IFwiU2V0QnV0dG9uRWxlbWVudFwiLCBpMltpMi5TZXRJdGVtc0VsZW1lbnQgPSA4XSA9IFwiU2V0SXRlbXNFbGVtZW50XCIsIGkyW2kyLlNvcnRJdGVtcyA9IDldID0gXCJTb3J0SXRlbXNcIiwgaTIpKShiIHx8IHt9KTtcbmZ1bmN0aW9uIFMoZTIsIG4yID0gKHQyKSA9PiB0Mikge1xuICBsZXQgdDIgPSBlMi5hY3RpdmVJdGVtSW5kZXggIT09IG51bGwgPyBlMi5pdGVtc1tlMi5hY3RpdmVJdGVtSW5kZXhdIDogbnVsbCwgcjIgPSBfKG4yKGUyLml0ZW1zLnNsaWNlKCkpLCAodTIpID0+IHUyLmRhdGFSZWYuY3VycmVudC5kb21SZWYuY3VycmVudCksIGwyID0gdDIgPyByMi5pbmRleE9mKHQyKSA6IG51bGw7XG4gIHJldHVybiBsMiA9PT0gLTEgJiYgKGwyID0gbnVsbCksIHsgaXRlbXM6IHIyLCBhY3RpdmVJdGVtSW5kZXg6IGwyIH07XG59XG5sZXQgRiA9IHsgWzFdKGUyKSB7XG4gIHJldHVybiBlMi5tZW51U3RhdGUgPT09IDEgPyBlMiA6IHsgLi4uZTIsIGFjdGl2ZUl0ZW1JbmRleDogbnVsbCwgcGVuZGluZ0ZvY3VzOiB7IGZvY3VzOiBjJDEuTm90aGluZyB9LCBtZW51U3RhdGU6IDEgfTtcbn0sIFswXShlMiwgbjIpIHtcbiAgcmV0dXJuIGUyLm1lbnVTdGF0ZSA9PT0gMCA/IGUyIDogeyAuLi5lMiwgX19kZW1vTW9kZTogZmFsc2UsIHBlbmRpbmdGb2N1czogbjIuZm9jdXMsIG1lbnVTdGF0ZTogMCB9O1xufSwgWzJdOiAoZTIsIG4yKSA9PiB7XG4gIHZhciB1MiwgbTIsIGQyLCBhMywgSTI7XG4gIGlmIChlMi5tZW51U3RhdGUgPT09IDEpIHJldHVybiBlMjtcbiAgbGV0IHQyID0geyAuLi5lMiwgc2VhcmNoUXVlcnk6IFwiXCIsIGFjdGl2YXRpb25UcmlnZ2VyOiAodTIgPSBuMi50cmlnZ2VyKSAhPSBudWxsID8gdTIgOiAxLCBfX2RlbW9Nb2RlOiBmYWxzZSB9O1xuICBpZiAobjIuZm9jdXMgPT09IGMkMS5Ob3RoaW5nKSByZXR1cm4geyAuLi50MiwgYWN0aXZlSXRlbUluZGV4OiBudWxsIH07XG4gIGlmIChuMi5mb2N1cyA9PT0gYyQxLlNwZWNpZmljKSByZXR1cm4geyAuLi50MiwgYWN0aXZlSXRlbUluZGV4OiBlMi5pdGVtcy5maW5kSW5kZXgoKGkyKSA9PiBpMi5pZCA9PT0gbjIuaWQpIH07XG4gIGlmIChuMi5mb2N1cyA9PT0gYyQxLlByZXZpb3VzKSB7XG4gICAgbGV0IGkyID0gZTIuYWN0aXZlSXRlbUluZGV4O1xuICAgIGlmIChpMiAhPT0gbnVsbCkge1xuICAgICAgbGV0IGcyID0gZTIuaXRlbXNbaTJdLmRhdGFSZWYuY3VycmVudC5kb21SZWYsIG8zID0gZihuMiwgeyByZXNvbHZlSXRlbXM6ICgpID0+IGUyLml0ZW1zLCByZXNvbHZlQWN0aXZlSW5kZXg6ICgpID0+IGUyLmFjdGl2ZUl0ZW1JbmRleCwgcmVzb2x2ZUlkOiAoczIpID0+IHMyLmlkLCByZXNvbHZlRGlzYWJsZWQ6IChzMikgPT4gczIuZGF0YVJlZi5jdXJyZW50LmRpc2FibGVkIH0pO1xuICAgICAgaWYgKG8zICE9PSBudWxsKSB7XG4gICAgICAgIGxldCBzMiA9IGUyLml0ZW1zW28zXS5kYXRhUmVmLmN1cnJlbnQuZG9tUmVmO1xuICAgICAgICBpZiAoKChtMiA9IGcyLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBtMi5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKSA9PT0gczIuY3VycmVudCB8fCAoKGQyID0gczIuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IGQyLnByZXZpb3VzRWxlbWVudFNpYmxpbmcpID09PSBudWxsKSByZXR1cm4geyAuLi50MiwgYWN0aXZlSXRlbUluZGV4OiBvMyB9O1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChuMi5mb2N1cyA9PT0gYyQxLk5leHQpIHtcbiAgICBsZXQgaTIgPSBlMi5hY3RpdmVJdGVtSW5kZXg7XG4gICAgaWYgKGkyICE9PSBudWxsKSB7XG4gICAgICBsZXQgZzIgPSBlMi5pdGVtc1tpMl0uZGF0YVJlZi5jdXJyZW50LmRvbVJlZiwgbzMgPSBmKG4yLCB7IHJlc29sdmVJdGVtczogKCkgPT4gZTIuaXRlbXMsIHJlc29sdmVBY3RpdmVJbmRleDogKCkgPT4gZTIuYWN0aXZlSXRlbUluZGV4LCByZXNvbHZlSWQ6IChzMikgPT4gczIuaWQsIHJlc29sdmVEaXNhYmxlZDogKHMyKSA9PiBzMi5kYXRhUmVmLmN1cnJlbnQuZGlzYWJsZWQgfSk7XG4gICAgICBpZiAobzMgIT09IG51bGwpIHtcbiAgICAgICAgbGV0IHMyID0gZTIuaXRlbXNbbzNdLmRhdGFSZWYuY3VycmVudC5kb21SZWY7XG4gICAgICAgIGlmICgoKGEzID0gZzIuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IGEzLm5leHRFbGVtZW50U2libGluZykgPT09IHMyLmN1cnJlbnQgfHwgKChJMiA9IHMyLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBJMi5uZXh0RWxlbWVudFNpYmxpbmcpID09PSBudWxsKSByZXR1cm4geyAuLi50MiwgYWN0aXZlSXRlbUluZGV4OiBvMyB9O1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBsZXQgcjIgPSBTKGUyKSwgbDIgPSBmKG4yLCB7IHJlc29sdmVJdGVtczogKCkgPT4gcjIuaXRlbXMsIHJlc29sdmVBY3RpdmVJbmRleDogKCkgPT4gcjIuYWN0aXZlSXRlbUluZGV4LCByZXNvbHZlSWQ6IChpMikgPT4gaTIuaWQsIHJlc29sdmVEaXNhYmxlZDogKGkyKSA9PiBpMi5kYXRhUmVmLmN1cnJlbnQuZGlzYWJsZWQgfSk7XG4gIHJldHVybiB7IC4uLnQyLCAuLi5yMiwgYWN0aXZlSXRlbUluZGV4OiBsMiB9O1xufSwgWzNdOiAoZTIsIG4yKSA9PiB7XG4gIGxldCByMiA9IGUyLnNlYXJjaFF1ZXJ5ICE9PSBcIlwiID8gMCA6IDEsIGwyID0gZTIuc2VhcmNoUXVlcnkgKyBuMi52YWx1ZS50b0xvd2VyQ2FzZSgpLCBtMiA9IChlMi5hY3RpdmVJdGVtSW5kZXggIT09IG51bGwgPyBlMi5pdGVtcy5zbGljZShlMi5hY3RpdmVJdGVtSW5kZXggKyByMikuY29uY2F0KGUyLml0ZW1zLnNsaWNlKDAsIGUyLmFjdGl2ZUl0ZW1JbmRleCArIHIyKSkgOiBlMi5pdGVtcykuZmluZCgoYTMpID0+IHtcbiAgICB2YXIgSTI7XG4gICAgcmV0dXJuICgoSTIgPSBhMy5kYXRhUmVmLmN1cnJlbnQudGV4dFZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogSTIuc3RhcnRzV2l0aChsMikpICYmICFhMy5kYXRhUmVmLmN1cnJlbnQuZGlzYWJsZWQ7XG4gIH0pLCBkMiA9IG0yID8gZTIuaXRlbXMuaW5kZXhPZihtMikgOiAtMTtcbiAgcmV0dXJuIGQyID09PSAtMSB8fCBkMiA9PT0gZTIuYWN0aXZlSXRlbUluZGV4ID8geyAuLi5lMiwgc2VhcmNoUXVlcnk6IGwyIH0gOiB7IC4uLmUyLCBzZWFyY2hRdWVyeTogbDIsIGFjdGl2ZUl0ZW1JbmRleDogZDIsIGFjdGl2YXRpb25UcmlnZ2VyOiAxIH07XG59LCBbNF0oZTIpIHtcbiAgcmV0dXJuIGUyLnNlYXJjaFF1ZXJ5ID09PSBcIlwiID8gZTIgOiB7IC4uLmUyLCBzZWFyY2hRdWVyeTogXCJcIiwgc2VhcmNoQWN0aXZlSXRlbUluZGV4OiBudWxsIH07XG59LCBbNV06IChlMiwgbjIpID0+IHtcbiAgbGV0IHQyID0gZTIuaXRlbXMuY29uY2F0KG4yLml0ZW1zLm1hcCgobDIpID0+IGwyKSksIHIyID0gZTIuYWN0aXZlSXRlbUluZGV4O1xuICByZXR1cm4gZTIucGVuZGluZ0ZvY3VzLmZvY3VzICE9PSBjJDEuTm90aGluZyAmJiAocjIgPSBmKGUyLnBlbmRpbmdGb2N1cywgeyByZXNvbHZlSXRlbXM6ICgpID0+IHQyLCByZXNvbHZlQWN0aXZlSW5kZXg6ICgpID0+IGUyLmFjdGl2ZUl0ZW1JbmRleCwgcmVzb2x2ZUlkOiAobDIpID0+IGwyLmlkLCByZXNvbHZlRGlzYWJsZWQ6IChsMikgPT4gbDIuZGF0YVJlZi5jdXJyZW50LmRpc2FibGVkIH0pKSwgeyAuLi5lMiwgaXRlbXM6IHQyLCBhY3RpdmVJdGVtSW5kZXg6IHIyLCBwZW5kaW5nRm9jdXM6IHsgZm9jdXM6IGMkMS5Ob3RoaW5nIH0sIHBlbmRpbmdTaG91bGRTb3J0OiB0cnVlIH07XG59LCBbNl06IChlMiwgbjIpID0+IHtcbiAgbGV0IHQyID0gZTIuaXRlbXMsIHIyID0gW10sIGwyID0gbmV3IFNldChuMi5pdGVtcyk7XG4gIGZvciAobGV0IFt1MiwgbTJdIG9mIHQyLmVudHJpZXMoKSkgaWYgKGwyLmhhcyhtMi5pZCkgJiYgKHIyLnB1c2godTIpLCBsMi5kZWxldGUobTIuaWQpLCBsMi5zaXplID09PSAwKSkgYnJlYWs7XG4gIGlmIChyMi5sZW5ndGggPiAwKSB7XG4gICAgdDIgPSB0Mi5zbGljZSgpO1xuICAgIGZvciAobGV0IHUyIG9mIHIyLnJldmVyc2UoKSkgdDIuc3BsaWNlKHUyLCAxKTtcbiAgfVxuICByZXR1cm4geyAuLi5lMiwgaXRlbXM6IHQyLCBhY3RpdmF0aW9uVHJpZ2dlcjogMSB9O1xufSwgWzddOiAoZTIsIG4yKSA9PiBlMi5idXR0b25FbGVtZW50ID09PSBuMi5lbGVtZW50ID8gZTIgOiB7IC4uLmUyLCBidXR0b25FbGVtZW50OiBuMi5lbGVtZW50IH0sIFs4XTogKGUyLCBuMikgPT4gZTIuaXRlbXNFbGVtZW50ID09PSBuMi5lbGVtZW50ID8gZTIgOiB7IC4uLmUyLCBpdGVtc0VsZW1lbnQ6IG4yLmVsZW1lbnQgfSwgWzldOiAoZTIpID0+IGUyLnBlbmRpbmdTaG91bGRTb3J0ID8geyAuLi5lMiwgLi4uUyhlMiksIHBlbmRpbmdTaG91bGRTb3J0OiBmYWxzZSB9IDogZTIgfTtcbmNsYXNzIHggZXh0ZW5kcyBtIHtcbiAgY29uc3RydWN0b3IodDIpIHtcbiAgICBzdXBlcih0Mik7XG4gICAgdih0aGlzLCBcImFjdGlvbnNcIiwgeyByZWdpc3Rlckl0ZW06IGckMSgoKSA9PiB7XG4gICAgICBsZXQgdDMgPSBbXSwgcjIgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgICAgcmV0dXJuIFsobDIsIHUyKSA9PiB7XG4gICAgICAgIHIyLmhhcyh1MikgfHwgKHIyLmFkZCh1MiksIHQzLnB1c2goeyBpZDogbDIsIGRhdGFSZWY6IHUyIH0pKTtcbiAgICAgIH0sICgpID0+IChyMi5jbGVhcigpLCB0aGlzLnNlbmQoeyB0eXBlOiA1LCBpdGVtczogdDMuc3BsaWNlKDApIH0pKV07XG4gICAgfSksIHVucmVnaXN0ZXJJdGVtOiBnJDEoKCkgPT4ge1xuICAgICAgbGV0IHQzID0gW107XG4gICAgICByZXR1cm4gWyhyMikgPT4gdDMucHVzaChyMiksICgpID0+IHRoaXMuc2VuZCh7IHR5cGU6IDYsIGl0ZW1zOiB0My5zcGxpY2UoMCkgfSldO1xuICAgIH0pIH0pO1xuICAgIHYodGhpcywgXCJzZWxlY3RvcnNcIiwgeyBhY3RpdmVEZXNjZW5kYW50SWQodDMpIHtcbiAgICAgIHZhciB1MjtcbiAgICAgIGxldCByMiA9IHQzLmFjdGl2ZUl0ZW1JbmRleCwgbDIgPSB0My5pdGVtcztcbiAgICAgIHJldHVybiByMiA9PT0gbnVsbCB8fCAodTIgPSBsMltyMl0pID09IG51bGwgPyB2b2lkIDAgOiB1Mi5pZDtcbiAgICB9LCBpc0FjdGl2ZSh0MywgcjIpIHtcbiAgICAgIHZhciBtMjtcbiAgICAgIGxldCBsMiA9IHQzLmFjdGl2ZUl0ZW1JbmRleCwgdTIgPSB0My5pdGVtcztcbiAgICAgIHJldHVybiBsMiAhPT0gbnVsbCA/ICgobTIgPSB1MltsMl0pID09IG51bGwgPyB2b2lkIDAgOiBtMi5pZCkgPT09IHIyIDogZmFsc2U7XG4gICAgfSwgc2hvdWxkU2Nyb2xsSW50b1ZpZXcodDMsIHIyKSB7XG4gICAgICByZXR1cm4gdDMuX19kZW1vTW9kZSB8fCB0My5tZW51U3RhdGUgIT09IDAgfHwgdDMuYWN0aXZhdGlvblRyaWdnZXIgPT09IDAgPyBmYWxzZSA6IHRoaXMuaXNBY3RpdmUodDMsIHIyKTtcbiAgICB9IH0pO1xuICAgIHRoaXMub24oNSwgKCkgPT4ge1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgdGhpcy5zZW5kKHsgdHlwZTogOSB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIHN0YXRpYyBuZXcoeyBfX2RlbW9Nb2RlOiB0MiA9IGZhbHNlIH0gPSB7fSkge1xuICAgIHJldHVybiBuZXcgeCh7IF9fZGVtb01vZGU6IHQyLCBtZW51U3RhdGU6IHQyID8gMCA6IDEsIGJ1dHRvbkVsZW1lbnQ6IG51bGwsIGl0ZW1zRWxlbWVudDogbnVsbCwgaXRlbXM6IFtdLCBzZWFyY2hRdWVyeTogXCJcIiwgYWN0aXZlSXRlbUluZGV4OiBudWxsLCBhY3RpdmF0aW9uVHJpZ2dlcjogMSwgcGVuZGluZ1Nob3VsZFNvcnQ6IGZhbHNlLCBwZW5kaW5nRm9jdXM6IHsgZm9jdXM6IGMkMS5Ob3RoaW5nIH0gfSk7XG4gIH1cbiAgcmVkdWNlKHQyLCByMikge1xuICAgIHJldHVybiB1JDcocjIudHlwZSwgRiwgdDIsIHIyKTtcbiAgfVxufVxuY29uc3QgYTIgPSBLJDMobnVsbCk7XG5mdW5jdGlvbiBsKGUyKSB7XG4gIGxldCBuMiA9IHgkNChhMik7XG4gIGlmIChuMiA9PT0gbnVsbCkge1xuICAgIGxldCB0MiA9IG5ldyBFcnJvcihgPCR7ZTJ9IC8+IGlzIG1pc3NpbmcgYSBwYXJlbnQgPE1lbnUgLz4gY29tcG9uZW50LmApO1xuICAgIHRocm93IEVycm9yLmNhcHR1cmVTdGFja1RyYWNlICYmIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHQyLCBpKSwgdDI7XG4gIH1cbiAgcmV0dXJuIG4yO1xufVxuZnVuY3Rpb24gaSh7IF9fZGVtb01vZGU6IGUyID0gZmFsc2UgfSA9IHt9KSB7XG4gIHJldHVybiBUJDUoKCkgPT4geC5uZXcoeyBfX2RlbW9Nb2RlOiBlMiB9KSwgW10pO1xufVxubGV0IHplID0gayQzO1xuZnVuY3Rpb24gUWUoVDIsIEUyKSB7XG4gIGxldCB7IF9fZGVtb01vZGU6IGkkMTIgPSBmYWxzZSwgLi4uYSQxMiB9ID0gVDIsIG4yID0gaSh7IF9fZGVtb01vZGU6IGkkMTIgfSksIFtzMiwgbzMsIFAyXSA9IFMkMShuMiwgKHAyKSA9PiBbcDIubWVudVN0YXRlLCBwMi5pdGVtc0VsZW1lbnQsIHAyLmJ1dHRvbkVsZW1lbnRdKSwgYzIgPSB5JDUoRTIpLCBfMiA9IHMyID09PSBNLk9wZW47XG4gIFIkMShfMiwgW1AyLCBvM10sIChwMiwgRjIpID0+IHtcbiAgICB2YXIgQSQxMjtcbiAgICBuMi5zZW5kKHsgdHlwZTogYi5DbG9zZU1lbnUgfSksIEEoRjIsIGgkMi5Mb29zZSkgfHwgKHAyLnByZXZlbnREZWZhdWx0KCksIChBJDEyID0gbjIuc3RhdGUuYnV0dG9uRWxlbWVudCkgPT0gbnVsbCB8fCBBJDEyLmZvY3VzKCkpO1xuICB9KTtcbiAgbGV0IHQyID0gbyQ0KCgpID0+IHtcbiAgICBuMi5zZW5kKHsgdHlwZTogYi5DbG9zZU1lbnUgfSk7XG4gIH0pLCBSMiA9IFQkNSgoKSA9PiAoeyBvcGVuOiBzMiA9PT0gTS5PcGVuLCBjbG9zZTogdDIgfSksIFtzMiwgdDJdKSwgSTIgPSB7IHJlZjogYzIgfSwgZzIgPSBMJDIoKTtcbiAgcmV0dXJuIFJuLmNyZWF0ZUVsZW1lbnQoTWUsIG51bGwsIFJuLmNyZWF0ZUVsZW1lbnQoYTIuUHJvdmlkZXIsIHsgdmFsdWU6IG4yIH0sIFJuLmNyZWF0ZUVsZW1lbnQoYyQzLCB7IHZhbHVlOiB1JDcoczIsIHsgW00uT3Blbl06IGkkMi5PcGVuLCBbTS5DbG9zZWRdOiBpJDIuQ2xvc2VkIH0pIH0sIGcyKHsgb3VyUHJvcHM6IEkyLCB0aGVpclByb3BzOiBhJDEyLCBzbG90OiBSMiwgZGVmYXVsdFRhZzogemUsIG5hbWU6IFwiTWVudVwiIH0pKSkpO1xufVxubGV0IFllID0gXCJidXR0b25cIjtcbmZ1bmN0aW9uIFplKFQkMTIsIEUyKSB7XG4gIGxldCBpMiA9IGwoXCJNZW51LkJ1dHRvblwiKSwgYTMgPSBnJDMoKSwgeyBpZDogbjIgPSBgaGVhZGxlc3N1aS1tZW51LWJ1dHRvbi0ke2EzfWAsIGRpc2FibGVkOiBzMiA9IGZhbHNlLCBhdXRvRm9jdXM6IG8zID0gZmFsc2UsIC4uLlAyIH0gPSBUJDEyLCBjMiA9IEEkMyhudWxsKSwgXzIgPSBGZSgpLCB0MiA9IHkkNShFMiwgYzIsIHllKCksIG8kNCgobDIpID0+IGkyLnNlbmQoeyB0eXBlOiBiLlNldEJ1dHRvbkVsZW1lbnQsIGVsZW1lbnQ6IGwyIH0pKSksIFIyID0gbyQ0KChsMikgPT4ge1xuICAgIHN3aXRjaCAobDIua2V5KSB7XG4gICAgICBjYXNlIG8kMy5TcGFjZTpcbiAgICAgIGNhc2UgbyQzLkVudGVyOlxuICAgICAgY2FzZSBvJDMuQXJyb3dEb3duOlxuICAgICAgICBsMi5wcmV2ZW50RGVmYXVsdCgpLCBsMi5zdG9wUHJvcGFnYXRpb24oKSwgaTIuc2VuZCh7IHR5cGU6IGIuT3Blbk1lbnUsIGZvY3VzOiB7IGZvY3VzOiBjJDEuRmlyc3QgfSB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIG8kMy5BcnJvd1VwOlxuICAgICAgICBsMi5wcmV2ZW50RGVmYXVsdCgpLCBsMi5zdG9wUHJvcGFnYXRpb24oKSwgaTIuc2VuZCh7IHR5cGU6IGIuT3Blbk1lbnUsIGZvY3VzOiB7IGZvY3VzOiBjJDEuTGFzdCB9IH0pO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH0pLCBJMiA9IG8kNCgobDIpID0+IHtcbiAgICBzd2l0Y2ggKGwyLmtleSkge1xuICAgICAgY2FzZSBvJDMuU3BhY2U6XG4gICAgICAgIGwyLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSksIFtnMiwgcDJdID0gUyQxKGkyLCAobDIpID0+IFtsMi5tZW51U3RhdGUsIGwyLml0ZW1zRWxlbWVudF0pLCBGMiA9IG8kNCgobDIpID0+IHtcbiAgICB2YXIgSDI7XG4gICAgaWYgKGwyLmJ1dHRvbiA9PT0gMCkge1xuICAgICAgaWYgKHIkMShsMi5jdXJyZW50VGFyZ2V0KSkgcmV0dXJuIGwyLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBzMiB8fCAoZzIgPT09IE0uT3BlbiA/IChFbigoKSA9PiBpMi5zZW5kKHsgdHlwZTogYi5DbG9zZU1lbnUgfSkpLCAoSDIgPSBjMi5jdXJyZW50KSA9PSBudWxsIHx8IEgyLmZvY3VzKHsgcHJldmVudFNjcm9sbDogdHJ1ZSB9KSkgOiAobDIucHJldmVudERlZmF1bHQoKSwgaTIuc2VuZCh7IHR5cGU6IGIuT3Blbk1lbnUsIGZvY3VzOiB7IGZvY3VzOiBjJDEuTm90aGluZyB9LCB0cmlnZ2VyOiBULlBvaW50ZXIgfSkpKTtcbiAgICB9XG4gIH0pLCB7IGlzRm9jdXNWaXNpYmxlOiBBMiwgZm9jdXNQcm9wczogZjIgfSA9ICRmN2RjZWZmYzVhZDc3NjhiJGV4cG9ydCQ0ZTMyOGY2MWM1Mzg2ODdmKHsgYXV0b0ZvY3VzOiBvMyB9KSwgeyBpc0hvdmVyZWQ6IE0kMTIsIGhvdmVyUHJvcHM6IEwyIH0gPSAkNjE3OWI5MzY3MDVlNzZkMyRleHBvcnQkYWU3ODBkYWYyOWU2ZDQ1Nih7IGlzRGlzYWJsZWQ6IHMyIH0pLCB7IHByZXNzZWQ6IFMyLCBwcmVzc1Byb3BzOiBPMiB9ID0gdyQyKHsgZGlzYWJsZWQ6IHMyIH0pLCB4MiA9IFQkNSgoKSA9PiAoeyBvcGVuOiBnMiA9PT0gTS5PcGVuLCBhY3RpdmU6IFMyIHx8IGcyID09PSBNLk9wZW4sIGRpc2FibGVkOiBzMiwgaG92ZXI6IE0kMTIsIGZvY3VzOiBBMiwgYXV0b2ZvY3VzOiBvMyB9KSwgW2cyLCBNJDEyLCBBMiwgUzIsIHMyLCBvM10pLCBVMiA9IF8kMihfMigpLCB7IHJlZjogdDIsIGlkOiBuMiwgdHlwZTogZSQxKFQkMTIsIGMyLmN1cnJlbnQpLCBcImFyaWEtaGFzcG9wdXBcIjogXCJtZW51XCIsIFwiYXJpYS1jb250cm9sc1wiOiBwMiA9PSBudWxsID8gdm9pZCAwIDogcDIuaWQsIFwiYXJpYS1leHBhbmRlZFwiOiBnMiA9PT0gTS5PcGVuLCBkaXNhYmxlZDogczIgfHwgdm9pZCAwLCBhdXRvRm9jdXM6IG8zLCBvbktleURvd246IFIyLCBvbktleVVwOiBJMiwgb25Nb3VzZURvd246IEYyIH0sIGYyLCBMMiwgTzIpO1xuICByZXR1cm4gTCQyKCkoeyBvdXJQcm9wczogVTIsIHRoZWlyUHJvcHM6IFAyLCBzbG90OiB4MiwgZGVmYXVsdFRhZzogWWUsIG5hbWU6IFwiTWVudS5CdXR0b25cIiB9KTtcbn1cbmxldCBldCA9IFwiZGl2XCIsIHR0ID0gTyQxLlJlbmRlclN0cmF0ZWd5IHwgTyQxLlN0YXRpYztcbmZ1bmN0aW9uIG90KFQyLCBFMikge1xuICBsZXQgaTIgPSBnJDMoKSwgeyBpZDogYTMgPSBgaGVhZGxlc3N1aS1tZW51LWl0ZW1zLSR7aTJ9YCwgYW5jaG9yOiBuMiwgcG9ydGFsOiBzMiA9IGZhbHNlLCBtb2RhbDogbzMgPSB0cnVlLCB0cmFuc2l0aW9uOiBQMiA9IGZhbHNlLCAuLi5jMiB9ID0gVDIsIF8yID0geGUobjIpLCB0MiA9IGwoXCJNZW51Lkl0ZW1zXCIpLCBbUiQxMiwgSTJdID0gUmUoXzIpLCBnMiA9IGJlKCksIFtwMiwgRjJdID0gZCQ0KG51bGwpLCBBMiA9IHkkNShFMiwgXzIgPyBSJDEyIDogbnVsbCwgbyQ0KChlMikgPT4gdDIuc2VuZCh7IHR5cGU6IGIuU2V0SXRlbXNFbGVtZW50LCBlbGVtZW50OiBlMiB9KSksIEYyKSwgW2YyLCBNJDEyXSA9IFMkMSh0MiwgKGUyKSA9PiBbZTIubWVudVN0YXRlLCBlMi5idXR0b25FbGVtZW50XSksIEwyID0gbiQxKE0kMTIpLCBTMiA9IG4kMShwMik7XG4gIF8yICYmIChzMiA9IHRydWUpO1xuICBsZXQgTzIgPSB1JDIoKSwgW3gyLCBVMl0gPSB4JDEoUDIsIHAyLCBPMiAhPT0gbnVsbCA/IChPMiAmIGkkMi5PcGVuKSA9PT0gaSQyLk9wZW4gOiBmMiA9PT0gTS5PcGVuKTtcbiAgbSQyKHgyLCBNJDEyLCAoKSA9PiB7XG4gICAgdDIuc2VuZCh7IHR5cGU6IGIuQ2xvc2VNZW51IH0pO1xuICB9KTtcbiAgbGV0IEckMTIgPSBTJDEodDIsIChlMikgPT4gZTIuX19kZW1vTW9kZSksIGwkMTIgPSBHJDEyID8gZmFsc2UgOiBvMyAmJiBmMiA9PT0gTS5PcGVuO1xuICBmJDIobCQxMiwgUzIpO1xuICBsZXQgSDIgPSBHJDEyID8gZmFsc2UgOiBvMyAmJiBmMiA9PT0gTS5PcGVuO1xuICB5JDQoSDIsIHsgYWxsb3dlZDogcSQzKCgpID0+IFtNJDEyLCBwMl0sIFtNJDEyLCBwMl0pIH0pO1xuICBsZXQgdTIgPSBmMiAhPT0gTS5PcGVuLCBhZSA9IHMkMSh1MiwgTSQxMikgPyBmYWxzZSA6IHgyO1xuICB5JDYoKCkgPT4ge1xuICAgIGxldCBlMiA9IHAyO1xuICAgIGUyICYmIGYyID09PSBNLk9wZW4gJiYgZTIgIT09IChTMiA9PSBudWxsID8gdm9pZCAwIDogUzIuYWN0aXZlRWxlbWVudCkgJiYgZTIuZm9jdXMoeyBwcmV2ZW50U2Nyb2xsOiB0cnVlIH0pO1xuICB9LCBbZjIsIHAyLCBTMl0pLCBGJDEoZjIgPT09IE0uT3BlbiwgeyBjb250YWluZXI6IHAyLCBhY2NlcHQoZTIpIHtcbiAgICByZXR1cm4gZTIuZ2V0QXR0cmlidXRlKFwicm9sZVwiKSA9PT0gXCJtZW51aXRlbVwiID8gTm9kZUZpbHRlci5GSUxURVJfUkVKRUNUIDogZTIuaGFzQXR0cmlidXRlKFwicm9sZVwiKSA/IE5vZGVGaWx0ZXIuRklMVEVSX1NLSVAgOiBOb2RlRmlsdGVyLkZJTFRFUl9BQ0NFUFQ7XG4gIH0sIHdhbGsoZTIpIHtcbiAgICBlMi5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwibm9uZVwiKTtcbiAgfSB9KTtcbiAgbGV0IHEyID0gcCQyKCksIHNlID0gbyQ0KChlMikgPT4ge1xuICAgIHZhciBOMiwgejIsIFEyO1xuICAgIHN3aXRjaCAocTIuZGlzcG9zZSgpLCBlMi5rZXkpIHtcbiAgICAgIGNhc2UgbyQzLlNwYWNlOlxuICAgICAgICBpZiAodDIuc3RhdGUuc2VhcmNoUXVlcnkgIT09IFwiXCIpIHJldHVybiBlMi5wcmV2ZW50RGVmYXVsdCgpLCBlMi5zdG9wUHJvcGFnYXRpb24oKSwgdDIuc2VuZCh7IHR5cGU6IGIuU2VhcmNoLCB2YWx1ZTogZTIua2V5IH0pO1xuICAgICAgY2FzZSBvJDMuRW50ZXI6XG4gICAgICAgIGlmIChlMi5wcmV2ZW50RGVmYXVsdCgpLCBlMi5zdG9wUHJvcGFnYXRpb24oKSwgdDIuc3RhdGUuYWN0aXZlSXRlbUluZGV4ICE9PSBudWxsKSB7XG4gICAgICAgICAgbGV0IHsgZGF0YVJlZjogZGUgfSA9IHQyLnN0YXRlLml0ZW1zW3QyLnN0YXRlLmFjdGl2ZUl0ZW1JbmRleF07XG4gICAgICAgICAgKHoyID0gKE4yID0gZGUuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IE4yLmRvbVJlZi5jdXJyZW50KSA9PSBudWxsIHx8IHoyLmNsaWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgdDIuc2VuZCh7IHR5cGU6IGIuQ2xvc2VNZW51IH0pLCBHKHQyLnN0YXRlLmJ1dHRvbkVsZW1lbnQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgbyQzLkFycm93RG93bjpcbiAgICAgICAgcmV0dXJuIGUyLnByZXZlbnREZWZhdWx0KCksIGUyLnN0b3BQcm9wYWdhdGlvbigpLCB0Mi5zZW5kKHsgdHlwZTogYi5Hb1RvSXRlbSwgZm9jdXM6IGMkMS5OZXh0IH0pO1xuICAgICAgY2FzZSBvJDMuQXJyb3dVcDpcbiAgICAgICAgcmV0dXJuIGUyLnByZXZlbnREZWZhdWx0KCksIGUyLnN0b3BQcm9wYWdhdGlvbigpLCB0Mi5zZW5kKHsgdHlwZTogYi5Hb1RvSXRlbSwgZm9jdXM6IGMkMS5QcmV2aW91cyB9KTtcbiAgICAgIGNhc2UgbyQzLkhvbWU6XG4gICAgICBjYXNlIG8kMy5QYWdlVXA6XG4gICAgICAgIHJldHVybiBlMi5wcmV2ZW50RGVmYXVsdCgpLCBlMi5zdG9wUHJvcGFnYXRpb24oKSwgdDIuc2VuZCh7IHR5cGU6IGIuR29Ub0l0ZW0sIGZvY3VzOiBjJDEuRmlyc3QgfSk7XG4gICAgICBjYXNlIG8kMy5FbmQ6XG4gICAgICBjYXNlIG8kMy5QYWdlRG93bjpcbiAgICAgICAgcmV0dXJuIGUyLnByZXZlbnREZWZhdWx0KCksIGUyLnN0b3BQcm9wYWdhdGlvbigpLCB0Mi5zZW5kKHsgdHlwZTogYi5Hb1RvSXRlbSwgZm9jdXM6IGMkMS5MYXN0IH0pO1xuICAgICAgY2FzZSBvJDMuRXNjYXBlOlxuICAgICAgICBlMi5wcmV2ZW50RGVmYXVsdCgpLCBlMi5zdG9wUHJvcGFnYXRpb24oKSwgRW4oKCkgPT4gdDIuc2VuZCh7IHR5cGU6IGIuQ2xvc2VNZW51IH0pKSwgKFEyID0gdDIuc3RhdGUuYnV0dG9uRWxlbWVudCkgPT0gbnVsbCB8fCBRMi5mb2N1cyh7IHByZXZlbnRTY3JvbGw6IHRydWUgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBvJDMuVGFiOlxuICAgICAgICBlMi5wcmV2ZW50RGVmYXVsdCgpLCBlMi5zdG9wUHJvcGFnYXRpb24oKSwgRW4oKCkgPT4gdDIuc2VuZCh7IHR5cGU6IGIuQ2xvc2VNZW51IH0pKSwgaiQyKHQyLnN0YXRlLmJ1dHRvbkVsZW1lbnQsIGUyLnNoaWZ0S2V5ID8gRiQyLlByZXZpb3VzIDogRiQyLk5leHQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGUyLmtleS5sZW5ndGggPT09IDEgJiYgKHQyLnNlbmQoeyB0eXBlOiBiLlNlYXJjaCwgdmFsdWU6IGUyLmtleSB9KSwgcTIuc2V0VGltZW91dCgoKSA9PiB0Mi5zZW5kKHsgdHlwZTogYi5DbGVhclNlYXJjaCB9KSwgMzUwKSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSksIGxlID0gbyQ0KChlMikgPT4ge1xuICAgIHN3aXRjaCAoZTIua2V5KSB7XG4gICAgICBjYXNlIG8kMy5TcGFjZTpcbiAgICAgICAgZTIucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9KSwgcGUyID0gVCQ1KCgpID0+ICh7IG9wZW46IGYyID09PSBNLk9wZW4gfSksIFtmMl0pLCBpZSA9IF8kMihfMiA/IGcyKCkgOiB7fSwgeyBcImFyaWEtYWN0aXZlZGVzY2VuZGFudFwiOiBTJDEodDIsIHQyLnNlbGVjdG9ycy5hY3RpdmVEZXNjZW5kYW50SWQpLCBcImFyaWEtbGFiZWxsZWRieVwiOiBTJDEodDIsIChlMikgPT4ge1xuICAgIHZhciBOMjtcbiAgICByZXR1cm4gKE4yID0gZTIuYnV0dG9uRWxlbWVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IE4yLmlkO1xuICB9KSwgaWQ6IGEzLCBvbktleURvd246IHNlLCBvbktleVVwOiBsZSwgcm9sZTogXCJtZW51XCIsIHRhYkluZGV4OiBmMiA9PT0gTS5PcGVuID8gMCA6IHZvaWQgMCwgcmVmOiBBMiwgc3R5bGU6IHsgLi4uYzIuc3R5bGUsIC4uLkkyLCBcIi0tYnV0dG9uLXdpZHRoXCI6IGQkMihNJDEyLCB0cnVlKS53aWR0aCB9LCAuLi5SKFUyKSB9KSwgdWUgPSBMJDIoKTtcbiAgcmV0dXJuIFJuLmNyZWF0ZUVsZW1lbnQob2UsIHsgZW5hYmxlZDogczIgPyBUMi5zdGF0aWMgfHwgeDIgOiBmYWxzZSwgb3duZXJEb2N1bWVudDogTDIgfSwgdWUoeyBvdXJQcm9wczogaWUsIHRoZWlyUHJvcHM6IGMyLCBzbG90OiBwZTIsIGRlZmF1bHRUYWc6IGV0LCBmZWF0dXJlczogdHQsIHZpc2libGU6IGFlLCBuYW1lOiBcIk1lbnUuSXRlbXNcIiB9KSk7XG59XG5sZXQgbnQgPSBrJDM7XG5mdW5jdGlvbiBydChUJDEyLCBFMikge1xuICBsZXQgaTIgPSBnJDMoKSwgeyBpZDogYTMgPSBgaGVhZGxlc3N1aS1tZW51LWl0ZW0tJHtpMn1gLCBkaXNhYmxlZDogbjIgPSBmYWxzZSwgLi4ucyQxMiB9ID0gVCQxMiwgbzMgPSBsKFwiTWVudS5JdGVtXCIpLCBQMiA9IFMkMShvMywgKHUyKSA9PiBvMy5zZWxlY3RvcnMuaXNBY3RpdmUodTIsIGEzKSksIGMyID0gQSQzKG51bGwpLCBfMiA9IHkkNShFMiwgYzIpLCB0MiA9IFMkMShvMywgKHUyKSA9PiBvMy5zZWxlY3RvcnMuc2hvdWxkU2Nyb2xsSW50b1ZpZXcodTIsIGEzKSk7XG4gIG4kMygoKSA9PiB7XG4gICAgaWYgKHQyKSByZXR1cm4gbyQ1KCkucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIHZhciB1MiwgSjI7XG4gICAgICAoSjIgPSAodTIgPSBjMi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogdTIuc2Nyb2xsSW50b1ZpZXcpID09IG51bGwgfHwgSjIuY2FsbCh1MiwgeyBibG9jazogXCJuZWFyZXN0XCIgfSk7XG4gICAgfSk7XG4gIH0sIFt0MiwgYzJdKTtcbiAgbGV0IFIyID0gcyhjMiksIEkyID0gQSQzKHsgZGlzYWJsZWQ6IG4yLCBkb21SZWY6IGMyLCBnZXQgdGV4dFZhbHVlKCkge1xuICAgIHJldHVybiBSMigpO1xuICB9IH0pO1xuICBuJDMoKCkgPT4ge1xuICAgIEkyLmN1cnJlbnQuZGlzYWJsZWQgPSBuMjtcbiAgfSwgW0kyLCBuMl0pLCBuJDMoKCkgPT4gKG8zLmFjdGlvbnMucmVnaXN0ZXJJdGVtKGEzLCBJMiksICgpID0+IG8zLmFjdGlvbnMudW5yZWdpc3Rlckl0ZW0oYTMpKSwgW0kyLCBhM10pO1xuICBsZXQgZzIgPSBvJDQoKCkgPT4ge1xuICAgIG8zLnNlbmQoeyB0eXBlOiBiLkNsb3NlTWVudSB9KTtcbiAgfSksIHAyID0gbyQ0KCh1MikgPT4ge1xuICAgIGlmIChuMikgcmV0dXJuIHUyLnByZXZlbnREZWZhdWx0KCk7XG4gICAgbzMuc2VuZCh7IHR5cGU6IGIuQ2xvc2VNZW51IH0pLCBHKG8zLnN0YXRlLmJ1dHRvbkVsZW1lbnQpO1xuICB9KSwgRjIgPSBvJDQoKCkgPT4ge1xuICAgIGlmIChuMikgcmV0dXJuIG8zLnNlbmQoeyB0eXBlOiBiLkdvVG9JdGVtLCBmb2N1czogYyQxLk5vdGhpbmcgfSk7XG4gICAgbzMuc2VuZCh7IHR5cGU6IGIuR29Ub0l0ZW0sIGZvY3VzOiBjJDEuU3BlY2lmaWMsIGlkOiBhMyB9KTtcbiAgfSksIEEyID0gdSQzKCksIGYyID0gbyQ0KCh1MikgPT4ge1xuICAgIEEyLnVwZGF0ZSh1MiksICFuMiAmJiAoUDIgfHwgbzMuc2VuZCh7IHR5cGU6IGIuR29Ub0l0ZW0sIGZvY3VzOiBjJDEuU3BlY2lmaWMsIGlkOiBhMywgdHJpZ2dlcjogVC5Qb2ludGVyIH0pKTtcbiAgfSksIE0yID0gbyQ0KCh1MikgPT4ge1xuICAgIEEyLndhc01vdmVkKHUyKSAmJiAobjIgfHwgUDIgfHwgbzMuc2VuZCh7IHR5cGU6IGIuR29Ub0l0ZW0sIGZvY3VzOiBjJDEuU3BlY2lmaWMsIGlkOiBhMywgdHJpZ2dlcjogVC5Qb2ludGVyIH0pKTtcbiAgfSksIEwyID0gbyQ0KCh1MikgPT4ge1xuICAgIEEyLndhc01vdmVkKHUyKSAmJiAobjIgfHwgUDIgJiYgbzMuc2VuZCh7IHR5cGU6IGIuR29Ub0l0ZW0sIGZvY3VzOiBjJDEuTm90aGluZyB9KSk7XG4gIH0pLCBbUzIsIE8yXSA9IEsoKSwgW3gyLCBVMl0gPSB3JDEoKSwgRyQxMiA9IFQkNSgoKSA9PiAoeyBhY3RpdmU6IFAyLCBmb2N1czogUDIsIGRpc2FibGVkOiBuMiwgY2xvc2U6IGcyIH0pLCBbUDIsIG4yLCBnMl0pLCBsJDEyID0geyBpZDogYTMsIHJlZjogXzIsIHJvbGU6IFwibWVudWl0ZW1cIiwgdGFiSW5kZXg6IG4yID09PSB0cnVlID8gdm9pZCAwIDogLTEsIFwiYXJpYS1kaXNhYmxlZFwiOiBuMiA9PT0gdHJ1ZSA/IHRydWUgOiB2b2lkIDAsIFwiYXJpYS1sYWJlbGxlZGJ5XCI6IFMyLCBcImFyaWEtZGVzY3JpYmVkYnlcIjogeDIsIGRpc2FibGVkOiB2b2lkIDAsIG9uQ2xpY2s6IHAyLCBvbkZvY3VzOiBGMiwgb25Qb2ludGVyRW50ZXI6IGYyLCBvbk1vdXNlRW50ZXI6IGYyLCBvblBvaW50ZXJNb3ZlOiBNMiwgb25Nb3VzZU1vdmU6IE0yLCBvblBvaW50ZXJMZWF2ZTogTDIsIG9uTW91c2VMZWF2ZTogTDIgfSwgSDIgPSBMJDIoKTtcbiAgcmV0dXJuIFJuLmNyZWF0ZUVsZW1lbnQoTzIsIG51bGwsIFJuLmNyZWF0ZUVsZW1lbnQoVTIsIG51bGwsIEgyKHsgb3VyUHJvcHM6IGwkMTIsIHRoZWlyUHJvcHM6IHMkMTIsIHNsb3Q6IEckMTIsIGRlZmF1bHRUYWc6IG50LCBuYW1lOiBcIk1lbnUuSXRlbVwiIH0pKSk7XG59XG5sZXQgYXQgPSBcImRpdlwiO1xuZnVuY3Rpb24gc3QoVDIsIEUyKSB7XG4gIGxldCBbaTIsIGEzXSA9IEsoKSwgbjIgPSBUMiwgczIgPSB7IHJlZjogRTIsIFwiYXJpYS1sYWJlbGxlZGJ5XCI6IGkyLCByb2xlOiBcImdyb3VwXCIgfSwgbzMgPSBMJDIoKTtcbiAgcmV0dXJuIFJuLmNyZWF0ZUVsZW1lbnQoYTMsIG51bGwsIG8zKHsgb3VyUHJvcHM6IHMyLCB0aGVpclByb3BzOiBuMiwgc2xvdDoge30sIGRlZmF1bHRUYWc6IGF0LCBuYW1lOiBcIk1lbnUuU2VjdGlvblwiIH0pKTtcbn1cbmxldCBsdCA9IFwiaGVhZGVyXCI7XG5mdW5jdGlvbiBwdChUMiwgRTIpIHtcbiAgbGV0IGkyID0gZyQzKCksIHsgaWQ6IGEzID0gYGhlYWRsZXNzdWktbWVudS1oZWFkaW5nLSR7aTJ9YCwgLi4ubjIgfSA9IFQyLCBzMiA9IFAkMSgpO1xuICBuJDMoKCkgPT4gczIucmVnaXN0ZXIoYTMpLCBbYTMsIHMyLnJlZ2lzdGVyXSk7XG4gIGxldCBvMyA9IHsgaWQ6IGEzLCByZWY6IEUyLCByb2xlOiBcInByZXNlbnRhdGlvblwiLCAuLi5zMi5wcm9wcyB9O1xuICByZXR1cm4gTCQyKCkoeyBvdXJQcm9wczogbzMsIHRoZWlyUHJvcHM6IG4yLCBzbG90OiB7fSwgZGVmYXVsdFRhZzogbHQsIG5hbWU6IFwiTWVudS5IZWFkaW5nXCIgfSk7XG59XG5sZXQgaXQgPSBcImRpdlwiO1xuZnVuY3Rpb24gdXQoVDIsIEUyKSB7XG4gIGxldCBpMiA9IFQyLCBhMyA9IHsgcmVmOiBFMiwgcm9sZTogXCJzZXBhcmF0b3JcIiB9O1xuICByZXR1cm4gTCQyKCkoeyBvdXJQcm9wczogYTMsIHRoZWlyUHJvcHM6IGkyLCBzbG90OiB7fSwgZGVmYXVsdFRhZzogaXQsIG5hbWU6IFwiTWVudS5TZXBhcmF0b3JcIiB9KTtcbn1cbmxldCBkdCA9IEskMShRZSksIG10ID0gSyQxKFplKSwgVHQgPSBLJDEob3QpLCBmdCA9IEskMShydCksIGN0ID0gSyQxKHN0KSwgeXQgPSBLJDEocHQpLCBFdCA9IEskMSh1dCksIHRvID0gT2JqZWN0LmFzc2lnbihkdCwgeyBCdXR0b246IG10LCBJdGVtczogVHQsIEl0ZW06IGZ0LCBTZWN0aW9uOiBjdCwgSGVhZGluZzogeXQsIFNlcGFyYXRvcjogRXQgfSk7XG5sZXQgTCA9IFwidGV4dGFyZWFcIjtcbmZ1bmN0aW9uIEgoczIsIGwyKSB7XG4gIGxldCBpMiA9IGckMygpLCBkMiA9IHUkNigpLCBuMiA9IGEkOSgpLCB7IGlkOiBwMiA9IGQyIHx8IGBoZWFkbGVzc3VpLXRleHRhcmVhLSR7aTJ9YCwgZGlzYWJsZWQ6IGUyID0gbjIgfHwgZmFsc2UsIGF1dG9Gb2N1czogcjIgPSBmYWxzZSwgaW52YWxpZDogYTMgPSBmYWxzZSwgLi4uVDIgfSA9IHMyLCBmMiA9IEkkMigpLCBtMiA9IFUkMSgpLCB7IGlzRm9jdXNlZDogbzMsIGZvY3VzUHJvcHM6IHUyIH0gPSAkZjdkY2VmZmM1YWQ3NzY4YiRleHBvcnQkNGUzMjhmNjFjNTM4Njg3Zih7IGF1dG9Gb2N1czogcjIgfSksIHsgaXNIb3ZlcmVkOiB0MiwgaG92ZXJQcm9wczogYjIgfSA9ICQ2MTc5YjkzNjcwNWU3NmQzJGV4cG9ydCRhZTc4MGRhZjI5ZTZkNDU2KHsgaXNEaXNhYmxlZDogZTIgfSksIHkyID0gXyQyKHsgcmVmOiBsMiwgaWQ6IHAyLCBcImFyaWEtbGFiZWxsZWRieVwiOiBmMiwgXCJhcmlhLWRlc2NyaWJlZGJ5XCI6IG0yLCBcImFyaWEtaW52YWxpZFwiOiBhMyA/IFwidHJ1ZVwiIDogdm9pZCAwLCBkaXNhYmxlZDogZTIgfHwgdm9pZCAwLCBhdXRvRm9jdXM6IHIyIH0sIHUyLCBiMiksIHgyID0gVCQ1KCgpID0+ICh7IGRpc2FibGVkOiBlMiwgaW52YWxpZDogYTMsIGhvdmVyOiB0MiwgZm9jdXM6IG8zLCBhdXRvZm9jdXM6IHIyIH0pLCBbZTIsIGEzLCB0MiwgbzMsIHIyXSk7XG4gIHJldHVybiBMJDIoKSh7IG91clByb3BzOiB5MiwgdGhlaXJQcm9wczogVDIsIHNsb3Q6IHgyLCBkZWZhdWx0VGFnOiBMLCBuYW1lOiBcIlRleHRhcmVhXCIgfSk7XG59XG5sZXQgSiA9IEskMShIKTtcbi8qKlxuICogQGxpY2Vuc2UgbHVjaWRlLXJlYWN0IHYwLjUwMy4wIC0gSVNDXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuY29uc3QgdG9LZWJhYkNhc2UgPSAoc3RyaW5nKSA9PiBzdHJpbmcucmVwbGFjZSgvKFthLXowLTldKShbQS1aXSkvZywgXCIkMS0kMlwiKS50b0xvd2VyQ2FzZSgpO1xuY29uc3QgdG9DYW1lbENhc2UgPSAoc3RyaW5nKSA9PiBzdHJpbmcucmVwbGFjZShcbiAgL14oW0EtWl0pfFtcXHMtX10rKFxcdykvZyxcbiAgKG1hdGNoLCBwMSwgcDIpID0+IHAyID8gcDIudG9VcHBlckNhc2UoKSA6IHAxLnRvTG93ZXJDYXNlKClcbik7XG5jb25zdCB0b1Bhc2NhbENhc2UgPSAoc3RyaW5nKSA9PiB7XG4gIGNvbnN0IGNhbWVsQ2FzZSA9IHRvQ2FtZWxDYXNlKHN0cmluZyk7XG4gIHJldHVybiBjYW1lbENhc2UuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBjYW1lbENhc2Uuc2xpY2UoMSk7XG59O1xuY29uc3QgbWVyZ2VDbGFzc2VzID0gKC4uLmNsYXNzZXMpID0+IGNsYXNzZXMuZmlsdGVyKChjbGFzc05hbWUsIGluZGV4MiwgYXJyYXkpID0+IHtcbiAgcmV0dXJuIEJvb2xlYW4oY2xhc3NOYW1lKSAmJiBjbGFzc05hbWUudHJpbSgpICE9PSBcIlwiICYmIGFycmF5LmluZGV4T2YoY2xhc3NOYW1lKSA9PT0gaW5kZXgyO1xufSkuam9pbihcIiBcIikudHJpbSgpO1xuY29uc3QgaGFzQTExeVByb3AgPSAocHJvcHMpID0+IHtcbiAgZm9yIChjb25zdCBwcm9wIGluIHByb3BzKSB7XG4gICAgaWYgKHByb3Auc3RhcnRzV2l0aChcImFyaWEtXCIpIHx8IHByb3AgPT09IFwicm9sZVwiIHx8IHByb3AgPT09IFwidGl0bGVcIikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG59O1xuLyoqXG4gKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNTAzLjAgLSBJU0NcbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG52YXIgZGVmYXVsdEF0dHJpYnV0ZXMgPSB7XG4gIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gIHdpZHRoOiAyNCxcbiAgaGVpZ2h0OiAyNCxcbiAgdmlld0JveDogXCIwIDAgMjQgMjRcIixcbiAgZmlsbDogXCJub25lXCIsXG4gIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgc3Ryb2tlV2lkdGg6IDIsXG4gIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIixcbiAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxufTtcbi8qKlxuICogQGxpY2Vuc2UgbHVjaWRlLXJlYWN0IHYwLjUwMy4wIC0gSVNDXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuY29uc3QgSWNvbiA9IEQkMShcbiAgKHtcbiAgICBjb2xvciA9IFwiY3VycmVudENvbG9yXCIsXG4gICAgc2l6ZTogc2l6ZTIgPSAyNCxcbiAgICBzdHJva2VXaWR0aCA9IDIsXG4gICAgYWJzb2x1dGVTdHJva2VXaWR0aCxcbiAgICBjbGFzc05hbWUgPSBcIlwiLFxuICAgIGNoaWxkcmVuLFxuICAgIGljb25Ob2RlLFxuICAgIC4uLnJlc3RcbiAgfSwgcmVmKSA9PiB7XG4gICAgcmV0dXJuIF8kNChcbiAgICAgIFwic3ZnXCIsXG4gICAgICB7XG4gICAgICAgIHJlZixcbiAgICAgICAgLi4uZGVmYXVsdEF0dHJpYnV0ZXMsXG4gICAgICAgIHdpZHRoOiBzaXplMixcbiAgICAgICAgaGVpZ2h0OiBzaXplMixcbiAgICAgICAgc3Ryb2tlOiBjb2xvcixcbiAgICAgICAgc3Ryb2tlV2lkdGg6IGFic29sdXRlU3Ryb2tlV2lkdGggPyBOdW1iZXIoc3Ryb2tlV2lkdGgpICogMjQgLyBOdW1iZXIoc2l6ZTIpIDogc3Ryb2tlV2lkdGgsXG4gICAgICAgIGNsYXNzTmFtZTogbWVyZ2VDbGFzc2VzKFwibHVjaWRlXCIsIGNsYXNzTmFtZSksXG4gICAgICAgIC4uLiFjaGlsZHJlbiAmJiAhaGFzQTExeVByb3AocmVzdCkgJiYgeyBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiIH0sXG4gICAgICAgIC4uLnJlc3RcbiAgICAgIH0sXG4gICAgICBbXG4gICAgICAgIC4uLmljb25Ob2RlLm1hcCgoW3RhZywgYXR0cnNdKSA9PiBfJDQodGFnLCBhdHRycykpLFxuICAgICAgICAuLi5BcnJheS5pc0FycmF5KGNoaWxkcmVuKSA/IGNoaWxkcmVuIDogW2NoaWxkcmVuXVxuICAgICAgXVxuICAgICk7XG4gIH1cbik7XG4vKipcbiAqIEBsaWNlbnNlIGx1Y2lkZS1yZWFjdCB2MC41MDMuMCAtIElTQ1xuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIElTQyBsaWNlbnNlLlxuICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cbmNvbnN0IGNyZWF0ZUx1Y2lkZUljb24gPSAoaWNvbk5hbWUsIGljb25Ob2RlKSA9PiB7XG4gIGNvbnN0IENvbXBvbmVudCA9IEQkMShcbiAgICAoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gXyQ0KEljb24sIHtcbiAgICAgIHJlZixcbiAgICAgIGljb25Ob2RlLFxuICAgICAgY2xhc3NOYW1lOiBtZXJnZUNsYXNzZXMoXG4gICAgICAgIGBsdWNpZGUtJHt0b0tlYmFiQ2FzZSh0b1Bhc2NhbENhc2UoaWNvbk5hbWUpKX1gLFxuICAgICAgICBgbHVjaWRlLSR7aWNvbk5hbWV9YCxcbiAgICAgICAgY2xhc3NOYW1lXG4gICAgICApLFxuICAgICAgLi4ucHJvcHNcbiAgICB9KVxuICApO1xuICBDb21wb25lbnQuZGlzcGxheU5hbWUgPSB0b1Bhc2NhbENhc2UoaWNvbk5hbWUpO1xuICByZXR1cm4gQ29tcG9uZW50O1xufTtcbi8qKlxuICogQGxpY2Vuc2UgbHVjaWRlLXJlYWN0IHYwLjUwMy4wIC0gSVNDXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuY29uc3QgX19pY29uTm9kZSQ2ID0gW1tcInBhdGhcIiwgeyBkOiBcIm02IDkgNiA2IDYtNlwiLCBrZXk6IFwicXJ1bnNsXCIgfV1dO1xuY29uc3QgQ2hldnJvbkRvd24gPSBjcmVhdGVMdWNpZGVJY29uKFwiY2hldnJvbi1kb3duXCIsIF9faWNvbk5vZGUkNik7XG4vKipcbiAqIEBsaWNlbnNlIGx1Y2lkZS1yZWFjdCB2MC41MDMuMCAtIElTQ1xuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIElTQyBsaWNlbnNlLlxuICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cbmNvbnN0IF9faWNvbk5vZGUkNSA9IFtbXCJwYXRoXCIsIHsgZDogXCJtMTggMTUtNi02LTYgNlwiLCBrZXk6IFwiMTUzdWR6XCIgfV1dO1xuY29uc3QgQ2hldnJvblVwID0gY3JlYXRlTHVjaWRlSWNvbihcImNoZXZyb24tdXBcIiwgX19pY29uTm9kZSQ1KTtcbi8qKlxuICogQGxpY2Vuc2UgbHVjaWRlLXJlYWN0IHYwLjUwMy4wIC0gSVNDXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuY29uc3QgX19pY29uTm9kZSQ0ID0gW1xuICBbXCJjaXJjbGVcIiwgeyBjeDogXCIxMlwiLCBjeTogXCIxMlwiLCByOiBcIjFcIiwga2V5OiBcIjQxaGlsZlwiIH1dLFxuICBbXCJjaXJjbGVcIiwgeyBjeDogXCIxOVwiLCBjeTogXCIxMlwiLCByOiBcIjFcIiwga2V5OiBcIjF3amw4aVwiIH1dLFxuICBbXCJjaXJjbGVcIiwgeyBjeDogXCI1XCIsIGN5OiBcIjEyXCIsIHI6IFwiMVwiLCBrZXk6IFwiMXBjejhjXCIgfV1cbl07XG5jb25zdCBFbGxpcHNpcyA9IGNyZWF0ZUx1Y2lkZUljb24oXCJlbGxpcHNpc1wiLCBfX2ljb25Ob2RlJDQpO1xuLyoqXG4gKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNTAzLjAgLSBJU0NcbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5jb25zdCBfX2ljb25Ob2RlJDMgPSBbXG4gIFtcInBvbHlsaW5lXCIsIHsgcG9pbnRzOiBcIjQgMTQgMTAgMTQgMTAgMjBcIiwga2V5OiBcIjExa2ZuclwiIH1dLFxuICBbXCJwb2x5bGluZVwiLCB7IHBvaW50czogXCIyMCAxMCAxNCAxMCAxNCA0XCIsIGtleTogXCJybG1zY2VcIiB9XSxcbiAgW1wibGluZVwiLCB7IHgxOiBcIjE0XCIsIHgyOiBcIjIxXCIsIHkxOiBcIjEwXCIsIHkyOiBcIjNcIiwga2V5OiBcIm81bGFmelwiIH1dLFxuICBbXCJsaW5lXCIsIHsgeDE6IFwiM1wiLCB4MjogXCIxMFwiLCB5MTogXCIyMVwiLCB5MjogXCIxNFwiLCBrZXk6IFwiMWF0bDByXCIgfV1cbl07XG5jb25zdCBNaW5pbWl6ZTIgPSBjcmVhdGVMdWNpZGVJY29uKFwibWluaW1pemUtMlwiLCBfX2ljb25Ob2RlJDMpO1xuLyoqXG4gKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNTAzLjAgLSBJU0NcbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5jb25zdCBfX2ljb25Ob2RlJDIgPSBbXG4gIFtcInBhdGhcIiwgeyBkOiBcIk01IDEyaDE0XCIsIGtleTogXCIxYXlzMGhcIiB9XSxcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTEyIDV2MTRcIiwga2V5OiBcInM2OTlsZVwiIH1dXG5dO1xuY29uc3QgUGx1cyA9IGNyZWF0ZUx1Y2lkZUljb24oXCJwbHVzXCIsIF9faWNvbk5vZGUkMik7XG4vKipcbiAqIEBsaWNlbnNlIGx1Y2lkZS1yZWFjdCB2MC41MDMuMCAtIElTQ1xuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIElTQyBsaWNlbnNlLlxuICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cbmNvbnN0IF9faWNvbk5vZGUkMSA9IFtcbiAgW1xuICAgIFwicGF0aFwiLFxuICAgIHtcbiAgICAgIGQ6IFwiTTE0LjUzNiAyMS42ODZhLjUuNSAwIDAgMCAuOTM3LS4wMjRsNi41LTE5YS40OTYuNDk2IDAgMCAwLS42MzUtLjYzNWwtMTkgNi41YS41LjUgMCAwIDAtLjAyNC45MzdsNy45MyAzLjE4YTIgMiAwIDAgMSAxLjExMiAxLjExelwiLFxuICAgICAga2V5OiBcIjFmZnh5M1wiXG4gICAgfVxuICBdLFxuICBbXCJwYXRoXCIsIHsgZDogXCJtMjEuODU0IDIuMTQ3LTEwLjk0IDEwLjkzOVwiLCBrZXk6IFwiMTJjanBhXCIgfV1cbl07XG5jb25zdCBTZW5kID0gY3JlYXRlTHVjaWRlSWNvbihcInNlbmRcIiwgX19pY29uTm9kZSQxKTtcbi8qKlxuICogQGxpY2Vuc2UgbHVjaWRlLXJlYWN0IHYwLjUwMy4wIC0gSVNDXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuY29uc3QgX19pY29uTm9kZSA9IFtcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTMgNmgxOFwiLCBrZXk6IFwiZDB3bTBqXCIgfV0sXG4gIFtcInBhdGhcIiwgeyBkOiBcIk0xOSA2djE0YzAgMS0xIDItMiAySDdjLTEgMC0yLTEtMi0yVjZcIiwga2V5OiBcIjRhbHJ0NFwiIH1dLFxuICBbXCJwYXRoXCIsIHsgZDogXCJNOCA2VjRjMC0xIDEtMiAyLTJoNGMxIDAgMiAxIDIgMnYyXCIsIGtleTogXCJ2MDdzMGVcIiB9XSxcbiAgW1wibGluZVwiLCB7IHgxOiBcIjEwXCIsIHgyOiBcIjEwXCIsIHkxOiBcIjExXCIsIHkyOiBcIjE3XCIsIGtleTogXCIxdXVmcjVcIiB9XSxcbiAgW1wibGluZVwiLCB7IHgxOiBcIjE0XCIsIHgyOiBcIjE0XCIsIHkxOiBcIjExXCIsIHkyOiBcIjE3XCIsIGtleTogXCJ4dHhrZFwiIH1dXG5dO1xuY29uc3QgVHJhc2gyID0gY3JlYXRlTHVjaWRlSWNvbihcInRyYXNoLTJcIiwgX19pY29uTm9kZSk7XG5jb25zdCBDaGF0QXJlYSA9IE0kMygoKSA9PiB7XG4gIGNvbnN0IHsgY2hhdEFyZWFTdGF0ZSB9ID0gdXNlQ2hhdFN0YXRlKCk7XG4gIGlmIChjaGF0QXJlYVN0YXRlID09PSBcImhpZGRlblwiKSByZXR1cm4gbnVsbDtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyB1JDkoQ2hhdEFyZWFCb3gsIHsgY2hpbGRyZW46IFtcbiAgICAvKiBAX19QVVJFX18gKi8gdSQ5KENoYXRBcmVhUmVzaXplQmFyLCB7fSksXG4gICAgY2hhdEFyZWFTdGF0ZSA9PT0gXCJjb21wYWN0XCIgJiYgLyogQF9fUFVSRV9fICovIHUkOShDaGF0QXJlYUNvbXBhY3QsIHt9KSxcbiAgICBjaGF0QXJlYVN0YXRlID09PSBcImV4cGFuZGVkXCIgJiYgLyogQF9fUFVSRV9fICovIHUkOShDaGF0QXJlYUV4cGFuZGVkLCB7fSlcbiAgXSB9KTtcbn0pO1xuY29uc3QgQ2hhdEFyZWFCb3ggPSBNJDMoKHsgY2hpbGRyZW4gfSkgPT4gLyogQF9fUFVSRV9fICovIHUkOShcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJoLWF1dG8gdy1mdWxsIG92ZXJmbG93LXgtaGlkZGVuXCIsIGNoaWxkcmVuIH0pKTtcbmNvbnN0IENoYXRBcmVhUmVzaXplQmFyID0gTSQzKCgpID0+IHtcbiAgY29uc3QgeyBjaGF0QXJlYVN0YXRlLCBzZXRDaGF0QXJlYVN0YXRlLCBzdG9wUHJvbXB0Q3JlYXRpb24gfSA9IHVzZUNoYXRTdGF0ZSgpO1xuICBjb25zdCBoYW5kbGVSZXNpemVCYXJDbGljayA9IHEkMygoKSA9PiB7XG4gICAgc2V0Q2hhdEFyZWFTdGF0ZShjaGF0QXJlYVN0YXRlID09PSBcImNvbXBhY3RcIiA/IFwiZXhwYW5kZWRcIiA6IFwiY29tcGFjdFwiKTtcbiAgfSwgW2NoYXRBcmVhU3RhdGUsIHNldENoYXRBcmVhU3RhdGVdKTtcbiAgY29uc3QgaGFuZGxlQ2xvc2VDaGF0QXJlYSA9IHEkMygoKSA9PiB7XG4gICAgc3RvcFByb21wdENyZWF0aW9uKCk7XG4gICAgc2V0Q2hhdEFyZWFTdGF0ZShcImhpZGRlblwiKTtcbiAgfSwgW3NldENoYXRBcmVhU3RhdGUsIHN0b3BQcm9tcHRDcmVhdGlvbl0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIHUkOShcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IHctZnVsbCBmbGV4LXJvdyBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC10LTN4bCBweC0zIHB5LTFcIiwgY2hpbGRyZW46IFtcbiAgICAvKiBAX19QVVJFX18gKi8gdSQ5KFxuICAgICAgSCQzLFxuICAgICAge1xuICAgICAgICBjbGFzc05hbWU6IFwic2l6ZS01IGJnLXRyYW5zcGFyZW50IHRleHQtbXV0ZWQtZm9yZWdyb3VuZC8zMCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0xMDAgaG92ZXI6dGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCIsXG4gICAgICAgIG9uQ2xpY2s6IGhhbmRsZVJlc2l6ZUJhckNsaWNrLFxuICAgICAgICBjaGlsZHJlbjogY2hhdEFyZWFTdGF0ZSA9PT0gXCJjb21wYWN0XCIgPyAvKiBAX19QVVJFX18gKi8gdSQ5KENoZXZyb25VcCwgeyBjbGFzc05hbWU6IFwic2l6ZS01XCIgfSkgOiAvKiBAX19QVVJFX18gKi8gdSQ5KENoZXZyb25Eb3duLCB7IGNsYXNzTmFtZTogXCJzaXplLTVcIiB9KVxuICAgICAgfVxuICAgICksXG4gICAgLyogQF9fUFVSRV9fICovIHUkOShcbiAgICAgIEgkMyxcbiAgICAgIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImFic29sdXRlIHJpZ2h0LTIgZmxleCBoLWZpdCB3LWZpdCBmbGV4LXJvdyBpdGVtcy1jZW50ZXIgZ2FwLTEgYmctdHJhbnNwYXJlbnQgcC0xIHRleHQteHMgdGV4dC16aW5jLTk1MCBvcGFjaXR5LTUwIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTEwMCBob3ZlcjpvcGFjaXR5LTEwMFwiLFxuICAgICAgICBvbkNsaWNrOiBoYW5kbGVDbG9zZUNoYXRBcmVhLFxuICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgIFwiQ2xvc2UgbWVudVwiLFxuICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyB1JDkoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicm91bmRlZC1tZCBiZy16aW5jLTYwMCBweC0wLjUgcHktMCB0ZXh0LXhzIHRleHQtemluYy01MFwiLCBjaGlsZHJlbjogXCJlc2NcIiB9KVxuICAgICAgICBdXG4gICAgICB9XG4gICAgKVxuICBdIH0pO1xufSk7XG5jb25zdCBDaGF0QXJlYUNvbXBhY3QgPSBNJDMoKCkgPT4gLyogQF9fUFVSRV9fICovIHUkOShcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IHctZnVsbCBmbGV4LWNvbCBnYXAtMSBwLTNcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyB1JDkoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInRleHQtc20gdGV4dC16aW5jLTk1MC81MFwiLCBjaGlsZHJlbjogXCJUaGlzIGlzIHRoZSBjb21wYWN0IGNoYXQgYXJlYS4uLiBTaG93aW5nIGp1c3QgdGhlIGxhc3QgcmVzcG9uc2UgZnJvbSB0aGUgYXNzaXN0YW50LlwiIH0pIH0pKTtcbmNvbnN0IENoYXRBcmVhRXhwYW5kZWQgPSBNJDMoKCkgPT4ge1xuICBjb25zdCB7IGNoYXRzLCBjdXJyZW50Q2hhdElkLCBzZXRDdXJyZW50Q2hhdCwgY3JlYXRlQ2hhdCB9ID0gdXNlQ2hhdFN0YXRlKCk7XG4gIGNvbnN0IGN1cnJlbnRDaGF0ID0gY2hhdHMuZmluZCgoY2hhdCkgPT4gY2hhdC5pZCA9PT0gY3VycmVudENoYXRJZCk7XG4gIGNvbnN0IGhhc05ld0NoYXQgPSBjaGF0cy5zb21lKChjaGF0KSA9PiBjaGF0LmlkID09PSBcIm5ld19jaGF0XCIpO1xuICBjb25zdCBoYW5kbGVDcmVhdGVDaGF0ID0gcSQzKCgpID0+IHtcbiAgICBjcmVhdGVDaGF0KCk7XG4gIH0sIFtjcmVhdGVDaGF0XSk7XG4gIGNvbnN0IGhhbmRsZVNldEN1cnJlbnRDaGF0ID0gcSQzKFxuICAgIChjaGF0SWQpID0+IHtcbiAgICAgIHNldEN1cnJlbnRDaGF0KGNoYXRJZCk7XG4gICAgfSxcbiAgICBbc2V0Q3VycmVudENoYXRdXG4gICk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gdSQ5KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImZsZXggbWF4LWgtWzUwdmhdIHctZnVsbCBmbGV4LWNvbCBnYXAtMyBwLTMgcGItMFwiLCBjaGlsZHJlbjogW1xuICAgIC8qIEBfX1BVUkVfXyAqLyB1JDkoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBmbGV4LTEgZmxleC1jb2wgZ2FwLTIgb3ZlcmZsb3cteS1hdXRvIHAtMVwiLCBjaGlsZHJlbjogY3VycmVudENoYXQgPT0gbnVsbCA/IHZvaWQgMCA6IGN1cnJlbnRDaGF0Lm1lc3NhZ2VzLm1hcCgobWVzc2FnZSkgPT4gLyogQF9fUFVSRV9fICovIHUkOShcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7XG4gICAgICAgIGNsYXNzTmFtZTogYGZsZXggJHttZXNzYWdlLnNlbmRlciA9PT0gXCJhc3Npc3RhbnRcIiA/IFwianVzdGlmeS1zdGFydFwiIDogXCJqdXN0aWZ5LWVuZFwifWAsXG4gICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gdSQ5KFxuICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBgbWF4LXctWzgwJV0gcm91bmRlZC14bCBweC0yIHB5LTEgdGV4dC1zbSAke21lc3NhZ2Uuc2VuZGVyID09PSBcImFzc2lzdGFudFwiID8gXCJiZy16aW5jLTk1MC81IHRleHQtemluYy05NTBcIiA6IFwiYmctYmx1ZS02MDAgdGV4dC13aGl0ZVwifWAsXG4gICAgICAgICAgICBjaGlsZHJlbjogbWVzc2FnZS5jb250ZW50XG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICB9LFxuICAgICAgbWVzc2FnZS5pZFxuICAgICkpIH0pLFxuICAgIC8qIEBfX1BVUkVfXyAqLyB1JDkoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBmbGV4LXJvdyBpdGVtcy1jZW50ZXIganVzdGlmeS1zdGFydCBnYXAtMiBvdmVyZmxvdy14LWF1dG8gb3ZlcmZsb3cteS12aXNpYmxlIGJvcmRlci1ib3JkZXIvMTAgYm9yZGVyLXQgcHQtMiBwYi0yXCIsIGNoaWxkcmVuOiBbXG4gICAgICAhaGFzTmV3Q2hhdCAmJiAvKiBAX19QVVJFX18gKi8gdSQ5KFxuICAgICAgICBIJDMsXG4gICAgICAgIHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwiaC02IGZsZXgtc2hyaW5rLTAgcm91bmRlZC1mdWxsIGJnLXppbmMtOTUwLzUgcHgtMiBmb250LXNlbWlib2xkIHRleHQtZm9yZWdyb3VuZCB0ZXh0LXhzXCIsXG4gICAgICAgICAgb25DbGljazogaGFuZGxlQ3JlYXRlQ2hhdCxcbiAgICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHUkOShQbHVzLCB7IGNsYXNzTmFtZTogXCJzaXplLTNcIiB9KVxuICAgICAgICB9XG4gICAgICApLFxuICAgICAgY2hhdHMubWFwKChjaGF0KSA9PiAvKiBAX19QVVJFX18gKi8gdSQ5KFxuICAgICAgICBIJDMsXG4gICAgICAgIHtcbiAgICAgICAgICBjbGFzc05hbWU6IGNuKFxuICAgICAgICAgICAgXCJoLTUgbWF4LXctNDggZmxleC1zaHJpbmstMCBvdmVyZmxvdy1oaWRkZW4gdHJ1bmNhdGUgcm91bmRlZC1mdWxsIGJnLXppbmMtOTUwLzUgcHgtMiB0ZXh0LW11dGVkLWZvcmVncm91bmQgdGV4dC14c1wiLFxuICAgICAgICAgICAgY2hhdC5pZCA9PT0gY3VycmVudENoYXRJZCAmJiBcImJnLXdoaXRlLzYwIHRleHQtemluYy05NTAgc2hhZG93LWJsdWUtNjAwLzUwIHNoYWRvdy1zbVwiXG4gICAgICAgICAgKSxcbiAgICAgICAgICBvbkNsaWNrOiAoKSA9PiBoYW5kbGVTZXRDdXJyZW50Q2hhdChjaGF0LmlkKSxcbiAgICAgICAgICBjaGlsZHJlbjogY2hhdC50aXRsZSB8fCBcIk5ldyBjaGF0XCJcbiAgICAgICAgfSxcbiAgICAgICAgY2hhdC5pZFxuICAgICAgKSlcbiAgICBdIH0pXG4gIF0gfSk7XG59KTtcbnZhciBMSUJWRVJTSU9OID0gXCIyLjAuM1wiLCBVQV9NQVhfTEVOR1RIID0gNTAwLCBVU0VSX0FHRU5UID0gXCJ1c2VyLWFnZW50XCIsIEVNUFRZID0gXCJcIiwgVU5LTk9XTiA9IFwiP1wiLCBGVU5DX1RZUEUgPSBcImZ1bmN0aW9uXCIsIFVOREVGX1RZUEUgPSBcInVuZGVmaW5lZFwiLCBPQkpfVFlQRSA9IFwib2JqZWN0XCIsIFNUUl9UWVBFID0gXCJzdHJpbmdcIiwgVUFfQlJPV1NFUiA9IFwiYnJvd3NlclwiLCBVQV9DUFUgPSBcImNwdVwiLCBVQV9ERVZJQ0UgPSBcImRldmljZVwiLCBVQV9FTkdJTkUgPSBcImVuZ2luZVwiLCBVQV9PUyA9IFwib3NcIiwgVUFfUkVTVUxUID0gXCJyZXN1bHRcIiwgTkFNRSA9IFwibmFtZVwiLCBUWVBFID0gXCJ0eXBlXCIsIFZFTkRPUiA9IFwidmVuZG9yXCIsIFZFUlNJT04gPSBcInZlcnNpb25cIiwgQVJDSElURUNUVVJFID0gXCJhcmNoaXRlY3R1cmVcIiwgTUFKT1IgPSBcIm1ham9yXCIsIE1PREVMID0gXCJtb2RlbFwiLCBDT05TT0xFID0gXCJjb25zb2xlXCIsIE1PQklMRSA9IFwibW9iaWxlXCIsIFRBQkxFVCA9IFwidGFibGV0XCIsIFNNQVJUVFYgPSBcInNtYXJ0dHZcIiwgV0VBUkFCTEUgPSBcIndlYXJhYmxlXCIsIFhSID0gXCJ4clwiLCBFTUJFRERFRCA9IFwiZW1iZWRkZWRcIiwgSU5BUFAgPSBcImluYXBwXCIsIEJSQU5EUyA9IFwiYnJhbmRzXCIsIEZPUk1GQUNUT1JTID0gXCJmb3JtRmFjdG9yc1wiLCBGVUxMVkVSTElTVCA9IFwiZnVsbFZlcnNpb25MaXN0XCIsIFBMQVRGT1JNID0gXCJwbGF0Zm9ybVwiLCBQTEFURk9STVZFUiA9IFwicGxhdGZvcm1WZXJzaW9uXCIsIEJJVE5FU1MgPSBcImJpdG5lc3NcIiwgQ0hfSEVBREVSID0gXCJzZWMtY2gtdWFcIiwgQ0hfSEVBREVSX0ZVTExfVkVSX0xJU1QgPSBDSF9IRUFERVIgKyBcIi1mdWxsLXZlcnNpb24tbGlzdFwiLCBDSF9IRUFERVJfQVJDSCA9IENIX0hFQURFUiArIFwiLWFyY2hcIiwgQ0hfSEVBREVSX0JJVE5FU1MgPSBDSF9IRUFERVIgKyBcIi1cIiArIEJJVE5FU1MsIENIX0hFQURFUl9GT1JNX0ZBQ1RPUlMgPSBDSF9IRUFERVIgKyBcIi1mb3JtLWZhY3RvcnNcIiwgQ0hfSEVBREVSX01PQklMRSA9IENIX0hFQURFUiArIFwiLVwiICsgTU9CSUxFLCBDSF9IRUFERVJfTU9ERUwgPSBDSF9IRUFERVIgKyBcIi1cIiArIE1PREVMLCBDSF9IRUFERVJfUExBVEZPUk0gPSBDSF9IRUFERVIgKyBcIi1cIiArIFBMQVRGT1JNLCBDSF9IRUFERVJfUExBVEZPUk1fVkVSID0gQ0hfSEVBREVSX1BMQVRGT1JNICsgXCItdmVyc2lvblwiLCBDSF9BTExfVkFMVUVTID0gW0JSQU5EUywgRlVMTFZFUkxJU1QsIE1PQklMRSwgTU9ERUwsIFBMQVRGT1JNLCBQTEFURk9STVZFUiwgQVJDSElURUNUVVJFLCBGT1JNRkFDVE9SUywgQklUTkVTU10sIEFNQVpPTiA9IFwiQW1hem9uXCIsIEFQUExFID0gXCJBcHBsZVwiLCBBU1VTID0gXCJBU1VTXCIsIEJMQUNLQkVSUlkgPSBcIkJsYWNrQmVycnlcIiwgR09PR0xFID0gXCJHb29nbGVcIiwgSFVBV0VJID0gXCJIdWF3ZWlcIiwgTEVOT1ZPID0gXCJMZW5vdm9cIiwgSE9OT1IgPSBcIkhvbm9yXCIsIExHID0gXCJMR1wiLCBNSUNST1NPRlQgPSBcIk1pY3Jvc29mdFwiLCBNT1RPUk9MQSA9IFwiTW90b3JvbGFcIiwgTlZJRElBID0gXCJOdmlkaWFcIiwgT05FUExVUyA9IFwiT25lUGx1c1wiLCBPUFBPID0gXCJPUFBPXCIsIFNBTVNVTkcgPSBcIlNhbXN1bmdcIiwgU0hBUlAgPSBcIlNoYXJwXCIsIFNPTlkgPSBcIlNvbnlcIiwgWElBT01JID0gXCJYaWFvbWlcIiwgWkVCUkEgPSBcIlplYnJhXCIsIENIUk9NRSA9IFwiQ2hyb21lXCIsIENIUk9NSVVNID0gXCJDaHJvbWl1bVwiLCBDSFJPTUVDQVNUID0gXCJDaHJvbWVjYXN0XCIsIEVER0UgPSBcIkVkZ2VcIiwgRklSRUZPWCA9IFwiRmlyZWZveFwiLCBPUEVSQSA9IFwiT3BlcmFcIiwgRkFDRUJPT0sgPSBcIkZhY2Vib29rXCIsIFNPR09VID0gXCJTb2dvdVwiLCBQUkVGSVhfTU9CSUxFID0gXCJNb2JpbGUgXCIsIFNVRkZJWF9CUk9XU0VSID0gXCIgQnJvd3NlclwiLCBXSU5ET1dTID0gXCJXaW5kb3dzXCI7XG52YXIgaXNXaW5kb3cgPSB0eXBlb2Ygd2luZG93ICE9PSBVTkRFRl9UWVBFLCBOQVZJR0FUT1IgPSBpc1dpbmRvdyAmJiB3aW5kb3cubmF2aWdhdG9yID8gd2luZG93Lm5hdmlnYXRvciA6IHZvaWQgMCwgTkFWSUdBVE9SX1VBREFUQSA9IE5BVklHQVRPUiAmJiBOQVZJR0FUT1IudXNlckFnZW50RGF0YSA/IE5BVklHQVRPUi51c2VyQWdlbnREYXRhIDogdm9pZCAwO1xudmFyIGV4dGVuZCA9IGZ1bmN0aW9uKGRlZmF1bHRSZ3gsIGV4dGVuc2lvbnMpIHtcbiAgdmFyIG1lcmdlZFJneCA9IHt9O1xuICB2YXIgZXh0cmFSZ3ggPSBleHRlbnNpb25zO1xuICBpZiAoIWlzRXh0ZW5zaW9ucyhleHRlbnNpb25zKSkge1xuICAgIGV4dHJhUmd4ID0ge307XG4gICAgZm9yICh2YXIgaTIgaW4gZXh0ZW5zaW9ucykge1xuICAgICAgZm9yICh2YXIgajIgaW4gZXh0ZW5zaW9uc1tpMl0pIHtcbiAgICAgICAgZXh0cmFSZ3hbajJdID0gZXh0ZW5zaW9uc1tpMl1bajJdLmNvbmNhdChleHRyYVJneFtqMl0gPyBleHRyYVJneFtqMl0gOiBbXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGZvciAodmFyIGsyIGluIGRlZmF1bHRSZ3gpIHtcbiAgICBtZXJnZWRSZ3hbazJdID0gZXh0cmFSZ3hbazJdICYmIGV4dHJhUmd4W2syXS5sZW5ndGggJSAyID09PSAwID8gZXh0cmFSZ3hbazJdLmNvbmNhdChkZWZhdWx0Umd4W2syXSkgOiBkZWZhdWx0Umd4W2syXTtcbiAgfVxuICByZXR1cm4gbWVyZ2VkUmd4O1xufSwgZW51bWVyaXplID0gZnVuY3Rpb24oYXJyKSB7XG4gIHZhciBlbnVtcyA9IHt9O1xuICBmb3IgKHZhciBpMiA9IDA7IGkyIDwgYXJyLmxlbmd0aDsgaTIrKykge1xuICAgIGVudW1zW2FycltpMl0udG9VcHBlckNhc2UoKV0gPSBhcnJbaTJdO1xuICB9XG4gIHJldHVybiBlbnVtcztcbn0sIGhhcyA9IGZ1bmN0aW9uKHN0cjEsIHN0cjIpIHtcbiAgaWYgKHR5cGVvZiBzdHIxID09PSBPQkpfVFlQRSAmJiBzdHIxLmxlbmd0aCA+IDApIHtcbiAgICBmb3IgKHZhciBpMiBpbiBzdHIxKSB7XG4gICAgICBpZiAobG93ZXJpemUoc3RyMVtpMl0pID09IGxvd2VyaXplKHN0cjIpKSByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBpc1N0cmluZyhzdHIxKSA/IGxvd2VyaXplKHN0cjIpLmluZGV4T2YobG93ZXJpemUoc3RyMSkpICE9PSAtMSA6IGZhbHNlO1xufSwgaXNFeHRlbnNpb25zID0gZnVuY3Rpb24ob2JqLCBkZWVwKSB7XG4gIGZvciAodmFyIHByb3AgaW4gb2JqKSB7XG4gICAgcmV0dXJuIC9eKGJyb3dzZXJ8Y3B1fGRldmljZXxlbmdpbmV8b3MpJC8udGVzdChwcm9wKSB8fCAoZGVlcCA/IGlzRXh0ZW5zaW9ucyhvYmpbcHJvcF0pIDogZmFsc2UpO1xuICB9XG59LCBpc1N0cmluZyA9IGZ1bmN0aW9uKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gU1RSX1RZUEU7XG59LCBpdGVtTGlzdFRvQXJyYXkgPSBmdW5jdGlvbihoZWFkZXIpIHtcbiAgaWYgKCFoZWFkZXIpIHJldHVybiB2b2lkIDA7XG4gIHZhciBhcnIgPSBbXTtcbiAgdmFyIHRva2VucyA9IHN0cmlwKC9cXFxcP1xcXCIvZywgaGVhZGVyKS5zcGxpdChcIixcIik7XG4gIGZvciAodmFyIGkyID0gMDsgaTIgPCB0b2tlbnMubGVuZ3RoOyBpMisrKSB7XG4gICAgaWYgKHRva2Vuc1tpMl0uaW5kZXhPZihcIjtcIikgPiAtMSkge1xuICAgICAgdmFyIHRva2VuID0gdHJpbSh0b2tlbnNbaTJdKS5zcGxpdChcIjt2PVwiKTtcbiAgICAgIGFycltpMl0gPSB7IGJyYW5kOiB0b2tlblswXSwgdmVyc2lvbjogdG9rZW5bMV0gfTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXJyW2kyXSA9IHRyaW0odG9rZW5zW2kyXSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBhcnI7XG59LCBsb3dlcml6ZSA9IGZ1bmN0aW9uKHN0cikge1xuICByZXR1cm4gaXNTdHJpbmcoc3RyKSA/IHN0ci50b0xvd2VyQ2FzZSgpIDogc3RyO1xufSwgbWFqb3JpemUgPSBmdW5jdGlvbih2ZXJzaW9uKSB7XG4gIHJldHVybiBpc1N0cmluZyh2ZXJzaW9uKSA/IHN0cmlwKC9bXlxcZFxcLl0vZywgdmVyc2lvbikuc3BsaXQoXCIuXCIpWzBdIDogdm9pZCAwO1xufSwgc2V0UHJvcHMgPSBmdW5jdGlvbihhcnIpIHtcbiAgZm9yICh2YXIgaTIgaW4gYXJyKSB7XG4gICAgdmFyIHByb3BOYW1lID0gYXJyW2kyXTtcbiAgICBpZiAodHlwZW9mIHByb3BOYW1lID09IE9CSl9UWVBFICYmIHByb3BOYW1lLmxlbmd0aCA9PSAyKSB7XG4gICAgICB0aGlzW3Byb3BOYW1lWzBdXSA9IHByb3BOYW1lWzFdO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzW3Byb3BOYW1lXSA9IHZvaWQgMDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59LCBzdHJpcCA9IGZ1bmN0aW9uKHBhdHRlcm4sIHN0cikge1xuICByZXR1cm4gaXNTdHJpbmcoc3RyKSA/IHN0ci5yZXBsYWNlKHBhdHRlcm4sIEVNUFRZKSA6IHN0cjtcbn0sIHN0cmlwUXVvdGVzID0gZnVuY3Rpb24oc3RyKSB7XG4gIHJldHVybiBzdHJpcCgvXFxcXD9cXFwiL2csIHN0cik7XG59LCB0cmltID0gZnVuY3Rpb24oc3RyLCBsZW4pIHtcbiAgaWYgKGlzU3RyaW5nKHN0cikpIHtcbiAgICBzdHIgPSBzdHJpcCgvXlxcc1xccyovLCBzdHIpO1xuICAgIHJldHVybiB0eXBlb2YgbGVuID09PSBVTkRFRl9UWVBFID8gc3RyIDogc3RyLnN1YnN0cmluZygwLCBVQV9NQVhfTEVOR1RIKTtcbiAgfVxufTtcbnZhciByZ3hNYXBwZXIgPSBmdW5jdGlvbih1YSwgYXJyYXlzKSB7XG4gIGlmICghdWEgfHwgIWFycmF5cykgcmV0dXJuO1xuICB2YXIgaTIgPSAwLCBqMiwgazIsIHAyLCBxMiwgbWF0Y2hlcywgbWF0Y2g7XG4gIHdoaWxlIChpMiA8IGFycmF5cy5sZW5ndGggJiYgIW1hdGNoZXMpIHtcbiAgICB2YXIgcmVnZXggPSBhcnJheXNbaTJdLCBwcm9wcyA9IGFycmF5c1tpMiArIDFdO1xuICAgIGoyID0gazIgPSAwO1xuICAgIHdoaWxlIChqMiA8IHJlZ2V4Lmxlbmd0aCAmJiAhbWF0Y2hlcykge1xuICAgICAgaWYgKCFyZWdleFtqMl0pIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBtYXRjaGVzID0gcmVnZXhbajIrK10uZXhlYyh1YSk7XG4gICAgICBpZiAoISFtYXRjaGVzKSB7XG4gICAgICAgIGZvciAocDIgPSAwOyBwMiA8IHByb3BzLmxlbmd0aDsgcDIrKykge1xuICAgICAgICAgIG1hdGNoID0gbWF0Y2hlc1srK2syXTtcbiAgICAgICAgICBxMiA9IHByb3BzW3AyXTtcbiAgICAgICAgICBpZiAodHlwZW9mIHEyID09PSBPQkpfVFlQRSAmJiBxMi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpZiAocTIubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgcTJbMV0gPT0gRlVOQ19UWVBFKSB7XG4gICAgICAgICAgICAgICAgdGhpc1txMlswXV0gPSBxMlsxXS5jYWxsKHRoaXMsIG1hdGNoKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzW3EyWzBdXSA9IHEyWzFdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHEyLmxlbmd0aCA9PT0gMykge1xuICAgICAgICAgICAgICBpZiAodHlwZW9mIHEyWzFdID09PSBGVU5DX1RZUEUgJiYgIShxMlsxXS5leGVjICYmIHEyWzFdLnRlc3QpKSB7XG4gICAgICAgICAgICAgICAgdGhpc1txMlswXV0gPSBtYXRjaCA/IHEyWzFdLmNhbGwodGhpcywgbWF0Y2gsIHEyWzJdKSA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzW3EyWzBdXSA9IG1hdGNoID8gbWF0Y2gucmVwbGFjZShxMlsxXSwgcTJbMl0pIDogdm9pZCAwO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHEyLmxlbmd0aCA9PT0gNCkge1xuICAgICAgICAgICAgICB0aGlzW3EyWzBdXSA9IG1hdGNoID8gcTJbM10uY2FsbCh0aGlzLCBtYXRjaC5yZXBsYWNlKHEyWzFdLCBxMlsyXSkpIDogdm9pZCAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzW3EyXSA9IG1hdGNoID8gbWF0Y2ggOiB2b2lkIDA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGkyICs9IDI7XG4gIH1cbn0sIHN0ck1hcHBlciA9IGZ1bmN0aW9uKHN0ciwgbWFwKSB7XG4gIGZvciAodmFyIGkyIGluIG1hcCkge1xuICAgIGlmICh0eXBlb2YgbWFwW2kyXSA9PT0gT0JKX1RZUEUgJiYgbWFwW2kyXS5sZW5ndGggPiAwKSB7XG4gICAgICBmb3IgKHZhciBqMiA9IDA7IGoyIDwgbWFwW2kyXS5sZW5ndGg7IGoyKyspIHtcbiAgICAgICAgaWYgKGhhcyhtYXBbaTJdW2oyXSwgc3RyKSkge1xuICAgICAgICAgIHJldHVybiBpMiA9PT0gVU5LTk9XTiA/IHZvaWQgMCA6IGkyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChoYXMobWFwW2kyXSwgc3RyKSkge1xuICAgICAgcmV0dXJuIGkyID09PSBVTktOT1dOID8gdm9pZCAwIDogaTI7XG4gICAgfVxuICB9XG4gIHJldHVybiBtYXAuaGFzT3duUHJvcGVydHkoXCIqXCIpID8gbWFwW1wiKlwiXSA6IHN0cjtcbn07XG52YXIgd2luZG93c1ZlcnNpb25NYXAgPSB7XG4gIFwiTUVcIjogXCI0LjkwXCIsXG4gIFwiTlQgMy4xMVwiOiBcIk5UMy41MVwiLFxuICBcIk5UIDQuMFwiOiBcIk5UNC4wXCIsXG4gIFwiMjAwMFwiOiBcIk5UIDUuMFwiLFxuICBcIlhQXCI6IFtcIk5UIDUuMVwiLCBcIk5UIDUuMlwiXSxcbiAgXCJWaXN0YVwiOiBcIk5UIDYuMFwiLFxuICBcIjdcIjogXCJOVCA2LjFcIixcbiAgXCI4XCI6IFwiTlQgNi4yXCIsXG4gIFwiOC4xXCI6IFwiTlQgNi4zXCIsXG4gIFwiMTBcIjogW1wiTlQgNi40XCIsIFwiTlQgMTAuMFwiXSxcbiAgXCJSVFwiOiBcIkFSTVwiXG59LCBmb3JtRmFjdG9yc01hcCA9IHtcbiAgXCJlbWJlZGRlZFwiOiBcIkF1dG9tb3RpdmVcIixcbiAgXCJtb2JpbGVcIjogXCJNb2JpbGVcIixcbiAgXCJ0YWJsZXRcIjogW1wiVGFibGV0XCIsIFwiRUlua1wiXSxcbiAgXCJzbWFydHR2XCI6IFwiVFZcIixcbiAgXCJ3ZWFyYWJsZVwiOiBcIldhdGNoXCIsXG4gIFwieHJcIjogW1wiVlJcIiwgXCJYUlwiXSxcbiAgXCI/XCI6IFtcIkRlc2t0b3BcIiwgXCJVbmtub3duXCJdLFxuICBcIipcIjogdm9pZCAwXG59O1xudmFyIGRlZmF1bHRSZWdleGVzID0ge1xuICBicm93c2VyOiBbXG4gICAgW1xuICAgICAgLy8gTW9zdCBjb21tb24gcmVnYXJkbGVzcyBlbmdpbmVcbiAgICAgIC9cXGIoPzpjcm1vfGNyaW9zKVxcLyhbXFx3XFwuXSspL2lcbiAgICAgIC8vIENocm9tZSBmb3IgQW5kcm9pZC9pT1NcbiAgICBdLFxuICAgIFtWRVJTSU9OLCBbTkFNRSwgUFJFRklYX01PQklMRSArIFwiQ2hyb21lXCJdXSxcbiAgICBbXG4gICAgICAvZWRnKD86ZXxpb3N8YSk/XFwvKFtcXHdcXC5dKykvaVxuICAgICAgLy8gTWljcm9zb2Z0IEVkZ2VcbiAgICBdLFxuICAgIFtWRVJTSU9OLCBbTkFNRSwgXCJFZGdlXCJdXSxcbiAgICBbXG4gICAgICAvLyBQcmVzdG8gYmFzZWRcbiAgICAgIC8ob3BlcmEgbWluaSlcXC8oWy1cXHdcXC5dKykvaSxcbiAgICAgIC8vIE9wZXJhIE1pbmlcbiAgICAgIC8ob3BlcmEgW21vYmlsZXRhYl17Myw2fSlcXGIuK3ZlcnNpb25cXC8oWy1cXHdcXC5dKykvaSxcbiAgICAgIC8vIE9wZXJhIE1vYmkvVGFibGV0XG4gICAgICAvKG9wZXJhKSg/Oi4rdmVyc2lvblxcL3xbXFwvIF0rKShbXFx3XFwuXSspL2lcbiAgICAgIC8vIE9wZXJhXG4gICAgXSxcbiAgICBbTkFNRSwgVkVSU0lPTl0sXG4gICAgW1xuICAgICAgL29waW9zW1xcLyBdKyhbXFx3XFwuXSspL2lcbiAgICAgIC8vIE9wZXJhIG1pbmkgb24gaXBob25lID49IDguMFxuICAgIF0sXG4gICAgW1ZFUlNJT04sIFtOQU1FLCBPUEVSQSArIFwiIE1pbmlcIl1dLFxuICAgIFtcbiAgICAgIC9cXGJvcCg/OnJnKT94XFwvKFtcXHdcXC5dKykvaVxuICAgICAgLy8gT3BlcmEgR1hcbiAgICBdLFxuICAgIFtWRVJTSU9OLCBbTkFNRSwgT1BFUkEgKyBcIiBHWFwiXV0sXG4gICAgW1xuICAgICAgL1xcYm9wclxcLyhbXFx3XFwuXSspL2lcbiAgICAgIC8vIE9wZXJhIFdlYmtpdFxuICAgIF0sXG4gICAgW1ZFUlNJT04sIFtOQU1FLCBPUEVSQV1dLFxuICAgIFtcbiAgICAgIC8vIE1peGVkXG4gICAgICAvXFxiYlthaV0qZCg/OnVoZHxbdWJdKlthZWtvcHJzd3hdezUsNn0pW1xcLyBdPyhbXFx3XFwuXSspL2lcbiAgICAgIC8vIEJhaWR1XG4gICAgXSxcbiAgICBbVkVSU0lPTiwgW05BTUUsIFwiQmFpZHVcIl1dLFxuICAgIFtcbiAgICAgIC9cXGIoPzpteGJyb3dzZXJ8bXhpb3N8bXlpZTIpXFwvPyhbLVxcd1xcLl0qKVxcYi9pXG4gICAgICAvLyBNYXh0aG9uXG4gICAgXSxcbiAgICBbVkVSU0lPTiwgW05BTUUsIFwiTWF4dGhvblwiXV0sXG4gICAgW1xuICAgICAgLyhraW5kbGUpXFwvKFtcXHdcXC5dKykvaSxcbiAgICAgIC8vIEtpbmRsZVxuICAgICAgLyhsdW5hc2NhcGV8bWF4dGhvbnxuZXRmcm9udHxqYXNtaW5lfGJsYXplcnxzbGVpcG5pcilbXFwvIF0/KFtcXHdcXC5dKikvaSxcbiAgICAgIC8vIEx1bmFzY2FwZS9NYXh0aG9uL05ldGZyb250L0phc21pbmUvQmxhemVyL1NsZWlwbmlyXG4gICAgICAvLyBUcmlkZW50IGJhc2VkXG4gICAgICAvKGF2YW50fGllbW9iaWxlfHNsaW0oPzpicm93c2VyfGJvYXR8amV0KSlbXFwvIF0/KFtcXGRcXC5dKikvaSxcbiAgICAgIC8vIEF2YW50L0lFTW9iaWxlL1NsaW1Ccm93c2VyL1NsaW1Cb2F0L1NsaW1qZXRcbiAgICAgIC8oPzptc3xcXCgpKGllKSAoW1xcd1xcLl0rKS9pLFxuICAgICAgLy8gSW50ZXJuZXQgRXhwbG9yZXJcbiAgICAgIC8vIEJsaW5rL1dlYmtpdC9LSFRNTCBiYXNlZCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmxvY2svUm9ja01lbHQvTWlkb3JpL0VwaXBoYW55L1NpbGsvU2t5ZmlyZS9Cb2x0L0lyb24vSXJpZGl1bS9QaGFudG9tSlMvQm93c2VyL1F1cFppbGxhL0ZhbGtvbi9MRyBCcm93c2VyL090dGVyL3F1dGVicm93c2VyL0Rvb2JsZVxuICAgICAgLyhmbG9ja3xyb2NrbWVsdHxtaWRvcml8ZXBpcGhhbnl8c2lsa3xza3lmaXJlfG92aWJyb3dzZXJ8Ym9sdHxpcm9ufHZpdmFsZGl8aXJpZGl1bXxwaGFudG9tanN8Ym93c2VyfHF1cHppbGxhfGZhbGtvbnxyZWtvbnF8cHVmZmlufGJyYXZlfHdoYWxlKD8hLituYXZlcil8cXFicm93c2VybGl0ZXxkdWNrZHVja2dvfGtsYXJ8aGVsaW98KD89Y29tb2RvXyk/ZHJhZ29ufG90dGVyfGRvb2JsZXwoPzpsZyB8cXV0ZSlicm93c2VyKVxcLyhbLVxcd1xcLl0rKS9pLFxuICAgICAgLy8gUmVrb25xL1B1ZmZpbi9CcmF2ZS9XaGFsZS9RUUJyb3dzZXJMaXRlL1FRLy9WaXZhbGRpL0R1Y2tEdWNrR28vS2xhci9IZWxpby9EcmFnb25cbiAgICAgIC8oaGV5dGFwfG92aXwxMTV8c3VyZilicm93c2VyXFwvKFtcXGRcXC5dKykvaSxcbiAgICAgIC8vIEhleVRhcC9PdmkvMTE1L1N1cmZcbiAgICAgIC8oZWNvc2lhfHdlaWJvKSg/Ol9ffCBcXHcrQCkoW1xcZFxcLl0rKS9pXG4gICAgICAvLyBFY29zaWEvV2VpYm9cbiAgICBdLFxuICAgIFtOQU1FLCBWRVJTSU9OXSxcbiAgICBbXG4gICAgICAvcXVhcmsoPzpwYyk/XFwvKFstXFx3XFwuXSspL2lcbiAgICAgIC8vIFF1YXJrXG4gICAgXSxcbiAgICBbVkVSU0lPTiwgW05BTUUsIFwiUXVhcmtcIl1dLFxuICAgIFtcbiAgICAgIC9cXGJkZGdcXC8oW1xcd1xcLl0rKS9pXG4gICAgICAvLyBEdWNrRHVja0dvXG4gICAgXSxcbiAgICBbVkVSU0lPTiwgW05BTUUsIFwiRHVja0R1Y2tHb1wiXV0sXG4gICAgW1xuICAgICAgLyg/OlxcYnVjPyA/YnJvd3NlcnwoPzpqdWMuKyl1Y3dlYilbXFwvIF0/KFtcXHdcXC5dKykvaVxuICAgICAgLy8gVUNCcm93c2VyXG4gICAgXSxcbiAgICBbVkVSU0lPTiwgW05BTUUsIFwiVUNCcm93c2VyXCJdXSxcbiAgICBbXG4gICAgICAvbWljcm9tLitcXGJxYmNvcmVcXC8oW1xcd1xcLl0rKS9pLFxuICAgICAgLy8gV2VDaGF0IERlc2t0b3AgZm9yIFdpbmRvd3MgQnVpbHQtaW4gQnJvd3NlclxuICAgICAgL1xcYnFiY29yZVxcLyhbXFx3XFwuXSspLittaWNyb20vaSxcbiAgICAgIC9taWNyb21lc3NlbmdlclxcLyhbXFx3XFwuXSspL2lcbiAgICAgIC8vIFdlQ2hhdFxuICAgIF0sXG4gICAgW1ZFUlNJT04sIFtOQU1FLCBcIldlQ2hhdFwiXV0sXG4gICAgW1xuICAgICAgL2tvbnF1ZXJvclxcLyhbXFx3XFwuXSspL2lcbiAgICAgIC8vIEtvbnF1ZXJvclxuICAgIF0sXG4gICAgW1ZFUlNJT04sIFtOQU1FLCBcIktvbnF1ZXJvclwiXV0sXG4gICAgW1xuICAgICAgL3RyaWRlbnQuK3J2WzogXShbXFx3XFwuXXsxLDl9KVxcYi4rbGlrZSBnZWNrby9pXG4gICAgICAvLyBJRTExXG4gICAgXSxcbiAgICBbVkVSU0lPTiwgW05BTUUsIFwiSUVcIl1dLFxuICAgIFtcbiAgICAgIC95YSg/OnNlYXJjaCk/YnJvd3NlclxcLyhbXFx3XFwuXSspL2lcbiAgICAgIC8vIFlhbmRleFxuICAgIF0sXG4gICAgW1ZFUlNJT04sIFtOQU1FLCBcIllhbmRleFwiXV0sXG4gICAgW1xuICAgICAgL3NsYnJvd3NlclxcLyhbXFx3XFwuXSspL2lcbiAgICAgIC8vIFNtYXJ0IExlbm92byBCcm93c2VyXG4gICAgXSxcbiAgICBbVkVSU0lPTiwgW05BTUUsIFwiU21hcnQgXCIgKyBMRU5PVk8gKyBTVUZGSVhfQlJPV1NFUl1dLFxuICAgIFtcbiAgICAgIC8oYXZhc3R8YXZnKVxcLyhbXFx3XFwuXSspL2lcbiAgICAgIC8vIEF2YXN0L0FWRyBTZWN1cmUgQnJvd3NlclxuICAgIF0sXG4gICAgW1tOQU1FLCAvKC4rKS8sIFwiJDEgU2VjdXJlXCIgKyBTVUZGSVhfQlJPV1NFUl0sIFZFUlNJT05dLFxuICAgIFtcbiAgICAgIC9cXGJmb2N1c1xcLyhbXFx3XFwuXSspL2lcbiAgICAgIC8vIEZpcmVmb3ggRm9jdXNcbiAgICBdLFxuICAgIFtWRVJTSU9OLCBbTkFNRSwgRklSRUZPWCArIFwiIEZvY3VzXCJdXSxcbiAgICBbXG4gICAgICAvXFxib3B0XFwvKFtcXHdcXC5dKykvaVxuICAgICAgLy8gT3BlcmEgVG91Y2hcbiAgICBdLFxuICAgIFtWRVJTSU9OLCBbTkFNRSwgT1BFUkEgKyBcIiBUb3VjaFwiXV0sXG4gICAgW1xuICAgICAgL2NvY19jb2NcXHcrXFwvKFtcXHdcXC5dKykvaVxuICAgICAgLy8gQ29jIENvYyBCcm93c2VyXG4gICAgXSxcbiAgICBbVkVSU0lPTiwgW05BTUUsIFwiQ29jIENvY1wiXV0sXG4gICAgW1xuICAgICAgL2RvbGZpblxcLyhbXFx3XFwuXSspL2lcbiAgICAgIC8vIERvbHBoaW5cbiAgICBdLFxuICAgIFtWRVJTSU9OLCBbTkFNRSwgXCJEb2xwaGluXCJdXSxcbiAgICBbXG4gICAgICAvY29hc3RcXC8oW1xcd1xcLl0rKS9pXG4gICAgICAvLyBPcGVyYSBDb2FzdFxuICAgIF0sXG4gICAgW1ZFUlNJT04sIFtOQU1FLCBPUEVSQSArIFwiIENvYXN0XCJdXSxcbiAgICBbXG4gICAgICAvbWl1aWJyb3dzZXJcXC8oW1xcd1xcLl0rKS9pXG4gICAgICAvLyBNSVVJIEJyb3dzZXJcbiAgICBdLFxuICAgIFtWRVJTSU9OLCBbTkFNRSwgXCJNSVVJXCIgKyBTVUZGSVhfQlJPV1NFUl1dLFxuICAgIFtcbiAgICAgIC9meGlvc1xcLyhbXFx3XFwuLV0rKS9pXG4gICAgICAvLyBGaXJlZm94IGZvciBpT1NcbiAgICBdLFxuICAgIFtWRVJTSU9OLCBbTkFNRSwgUFJFRklYX01PQklMRSArIEZJUkVGT1hdXSxcbiAgICBbXG4gICAgICAvXFxicWlob29icm93c2VyXFwvPyhbXFx3XFwuXSopL2lcbiAgICAgIC8vIDM2MFxuICAgIF0sXG4gICAgW1ZFUlNJT04sIFtOQU1FLCBcIjM2MFwiXV0sXG4gICAgW1xuICAgICAgL1xcYihxcSlcXC8oW1xcd1xcLl0rKS9pXG4gICAgICAvLyBRUVxuICAgIF0sXG4gICAgW1tOQU1FLCAvKC4rKS8sIFwiJDFCcm93c2VyXCJdLCBWRVJTSU9OXSxcbiAgICBbXG4gICAgICAvKG9jdWx1c3xzYWlsZmlzaHxodWF3ZWl8dml2b3xwaWNvKWJyb3dzZXJcXC8oW1xcd1xcLl0rKS9pXG4gICAgXSxcbiAgICBbW05BTUUsIC8oLispLywgXCIkMVwiICsgU1VGRklYX0JST1dTRVJdLCBWRVJTSU9OXSxcbiAgICBbXG4gICAgICAvLyBPY3VsdXMvU2FpbGZpc2gvSHVhd2VpQnJvd3Nlci9WaXZvQnJvd3Nlci9QaWNvQnJvd3NlclxuICAgICAgL3NhbXN1bmdicm93c2VyXFwvKFtcXHdcXC5dKykvaVxuICAgICAgLy8gU2Ftc3VuZyBJbnRlcm5ldFxuICAgIF0sXG4gICAgW1ZFUlNJT04sIFtOQU1FLCBTQU1TVU5HICsgXCIgSW50ZXJuZXRcIl1dLFxuICAgIFtcbiAgICAgIC9tZXRhc3JbXFwvIF0/KFtcXGRcXC5dKykvaVxuICAgICAgLy8gU29nb3UgRXhwbG9yZXJcbiAgICBdLFxuICAgIFtWRVJTSU9OLCBbTkFNRSwgU09HT1UgKyBcIiBFeHBsb3JlclwiXV0sXG4gICAgW1xuICAgICAgLyhzb2dvdSltb1xcdytcXC8oW1xcZFxcLl0rKS9pXG4gICAgICAvLyBTb2dvdSBNb2JpbGVcbiAgICBdLFxuICAgIFtbTkFNRSwgU09HT1UgKyBcIiBNb2JpbGVcIl0sIFZFUlNJT05dLFxuICAgIFtcbiAgICAgIC8oZWxlY3Ryb24pXFwvKFtcXHdcXC5dKykgc2FmYXJpL2ksXG4gICAgICAvLyBFbGVjdHJvbi1iYXNlZCBBcHBcbiAgICAgIC8odGVzbGEpKD86IHF0Y2FyYnJvd3NlcnxcXC8oMjBcXGRcXGRcXC5bLVxcd1xcLl0rKSkvaSxcbiAgICAgIC8vIFRlc2xhXG4gICAgICAvbT8ocXFicm93c2VyfDIzNDUoPz1icm93c2VyfGNocm9tZXxleHBsb3JlcikpXFx3KltcXC8gXT92PyhbXFx3XFwuXSspL2lcbiAgICAgIC8vIFFRLzIzNDVcbiAgICBdLFxuICAgIFtOQU1FLCBWRVJTSU9OXSxcbiAgICBbXG4gICAgICAvKGxiYnJvd3NlcnxyZWtvbnEpL2lcbiAgICAgIC8vIExpZUJhbyBCcm93c2VyL1Jla29ucVxuICAgIF0sXG4gICAgW05BTUVdLFxuICAgIFtcbiAgICAgIC9vbWVcXC8oW1xcd1xcLl0rKSBcXHcqID8oaXJvbikgc2FmL2ksXG4gICAgICAvLyBJcm9uXG4gICAgICAvb21lXFwvKFtcXHdcXC5dKykuK3FpaHUgKDM2MClbZXNdZS9pXG4gICAgICAvLyAzNjBcbiAgICBdLFxuICAgIFtWRVJTSU9OLCBOQU1FXSxcbiAgICBbXG4gICAgICAvLyBXZWJWaWV3XG4gICAgICAvKCg/OmZiYW5cXC9mYmlvc3xmYl9pYWJcXC9mYjRhKSg/IS4rZmJhdil8O2ZiYXZcXC8oW1xcd1xcLl0rKTspL2lcbiAgICAgIC8vIEZhY2Vib29rIEFwcCBmb3IgaU9TICYgQW5kcm9pZFxuICAgIF0sXG4gICAgW1tOQU1FLCBGQUNFQk9PS10sIFZFUlNJT04sIFtUWVBFLCBJTkFQUF1dLFxuICAgIFtcbiAgICAgIC8oS2xhcm5hKVxcLyhbXFx3XFwuXSspL2ksXG4gICAgICAvLyBLbGFybmEgU2hvcHBpbmcgQnJvd3NlciBmb3IgaU9TICYgQW5kcm9pZFxuICAgICAgLyhrYWthbyg/OnRhbGt8c3RvcnkpKVtcXC8gXShbXFx3XFwuXSspL2ksXG4gICAgICAvLyBLYWthbyBBcHBcbiAgICAgIC8obmF2ZXIpXFwoLio/KFxcZCtcXC5bXFx3XFwuXSspLipcXCkvaSxcbiAgICAgIC8vIE5hdmVyIEluQXBwXG4gICAgICAvKGRhdW0pYXBwc1tcXC8gXShbXFx3XFwuXSspL2ksXG4gICAgICAvLyBEYXVtIEFwcFxuICAgICAgL3NhZmFyaSAobGluZSlcXC8oW1xcd1xcLl0rKS9pLFxuICAgICAgLy8gTGluZSBBcHAgZm9yIGlPU1xuICAgICAgL1xcYihsaW5lKVxcLyhbXFx3XFwuXSspXFwvaWFiL2ksXG4gICAgICAvLyBMaW5lIEFwcCBmb3IgQW5kcm9pZFxuICAgICAgLyhhbGlwYXkpY2xpZW50XFwvKFtcXHdcXC5dKykvaSxcbiAgICAgIC8vIEFsaXBheVxuICAgICAgLyh0d2l0dGVyKSg/OmFuZHwgZi4rZVxcLyhbXFx3XFwuXSspKS9pLFxuICAgICAgLy8gVHdpdHRlclxuICAgICAgLyhpbnN0YWdyYW18c25hcGNoYXQpW1xcLyBdKFstXFx3XFwuXSspL2lcbiAgICAgIC8vIEluc3RhZ3JhbS9TbmFwY2hhdFxuICAgIF0sXG4gICAgW05BTUUsIFZFUlNJT04sIFtUWVBFLCBJTkFQUF1dLFxuICAgIFtcbiAgICAgIC9cXGJnc2FcXC8oW1xcd1xcLl0rKSAuKnNhZmFyaVxcLy9pXG4gICAgICAvLyBHb29nbGUgU2VhcmNoIEFwcGxpYW5jZSBvbiBpT1NcbiAgICBdLFxuICAgIFtWRVJTSU9OLCBbTkFNRSwgXCJHU0FcIl0sIFtUWVBFLCBJTkFQUF1dLFxuICAgIFtcbiAgICAgIC9tdXNpY2FsX2x5KD86LithcHBfP3ZlcnNpb25cXC98XykoW1xcd1xcLl0rKS9pXG4gICAgICAvLyBUaWtUb2tcbiAgICBdLFxuICAgIFtWRVJTSU9OLCBbTkFNRSwgXCJUaWtUb2tcIl0sIFtUWVBFLCBJTkFQUF1dLFxuICAgIFtcbiAgICAgIC9cXFsobGlua2VkaW4pYXBwXFxdL2lcbiAgICAgIC8vIExpbmtlZEluIEFwcCBmb3IgaU9TICYgQW5kcm9pZFxuICAgIF0sXG4gICAgW05BTUUsIFtUWVBFLCBJTkFQUF1dLFxuICAgIFtcbiAgICAgIC8oY2hyb21pdW0pW1xcLyBdKFstXFx3XFwuXSspL2lcbiAgICAgIC8vIENocm9taXVtXG4gICAgXSxcbiAgICBbTkFNRSwgVkVSU0lPTl0sXG4gICAgW1xuICAgICAgL2hlYWRsZXNzY2hyb21lKD86XFwvKFtcXHdcXC5dKyl8ICkvaVxuICAgICAgLy8gQ2hyb21lIEhlYWRsZXNzXG4gICAgXSxcbiAgICBbVkVSU0lPTiwgW05BTUUsIENIUk9NRSArIFwiIEhlYWRsZXNzXCJdXSxcbiAgICBbXG4gICAgICAvIHd2XFwpLisoY2hyb21lKVxcLyhbXFx3XFwuXSspL2lcbiAgICAgIC8vIENocm9tZSBXZWJWaWV3XG4gICAgXSxcbiAgICBbW05BTUUsIENIUk9NRSArIFwiIFdlYlZpZXdcIl0sIFZFUlNJT05dLFxuICAgIFtcbiAgICAgIC9kcm9pZC4rIHZlcnNpb25cXC8oW1xcd1xcLl0rKVxcYi4rKD86bW9iaWxlIHNhZmFyaXxzYWZhcmkpL2lcbiAgICAgIC8vIEFuZHJvaWQgQnJvd3NlclxuICAgIF0sXG4gICAgW1ZFUlNJT04sIFtOQU1FLCBcIkFuZHJvaWRcIiArIFNVRkZJWF9CUk9XU0VSXV0sXG4gICAgW1xuICAgICAgL2Nocm9tZVxcLyhbXFx3XFwuXSspIG1vYmlsZS9pXG4gICAgICAvLyBDaHJvbWUgTW9iaWxlXG4gICAgXSxcbiAgICBbVkVSU0lPTiwgW05BTUUsIFBSRUZJWF9NT0JJTEUgKyBcIkNocm9tZVwiXV0sXG4gICAgW1xuICAgICAgLyhjaHJvbWV8b21uaXdlYnxhcm9yYXxbdGl6ZW5va2FdezV9ID9icm93c2VyKVxcL3Y/KFtcXHdcXC5dKykvaVxuICAgICAgLy8gQ2hyb21lL09tbmlXZWIvQXJvcmEvVGl6ZW4vTm9raWFcbiAgICBdLFxuICAgIFtOQU1FLCBWRVJTSU9OXSxcbiAgICBbXG4gICAgICAvdmVyc2lvblxcLyhbXFx3XFwuXFwsXSspIC4qbW9iaWxlKD86XFwvXFx3KyB8ID8pc2FmYXJpL2lcbiAgICAgIC8vIFNhZmFyaSBNb2JpbGVcbiAgICBdLFxuICAgIFtWRVJTSU9OLCBbTkFNRSwgUFJFRklYX01PQklMRSArIFwiU2FmYXJpXCJdXSxcbiAgICBbXG4gICAgICAvaXBob25lIC4qbW9iaWxlKD86XFwvXFx3KyB8ID8pc2FmYXJpL2lcbiAgICBdLFxuICAgIFtbTkFNRSwgUFJFRklYX01PQklMRSArIFwiU2FmYXJpXCJdXSxcbiAgICBbXG4gICAgICAvdmVyc2lvblxcLyhbXFx3XFwuXFwsXSspIC4qKHNhZmFyaSkvaVxuICAgICAgLy8gU2FmYXJpXG4gICAgXSxcbiAgICBbVkVSU0lPTiwgTkFNRV0sXG4gICAgW1xuICAgICAgL3dlYmtpdC4rPyhtb2JpbGUgP3NhZmFyaXxzYWZhcmkpKFxcL1tcXHdcXC5dKykvaVxuICAgICAgLy8gU2FmYXJpIDwgMy4wXG4gICAgXSxcbiAgICBbTkFNRSwgW1ZFUlNJT04sIFwiMVwiXV0sXG4gICAgW1xuICAgICAgLyh3ZWJraXR8a2h0bWwpXFwvKFtcXHdcXC5dKykvaVxuICAgIF0sXG4gICAgW05BTUUsIFZFUlNJT05dLFxuICAgIFtcbiAgICAgIC8vIEdlY2tvIGJhc2VkXG4gICAgICAvKD86bW9iaWxlfHRhYmxldCk7LiooZmlyZWZveClcXC8oW1xcd1xcLi1dKykvaVxuICAgICAgLy8gRmlyZWZveCBNb2JpbGVcbiAgICBdLFxuICAgIFtbTkFNRSwgUFJFRklYX01PQklMRSArIEZJUkVGT1hdLCBWRVJTSU9OXSxcbiAgICBbXG4gICAgICAvKG5hdmlnYXRvcnxuZXRzY2FwZVxcZD8pXFwvKFstXFx3XFwuXSspL2lcbiAgICAgIC8vIE5ldHNjYXBlXG4gICAgXSxcbiAgICBbW05BTUUsIFwiTmV0c2NhcGVcIl0sIFZFUlNJT05dLFxuICAgIFtcbiAgICAgIC8od29sdmljfGxpYnJld29sZilcXC8oW1xcd1xcLl0rKS9pXG4gICAgICAvLyBXb2x2aWMvTGlicmVXb2xmXG4gICAgXSxcbiAgICBbTkFNRSwgVkVSU0lPTl0sXG4gICAgW1xuICAgICAgL21vYmlsZSB2cjsgcnY6KFtcXHdcXC5dKylcXCkuK2ZpcmVmb3gvaVxuICAgICAgLy8gRmlyZWZveCBSZWFsaXR5XG4gICAgXSxcbiAgICBbVkVSU0lPTiwgW05BTUUsIEZJUkVGT1ggKyBcIiBSZWFsaXR5XCJdXSxcbiAgICBbXG4gICAgICAvZWtpb2hmLisoZmxvdylcXC8oW1xcd1xcLl0rKS9pLFxuICAgICAgLy8gRmxvd1xuICAgICAgLyhzd2lmdGZveCkvaSxcbiAgICAgIC8vIFN3aWZ0Zm94XG4gICAgICAvKGljZWRyYWdvbnxpY2V3ZWFzZWx8Y2FtaW5vfGNoaW1lcmF8ZmVubmVjfG1hZW1vIGJyb3dzZXJ8bWluaW1vfGNvbmtlcm9yKVtcXC8gXT8oW1xcd1xcLlxcK10rKS9pLFxuICAgICAgLy8gSWNlRHJhZ29uL0ljZXdlYXNlbC9DYW1pbm8vQ2hpbWVyYS9GZW5uZWMvTWFlbW8vTWluaW1vL0Nvbmtlcm9yXG4gICAgICAvKHNlYW1vbmtleXxrLW1lbGVvbnxpY2VjYXR8aWNlYXBlfGZpcmViaXJkfHBob2VuaXh8cGFsZW1vb258YmFzaWxpc2t8d2F0ZXJmb3gpXFwvKFstXFx3XFwuXSspJC9pLFxuICAgICAgLy8gRmlyZWZveC9TZWFNb25rZXkvSy1NZWxlb24vSWNlQ2F0L0ljZUFwZS9GaXJlYmlyZC9QaG9lbml4XG4gICAgICAvKGZpcmVmb3gpXFwvKFtcXHdcXC5dKykvaSxcbiAgICAgIC8vIE90aGVyIEZpcmVmb3gtYmFzZWRcbiAgICAgIC8obW96aWxsYSlcXC8oW1xcd1xcLl0rKSAuK3J2XFw6LitnZWNrb1xcL1xcZCsvaSxcbiAgICAgIC8vIE1vemlsbGFcbiAgICAgIC8vIE90aGVyXG4gICAgICAvKGFtYXlhfGRpbGxvfGRvcmlzfGljYWJ8bGFkeWJpcmR8bHlueHxtb3NhaWN8bmV0c3VyZnxvYmlnb3xwb2xhcmlzfHczbXwoPzpnb3xpY2V8dXApW1xcLiBdP2Jyb3dzZXIpWy1cXC8gXT92PyhbXFx3XFwuXSspL2ksXG4gICAgICAvLyBQb2xhcmlzL0x5bngvRGlsbG8vaUNhYi9Eb3Jpcy9BbWF5YS93M20vTmV0U3VyZi9PYmlnby9Nb3NhaWMvR28vSUNFL1VQLkJyb3dzZXIvTGFkeWJpcmRcbiAgICAgIC9cXGIobGlua3MpIFxcKChbXFx3XFwuXSspL2lcbiAgICAgIC8vIExpbmtzXG4gICAgXSxcbiAgICBbTkFNRSwgW1ZFUlNJT04sIC9fL2csIFwiLlwiXV0sXG4gICAgW1xuICAgICAgLyhjb2JhbHQpXFwvKFtcXHdcXC5dKykvaVxuICAgICAgLy8gQ29iYWx0XG4gICAgXSxcbiAgICBbTkFNRSwgW1ZFUlNJT04sIC9bXlxcZFxcLl0rLi8sIEVNUFRZXV1cbiAgXSxcbiAgY3B1OiBbXG4gICAgW1xuICAgICAgL1xcYigoYW1kfHh8eDg2Wy1fXT98d293fHdpbik2NClcXGIvaVxuICAgICAgLy8gQU1ENjQgKHg2NClcbiAgICBdLFxuICAgIFtbQVJDSElURUNUVVJFLCBcImFtZDY0XCJdXSxcbiAgICBbXG4gICAgICAvKGlhMzIoPz07KSkvaSxcbiAgICAgIC8vIElBMzIgKHF1aWNrdGltZSlcbiAgICAgIC9cXGIoKGlbMzQ2XXx4KTg2KShwYyk/XFxiL2lcbiAgICAgIC8vIElBMzIgKHg4NilcbiAgICBdLFxuICAgIFtbQVJDSElURUNUVVJFLCBcImlhMzJcIl1dLFxuICAgIFtcbiAgICAgIC9cXGIoYWFyY2g2NHxhcm0odj9bODldZT9sP3xfPzY0KSlcXGIvaVxuICAgICAgLy8gQVJNNjRcbiAgICBdLFxuICAgIFtbQVJDSElURUNUVVJFLCBcImFybTY0XCJdXSxcbiAgICBbXG4gICAgICAvXFxiKGFybSh2WzY3XSk/aHQ/bj9bZmxdcD8pXFxiL2lcbiAgICAgIC8vIEFSTUhGXG4gICAgXSxcbiAgICBbW0FSQ0hJVEVDVFVSRSwgXCJhcm1oZlwiXV0sXG4gICAgW1xuICAgICAgLy8gUG9ja2V0UEMgbWlzdGFrZW5seSBpZGVudGlmaWVkIGFzIFBvd2VyUENcbiAgICAgIC8oIChjZXxtb2JpbGUpOyBwcGM7fFxcL1tcXHdcXC5dK2FybVxcYikvaVxuICAgIF0sXG4gICAgW1tBUkNISVRFQ1RVUkUsIFwiYXJtXCJdXSxcbiAgICBbXG4gICAgICAvKChwcGN8cG93ZXJwYykoNjQpPykoIG1hY3w7fFxcKSkvaVxuICAgICAgLy8gUG93ZXJQQ1xuICAgIF0sXG4gICAgW1tBUkNISVRFQ1RVUkUsIC9vd2VyLywgRU1QVFksIGxvd2VyaXplXV0sXG4gICAgW1xuICAgICAgLyBzdW40XFx3WztcXCldL2lcbiAgICAgIC8vIFNQQVJDXG4gICAgXSxcbiAgICBbW0FSQ0hJVEVDVFVSRSwgXCJzcGFyY1wiXV0sXG4gICAgW1xuICAgICAgL1xcYihhdnIzMnxpYTY0KD89Oyl8NjhrKD89XFwpKXxcXGJhcm0oPz12KFsxLTddfFs1LTddMSlsP3w7fGVhYmkpfChpcml4fG1pcHN8c3BhcmMpKDY0KT9cXGJ8cGEtcmlzYykvaVxuICAgICAgLy8gSUE2NCwgNjhLLCBBUk0vNjQsIEFWUi8zMiwgSVJJWC82NCwgTUlQUy82NCwgU1BBUkMvNjQsIFBBLVJJU0NcbiAgICBdLFxuICAgIFtbQVJDSElURUNUVVJFLCBsb3dlcml6ZV1dXG4gIF0sXG4gIGRldmljZTogW1xuICAgIFtcbiAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAvLyBNT0JJTEVTICYgVEFCTEVUU1xuICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgLy8gU2Ftc3VuZ1xuICAgICAgL1xcYihzY2gtaVs4OV0wXFxkfHNody1tMzgwc3xzbS1bcHR4XVxcd3syLDR9fGd0LVtwbl1cXGR7Miw0fXxzZ2gtdDhbNTZdOXxuZXh1cyAxMCkvaVxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBTQU1TVU5HXSwgW1RZUEUsIFRBQkxFVF1dLFxuICAgIFtcbiAgICAgIC9cXGIoKD86c1tjZ3BdaHxndHxzbSktKD8hW2xyXSlcXHcrfHNjW2ctXT9bXFxkXSthP3xnYWxheHkgbmV4dXMpL2ksXG4gICAgICAvc2Ftc3VuZ1stIF0oKD8hc20tW2xyXSlbLVxcd10rKS9pLFxuICAgICAgL3NlYy0oc2doXFx3KykvaVxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBTQU1TVU5HXSwgW1RZUEUsIE1PQklMRV1dLFxuICAgIFtcbiAgICAgIC8vIEFwcGxlXG4gICAgICAvKD86XFwvfFxcKCkoaXAoPzpob25lfG9kKVtcXHcsIF0qKSg/OlxcL3w7KS9pXG4gICAgICAvLyBpUG9kL2lQaG9uZVxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBBUFBMRV0sIFtUWVBFLCBNT0JJTEVdXSxcbiAgICBbXG4gICAgICAvXFwoKGlwYWQpO1stXFx3XFwpLDsgXSthcHBsZS9pLFxuICAgICAgLy8gaVBhZFxuICAgICAgL2FwcGxlY29yZW1lZGlhXFwvW1xcd1xcLl0rIFxcKChpcGFkKS9pLFxuICAgICAgL1xcYihpcGFkKVxcZFxcZD8sXFxkXFxkP1s7XFxdXS4raW9zL2lcbiAgICBdLFxuICAgIFtNT0RFTCwgW1ZFTkRPUiwgQVBQTEVdLCBbVFlQRSwgVEFCTEVUXV0sXG4gICAgW1xuICAgICAgLyhtYWNpbnRvc2gpOy9pXG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIEFQUExFXV0sXG4gICAgW1xuICAgICAgLy8gU2hhcnBcbiAgICAgIC9cXGIoc2gtP1thbHR2el0/XFxkXFxkW2EtZWttXT8pL2lcbiAgICBdLFxuICAgIFtNT0RFTCwgW1ZFTkRPUiwgU0hBUlBdLCBbVFlQRSwgTU9CSUxFXV0sXG4gICAgW1xuICAgICAgLy8gSG9ub3JcbiAgICAgIC9cXGIoKD86YnJ0fGVsbnxoZXkyP3xnZGl8amRuKS1hP1tsbnddMDl8KD86YWdbcm1dMz98amRuMnxrb2IyKS1hP1tsd10wWzA5XWhuKSg/OiBidWl8XFwpfDspL2lcbiAgICBdLFxuICAgIFtNT0RFTCwgW1ZFTkRPUiwgSE9OT1JdLCBbVFlQRSwgVEFCTEVUXV0sXG4gICAgW1xuICAgICAgL2hvbm9yKFstXFx3IF0rKVs7XFwpXS9pXG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIEhPTk9SXSwgW1RZUEUsIE1PQklMRV1dLFxuICAgIFtcbiAgICAgIC8vIEh1YXdlaVxuICAgICAgL1xcYigoPzphZ1tyc11bMjM1Nl0/az98YmFoWzIzNF0/fGJnWzJvXXxidFtrdl18Y21yfGNwbnxkYltyeV0yP3xqZG4yfGdvdHxrb2IyP2s/fG1vbnxwY2V8c2NtfHNodD98W3R3XWdyfHZyZCktW2FkXT9bbHddWzAxMjVdWzA5XWI/fDYwNWh3fGJnMi11MDN8KD86Z2VtfGZkcnxtMnxwbGV8dDEpLVs3YV0wWzEtNF1bbHVdfHQxLWEyWzEzXVtsd118bWVkaWFwYWRbXFx3XFwuIF0qKD89IGJ1aXxcXCkpKVxcYig/IS4rZFxcL3MpL2lcbiAgICBdLFxuICAgIFtNT0RFTCwgW1ZFTkRPUiwgSFVBV0VJXSwgW1RZUEUsIFRBQkxFVF1dLFxuICAgIFtcbiAgICAgIC8oPzpodWF3ZWkpKFstXFx3IF0rKVs7XFwpXS9pLFxuICAgICAgL1xcYihuZXh1cyA2cHxcXHd7Miw0fWU/LVthdHVdP1tsbl1bXFxkeF1bMDEyMzU5Y11bYWRuXT8pXFxiKD8hLitkXFwvcykvaVxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBIVUFXRUldLCBbVFlQRSwgTU9CSUxFXV0sXG4gICAgW1xuICAgICAgLy8gWGlhb21pXG4gICAgICAvb2lkW15cXCldKzsgKDJbXFxkYmNdezR9KDE4MnwyODN8cnBcXHd7Mn0pW2NnbF18bTIxMDVrODFhP2MpKD86IGJ1aXxcXCkpL2ksXG4gICAgICAvXFxiKCg/OnJlZCk/bWlbLV8gXT9wYWRbXFx3LSBdKikoPzogYnVpfFxcKSkvaVxuICAgICAgLy8gTWkgUGFkIHRhYmxldHNcbiAgICBdLFxuICAgIFtbTU9ERUwsIC9fL2csIFwiIFwiXSwgW1ZFTkRPUiwgWElBT01JXSwgW1RZUEUsIFRBQkxFVF1dLFxuICAgIFtcbiAgICAgIC9cXGIocG9jb1tcXHcgXSt8bTJcXGR7M31qXFxkXFxkW2Etel17Mn0pKD86IGJ1aXxcXCkpL2ksXG4gICAgICAvLyBYaWFvbWkgUE9DT1xuICAgICAgL1xcYjsgKFxcdyspIGJ1aWxkXFwvaG1cXDEvaSxcbiAgICAgIC8vIFhpYW9taSBIb25nbWkgJ251bWVyaWMnIG1vZGVsc1xuICAgICAgL1xcYihobVstXyBdP25vdGU/W18gXT8oPzpcXGRcXHcpPykgYnVpL2ksXG4gICAgICAvLyBYaWFvbWkgSG9uZ21pXG4gICAgICAvXFxiKHJlZG1pW1xcLV8gXT8oPzpub3RlfGspP1tcXHdfIF0rKSg/OiBidWl8XFwpKS9pLFxuICAgICAgLy8gWGlhb21pIFJlZG1pXG4gICAgICAvb2lkW15cXCldKzsgKG0/WzEyXVswLTM4OV1bMDFdXFx3ezMsNn1bYy15XSkoIGJ1aXw7IHd2fFxcKSkvaSxcbiAgICAgIC8vIFhpYW9taSBSZWRtaSAnbnVtZXJpYycgbW9kZWxzXG4gICAgICAvXFxiKG1pWy1fIF0/KD86YVxcZHxvbmV8b25lW18gXXBsdXN8bm90ZSBsdGV8bWF4fGNjKT9bXyBdPyg/OlxcZD9cXHc/KVtfIF0/KD86cGx1c3xzZXxsaXRlfHBybyk/KSg/OiBidWl8XFwpKS9pLFxuICAgICAgLy8gWGlhb21pIE1pXG4gICAgICAvIChbXFx3IF0rKSBtaXVpXFwvdj9cXGQvaVxuICAgIF0sXG4gICAgW1tNT0RFTCwgL18vZywgXCIgXCJdLCBbVkVORE9SLCBYSUFPTUldLCBbVFlQRSwgTU9CSUxFXV0sXG4gICAgW1xuICAgICAgLy8gT1BQT1xuICAgICAgLzsgKFxcdyspIGJ1aS4rIG9wcG8vaSxcbiAgICAgIC9cXGIoY3BoWzEyXVxcZHszfXxwKD86YWZ8Y1thbF18ZFxcd3xlW2FyXSlbbXRdXFxkMHx4OTAwN3xhMTAxb3ApXFxiL2lcbiAgICBdLFxuICAgIFtNT0RFTCwgW1ZFTkRPUiwgT1BQT10sIFtUWVBFLCBNT0JJTEVdXSxcbiAgICBbXG4gICAgICAvXFxiKG9wZDIoXFxkezN9YT8pKSg/OiBidWl8XFwpKS9pXG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIHN0ck1hcHBlciwgeyBcIk9uZVBsdXNcIjogW1wiMzA0XCIsIFwiNDAzXCIsIFwiMjAzXCJdLCBcIipcIjogT1BQTyB9XSwgW1RZUEUsIFRBQkxFVF1dLFxuICAgIFtcbiAgICAgIC8vIEJMVSBWaXZvIFNlcmllc1xuICAgICAgLyh2aXZvICg1cj98Nnw4bD98Z298b25lfHN8eFtpbF0/WzItNF0/KVtcXHdcXCsgXSopKD86IGJ1aXxcXCkpL2lcbiAgICBdLFxuICAgIFtNT0RFTCwgW1ZFTkRPUiwgXCJCTFVcIl0sIFtUWVBFLCBNT0JJTEVdXSxcbiAgICBbXG4gICAgICAvLyBWaXZvXG4gICAgICAvOyB2aXZvIChcXHcrKSg/OiBidWl8XFwpKS9pLFxuICAgICAgL1xcYih2WzEyXVxcZHszfVxcdz9bYXRdKSg/OiBidWl8OykvaVxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBcIlZpdm9cIl0sIFtUWVBFLCBNT0JJTEVdXSxcbiAgICBbXG4gICAgICAvLyBSZWFsbWVcbiAgICAgIC9cXGIocm14WzEtM11cXGR7M30pKD86IGJ1aXw7fFxcKSkvaVxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBcIlJlYWxtZVwiXSwgW1RZUEUsIE1PQklMRV1dLFxuICAgIFtcbiAgICAgIC8vIE1vdG9yb2xhXG4gICAgICAvXFxiKG1pbGVzdG9uZXxkcm9pZCg/OlsyLTR4XXwgKD86YmlvbmljfHgyfHByb3xyYXpyKSk/Oj8oIDRnKT8pXFxiW1xcdyBdK2J1aWxkXFwvL2ksXG4gICAgICAvXFxibW90KD86b3JvbGEpP1stIF0oXFx3KikvaSxcbiAgICAgIC8oKD86bW90byg/ISAzNjApW1xcd1xcKFxcKSBdK3x4dFxcZHszLDR9fG5leHVzIDYpKD89IGJ1aXxcXCkpKS9pXG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIE1PVE9ST0xBXSwgW1RZUEUsIE1PQklMRV1dLFxuICAgIFtcbiAgICAgIC9cXGIobXo2MFxcZHx4b29tWzIgXXswLDJ9KSBidWlsZFxcLy9pXG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIE1PVE9ST0xBXSwgW1RZUEUsIFRBQkxFVF1dLFxuICAgIFtcbiAgICAgIC8vIExHXG4gICAgICAvKCg/PWxnKT9bdmxda1xcLT9cXGR7M30pIGJ1aXwgM1xcLlstXFx3OyBdezEwfWxnPy0oWzA2Y3Y5XXszLDR9KS9pXG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIExHXSwgW1RZUEUsIFRBQkxFVF1dLFxuICAgIFtcbiAgICAgIC8obG0oPzotP2YxMDBbbnZdP3wtW1xcd1xcLl0rKSg/PSBidWl8XFwpKXxuZXh1cyBbNDVdKS9pLFxuICAgICAgL1xcYmxnWy1lO1xcLyBdKyg/IS4qKD86YnJvd3NlcnxuZXRjYXN0fGFuZHJvaWQgdHZ8d2F0Y2gpKShcXHcrKS9pLFxuICAgICAgL1xcYmxnLT8oW1xcZFxcd10rKSBidWkvaVxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBMR10sIFtUWVBFLCBNT0JJTEVdXSxcbiAgICBbXG4gICAgICAvLyBMZW5vdm9cbiAgICAgIC8oaWRlYXRhYlstXFx3IF0rfDYwMmx2fGQtNDJhfGExMDFsdnxhMjEwOWF8YTM1MDAtaHZ8c1s1Nl0wMDB8cGItNjUwNVtteV18dGItP3g/XFxkezMsNH0oPzpmW2N1XXx4dXxbYXZdKXx5dFxcZD8tW2p4XT9cXGQrW2xmbXhdKSggYnVpfDt8XFwpfFxcLykvaSxcbiAgICAgIC9sZW5vdm8gPyhiWzY4XTBbMDhdMC0/W2hmXT98dGFiKD86W1xcdy0gXSs/KXx0YltcXHctXXs2LDd9KSggYnVpfDt8XFwpfFxcLykvaVxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBMRU5PVk9dLCBbVFlQRSwgVEFCTEVUXV0sXG4gICAgW1xuICAgICAgLy8gTm9raWFcbiAgICAgIC8obm9raWEpICh0WzEyXVswMV0pL2lcbiAgICBdLFxuICAgIFtWRU5ET1IsIE1PREVMLCBbVFlQRSwgVEFCTEVUXV0sXG4gICAgW1xuICAgICAgLyg/Om1hZW1vfG5va2lhKS4qKG45MDB8bHVtaWEgXFxkK3xybS1cXGQrKS9pLFxuICAgICAgL25va2lhWy1fIF0/KChbLVxcd1xcLiBdKikpL2lcbiAgICBdLFxuICAgIFtbTU9ERUwsIC9fL2csIFwiIFwiXSwgW1RZUEUsIE1PQklMRV0sIFtWRU5ET1IsIFwiTm9raWFcIl1dLFxuICAgIFtcbiAgICAgIC8vIEdvb2dsZVxuICAgICAgLyhwaXhlbCAoY3x0YWJsZXQpKVxcYi9pXG4gICAgICAvLyBHb29nbGUgUGl4ZWwgQy9UYWJsZXRcbiAgICBdLFxuICAgIFtNT0RFTCwgW1ZFTkRPUiwgR09PR0xFXSwgW1RZUEUsIFRBQkxFVF1dLFxuICAgIFtcbiAgICAgIC9kcm9pZC4rOyAocGl4ZWxbXFxkYXhsIF17MCw2fSkoPzogYnVpfFxcKSkvaVxuICAgICAgLy8gR29vZ2xlIFBpeGVsXG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIEdPT0dMRV0sIFtUWVBFLCBNT0JJTEVdXSxcbiAgICBbXG4gICAgICAvLyBTb255XG4gICAgICAvZHJvaWQuKzsgKGE/XFxkWzAtMl17Mn1zb3xbYy1nXVxcZHs0fXxzb1stZ2xdXFx3K3x4cS1hXFx3WzQtN11bMTJdKSg/PSBidWl8XFwpLitjaHJvbWVcXC8oPyFbMS02XXswLDF9XFxkXFwuKSkvaVxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBTT05ZXSwgW1RZUEUsIE1PQklMRV1dLFxuICAgIFtcbiAgICAgIC9zb255IHRhYmxldCBbcHNdL2ksXG4gICAgICAvXFxiKD86c29ueSk/c2dwXFx3Kyg/OiBidWl8XFwpKS9pXG4gICAgXSxcbiAgICBbW01PREVMLCBcIlhwZXJpYSBUYWJsZXRcIl0sIFtWRU5ET1IsIFNPTlldLCBbVFlQRSwgVEFCTEVUXV0sXG4gICAgW1xuICAgICAgLy8gT25lUGx1c1xuICAgICAgLyAoa2IyMDA1fGluMjBbMTJdNXxiZTIwWzEyXVs1OV0pXFxiL2ksXG4gICAgICAvKD86b25lKT8oPzpwbHVzKT8gKGFcXGQwXFxkXFxkKSg/OiBifFxcKSkvaVxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBPTkVQTFVTXSwgW1RZUEUsIE1PQklMRV1dLFxuICAgIFtcbiAgICAgIC8vIEFtYXpvblxuICAgICAgLyhhbGV4YSl3ZWJtL2ksXG4gICAgICAvKGtmW2Etel17Mn13aXxhZW8oPyFiYylcXHdcXHcpKCBidWl8XFwpKS9pLFxuICAgICAgLy8gS2luZGxlIEZpcmUgd2l0aG91dCBTaWxrIC8gRWNobyBTaG93XG4gICAgICAvKGtmW2Etel0rKSggYnVpfFxcKSkuK3NpbGtcXC8vaVxuICAgICAgLy8gS2luZGxlIEZpcmUgSERcbiAgICBdLFxuICAgIFtNT0RFTCwgW1ZFTkRPUiwgQU1BWk9OXSwgW1RZUEUsIFRBQkxFVF1dLFxuICAgIFtcbiAgICAgIC8oKD86c2R8a2YpWzAzNDloaWpvcnN0dXddKykoIGJ1aXxcXCkpLitzaWxrXFwvL2lcbiAgICAgIC8vIEZpcmUgUGhvbmVcbiAgICBdLFxuICAgIFtbTU9ERUwsIC8oLispL2csIFwiRmlyZSBQaG9uZSAkMVwiXSwgW1ZFTkRPUiwgQU1BWk9OXSwgW1RZUEUsIE1PQklMRV1dLFxuICAgIFtcbiAgICAgIC8vIEJsYWNrQmVycnlcbiAgICAgIC8ocGxheWJvb2spO1stXFx3XFwpLDsgXSsocmltKS9pXG4gICAgICAvLyBCbGFja0JlcnJ5IFBsYXlCb29rXG4gICAgXSxcbiAgICBbTU9ERUwsIFZFTkRPUiwgW1RZUEUsIFRBQkxFVF1dLFxuICAgIFtcbiAgICAgIC9cXGIoKD86YmJbYS1mXXxzdFtodl0pMTAwLVxcZCkvaSxcbiAgICAgIC9cXChiYjEwOyAoXFx3KykvaVxuICAgICAgLy8gQmxhY2tCZXJyeSAxMFxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBCTEFDS0JFUlJZXSwgW1RZUEUsIE1PQklMRV1dLFxuICAgIFtcbiAgICAgIC8vIEFzdXNcbiAgICAgIC8oPzpcXGJ8YXN1c18pKHRyYW5zZm9bcHJpbWUgXXs0LDEwfSBcXHcrfGVlZXBjfHNsaWRlciBcXHcrfG5leHVzIDd8cGFkZm9uZXxwMDBbY2pdKS9pXG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIEFTVVNdLCBbVFlQRSwgVEFCTEVUXV0sXG4gICAgW1xuICAgICAgLyAoeltiZXNdNlswMjddWzAxMl1ba21dW2xzXXx6ZW5mb25lIFxcZFxcdz8pXFxiL2lcbiAgICBdLFxuICAgIFtNT0RFTCwgW1ZFTkRPUiwgQVNVU10sIFtUWVBFLCBNT0JJTEVdXSxcbiAgICBbXG4gICAgICAvLyBIVENcbiAgICAgIC8obmV4dXMgOSkvaVxuICAgICAgLy8gSFRDIE5leHVzIDlcbiAgICBdLFxuICAgIFtNT0RFTCwgW1ZFTkRPUiwgXCJIVENcIl0sIFtUWVBFLCBUQUJMRVRdXSxcbiAgICBbXG4gICAgICAvKGh0YylbLTtfIF17MSwyfShbXFx3IF0rKD89XFwpfCBidWkpfFxcdyspL2ksXG4gICAgICAvLyBIVENcbiAgICAgIC8vIFpURVxuICAgICAgLyh6dGUpWy0gXShbXFx3IF0rPykoPzogYnVpfFxcL3xcXCkpL2ksXG4gICAgICAvKGFsY2F0ZWx8Z2Vla3NwaG9uZXxuZXhpYW58cGFuYXNvbmljKD8hKD86O3xcXC4pKXxzb255KD8hLWJyYSkpWy1fIF0/KFstXFx3XSopL2lcbiAgICAgIC8vIEFsY2F0ZWwvR2Vla3NQaG9uZS9OZXhpYW4vUGFuYXNvbmljL1NvbnlcbiAgICBdLFxuICAgIFtWRU5ET1IsIFtNT0RFTCwgL18vZywgXCIgXCJdLCBbVFlQRSwgTU9CSUxFXV0sXG4gICAgW1xuICAgICAgLy8gVENMXG4gICAgICAvdGNsICh4ZXNzIHAxN2FhKS9pLFxuICAgICAgL2Ryb2lkIFtcXHdcXC5dKzsgKCg/OjhbMTRdOVsxNl18OSg/OjAoPzo0OHw2MHw4WzAxXSl8MSg/OjNbMjddfDY2KXwyKD86Nls2OV18OVs1Nl0pfDQ2NikpW2dxc3d4XSkoX1xcdyhcXHd8XFx3XFx3KSk/KFxcKXwgYnVpKS9pXG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIFwiVENMXCJdLCBbVFlQRSwgVEFCTEVUXV0sXG4gICAgW1xuICAgICAgL2Ryb2lkIFtcXHdcXC5dKzsgKDQxOCg/OjdkfDh2KXw1MDg3enw1MTAybHw2MSg/OjAyW2RoXXwyNVthZGZoXXwyN1thaV18NTZbZGhdfDU5a3w2NVthaF0pfGE1MDlkbHx0KD86NDMoPzowd3wxW2FkZXBxdV0pfDUwKD86NmR8N1thZGp1XSl8Nig/OjA5ZGx8MTBrfDEyYnw3MVtlZmhvXXw3NltoamtdKXw3KD86NjZbYWhqdV18NjdbaHddfDdbMDQ1XVtiaF18NzFbaGtdfDczb3w3Nltob118Nzl3fDgxW2hrc10/fDgyaHw5MFtiaHN5XXw5OWIpfDgxMFtoc10pKShfXFx3KFxcd3xcXHdcXHcpKT8oXFwpfCBidWkpL2lcbiAgICBdLFxuICAgIFtNT0RFTCwgW1ZFTkRPUiwgXCJUQ0xcIl0sIFtUWVBFLCBNT0JJTEVdXSxcbiAgICBbXG4gICAgICAvLyBpdGVsXG4gICAgICAvKGl0ZWwpICgoXFx3KykpL2lcbiAgICBdLFxuICAgIFtbVkVORE9SLCBsb3dlcml6ZV0sIE1PREVMLCBbVFlQRSwgc3RyTWFwcGVyLCB7IFwidGFibGV0XCI6IFtcInAxMDAwMWxcIiwgXCJ3NzAwMVwiXSwgXCIqXCI6IFwibW9iaWxlXCIgfV1dLFxuICAgIFtcbiAgICAgIC8vIEFjZXJcbiAgICAgIC9kcm9pZC4rOyAoW2FiXVsxLTddLT9bMDE3OGFdXFxkXFxkPykvaVxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBcIkFjZXJcIl0sIFtUWVBFLCBUQUJMRVRdXSxcbiAgICBbXG4gICAgICAvLyBNZWl6dVxuICAgICAgL2Ryb2lkLis7IChtWzEtNV0gbm90ZSkgYnVpL2ksXG4gICAgICAvXFxibXotKFstXFx3XXsyLH0pL2lcbiAgICBdLFxuICAgIFtNT0RFTCwgW1ZFTkRPUiwgXCJNZWl6dVwiXSwgW1RZUEUsIE1PQklMRV1dLFxuICAgIFtcbiAgICAgIC8vIFVsZWZvbmVcbiAgICAgIC87ICgoPzpwb3dlciApP2FybW9yKD86W1xcdyBdezAsOH0pKSg/OiBidWl8XFwpKS9pXG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIFwiVWxlZm9uZVwiXSwgW1RZUEUsIE1PQklMRV1dLFxuICAgIFtcbiAgICAgIC8vIEVuZXJnaXplclxuICAgICAgLzsgKGVuZXJneSA/XFx3KykoPzogYnVpfFxcKSkvaSxcbiAgICAgIC87IGVuZXJnaXplciAoW1xcdyBdKykoPzogYnVpfFxcKSkvaVxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBcIkVuZXJnaXplclwiXSwgW1RZUEUsIE1PQklMRV1dLFxuICAgIFtcbiAgICAgIC8vIENhdFxuICAgICAgLzsgY2F0IChiMzUpOy9pLFxuICAgICAgLzsgKGIxNXE/fHMyMiBmbGlwfHM0OGN8czYyIHBybykoPzogYnVpfFxcKSkvaVxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBcIkNhdFwiXSwgW1RZUEUsIE1PQklMRV1dLFxuICAgIFtcbiAgICAgIC8vIFNtYXJ0ZnJlblxuICAgICAgLygoPzpuZXcgKT9hbmRyb21heFtcXHctIF0rKSg/OiBidWl8XFwpKS9pXG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIFwiU21hcnRmcmVuXCJdLCBbVFlQRSwgTU9CSUxFXV0sXG4gICAgW1xuICAgICAgLy8gTm90aGluZ1xuICAgICAgL2Ryb2lkLis7IChhKD86MDE1fDA2WzM1XXwxNDJwPykpL2lcbiAgICBdLFxuICAgIFtNT0RFTCwgW1ZFTkRPUiwgXCJOb3RoaW5nXCJdLCBbVFlQRSwgTU9CSUxFXV0sXG4gICAgW1xuICAgICAgLy8gQXJjaG9zXG4gICAgICAvOyAoeDY3IDVnfHRpa2Vhc3kgXFx3K3xhY1sxNzg5XVxcZFxcdyspKCBifFxcKSkvaSxcbiAgICAgIC9hcmNob3MgPyg1fGdhbWVwYWQyP3woW1xcdyBdKlt0MTc4OV18aGVsbG8pID9cXGQrW1xcdyBdKikoIGJ8XFwpKS9pXG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIFwiQXJjaG9zXCJdLCBbVFlQRSwgVEFCTEVUXV0sXG4gICAgW1xuICAgICAgL2FyY2hvcyAoW1xcdyBdKykoIGJ8XFwpKS9pLFxuICAgICAgLzsgKGFjWzMtNl1cXGRcXHd7Miw4fSkoIGJ8XFwpKS9pXG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIFwiQXJjaG9zXCJdLCBbVFlQRSwgTU9CSUxFXV0sXG4gICAgW1xuICAgICAgLy8gTUlYRURcbiAgICAgIC8oaW1vKSAodGFiIFxcdyspL2ksXG4gICAgICAvLyBJTU9cbiAgICAgIC8oaW5maW5peCkgKHgxMTAxYj8pL2lcbiAgICAgIC8vIEluZmluaXggWFBhZFxuICAgIF0sXG4gICAgW1ZFTkRPUiwgTU9ERUwsIFtUWVBFLCBUQUJMRVRdXSxcbiAgICBbXG4gICAgICAvKGJsYWNrYmVycnl8YmVucXxwYWxtKD89XFwtKXxzb255ZXJpY3Nzb258YWNlcnxhc3VzKD8hIHplbncpfGRlbGx8am9sbGF8bWVpenV8bW90b3JvbGF8cG9seXRyb258aW5maW5peHx0ZWNub3xtaWNyb21heHxhZHZhbilbLV8gXT8oWy1cXHddKikvaSxcbiAgICAgIC8vIEJsYWNrQmVycnkvQmVuUS9QYWxtL1NvbnktRXJpY3Nzb24vQWNlci9Bc3VzL0RlbGwvTWVpenUvTW90b3JvbGEvUG9seXRyb24vSW5maW5peC9UZWNuby9NaWNyb21heC9BZHZhblxuICAgICAgLzsgKGJsdXxobWR8aW1vfHRjbClbXyBdKFtcXHdcXCsgXSs/KSg/OiBidWl8XFwpfDsgcikvaSxcbiAgICAgIC8vIEJMVS9ITUQvSU1PL1RDTFxuICAgICAgLyhocCkgKFtcXHcgXStcXHcpL2ksXG4gICAgICAvLyBIUCBpUEFRXG4gICAgICAvKG1pY3Jvc29mdCk7IChsdW1pYVtcXHcgXSspL2ksXG4gICAgICAvLyBNaWNyb3NvZnQgTHVtaWFcbiAgICAgIC8obGVub3ZvKVstXyBdPyhbLVxcdyBdKz8pKD86IGJ1aXxcXCl8XFwvKS9pLFxuICAgICAgLy8gTGVub3ZvXG4gICAgICAvKG9wcG8pID8oW1xcdyBdKykgYnVpL2lcbiAgICAgIC8vIE9QUE9cbiAgICBdLFxuICAgIFtWRU5ET1IsIE1PREVMLCBbVFlQRSwgTU9CSUxFXV0sXG4gICAgW1xuICAgICAgLyhrb2JvKVxccyhlcmVhZGVyfHRvdWNoKS9pLFxuICAgICAgLy8gS29ib1xuICAgICAgLyhocCkuKyh0b3VjaHBhZCg/IS4rdGFibGV0KXx0YWJsZXQpL2ksXG4gICAgICAvLyBIUCBUb3VjaFBhZFxuICAgICAgLyhraW5kbGUpXFwvKFtcXHdcXC5dKykvaVxuICAgICAgLy8gS2luZGxlXG4gICAgXSxcbiAgICBbVkVORE9SLCBNT0RFTCwgW1RZUEUsIFRBQkxFVF1dLFxuICAgIFtcbiAgICAgIC8oc3VyZmFjZSBkdW8pL2lcbiAgICAgIC8vIFN1cmZhY2UgRHVvXG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIE1JQ1JPU09GVF0sIFtUWVBFLCBUQUJMRVRdXSxcbiAgICBbXG4gICAgICAvZHJvaWQgW1xcZFxcLl0rOyAoZnBcXGR1PykoPzogYnxcXCkpL2lcbiAgICAgIC8vIEZhaXJwaG9uZVxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBcIkZhaXJwaG9uZVwiXSwgW1RZUEUsIE1PQklMRV1dLFxuICAgIFtcbiAgICAgIC8oKD86dGVncmFub3RlfHNoaWVsZCB0KD8hLitkIHR2KSlbXFx3LSBdKj8pKD86IGJ8XFwpKS9pXG4gICAgICAvLyBOdmlkaWEgVGFibGV0c1xuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBOVklESUFdLCBbVFlQRSwgVEFCTEVUXV0sXG4gICAgW1xuICAgICAgLyhzcHJpbnQpIChcXHcrKS9pXG4gICAgICAvLyBTcHJpbnQgUGhvbmVzXG4gICAgXSxcbiAgICBbVkVORE9SLCBNT0RFTCwgW1RZUEUsIE1PQklMRV1dLFxuICAgIFtcbiAgICAgIC8oa2luXFwuW29uZXR3XXszfSkvaVxuICAgICAgLy8gTWljcm9zb2Z0IEtpblxuICAgIF0sXG4gICAgW1tNT0RFTCwgL1xcLi9nLCBcIiBcIl0sIFtWRU5ET1IsIE1JQ1JPU09GVF0sIFtUWVBFLCBNT0JJTEVdXSxcbiAgICBbXG4gICAgICAvZHJvaWQuKzsgKFtjNl0rfGV0NVsxNl18bWNbMjM5XVsyM114P3x2YzhbMDNdeD8pXFwpL2lcbiAgICAgIC8vIFplYnJhXG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIFpFQlJBXSwgW1RZUEUsIFRBQkxFVF1dLFxuICAgIFtcbiAgICAgIC9kcm9pZC4rOyAoZWMzMHxwczIwfHRjWzItOF1cXGRba3hdKVxcKS9pXG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIFpFQlJBXSwgW1RZUEUsIE1PQklMRV1dLFxuICAgIFtcbiAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgIC8vIFNNQVJUVFZTXG4gICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAvc21hcnQtdHYuKyhzYW1zdW5nKS9pXG4gICAgICAvLyBTYW1zdW5nXG4gICAgXSxcbiAgICBbVkVORE9SLCBbVFlQRSwgU01BUlRUVl1dLFxuICAgIFtcbiAgICAgIC9oYmJ0di4rbWFwbGU7KFxcZCspL2lcbiAgICBdLFxuICAgIFtbTU9ERUwsIC9eLywgXCJTbWFydFRWXCJdLCBbVkVORE9SLCBTQU1TVU5HXSwgW1RZUEUsIFNNQVJUVFZdXSxcbiAgICBbXG4gICAgICAvdGNhc3QuKyhsZyllPy4gKFstXFx3XSspL2lcbiAgICAgIC8vIExHIFNtYXJ0VFZcbiAgICBdLFxuICAgIFtWRU5ET1IsIE1PREVMLCBbVFlQRSwgU01BUlRUVl1dLFxuICAgIFtcbiAgICAgIC8obnV4OyBuZXRjYXN0LitzbWFydHR2fGxnIChuZXRjYXN0XFwudHYtMjAxXFxkfGFuZHJvaWQgdHYpKS9pXG4gICAgXSxcbiAgICBbW1ZFTkRPUiwgTEddLCBbVFlQRSwgU01BUlRUVl1dLFxuICAgIFtcbiAgICAgIC8oYXBwbGUpID90di9pXG4gICAgICAvLyBBcHBsZSBUVlxuICAgIF0sXG4gICAgW1ZFTkRPUiwgW01PREVMLCBBUFBMRSArIFwiIFRWXCJdLCBbVFlQRSwgU01BUlRUVl1dLFxuICAgIFtcbiAgICAgIC9jcmtleS4qZGV2aWNldHlwZVxcL2Nocm9tZWNhc3QvaVxuICAgICAgLy8gR29vZ2xlIENocm9tZWNhc3QgVGhpcmQgR2VuZXJhdGlvblxuICAgIF0sXG4gICAgW1tNT0RFTCwgQ0hST01FQ0FTVCArIFwiIFRoaXJkIEdlbmVyYXRpb25cIl0sIFtWRU5ET1IsIEdPT0dMRV0sIFtUWVBFLCBTTUFSVFRWXV0sXG4gICAgW1xuICAgICAgL2Nya2V5LipkZXZpY2V0eXBlXFwvKFteL10qKS9pXG4gICAgICAvLyBHb29nbGUgQ2hyb21lY2FzdCB3aXRoIHNwZWNpZmljIGRldmljZSB0eXBlXG4gICAgXSxcbiAgICBbW01PREVMLCAvXi8sIFwiQ2hyb21lY2FzdCBcIl0sIFtWRU5ET1IsIEdPT0dMRV0sIFtUWVBFLCBTTUFSVFRWXV0sXG4gICAgW1xuICAgICAgL2Z1Y2hzaWEuKmNya2V5L2lcbiAgICAgIC8vIEdvb2dsZSBDaHJvbWVjYXN0IE5lc3QgSHViXG4gICAgXSxcbiAgICBbW01PREVMLCBDSFJPTUVDQVNUICsgXCIgTmVzdCBIdWJcIl0sIFtWRU5ET1IsIEdPT0dMRV0sIFtUWVBFLCBTTUFSVFRWXV0sXG4gICAgW1xuICAgICAgL2Nya2V5L2lcbiAgICAgIC8vIEdvb2dsZSBDaHJvbWVjYXN0LCBMaW51eC1iYXNlZCBvciB1bmtub3duXG4gICAgXSxcbiAgICBbW01PREVMLCBDSFJPTUVDQVNUXSwgW1ZFTkRPUiwgR09PR0xFXSwgW1RZUEUsIFNNQVJUVFZdXSxcbiAgICBbXG4gICAgICAvKHBvcnRhbHR2KS9pXG4gICAgICAvLyBGYWNlYm9vayBQb3J0YWwgVFZcbiAgICBdLFxuICAgIFtNT0RFTCwgW1ZFTkRPUiwgRkFDRUJPT0tdLCBbVFlQRSwgU01BUlRUVl1dLFxuICAgIFtcbiAgICAgIC9kcm9pZC4rYWZ0KFxcdyspKCBidWl8XFwpKS9pXG4gICAgICAvLyBGaXJlIFRWXG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIEFNQVpPTl0sIFtUWVBFLCBTTUFSVFRWXV0sXG4gICAgW1xuICAgICAgLyhzaGllbGQgXFx3KyB0dikvaVxuICAgICAgLy8gTnZpZGlhIFNoaWVsZCBUVlxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBOVklESUFdLCBbVFlQRSwgU01BUlRUVl1dLFxuICAgIFtcbiAgICAgIC9cXChkdHZbXFwpO10uKyhhcXVvcykvaSxcbiAgICAgIC8oYXF1b3MtdHZbXFx3IF0rKVxcKS9pXG4gICAgICAvLyBTaGFycFxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBTSEFSUF0sIFtUWVBFLCBTTUFSVFRWXV0sXG4gICAgW1xuICAgICAgLyhicmF2aWFbXFx3IF0rKSggYnVpfFxcKSkvaVxuICAgICAgLy8gU29ueVxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBTT05ZXSwgW1RZUEUsIFNNQVJUVFZdXSxcbiAgICBbXG4gICAgICAvKG1pKHR2fGJveCktP1xcdyspIGJ1aS9pXG4gICAgICAvLyBYaWFvbWlcbiAgICBdLFxuICAgIFtNT0RFTCwgW1ZFTkRPUiwgWElBT01JXSwgW1RZUEUsIFNNQVJUVFZdXSxcbiAgICBbXG4gICAgICAvSGJidHYuKih0ZWNobmlzYXQpICguKik7L2lcbiAgICAgIC8vIFRlY2huaVNBVFxuICAgIF0sXG4gICAgW1ZFTkRPUiwgTU9ERUwsIFtUWVBFLCBTTUFSVFRWXV0sXG4gICAgW1xuICAgICAgL1xcYihyb2t1KVtcXGR4XSpbXFwpXFwvXSgoPzpkdnAtKT9bXFxkXFwuXSopL2ksXG4gICAgICAvLyBSb2t1XG4gICAgICAvaGJidHZcXC9cXGQrXFwuXFxkK1xcLlxcZCsgK1xcKFtcXHdcXCsgXSo7ICooW1xcd1xcZF1bXjtdKik7KFteO10qKS9pXG4gICAgICAvLyBIYmJUViBkZXZpY2VzXG4gICAgXSxcbiAgICBbW1ZFTkRPUiwgdHJpbV0sIFtNT0RFTCwgdHJpbV0sIFtUWVBFLCBTTUFSVFRWXV0sXG4gICAgW1xuICAgICAgLy8gU21hcnRUViBmcm9tIFVuaWRlbnRpZmllZCBWZW5kb3JzXG4gICAgICAvZHJvaWQuKzsgKFtcXHctIF0rKSAoPzphbmRyb2lkIHR2fHNtYXJ0Wy0gXT90dikvaVxuICAgIF0sXG4gICAgW01PREVMLCBbVFlQRSwgU01BUlRUVl1dLFxuICAgIFtcbiAgICAgIC9cXGIoYW5kcm9pZCB0dnxzbWFydFstIF0/dHZ8b3BlcmEgdHZ8dHY7IHJ2OilcXGIvaVxuICAgIF0sXG4gICAgW1tUWVBFLCBTTUFSVFRWXV0sXG4gICAgW1xuICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgLy8gQ09OU09MRVNcbiAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgIC8ob3V5YSkvaSxcbiAgICAgIC8vIE91eWFcbiAgICAgIC8obmludGVuZG8pIChcXHcrKS9pXG4gICAgICAvLyBOaW50ZW5kb1xuICAgIF0sXG4gICAgW1ZFTkRPUiwgTU9ERUwsIFtUWVBFLCBDT05TT0xFXV0sXG4gICAgW1xuICAgICAgL2Ryb2lkLis7IChzaGllbGQpKCBidWl8XFwpKS9pXG4gICAgICAvLyBOdmlkaWEgUG9ydGFibGVcbiAgICBdLFxuICAgIFtNT0RFTCwgW1ZFTkRPUiwgTlZJRElBXSwgW1RZUEUsIENPTlNPTEVdXSxcbiAgICBbXG4gICAgICAvKHBsYXlzdGF0aW9uIFxcdyspL2lcbiAgICAgIC8vIFBsYXlzdGF0aW9uXG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIFNPTlldLCBbVFlQRSwgQ09OU09MRV1dLFxuICAgIFtcbiAgICAgIC9cXGIoeGJveCg/OiBvbmUpPyg/ITsgeGJveCkpW1xcKTsgXS9pXG4gICAgICAvLyBNaWNyb3NvZnQgWGJveFxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBNSUNST1NPRlRdLCBbVFlQRSwgQ09OU09MRV1dLFxuICAgIFtcbiAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgIC8vIFdFQVJBQkxFU1xuICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgL1xcYihzbS1bbHJdXFxkXFxkWzAxNTZdW2ZudXddP3M/fGdlYXIgbGl2ZSlcXGIvaVxuICAgICAgLy8gU2Ftc3VuZyBHYWxheHkgV2F0Y2hcbiAgICBdLFxuICAgIFtNT0RFTCwgW1ZFTkRPUiwgU0FNU1VOR10sIFtUWVBFLCBXRUFSQUJMRV1dLFxuICAgIFtcbiAgICAgIC8oKHBlYmJsZSkpYXBwL2ksXG4gICAgICAvLyBQZWJibGVcbiAgICAgIC8oYXN1c3xnb29nbGV8bGd8b3BwbykgKChwaXhlbCB8emVuKT93YXRjaFtcXHcgXSopKCBidWl8XFwpKS9pXG4gICAgICAvLyBBc3VzIFplbldhdGNoIC8gTEcgV2F0Y2ggLyBQaXhlbCBXYXRjaFxuICAgIF0sXG4gICAgW1ZFTkRPUiwgTU9ERUwsIFtUWVBFLCBXRUFSQUJMRV1dLFxuICAgIFtcbiAgICAgIC8ob3coPzoxOXwyMCk/d2U/WzEtM117MSwzfSkvaVxuICAgICAgLy8gT3BwbyBXYXRjaFxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBPUFBPXSwgW1RZUEUsIFdFQVJBQkxFXV0sXG4gICAgW1xuICAgICAgLyh3YXRjaCkoPzogP29zWyxcXC9dfFxcZCxcXGRcXC8pW1xcZFxcLl0rL2lcbiAgICAgIC8vIEFwcGxlIFdhdGNoXG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIEFQUExFXSwgW1RZUEUsIFdFQVJBQkxFXV0sXG4gICAgW1xuICAgICAgLyhvcHd3ZVxcZHszfSkvaVxuICAgICAgLy8gT25lUGx1cyBXYXRjaFxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBPTkVQTFVTXSwgW1RZUEUsIFdFQVJBQkxFXV0sXG4gICAgW1xuICAgICAgLyhtb3RvIDM2MCkvaVxuICAgICAgLy8gTW90b3JvbGEgMzYwXG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIE1PVE9ST0xBXSwgW1RZUEUsIFdFQVJBQkxFXV0sXG4gICAgW1xuICAgICAgLyhzbWFydHdhdGNoIDMpL2lcbiAgICAgIC8vIFNvbnkgU21hcnRXYXRjaFxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBTT05ZXSwgW1RZUEUsIFdFQVJBQkxFXV0sXG4gICAgW1xuICAgICAgLyhnIHdhdGNoIHIpL2lcbiAgICAgIC8vIExHIEcgV2F0Y2ggUlxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBMR10sIFtUWVBFLCBXRUFSQUJMRV1dLFxuICAgIFtcbiAgICAgIC9kcm9pZC4rOyAod3Q2Mz8wezIsM30pXFwpL2lcbiAgICBdLFxuICAgIFtNT0RFTCwgW1ZFTkRPUiwgWkVCUkFdLCBbVFlQRSwgV0VBUkFCTEVdXSxcbiAgICBbXG4gICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAvLyBYUlxuICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgL2Ryb2lkLis7IChnbGFzcykgXFxkL2lcbiAgICAgIC8vIEdvb2dsZSBHbGFzc1xuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBHT09HTEVdLCBbVFlQRSwgWFJdXSxcbiAgICBbXG4gICAgICAvKHBpY28pICg0fG5lbzMoPzogbGlua3xwcm8pPykvaVxuICAgICAgLy8gUGljb1xuICAgIF0sXG4gICAgW1ZFTkRPUiwgTU9ERUwsIFtUWVBFLCBYUl1dLFxuICAgIFtcbiAgICAgIC8ocXVlc3QoIFxcZHwgcHJvKT9zPykuK3ZyL2lcbiAgICAgIC8vIE1ldGEgUXVlc3RcbiAgICBdLFxuICAgIFtNT0RFTCwgW1ZFTkRPUiwgRkFDRUJPT0tdLCBbVFlQRSwgWFJdXSxcbiAgICBbXG4gICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAvLyBFTUJFRERFRFxuICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgLyh0ZXNsYSkoPzogcXRjYXJicm93c2VyfFxcL1stXFx3XFwuXSspL2lcbiAgICAgIC8vIFRlc2xhXG4gICAgXSxcbiAgICBbVkVORE9SLCBbVFlQRSwgRU1CRURERURdXSxcbiAgICBbXG4gICAgICAvKGFlb2JjKVxcYi9pXG4gICAgICAvLyBFY2hvIERvdFxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBBTUFaT05dLCBbVFlQRSwgRU1CRURERURdXSxcbiAgICBbXG4gICAgICAvKGhvbWVwb2QpLittYWMgb3MvaVxuICAgICAgLy8gQXBwbGUgSG9tZVBvZFxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBBUFBMRV0sIFtUWVBFLCBFTUJFRERFRF1dLFxuICAgIFtcbiAgICAgIC93aW5kb3dzIGlvdC9pXG4gICAgXSxcbiAgICBbW1RZUEUsIEVNQkVEREVEXV0sXG4gICAgW1xuICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgIC8vIE1JWEVEIChHRU5FUklDKVxuICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgL2Ryb2lkIC4rPzsgKFteO10rPykoPzogYnVpfDsgd3ZcXCl8XFwpIGFwcGxldykuKz8obW9iaWxlfHZyfFxcZCkgc2FmYXJpL2lcbiAgICBdLFxuICAgIFtNT0RFTCwgW1RZUEUsIHN0ck1hcHBlciwgeyBcIm1vYmlsZVwiOiBcIk1vYmlsZVwiLCBcInhyXCI6IFwiVlJcIiwgXCIqXCI6IFRBQkxFVCB9XV0sXG4gICAgW1xuICAgICAgL1xcYigodGFibGV0fHRhYilbO1xcL118Zm9jdXNcXC9cXGQoPyEuK21vYmlsZSkpL2lcbiAgICAgIC8vIFVuaWRlbnRpZmlhYmxlIFRhYmxldFxuICAgIF0sXG4gICAgW1tUWVBFLCBUQUJMRVRdXSxcbiAgICBbXG4gICAgICAvKHBob25lfG1vYmlsZSg/Ols7XFwvXXwgWyBcXHdcXC9cXC5dKnNhZmFyaSl8cGRhKD89Lit3aW5kb3dzIGNlKSkvaVxuICAgICAgLy8gVW5pZGVudGlmaWFibGUgTW9iaWxlXG4gICAgXSxcbiAgICBbW1RZUEUsIE1PQklMRV1dLFxuICAgIFtcbiAgICAgIC9kcm9pZCAuKz87IChbXFx3XFwuIC1dKykoIGJ1aXxcXCkpL2lcbiAgICAgIC8vIEdlbmVyaWMgQW5kcm9pZCBEZXZpY2VcbiAgICBdLFxuICAgIFtNT0RFTCwgW1ZFTkRPUiwgXCJHZW5lcmljXCJdXVxuICBdLFxuICBlbmdpbmU6IFtcbiAgICBbXG4gICAgICAvd2luZG93cy4rIGVkZ2VcXC8oW1xcd1xcLl0rKS9pXG4gICAgICAvLyBFZGdlSFRNTFxuICAgIF0sXG4gICAgW1ZFUlNJT04sIFtOQU1FLCBFREdFICsgXCJIVE1MXCJdXSxcbiAgICBbXG4gICAgICAvKGFya3dlYilcXC8oW1xcd1xcLl0rKS9pXG4gICAgICAvLyBBcmtXZWJcbiAgICBdLFxuICAgIFtOQU1FLCBWRVJTSU9OXSxcbiAgICBbXG4gICAgICAvd2Via2l0XFwvNTM3XFwuMzYuK2Nocm9tZVxcLyg/ITI3KShbXFx3XFwuXSspL2lcbiAgICAgIC8vIEJsaW5rXG4gICAgXSxcbiAgICBbVkVSU0lPTiwgW05BTUUsIFwiQmxpbmtcIl1dLFxuICAgIFtcbiAgICAgIC8ocHJlc3RvKVxcLyhbXFx3XFwuXSspL2ksXG4gICAgICAvLyBQcmVzdG9cbiAgICAgIC8od2Via2l0fHRyaWRlbnR8bmV0ZnJvbnR8bmV0c3VyZnxhbWF5YXxseW54fHczbXxnb2FubmF8c2Vydm8pXFwvKFtcXHdcXC5dKykvaSxcbiAgICAgIC8vIFdlYktpdC9UcmlkZW50L05ldEZyb250L05ldFN1cmYvQW1heWEvTHlueC93M20vR29hbm5hL1NlcnZvXG4gICAgICAvZWtpb2goZmxvdylcXC8oW1xcd1xcLl0rKS9pLFxuICAgICAgLy8gRmxvd1xuICAgICAgLyhraHRtbHx0YXNtYW58bGlua3MpW1xcLyBdXFwoPyhbXFx3XFwuXSspL2ksXG4gICAgICAvLyBLSFRNTC9UYXNtYW4vTGlua3NcbiAgICAgIC8oaWNhYilbXFwvIF0oWzIzXVxcLltcXGRcXC5dKykvaSxcbiAgICAgIC8vIGlDYWJcbiAgICAgIC9cXGIobGlid2ViKS9pXG4gICAgICAvLyBMaWJXZWJcbiAgICBdLFxuICAgIFtOQU1FLCBWRVJTSU9OXSxcbiAgICBbXG4gICAgICAvbGFkeWJpcmRcXC8vaVxuICAgIF0sXG4gICAgW1tOQU1FLCBcIkxpYldlYlwiXV0sXG4gICAgW1xuICAgICAgL3J2XFw6KFtcXHdcXC5dezEsOX0pXFxiLisoZ2Vja28pL2lcbiAgICAgIC8vIEdlY2tvXG4gICAgXSxcbiAgICBbVkVSU0lPTiwgTkFNRV1cbiAgXSxcbiAgb3M6IFtcbiAgICBbXG4gICAgICAvLyBXaW5kb3dzXG4gICAgICAvbWljcm9zb2Z0ICh3aW5kb3dzKSAodmlzdGF8eHApL2lcbiAgICAgIC8vIFdpbmRvd3MgKGlUdW5lcylcbiAgICBdLFxuICAgIFtOQU1FLCBWRVJTSU9OXSxcbiAgICBbXG4gICAgICAvKHdpbmRvd3MgKD86cGhvbmUoPzogb3MpP3xtb2JpbGV8aW90KSlbXFwvIF0/KFtcXGRcXC5cXHcgXSopL2lcbiAgICAgIC8vIFdpbmRvd3MgUGhvbmVcbiAgICBdLFxuICAgIFtOQU1FLCBbVkVSU0lPTiwgc3RyTWFwcGVyLCB3aW5kb3dzVmVyc2lvbk1hcF1dLFxuICAgIFtcbiAgICAgIC93aW5kb3dzIG50IDZcXC4yOyAoYXJtKS9pLFxuICAgICAgLy8gV2luZG93cyBSVFxuICAgICAgL3dpbmRvd3NbXFwvIF0oW250Y2VcXGRcXC4gXStcXHcpKD8hLit4Ym94KS9pLFxuICAgICAgLyg/Ondpbig/PTN8OXxuKXx3aW4gOXggKShbbnRcXGRcXC5dKykvaVxuICAgIF0sXG4gICAgW1tWRVJTSU9OLCBzdHJNYXBwZXIsIHdpbmRvd3NWZXJzaW9uTWFwXSwgW05BTUUsIFdJTkRPV1NdXSxcbiAgICBbXG4gICAgICAvLyBpT1MvbWFjT1NcbiAgICAgIC9bYWRlaGltbm9wXXs0LDd9XFxiKD86LipvcyAoW1xcd10rKSBsaWtlIG1hY3w7IG9wZXJhKS9pLFxuICAgICAgLy8gaU9TXG4gICAgICAvKD86aW9zO2Zic3ZcXC98aXBob25lLitpb3NbXFwvIF0pKFtcXGRcXC5dKykvaSxcbiAgICAgIC9jZm5ldHdvcmtcXC8uK2Rhcndpbi9pXG4gICAgXSxcbiAgICBbW1ZFUlNJT04sIC9fL2csIFwiLlwiXSwgW05BTUUsIFwiaU9TXCJdXSxcbiAgICBbXG4gICAgICAvKG1hYyBvcyB4KSA/KFtcXHdcXC4gXSopL2ksXG4gICAgICAvKG1hY2ludG9zaHxtYWNfcG93ZXJwY1xcYikoPyEuK2hhaWt1KS9pXG4gICAgICAvLyBNYWMgT1NcbiAgICBdLFxuICAgIFtbTkFNRSwgXCJtYWNPU1wiXSwgW1ZFUlNJT04sIC9fL2csIFwiLlwiXV0sXG4gICAgW1xuICAgICAgLy8gR29vZ2xlIENocm9tZWNhc3RcbiAgICAgIC9hbmRyb2lkIChbXFxkXFwuXSspLipjcmtleS9pXG4gICAgICAvLyBHb29nbGUgQ2hyb21lY2FzdCwgQW5kcm9pZC1iYXNlZFxuICAgIF0sXG4gICAgW1ZFUlNJT04sIFtOQU1FLCBDSFJPTUVDQVNUICsgXCIgQW5kcm9pZFwiXV0sXG4gICAgW1xuICAgICAgL2Z1Y2hzaWEuKmNya2V5XFwvKFtcXGRcXC5dKykvaVxuICAgICAgLy8gR29vZ2xlIENocm9tZWNhc3QsIEZ1Y2hzaWEtYmFzZWRcbiAgICBdLFxuICAgIFtWRVJTSU9OLCBbTkFNRSwgQ0hST01FQ0FTVCArIFwiIEZ1Y2hzaWFcIl1dLFxuICAgIFtcbiAgICAgIC9jcmtleVxcLyhbXFxkXFwuXSspLipkZXZpY2V0eXBlXFwvc21hcnRzcGVha2VyL2lcbiAgICAgIC8vIEdvb2dsZSBDaHJvbWVjYXN0LCBMaW51eC1iYXNlZCBTbWFydCBTcGVha2VyXG4gICAgXSxcbiAgICBbVkVSU0lPTiwgW05BTUUsIENIUk9NRUNBU1QgKyBcIiBTbWFydFNwZWFrZXJcIl1dLFxuICAgIFtcbiAgICAgIC9saW51eC4qY3JrZXlcXC8oW1xcZFxcLl0rKS9pXG4gICAgICAvLyBHb29nbGUgQ2hyb21lY2FzdCwgTGVnYWN5IExpbnV4LWJhc2VkXG4gICAgXSxcbiAgICBbVkVSU0lPTiwgW05BTUUsIENIUk9NRUNBU1QgKyBcIiBMaW51eFwiXV0sXG4gICAgW1xuICAgICAgL2Nya2V5XFwvKFtcXGRcXC5dKykvaVxuICAgICAgLy8gR29vZ2xlIENocm9tZWNhc3QsIHVua25vd25cbiAgICBdLFxuICAgIFtWRVJTSU9OLCBbTkFNRSwgQ0hST01FQ0FTVF1dLFxuICAgIFtcbiAgICAgIC8vIE1vYmlsZSBPU2VzXG4gICAgICAvZHJvaWQgKFtcXHdcXC5dKylcXGIuKyhhbmRyb2lkWy0gXXg4NnxoYXJtb255b3MpL2lcbiAgICAgIC8vIEFuZHJvaWQteDg2L0hhcm1vbnlPU1xuICAgIF0sXG4gICAgW1ZFUlNJT04sIE5BTUVdLFxuICAgIFtcbiAgICAgIC8odWJ1bnR1KSAoW1xcd1xcLl0rKSBsaWtlIGFuZHJvaWQvaVxuICAgICAgLy8gVWJ1bnR1IFRvdWNoXG4gICAgXSxcbiAgICBbW05BTUUsIC8oLispLywgXCIkMSBUb3VjaFwiXSwgVkVSU0lPTl0sXG4gICAgW1xuICAgICAgLy8gQW5kcm9pZC9CbGFja2JlcnJ5L1dlYk9TL1FOWC9CYWRhL1JJTS9LYWlPUy9NYWVtby9NZWVHby9TNDAvU2FpbGZpc2ggT1MvT3Blbkhhcm1vbnkvVGl6ZW5cbiAgICAgIC8oYW5kcm9pZHxiYWRhfGJsYWNrYmVycnl8a2Fpb3N8bWFlbW98bWVlZ298b3Blbmhhcm1vbnl8cW54fHJpbSB0YWJsZXQgb3N8c2FpbGZpc2h8c2VyaWVzNDB8c3ltYmlhbnx0aXplbnx3ZWJvcylcXHcqWy1cXC9cXC47IF0/KFtcXGRcXC5dKikvaVxuICAgIF0sXG4gICAgW05BTUUsIFZFUlNJT05dLFxuICAgIFtcbiAgICAgIC9cXChiYigxMCk7L2lcbiAgICAgIC8vIEJsYWNrQmVycnkgMTBcbiAgICBdLFxuICAgIFtWRVJTSU9OLCBbTkFNRSwgQkxBQ0tCRVJSWV1dLFxuICAgIFtcbiAgICAgIC8oPzpzeW1iaWFuID9vc3xzeW1ib3N8czYwKD89Oyl8c2VyaWVzID82MClbLVxcLyBdPyhbXFx3XFwuXSopL2lcbiAgICAgIC8vIFN5bWJpYW5cbiAgICBdLFxuICAgIFtWRVJTSU9OLCBbTkFNRSwgXCJTeW1iaWFuXCJdXSxcbiAgICBbXG4gICAgICAvbW96aWxsYVxcL1tcXGRcXC5dKyBcXCgoPzptb2JpbGV8dGFibGV0fHR2fG1vYmlsZTsgW1xcdyBdKyk7IHJ2Oi4rIGdlY2tvXFwvKFtcXHdcXC5dKykvaVxuICAgICAgLy8gRmlyZWZveCBPU1xuICAgIF0sXG4gICAgW1ZFUlNJT04sIFtOQU1FLCBGSVJFRk9YICsgXCIgT1NcIl1dLFxuICAgIFtcbiAgICAgIC93ZWIwczsuK3J0KHR2KS9pLFxuICAgICAgL1xcYig/OmhwKT93b3MoPzpicm93c2VyKT9cXC8oW1xcd1xcLl0rKS9pXG4gICAgICAvLyBXZWJPU1xuICAgIF0sXG4gICAgW1ZFUlNJT04sIFtOQU1FLCBcIndlYk9TXCJdXSxcbiAgICBbXG4gICAgICAvd2F0Y2goPzogP29zWyxcXC9dfFxcZCxcXGRcXC8pKFtcXGRcXC5dKykvaVxuICAgICAgLy8gd2F0Y2hPU1xuICAgIF0sXG4gICAgW1ZFUlNJT04sIFtOQU1FLCBcIndhdGNoT1NcIl1dLFxuICAgIFtcbiAgICAgIC8vIEdvb2dsZSBDaHJvbWVPU1xuICAgICAgLyhjcm9zKSBbXFx3XSsoPzpcXCl8IChbXFx3XFwuXSspXFxiKS9pXG4gICAgICAvLyBDaHJvbWl1bSBPU1xuICAgIF0sXG4gICAgW1tOQU1FLCBcIkNocm9tZSBPU1wiXSwgVkVSU0lPTl0sXG4gICAgW1xuICAgICAgLy8gU21hcnQgVFZzXG4gICAgICAvcGFuYXNvbmljOyh2aWVyYSkvaSxcbiAgICAgIC8vIFBhbmFzb25pYyBWaWVyYVxuICAgICAgLyhuZXRyYW5nZSltbWgvaSxcbiAgICAgIC8vIE5ldHJhbmdlXG4gICAgICAvKG5ldHR2KVxcLyhcXGQrXFwuW1xcd1xcLl0rKS9pLFxuICAgICAgLy8gTmV0VFZcbiAgICAgIC8vIENvbnNvbGVcbiAgICAgIC8obmludGVuZG98cGxheXN0YXRpb24pIChcXHcrKS9pLFxuICAgICAgLy8gTmludGVuZG8vUGxheXN0YXRpb25cbiAgICAgIC8oeGJveCk7ICt4Ym94IChbXlxcKTtdKykvaSxcbiAgICAgIC8vIE1pY3Jvc29mdCBYYm94ICgzNjAsIE9uZSwgWCwgUywgU2VyaWVzIFgsIFNlcmllcyBTKVxuICAgICAgLyhwaWNvKSAuK29zKFtcXHdcXC5dKykvaSxcbiAgICAgIC8vIFBpY29cbiAgICAgIC8vIE90aGVyXG4gICAgICAvXFxiKGpvbGl8cGFsbSlcXGIgPyg/Om9zKT9cXC8/KFtcXHdcXC5dKikvaSxcbiAgICAgIC8vIEpvbGkvUGFsbVxuICAgICAgLyhtaW50KVtcXC9cXChcXCkgXT8oXFx3KikvaSxcbiAgICAgIC8vIE1pbnRcbiAgICAgIC8obWFnZWlhfHZlY3RvcmxpbnV4KVs7IF0vaSxcbiAgICAgIC8vIE1hZ2VpYS9WZWN0b3JMaW51eFxuICAgICAgLyhba3hsbl0/dWJ1bnR1fGRlYmlhbnxzdXNlfG9wZW5zdXNlfGdlbnRvb3xhcmNoKD89IGxpbnV4KXxzbGFja3dhcmV8ZmVkb3JhfG1hbmRyaXZhfGNlbnRvc3xwY2xpbnV4b3N8cmVkID9oYXR8emVud2Fsa3xsaW5wdXN8cmFzcGJpYW58cGxhbiA5fG1pbml4fHJpc2Mgb3N8Y29udGlraXxkZWVwaW58bWFuamFyb3xlbGVtZW50YXJ5IG9zfHNhYmF5b258bGluc3BpcmUpKD86IGdudVxcL2xpbnV4KT8oPzogZW50ZXJwcmlzZSk/KD86Wy0gXWxpbnV4KT8oPzotZ251KT9bLVxcLyBdPyg/IWNocm9tfHBhY2thZ2UpKFstXFx3XFwuXSopL2ksXG4gICAgICAvLyBVYnVudHUvRGViaWFuL1NVU0UvR2VudG9vL0FyY2gvU2xhY2t3YXJlL0ZlZG9yYS9NYW5kcml2YS9DZW50T1MvUENMaW51eE9TL1JlZEhhdC9aZW53YWxrL0xpbnB1cy9SYXNwYmlhbi9QbGFuOS9NaW5peC9SSVNDT1MvQ29udGlraS9EZWVwaW4vTWFuamFyby9lbGVtZW50YXJ5L1NhYmF5b24vTGluc3BpcmVcbiAgICAgIC8oaHVyZHxsaW51eCkoPzogYXJtXFx3KnwgeDg2XFx3KnwgPykoW1xcd1xcLl0qKS9pLFxuICAgICAgLy8gSHVyZC9MaW51eFxuICAgICAgLyhnbnUpID8oW1xcd1xcLl0qKS9pLFxuICAgICAgLy8gR05VXG4gICAgICAvXFxiKFstZnJlbnRvcGNnaHNdezAsNX1ic2R8ZHJhZ29uZmx5KVtcXC8gXT8oPyFhbWR8W2l4MzQ2XXsxLDJ9ODYpKFtcXHdcXC5dKikvaSxcbiAgICAgIC8vIEZyZWVCU0QvTmV0QlNEL09wZW5CU0QvUEMtQlNEL0dob3N0QlNEL0RyYWdvbkZseVxuICAgICAgLyhoYWlrdSkgKFxcdyspL2lcbiAgICAgIC8vIEhhaWt1XG4gICAgXSxcbiAgICBbTkFNRSwgVkVSU0lPTl0sXG4gICAgW1xuICAgICAgLyhzdW5vcykgPyhbXFx3XFwuXFxkXSopL2lcbiAgICAgIC8vIFNvbGFyaXNcbiAgICBdLFxuICAgIFtbTkFNRSwgXCJTb2xhcmlzXCJdLCBWRVJTSU9OXSxcbiAgICBbXG4gICAgICAvKCg/Om9wZW4pP3NvbGFyaXMpWy1cXC8gXT8oW1xcd1xcLl0qKS9pLFxuICAgICAgLy8gU29sYXJpc1xuICAgICAgLyhhaXgpICgoXFxkKSg/PVxcLnxcXCl8IClbXFx3XFwuXSkqL2ksXG4gICAgICAvLyBBSVhcbiAgICAgIC9cXGIoYmVvc3xvc1xcLzJ8YW1pZ2Fvc3xtb3JwaG9zfG9wZW52bXN8ZnVjaHNpYXxocC11eHxzZXJlbml0eW9zKS9pLFxuICAgICAgLy8gQmVPUy9PUzIvQW1pZ2FPUy9Nb3JwaE9TL09wZW5WTVMvRnVjaHNpYS9IUC1VWC9TZXJlbml0eU9TXG4gICAgICAvKHVuaXgpID8oW1xcd1xcLl0qKS9pXG4gICAgICAvLyBVTklYXG4gICAgXSxcbiAgICBbTkFNRSwgVkVSU0lPTl1cbiAgXVxufTtcbnZhciBkZWZhdWx0UHJvcHMgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHByb3BzID0geyBpbml0OiB7fSwgaXNJZ25vcmU6IHt9LCBpc0lnbm9yZVJneDoge30sIHRvU3RyaW5nOiB7fSB9O1xuICBzZXRQcm9wcy5jYWxsKHByb3BzLmluaXQsIFtcbiAgICBbVUFfQlJPV1NFUiwgW05BTUUsIFZFUlNJT04sIE1BSk9SLCBUWVBFXV0sXG4gICAgW1VBX0NQVSwgW0FSQ0hJVEVDVFVSRV1dLFxuICAgIFtVQV9ERVZJQ0UsIFtUWVBFLCBNT0RFTCwgVkVORE9SXV0sXG4gICAgW1VBX0VOR0lORSwgW05BTUUsIFZFUlNJT05dXSxcbiAgICBbVUFfT1MsIFtOQU1FLCBWRVJTSU9OXV1cbiAgXSk7XG4gIHNldFByb3BzLmNhbGwocHJvcHMuaXNJZ25vcmUsIFtcbiAgICBbVUFfQlJPV1NFUiwgW1ZFUlNJT04sIE1BSk9SXV0sXG4gICAgW1VBX0VOR0lORSwgW1ZFUlNJT05dXSxcbiAgICBbVUFfT1MsIFtWRVJTSU9OXV1cbiAgXSk7XG4gIHNldFByb3BzLmNhbGwocHJvcHMuaXNJZ25vcmVSZ3gsIFtcbiAgICBbVUFfQlJPV1NFUiwgLyA/YnJvd3NlciQvaV0sXG4gICAgW1VBX09TLCAvID9vcyQvaV1cbiAgXSk7XG4gIHNldFByb3BzLmNhbGwocHJvcHMudG9TdHJpbmcsIFtcbiAgICBbVUFfQlJPV1NFUiwgW05BTUUsIFZFUlNJT05dXSxcbiAgICBbVUFfQ1BVLCBbQVJDSElURUNUVVJFXV0sXG4gICAgW1VBX0RFVklDRSwgW1ZFTkRPUiwgTU9ERUxdXSxcbiAgICBbVUFfRU5HSU5FLCBbTkFNRSwgVkVSU0lPTl1dLFxuICAgIFtVQV9PUywgW05BTUUsIFZFUlNJT05dXVxuICBdKTtcbiAgcmV0dXJuIHByb3BzO1xufSgpO1xudmFyIGNyZWF0ZUlEYXRhID0gZnVuY3Rpb24oaXRlbSwgaXRlbVR5cGUpIHtcbiAgdmFyIGluaXRfcHJvcHMgPSBkZWZhdWx0UHJvcHMuaW5pdFtpdGVtVHlwZV0sIGlzX2lnbm9yZVByb3BzID0gZGVmYXVsdFByb3BzLmlzSWdub3JlW2l0ZW1UeXBlXSB8fCAwLCBpc19pZ25vcmVSZ3ggPSBkZWZhdWx0UHJvcHMuaXNJZ25vcmVSZ3hbaXRlbVR5cGVdIHx8IDAsIHRvU3RyaW5nX3Byb3BzID0gZGVmYXVsdFByb3BzLnRvU3RyaW5nW2l0ZW1UeXBlXSB8fCAwO1xuICBmdW5jdGlvbiBJRGF0YSgpIHtcbiAgICBzZXRQcm9wcy5jYWxsKHRoaXMsIGluaXRfcHJvcHMpO1xuICB9XG4gIElEYXRhLnByb3RvdHlwZS5nZXRJdGVtID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGl0ZW07XG4gIH07XG4gIElEYXRhLnByb3RvdHlwZS53aXRoQ2xpZW50SGludHMgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIU5BVklHQVRPUl9VQURBVEEpIHtcbiAgICAgIHJldHVybiBpdGVtLnBhcnNlQ0goKS5nZXQoKTtcbiAgICB9XG4gICAgcmV0dXJuIE5BVklHQVRPUl9VQURBVEEuZ2V0SGlnaEVudHJvcHlWYWx1ZXMoQ0hfQUxMX1ZBTFVFUykudGhlbihmdW5jdGlvbihyZXMpIHtcbiAgICAgIHJldHVybiBpdGVtLnNldENIKG5ldyBVQUNIRGF0YShyZXMsIGZhbHNlKSkucGFyc2VDSCgpLmdldCgpO1xuICAgIH0pO1xuICB9O1xuICBJRGF0YS5wcm90b3R5cGUud2l0aEZlYXR1cmVDaGVjayA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBpdGVtLmRldGVjdEZlYXR1cmUoKS5nZXQoKTtcbiAgfTtcbiAgaWYgKGl0ZW1UeXBlICE9IFVBX1JFU1VMVCkge1xuICAgIElEYXRhLnByb3RvdHlwZS5pcyA9IGZ1bmN0aW9uKHN0clRvQ2hlY2spIHtcbiAgICAgIHZhciBpcyA9IGZhbHNlO1xuICAgICAgZm9yICh2YXIgaTIgaW4gdGhpcykge1xuICAgICAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShpMikgJiYgIWhhcyhpc19pZ25vcmVQcm9wcywgaTIpICYmIGxvd2VyaXplKGlzX2lnbm9yZVJneCA/IHN0cmlwKGlzX2lnbm9yZVJneCwgdGhpc1tpMl0pIDogdGhpc1tpMl0pID09IGxvd2VyaXplKGlzX2lnbm9yZVJneCA/IHN0cmlwKGlzX2lnbm9yZVJneCwgc3RyVG9DaGVjaykgOiBzdHJUb0NoZWNrKSkge1xuICAgICAgICAgIGlzID0gdHJ1ZTtcbiAgICAgICAgICBpZiAoc3RyVG9DaGVjayAhPSBVTkRFRl9UWVBFKSBicmVhaztcbiAgICAgICAgfSBlbHNlIGlmIChzdHJUb0NoZWNrID09IFVOREVGX1RZUEUgJiYgaXMpIHtcbiAgICAgICAgICBpcyA9ICFpcztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGlzO1xuICAgIH07XG4gICAgSURhdGEucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc3RyID0gRU1QVFk7XG4gICAgICBmb3IgKHZhciBpMiBpbiB0b1N0cmluZ19wcm9wcykge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXNbdG9TdHJpbmdfcHJvcHNbaTJdXSAhPT0gVU5ERUZfVFlQRSkge1xuICAgICAgICAgIHN0ciArPSAoc3RyID8gXCIgXCIgOiBFTVBUWSkgKyB0aGlzW3RvU3RyaW5nX3Byb3BzW2kyXV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHIgfHwgVU5ERUZfVFlQRTtcbiAgICB9O1xuICB9XG4gIGlmICghTkFWSUdBVE9SX1VBREFUQSkge1xuICAgIElEYXRhLnByb3RvdHlwZS50aGVuID0gZnVuY3Rpb24oY2IpIHtcbiAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgIHZhciBJRGF0YVJlc29sdmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiB0aGF0KSB7XG4gICAgICAgICAgaWYgKHRoYXQuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgICAgICAgIHRoaXNbcHJvcF0gPSB0aGF0W3Byb3BdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIElEYXRhUmVzb2x2ZS5wcm90b3R5cGUgPSB7XG4gICAgICAgIGlzOiBJRGF0YS5wcm90b3R5cGUuaXMsXG4gICAgICAgIHRvU3RyaW5nOiBJRGF0YS5wcm90b3R5cGUudG9TdHJpbmdcbiAgICAgIH07XG4gICAgICB2YXIgcmVzb2x2ZURhdGEgPSBuZXcgSURhdGFSZXNvbHZlKCk7XG4gICAgICBjYihyZXNvbHZlRGF0YSk7XG4gICAgICByZXR1cm4gcmVzb2x2ZURhdGE7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gbmV3IElEYXRhKCk7XG59O1xuZnVuY3Rpb24gVUFDSERhdGEodWFjaCwgaXNIdHRwVUFDSCkge1xuICB1YWNoID0gdWFjaCB8fCB7fTtcbiAgc2V0UHJvcHMuY2FsbCh0aGlzLCBDSF9BTExfVkFMVUVTKTtcbiAgaWYgKGlzSHR0cFVBQ0gpIHtcbiAgICBzZXRQcm9wcy5jYWxsKHRoaXMsIFtcbiAgICAgIFtCUkFORFMsIGl0ZW1MaXN0VG9BcnJheSh1YWNoW0NIX0hFQURFUl0pXSxcbiAgICAgIFtGVUxMVkVSTElTVCwgaXRlbUxpc3RUb0FycmF5KHVhY2hbQ0hfSEVBREVSX0ZVTExfVkVSX0xJU1RdKV0sXG4gICAgICBbTU9CSUxFLCAvXFw/MS8udGVzdCh1YWNoW0NIX0hFQURFUl9NT0JJTEVdKV0sXG4gICAgICBbTU9ERUwsIHN0cmlwUXVvdGVzKHVhY2hbQ0hfSEVBREVSX01PREVMXSldLFxuICAgICAgW1BMQVRGT1JNLCBzdHJpcFF1b3Rlcyh1YWNoW0NIX0hFQURFUl9QTEFURk9STV0pXSxcbiAgICAgIFtQTEFURk9STVZFUiwgc3RyaXBRdW90ZXModWFjaFtDSF9IRUFERVJfUExBVEZPUk1fVkVSXSldLFxuICAgICAgW0FSQ0hJVEVDVFVSRSwgc3RyaXBRdW90ZXModWFjaFtDSF9IRUFERVJfQVJDSF0pXSxcbiAgICAgIFtGT1JNRkFDVE9SUywgaXRlbUxpc3RUb0FycmF5KHVhY2hbQ0hfSEVBREVSX0ZPUk1fRkFDVE9SU10pXSxcbiAgICAgIFtCSVRORVNTLCBzdHJpcFF1b3Rlcyh1YWNoW0NIX0hFQURFUl9CSVRORVNTXSldXG4gICAgXSk7XG4gIH0gZWxzZSB7XG4gICAgZm9yICh2YXIgcHJvcCBpbiB1YWNoKSB7XG4gICAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShwcm9wKSAmJiB0eXBlb2YgdWFjaFtwcm9wXSAhPT0gVU5ERUZfVFlQRSkgdGhpc1twcm9wXSA9IHVhY2hbcHJvcF07XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBVQUl0ZW0oaXRlbVR5cGUsIHVhLCByZ3hNYXAsIHVhQ0gpIHtcbiAgdGhpcy5nZXQgPSBmdW5jdGlvbihwcm9wKSB7XG4gICAgaWYgKCFwcm9wKSByZXR1cm4gdGhpcy5kYXRhO1xuICAgIHJldHVybiB0aGlzLmRhdGEuaGFzT3duUHJvcGVydHkocHJvcCkgPyB0aGlzLmRhdGFbcHJvcF0gOiB2b2lkIDA7XG4gIH07XG4gIHRoaXMuc2V0ID0gZnVuY3Rpb24ocHJvcCwgdmFsKSB7XG4gICAgdGhpcy5kYXRhW3Byb3BdID0gdmFsO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICB0aGlzLnNldENIID0gZnVuY3Rpb24oY2gpIHtcbiAgICB0aGlzLnVhQ0ggPSBjaDtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgdGhpcy5kZXRlY3RGZWF0dXJlID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKE5BVklHQVRPUiAmJiBOQVZJR0FUT1IudXNlckFnZW50ID09IHRoaXMudWEpIHtcbiAgICAgIHN3aXRjaCAodGhpcy5pdGVtVHlwZSkge1xuICAgICAgICBjYXNlIFVBX0JST1dTRVI6XG4gICAgICAgICAgaWYgKE5BVklHQVRPUi5icmF2ZSAmJiB0eXBlb2YgTkFWSUdBVE9SLmJyYXZlLmlzQnJhdmUgPT0gRlVOQ19UWVBFKSB7XG4gICAgICAgICAgICB0aGlzLnNldChOQU1FLCBcIkJyYXZlXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBVQV9ERVZJQ0U6XG4gICAgICAgICAgaWYgKCF0aGlzLmdldChUWVBFKSAmJiBOQVZJR0FUT1JfVUFEQVRBICYmIE5BVklHQVRPUl9VQURBVEFbTU9CSUxFXSkge1xuICAgICAgICAgICAgdGhpcy5zZXQoVFlQRSwgTU9CSUxFKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRoaXMuZ2V0KE1PREVMKSA9PSBcIk1hY2ludG9zaFwiICYmIE5BVklHQVRPUiAmJiB0eXBlb2YgTkFWSUdBVE9SLnN0YW5kYWxvbmUgIT09IFVOREVGX1RZUEUgJiYgTkFWSUdBVE9SLm1heFRvdWNoUG9pbnRzICYmIE5BVklHQVRPUi5tYXhUb3VjaFBvaW50cyA+IDIpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0KE1PREVMLCBcImlQYWRcIikuc2V0KFRZUEUsIFRBQkxFVCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFVBX09TOlxuICAgICAgICAgIGlmICghdGhpcy5nZXQoTkFNRSkgJiYgTkFWSUdBVE9SX1VBREFUQSAmJiBOQVZJR0FUT1JfVUFEQVRBW1BMQVRGT1JNXSkge1xuICAgICAgICAgICAgdGhpcy5zZXQoTkFNRSwgTkFWSUdBVE9SX1VBREFUQVtQTEFURk9STV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBVQV9SRVNVTFQ6XG4gICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmRhdGE7XG4gICAgICAgICAgdmFyIGRldGVjdCA9IGZ1bmN0aW9uKGl0ZW1UeXBlMikge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGFbaXRlbVR5cGUyXS5nZXRJdGVtKCkuZGV0ZWN0RmVhdHVyZSgpLmdldCgpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgdGhpcy5zZXQoVUFfQlJPV1NFUiwgZGV0ZWN0KFVBX0JST1dTRVIpKS5zZXQoVUFfQ1BVLCBkZXRlY3QoVUFfQ1BVKSkuc2V0KFVBX0RFVklDRSwgZGV0ZWN0KFVBX0RFVklDRSkpLnNldChVQV9FTkdJTkUsIGRldGVjdChVQV9FTkdJTkUpKS5zZXQoVUFfT1MsIGRldGVjdChVQV9PUykpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgdGhpcy5wYXJzZVVBID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuaXRlbVR5cGUgIT0gVUFfUkVTVUxUKSB7XG4gICAgICByZ3hNYXBwZXIuY2FsbCh0aGlzLmRhdGEsIHRoaXMudWEsIHRoaXMucmd4TWFwKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuaXRlbVR5cGUgPT0gVUFfQlJPV1NFUikge1xuICAgICAgdGhpcy5zZXQoTUFKT1IsIG1ham9yaXplKHRoaXMuZ2V0KFZFUlNJT04pKSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICB0aGlzLnBhcnNlQ0ggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdWFDSDIgPSB0aGlzLnVhQ0gsIHJneE1hcDIgPSB0aGlzLnJneE1hcDtcbiAgICBzd2l0Y2ggKHRoaXMuaXRlbVR5cGUpIHtcbiAgICAgIGNhc2UgVUFfQlJPV1NFUjpcbiAgICAgIGNhc2UgVUFfRU5HSU5FOlxuICAgICAgICB2YXIgYnJhbmRzID0gdWFDSDJbRlVMTFZFUkxJU1RdIHx8IHVhQ0gyW0JSQU5EU10sIHByZXZOYW1lO1xuICAgICAgICBpZiAoYnJhbmRzKSB7XG4gICAgICAgICAgZm9yICh2YXIgaTIgaW4gYnJhbmRzKSB7XG4gICAgICAgICAgICB2YXIgYnJhbmROYW1lID0gYnJhbmRzW2kyXS5icmFuZCB8fCBicmFuZHNbaTJdLCBicmFuZFZlcnNpb24gPSBicmFuZHNbaTJdLnZlcnNpb247XG4gICAgICAgICAgICBpZiAodGhpcy5pdGVtVHlwZSA9PSBVQV9CUk9XU0VSICYmICEvbm90LmEuYnJhbmQvaS50ZXN0KGJyYW5kTmFtZSkgJiYgKCFwcmV2TmFtZSB8fCAvY2hyb20vaS50ZXN0KHByZXZOYW1lKSAmJiBicmFuZE5hbWUgIT0gQ0hST01JVU0pKSB7XG4gICAgICAgICAgICAgIGJyYW5kTmFtZSA9IHN0ck1hcHBlcihicmFuZE5hbWUsIHtcbiAgICAgICAgICAgICAgICBcIkNocm9tZVwiOiBcIkdvb2dsZSBDaHJvbWVcIixcbiAgICAgICAgICAgICAgICBcIkVkZ2VcIjogXCJNaWNyb3NvZnQgRWRnZVwiLFxuICAgICAgICAgICAgICAgIFwiQ2hyb21lIFdlYlZpZXdcIjogXCJBbmRyb2lkIFdlYlZpZXdcIixcbiAgICAgICAgICAgICAgICBcIkNocm9tZSBIZWFkbGVzc1wiOiBcIkhlYWRsZXNzQ2hyb21lXCIsXG4gICAgICAgICAgICAgICAgXCJIdWF3ZWkgQnJvd3NlclwiOiBcIkh1YXdlaUJyb3dzZXJcIixcbiAgICAgICAgICAgICAgICBcIk1JVUkgQnJvd3NlclwiOiBcIk1pdWkgQnJvd3NlclwiLFxuICAgICAgICAgICAgICAgIFwiT3BlcmEgTW9iaVwiOiBcIk9wZXJhTW9iaWxlXCIsXG4gICAgICAgICAgICAgICAgXCJZYW5kZXhcIjogXCJZYUJyb3dzZXJcIlxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgdGhpcy5zZXQoTkFNRSwgYnJhbmROYW1lKS5zZXQoVkVSU0lPTiwgYnJhbmRWZXJzaW9uKS5zZXQoTUFKT1IsIG1ham9yaXplKGJyYW5kVmVyc2lvbikpO1xuICAgICAgICAgICAgICBwcmV2TmFtZSA9IGJyYW5kTmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLml0ZW1UeXBlID09IFVBX0VOR0lORSAmJiBicmFuZE5hbWUgPT0gQ0hST01JVU0pIHtcbiAgICAgICAgICAgICAgdGhpcy5zZXQoVkVSU0lPTiwgYnJhbmRWZXJzaW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFVBX0NQVTpcbiAgICAgICAgdmFyIGFyY2hOYW1lID0gdWFDSDJbQVJDSElURUNUVVJFXTtcbiAgICAgICAgaWYgKGFyY2hOYW1lKSB7XG4gICAgICAgICAgaWYgKGFyY2hOYW1lICYmIHVhQ0gyW0JJVE5FU1NdID09IFwiNjRcIikgYXJjaE5hbWUgKz0gXCI2NFwiO1xuICAgICAgICAgIHJneE1hcHBlci5jYWxsKHRoaXMuZGF0YSwgYXJjaE5hbWUgKyBcIjtcIiwgcmd4TWFwMik7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFVBX0RFVklDRTpcbiAgICAgICAgaWYgKHVhQ0gyW01PQklMRV0pIHtcbiAgICAgICAgICB0aGlzLnNldChUWVBFLCBNT0JJTEUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1YUNIMltNT0RFTF0pIHtcbiAgICAgICAgICB0aGlzLnNldChNT0RFTCwgdWFDSDJbTU9ERUxdKTtcbiAgICAgICAgICBpZiAoIXRoaXMuZ2V0KFRZUEUpIHx8ICF0aGlzLmdldChWRU5ET1IpKSB7XG4gICAgICAgICAgICB2YXIgcmVQYXJzZSA9IHt9O1xuICAgICAgICAgICAgcmd4TWFwcGVyLmNhbGwocmVQYXJzZSwgXCJkcm9pZCA5OyBcIiArIHVhQ0gyW01PREVMXSArIFwiKVwiLCByZ3hNYXAyKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5nZXQoVFlQRSkgJiYgISFyZVBhcnNlLnR5cGUpIHtcbiAgICAgICAgICAgICAgdGhpcy5zZXQoVFlQRSwgcmVQYXJzZS50eXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5nZXQoVkVORE9SKSAmJiAhIXJlUGFyc2UudmVuZG9yKSB7XG4gICAgICAgICAgICAgIHRoaXMuc2V0KFZFTkRPUiwgcmVQYXJzZS52ZW5kb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodWFDSDJbRk9STUZBQ1RPUlNdKSB7XG4gICAgICAgICAgdmFyIGZmO1xuICAgICAgICAgIGlmICh0eXBlb2YgdWFDSDJbRk9STUZBQ1RPUlNdICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICB2YXIgaWR4ID0gMDtcbiAgICAgICAgICAgIHdoaWxlICghZmYgJiYgaWR4IDwgdWFDSDJbRk9STUZBQ1RPUlNdLmxlbmd0aCkge1xuICAgICAgICAgICAgICBmZiA9IHN0ck1hcHBlcih1YUNIMltGT1JNRkFDVE9SU11baWR4KytdLCBmb3JtRmFjdG9yc01hcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZmID0gc3RyTWFwcGVyKHVhQ0gyW0ZPUk1GQUNUT1JTXSwgZm9ybUZhY3RvcnNNYXApO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnNldChUWVBFLCBmZik7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFVBX09TOlxuICAgICAgICB2YXIgb3NOYW1lID0gdWFDSDJbUExBVEZPUk1dO1xuICAgICAgICBpZiAob3NOYW1lKSB7XG4gICAgICAgICAgdmFyIG9zVmVyc2lvbiA9IHVhQ0gyW1BMQVRGT1JNVkVSXTtcbiAgICAgICAgICBpZiAob3NOYW1lID09IFdJTkRPV1MpIG9zVmVyc2lvbiA9IHBhcnNlSW50KG1ham9yaXplKG9zVmVyc2lvbiksIDEwKSA+PSAxMyA/IFwiMTFcIiA6IFwiMTBcIjtcbiAgICAgICAgICB0aGlzLnNldChOQU1FLCBvc05hbWUpLnNldChWRVJTSU9OLCBvc1ZlcnNpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmdldChOQU1FKSA9PSBXSU5ET1dTICYmIHVhQ0gyW01PREVMXSA9PSBcIlhib3hcIikge1xuICAgICAgICAgIHRoaXMuc2V0KE5BTUUsIFwiWGJveFwiKS5zZXQoVkVSU0lPTiwgdm9pZCAwKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgVUFfUkVTVUxUOlxuICAgICAgICB2YXIgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICAgICAgdmFyIHBhcnNlID0gZnVuY3Rpb24oaXRlbVR5cGUyKSB7XG4gICAgICAgICAgcmV0dXJuIGRhdGFbaXRlbVR5cGUyXS5nZXRJdGVtKCkuc2V0Q0godWFDSDIpLnBhcnNlQ0goKS5nZXQoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zZXQoVUFfQlJPV1NFUiwgcGFyc2UoVUFfQlJPV1NFUikpLnNldChVQV9DUFUsIHBhcnNlKFVBX0NQVSkpLnNldChVQV9ERVZJQ0UsIHBhcnNlKFVBX0RFVklDRSkpLnNldChVQV9FTkdJTkUsIHBhcnNlKFVBX0VOR0lORSkpLnNldChVQV9PUywgcGFyc2UoVUFfT1MpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIHNldFByb3BzLmNhbGwodGhpcywgW1xuICAgIFtcIml0ZW1UeXBlXCIsIGl0ZW1UeXBlXSxcbiAgICBbXCJ1YVwiLCB1YV0sXG4gICAgW1widWFDSFwiLCB1YUNIXSxcbiAgICBbXCJyZ3hNYXBcIiwgcmd4TWFwXSxcbiAgICBbXCJkYXRhXCIsIGNyZWF0ZUlEYXRhKHRoaXMsIGl0ZW1UeXBlKV1cbiAgXSk7XG4gIHJldHVybiB0aGlzO1xufVxuZnVuY3Rpb24gVUFQYXJzZXIodWEsIGV4dGVuc2lvbnMsIGhlYWRlcnMpIHtcbiAgaWYgKHR5cGVvZiB1YSA9PT0gT0JKX1RZUEUpIHtcbiAgICBpZiAoaXNFeHRlbnNpb25zKHVhLCB0cnVlKSkge1xuICAgICAgaWYgKHR5cGVvZiBleHRlbnNpb25zID09PSBPQkpfVFlQRSkge1xuICAgICAgICBoZWFkZXJzID0gZXh0ZW5zaW9ucztcbiAgICAgIH1cbiAgICAgIGV4dGVuc2lvbnMgPSB1YTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGVhZGVycyA9IHVhO1xuICAgICAgZXh0ZW5zaW9ucyA9IHZvaWQgMDtcbiAgICB9XG4gICAgdWEgPSB2b2lkIDA7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHVhID09PSBTVFJfVFlQRSAmJiAhaXNFeHRlbnNpb25zKGV4dGVuc2lvbnMsIHRydWUpKSB7XG4gICAgaGVhZGVycyA9IGV4dGVuc2lvbnM7XG4gICAgZXh0ZW5zaW9ucyA9IHZvaWQgMDtcbiAgfVxuICBpZiAoaGVhZGVycyAmJiB0eXBlb2YgaGVhZGVycy5hcHBlbmQgPT09IEZVTkNfVFlQRSkge1xuICAgIHZhciBrdiA9IHt9O1xuICAgIGhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbih2MiwgazIpIHtcbiAgICAgIGt2W2syXSA9IHYyO1xuICAgIH0pO1xuICAgIGhlYWRlcnMgPSBrdjtcbiAgfVxuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgVUFQYXJzZXIpKSB7XG4gICAgcmV0dXJuIG5ldyBVQVBhcnNlcih1YSwgZXh0ZW5zaW9ucywgaGVhZGVycykuZ2V0UmVzdWx0KCk7XG4gIH1cbiAgdmFyIHVzZXJBZ2VudCA9IHR5cGVvZiB1YSA9PT0gU1RSX1RZUEUgPyB1YSA6IChcbiAgICAvLyBQYXNzZWQgdXNlci1hZ2VudCBzdHJpbmdcbiAgICBoZWFkZXJzICYmIGhlYWRlcnNbVVNFUl9BR0VOVF0gPyBoZWFkZXJzW1VTRVJfQUdFTlRdIDogKFxuICAgICAgLy8gVXNlci1BZ2VudCBmcm9tIHBhc3NlZCBoZWFkZXJzXG4gICAgICBOQVZJR0FUT1IgJiYgTkFWSUdBVE9SLnVzZXJBZ2VudCA/IE5BVklHQVRPUi51c2VyQWdlbnQgOiAoXG4gICAgICAgIC8vIG5hdmlnYXRvci51c2VyQWdlbnRcbiAgICAgICAgRU1QVFlcbiAgICAgIClcbiAgICApXG4gICksIGh0dHBVQUNIID0gbmV3IFVBQ0hEYXRhKGhlYWRlcnMsIHRydWUpLCByZWdleE1hcCA9IGV4dGVuc2lvbnMgPyBleHRlbmQoZGVmYXVsdFJlZ2V4ZXMsIGV4dGVuc2lvbnMpIDogZGVmYXVsdFJlZ2V4ZXMsIGNyZWF0ZUl0ZW1GdW5jID0gZnVuY3Rpb24oaXRlbVR5cGUpIHtcbiAgICBpZiAoaXRlbVR5cGUgPT0gVUFfUkVTVUxUKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBuZXcgVUFJdGVtKGl0ZW1UeXBlLCB1c2VyQWdlbnQsIHJlZ2V4TWFwLCBodHRwVUFDSCkuc2V0KFwidWFcIiwgdXNlckFnZW50KS5zZXQoVUFfQlJPV1NFUiwgdGhpcy5nZXRCcm93c2VyKCkpLnNldChVQV9DUFUsIHRoaXMuZ2V0Q1BVKCkpLnNldChVQV9ERVZJQ0UsIHRoaXMuZ2V0RGV2aWNlKCkpLnNldChVQV9FTkdJTkUsIHRoaXMuZ2V0RW5naW5lKCkpLnNldChVQV9PUywgdGhpcy5nZXRPUygpKS5nZXQoKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBVQUl0ZW0oaXRlbVR5cGUsIHVzZXJBZ2VudCwgcmVnZXhNYXBbaXRlbVR5cGVdLCBodHRwVUFDSCkucGFyc2VVQSgpLmdldCgpO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG4gIHNldFByb3BzLmNhbGwodGhpcywgW1xuICAgIFtcImdldEJyb3dzZXJcIiwgY3JlYXRlSXRlbUZ1bmMoVUFfQlJPV1NFUildLFxuICAgIFtcImdldENQVVwiLCBjcmVhdGVJdGVtRnVuYyhVQV9DUFUpXSxcbiAgICBbXCJnZXREZXZpY2VcIiwgY3JlYXRlSXRlbUZ1bmMoVUFfREVWSUNFKV0sXG4gICAgW1wiZ2V0RW5naW5lXCIsIGNyZWF0ZUl0ZW1GdW5jKFVBX0VOR0lORSldLFxuICAgIFtcImdldE9TXCIsIGNyZWF0ZUl0ZW1GdW5jKFVBX09TKV0sXG4gICAgW1wiZ2V0UmVzdWx0XCIsIGNyZWF0ZUl0ZW1GdW5jKFVBX1JFU1VMVCldLFxuICAgIFtcImdldFVBXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHVzZXJBZ2VudDtcbiAgICB9XSxcbiAgICBbXCJzZXRVQVwiLCBmdW5jdGlvbih1YTIpIHtcbiAgICAgIGlmIChpc1N0cmluZyh1YTIpKVxuICAgICAgICB1c2VyQWdlbnQgPSB1YTIubGVuZ3RoID4gVUFfTUFYX0xFTkdUSCA/IHRyaW0odWEyLCBVQV9NQVhfTEVOR1RIKSA6IHVhMjtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1dXG4gIF0pLnNldFVBKHVzZXJBZ2VudCk7XG4gIHJldHVybiB0aGlzO1xufVxuVUFQYXJzZXIuVkVSU0lPTiA9IExJQlZFUlNJT047XG5VQVBhcnNlci5CUk9XU0VSID0gZW51bWVyaXplKFtOQU1FLCBWRVJTSU9OLCBNQUpPUiwgVFlQRV0pO1xuVUFQYXJzZXIuQ1BVID0gZW51bWVyaXplKFtBUkNISVRFQ1RVUkVdKTtcblVBUGFyc2VyLkRFVklDRSA9IGVudW1lcml6ZShbTU9ERUwsIFZFTkRPUiwgVFlQRSwgQ09OU09MRSwgTU9CSUxFLCBTTUFSVFRWLCBUQUJMRVQsIFdFQVJBQkxFLCBFTUJFRERFRF0pO1xuVUFQYXJzZXIuRU5HSU5FID0gVUFQYXJzZXIuT1MgPSBlbnVtZXJpemUoW05BTUUsIFZFUlNJT05dKTtcbmNvbnN0IHVzZUJyb3dzZXJJbmZvID0gKCkgPT4ge1xuICBjb25zdCBicm93c2VySW5mbyA9IFQkNSgoKSA9PiB7XG4gICAge1xuICAgICAgY29uc3QgcGFyc2VyID0gbmV3IFVBUGFyc2VyKCk7XG4gICAgICBjb25zdCByZXN1bHQgPSBwYXJzZXIuZ2V0UmVzdWx0KCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBicm93c2VyOiByZXN1bHQuYnJvd3NlcixcbiAgICAgICAgZW5naW5lOiByZXN1bHQuZW5naW5lLFxuICAgICAgICBvczogcmVzdWx0Lm9zLFxuICAgICAgICBkZXZpY2U6IHJlc3VsdC5kZXZpY2UsXG4gICAgICAgIGNwdTogcmVzdWx0LmNwdVxuICAgICAgfTtcbiAgICB9XG4gIH0sIFtdKTtcbiAgcmV0dXJuIGJyb3dzZXJJbmZvO1xufTtcbmZ1bmN0aW9uIHVzZUhvdGtleUxpc3RlbmVyQ29tYm9UZXh0KGFjdGlvbikge1xuICBjb25zdCB1c2VyQWdlbnQgPSB1c2VCcm93c2VySW5mbygpO1xuICByZXR1cm4gdXNlckFnZW50Lm9zLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcIm1hY1wiKSA/IGhvdGtleUFjdGlvbkRlZmluaXRpb25zW2FjdGlvbl0ua2V5Q29tYm9NYWMgOiBob3RrZXlBY3Rpb25EZWZpbml0aW9uc1thY3Rpb25dLmtleUNvbWJvRGVmYXVsdDtcbn1cbmZ1bmN0aW9uIENoYXRCb3goKSB7XG4gIGNvbnN0IGNoYXRTdGF0ZSA9IHVzZUNoYXRTdGF0ZSgpO1xuICBjb25zdCBjdXJyZW50Q2hhdCA9IFQkNShcbiAgICAoKSA9PiBjaGF0U3RhdGUuY2hhdHMuZmluZCgoYzIpID0+IGMyLmlkID09PSBjaGF0U3RhdGUuY3VycmVudENoYXRJZCksXG4gICAgW2NoYXRTdGF0ZS5jaGF0cywgY2hhdFN0YXRlLmN1cnJlbnRDaGF0SWRdXG4gICk7XG4gIGNvbnN0IGN1cnJlbnRJbnB1dCA9IFQkNShcbiAgICAoKSA9PiAoY3VycmVudENoYXQgPT0gbnVsbCA/IHZvaWQgMCA6IGN1cnJlbnRDaGF0LmlucHV0VmFsdWUpIHx8IFwiXCIsXG4gICAgW2N1cnJlbnRDaGF0ID09IG51bGwgPyB2b2lkIDAgOiBjdXJyZW50Q2hhdC5pbnB1dFZhbHVlXVxuICApO1xuICBjb25zdCBzaG93QmlnQm94ID0gVCQ1KCgpID0+IHtcbiAgICByZXR1cm4gY3VycmVudElucHV0LnNwbGl0KFwiXFxuXCIpLmxlbmd0aCA+IDEgfHwgY3VycmVudElucHV0Lmxlbmd0aCA+IDMwO1xuICB9LCBbY3VycmVudElucHV0XSk7XG4gIGNvbnN0IGhhbmRsZUlucHV0Q2hhbmdlID0gcSQzKFxuICAgICh2YWx1ZSkgPT4ge1xuICAgICAgY2hhdFN0YXRlLnNldENoYXRJbnB1dChjaGF0U3RhdGUuY3VycmVudENoYXRJZCwgdmFsdWUpO1xuICAgIH0sXG4gICAgW2NoYXRTdGF0ZS5zZXRDaGF0SW5wdXQsIGNoYXRTdGF0ZS5jdXJyZW50Q2hhdElkXVxuICApO1xuICBjb25zdCBoYW5kbGVTdWJtaXQgPSBxJDMoKCkgPT4ge1xuICAgIGlmICghY3VycmVudENoYXQgfHwgIWN1cnJlbnRJbnB1dC50cmltKCkpIHJldHVybjtcbiAgICBjaGF0U3RhdGUuYWRkTWVzc2FnZShjdXJyZW50Q2hhdC5pZCwgY3VycmVudElucHV0KTtcbiAgfSwgW2N1cnJlbnRDaGF0LCBjdXJyZW50SW5wdXQsIGNoYXRTdGF0ZS5hZGRNZXNzYWdlXSk7XG4gIGNvbnN0IGhhbmRsZUtleURvd24gPSBxJDMoXG4gICAgKGUyKSA9PiB7XG4gICAgICBpZiAoZTIua2V5ID09PSBcIkVudGVyXCIgJiYgIWUyLnNoaWZ0S2V5KSB7XG4gICAgICAgIGUyLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGhhbmRsZVN1Ym1pdCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgW2hhbmRsZVN1Ym1pdF1cbiAgKTtcbiAgY29uc3QgaW5wdXRSZWYgPSBBJDMobnVsbCk7XG4gIHkkNigoKSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgY29uc3QgYmx1ckhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICB2YXIgX2EyO1xuICAgICAgcmV0dXJuIChfYTIgPSBpbnB1dFJlZi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2EyLmZvY3VzKCk7XG4gICAgfTtcbiAgICBpZiAoY2hhdFN0YXRlLmlzUHJvbXB0Q3JlYXRpb25BY3RpdmUpIHtcbiAgICAgIChfYSA9IGlucHV0UmVmLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYS5mb2N1cygpO1xuICAgICAgKF9iID0gaW5wdXRSZWYuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsIGJsdXJIYW5kbGVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgKF9jID0gaW5wdXRSZWYuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLmJsdXIoKTtcbiAgICB9XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHZhciBfYTI7XG4gICAgICAoX2EyID0gaW5wdXRSZWYuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5yZW1vdmVFdmVudExpc3RlbmVyKFwiYmx1clwiLCBibHVySGFuZGxlcik7XG4gICAgfTtcbiAgfSwgW2NoYXRTdGF0ZS5pc1Byb21wdENyZWF0aW9uQWN0aXZlXSk7XG4gIGNvbnN0IGJ1dHRvbkNsYXNzTmFtZSA9IFQkNShcbiAgICAoKSA9PiBjbihcbiAgICAgIFwiZmxleCBzaXplLTYgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtZnVsbCBiZy10cmFuc3BhcmVudCBwLTEgdGV4dC16aW5jLTk1MCBvcGFjaXR5LTIwXCIsXG4gICAgICBjdXJyZW50SW5wdXQubGVuZ3RoID4gMCAmJiBcImJnLWJsdWUtNjAwIHRleHQtd2hpdGUgb3BhY2l0eS0xMDBcIlxuICAgICksXG4gICAgW2N1cnJlbnRJbnB1dC5sZW5ndGhdXG4gICk7XG4gIGNvbnN0IHRleHRhcmVhQ2xhc3NOYW1lID0gVCQ1KFxuICAgICgpID0+IGNuKFxuICAgICAgXCJ3LWZ1bGwgZmxleC0xIHJlc2l6ZS1ub25lIGJnLXRyYW5zcGFyZW50IHRleHQtemluYy05NTAgcGxhY2Vob2xkZXI6dGV4dC16aW5jLTk1MC81MCBmb2N1czpvdXRsaW5lLW5vbmVcIixcbiAgICAgIHNob3dCaWdCb3ggPyBcImgtWzQuNWVtXVwiIDogXCJoLTZcIlxuICAgICksXG4gICAgW3Nob3dCaWdCb3hdXG4gICk7XG4gIGNvbnN0IGN0cmxBbHRDVGV4dCA9IHVzZUhvdGtleUxpc3RlbmVyQ29tYm9UZXh0KEhvdGtleUFjdGlvbnMuQ1RSTF9BTFRfQyk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gdSQ5KFxuICAgIFwiZGl2XCIsXG4gICAge1xuICAgICAgY2xhc3NOYW1lOiBjbihcbiAgICAgICAgXCJmbGV4IGgtZml0IHctODAgZmxleC0xIGZsZXgtcm93IGl0ZW1zLWVuZCBnYXAtMSByb3VuZGVkLTJ4bCBib3JkZXIgYm9yZGVyLWJvcmRlci8xMCBiZy16aW5jLTk1MC81IHAtMS41IHBsLTIgdGV4dC1zbSB0ZXh0LXppbmMtOTUwIHNoYWRvdy1pbm5lciB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0xNTAgcGxhY2Vob2xkZXI6dGV4dC16aW5jLTk1MC83MFwiLFxuICAgICAgICBjaGF0U3RhdGUuaXNQcm9tcHRDcmVhdGlvbkFjdGl2ZSAmJiBcInJpbmctMiByaW5nLWJsdWUtNjAwXCJcbiAgICAgICksXG4gICAgICBvbkNsaWNrOiAoKSA9PiBjaGF0U3RhdGUuc3RhcnRQcm9tcHRDcmVhdGlvbigpLFxuICAgICAgcm9sZTogXCJidXR0b25cIixcbiAgICAgIHRhYkluZGV4OiAwLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIHUkOShcbiAgICAgICAgICBKLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHJlZjogaW5wdXRSZWYsXG4gICAgICAgICAgICBjbGFzc05hbWU6IHRleHRhcmVhQ2xhc3NOYW1lLFxuICAgICAgICAgICAgcm93czogc2hvd0JpZ0JveCA/IDQgOiAxLFxuICAgICAgICAgICAgdmFsdWU6IGN1cnJlbnRJbnB1dCxcbiAgICAgICAgICAgIG9uQ2hhbmdlOiAoZTIpID0+IGhhbmRsZUlucHV0Q2hhbmdlKGUyLmN1cnJlbnRUYXJnZXQudmFsdWUpLFxuICAgICAgICAgICAgb25LZXlEb3duOiBoYW5kbGVLZXlEb3duLFxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IGNoYXRTdGF0ZS5pc1Byb21wdENyZWF0aW9uQWN0aXZlID8gXCJFbnRlciBwcm9tcHQuLi5cIiA6IGBXaGF0IGRvIHlvdSB3YW50IHRvIGNoYW5nZT8gKCR7Y3RybEFsdENUZXh0fSlgXG4gICAgICAgICAgfVxuICAgICAgICApLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8gdSQ5KFxuICAgICAgICAgIEgkMyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjbGFzc05hbWU6IGJ1dHRvbkNsYXNzTmFtZSxcbiAgICAgICAgICAgIGRpc2FibGVkOiBjdXJyZW50SW5wdXQubGVuZ3RoID09PSAwLFxuICAgICAgICAgICAgb25DbGljazogaGFuZGxlU3VibWl0LFxuICAgICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyB1JDkoU2VuZCwgeyBjbGFzc05hbWU6IFwic2l6ZS0zXCIgfSlcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIF1cbiAgICB9XG4gICk7XG59XG5jb25zdCBEcm9wZG93bk1lbnUgPSB0bztcbmNvbnN0IERyb3Bkb3duTWVudUJ1dHRvbiA9IEQkMShcbiAgKHByb3BzLCByZWYpID0+IHtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIHUkOShtdCwgeyBhczogayQzLCByZWYsIC4uLnByb3BzIH0pO1xuICB9XG4pO1xuY29uc3QgRHJvcGRvd25NZW51Q29udGVudCA9IEQkMShcbiAgKHByb3BzLCByZWYpID0+IHtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIHUkOShcbiAgICAgIFR0LFxuICAgICAge1xuICAgICAgICByZWYsXG4gICAgICAgIGFuY2hvcjogXCJib3R0b21cIixcbiAgICAgICAgdHJhbnNpdGlvbjogdHJ1ZSxcbiAgICAgICAgcG9ydGFsOiB0cnVlLFxuICAgICAgICAuLi5wcm9wcyxcbiAgICAgICAgY2xhc3NOYW1lOiBjbihcbiAgICAgICAgICBcInotNTAgZmxleCB3LWZpdCBtaW4tdy0yNCBtYXgtdy05MCBmbGV4LWNvbCBpdGVtcy1zdHJldGNoIGp1c3RpZnktc3RhcnQgZ2FwLTEgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLWJvcmRlci8zMCBib3JkZXItc29saWQgYmctYmFja2dyb3VuZC82MCBwLTEgc2hhZG93LWJsYWNrLzUwIHNoYWRvdy1sZyBvdXRsaW5lLW5vbmUgYmFja2Ryb3AtYmx1ci1tZCBkYXRhLWZvY3VzOm91dGxpbmUtbm9uZVwiLFxuICAgICAgICAgIHByb3BzLmNsYXNzTmFtZVxuICAgICAgICApXG4gICAgICB9XG4gICAgKTtcbiAgfVxuKTtcbmNvbnN0IERyb3Bkb3duTWVudUl0ZW1TdHlsZXMgPSBcInctZnVsbCBmbGV4IGZsZXgtcm93IHNlbGVjdC1ub25lIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LXN0YXJ0IGdhcC0yIHAtMiBwci02IHRydW5jYXRlIG92ZXJmbG93LWhpZGRlbiByb3VuZGVkLW1kIGhvdmVyOmJnLXppbmMtOTUwLzEwIGZvY3VzOnRleHQtemluYy05MDAgY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbi1jb2xvciBkdXJhdGlvbi0xNTAgdGV4dC1zbSBmb250LW5vcm1hbCB0ZXh0LWZvcmVncm91bmRcIjtcbmNvbnN0IERyb3Bkb3duTWVudUJ1dHR0b25JdGVtID0gRCQxKFxuICAocHJvcHMsIHJlZikgPT4ge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gdSQ5KGZ0LCB7IHJlZiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyB1JDkoXG4gICAgICBIJDMsXG4gICAgICB7XG4gICAgICAgIC4uLnByb3BzLFxuICAgICAgICBjbGFzc05hbWU6IGNuKERyb3Bkb3duTWVudUl0ZW1TdHlsZXMsIHByb3BzLmNsYXNzTmFtZSlcbiAgICAgIH1cbiAgICApIH0pO1xuICB9XG4pO1xuRCQxKFxuICAocHJvcHMsIHJlZikgPT4ge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gdSQ5KGZ0LCB7IHJlZiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyB1JDkoXCJhXCIsIHsgLi4ucHJvcHMsIGNsYXNzTmFtZTogY24oRHJvcGRvd25NZW51SXRlbVN0eWxlcywgcHJvcHMuY2xhc3NOYW1lKSB9KSB9KTtcbiAgfVxuKTtcbmZ1bmN0aW9uIFRvb2xiYXJJdGVtKHByb3BzKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gdSQ5KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImZsZXggaC1mdWxsIHNocmluay0wIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiLCBjaGlsZHJlbjogW1xuICAgIHByb3BzLmNoaWxkcmVuLFxuICAgIHByb3BzLmJhZGdlQ29udGVudCAmJiAvKiBAX19QVVJFX18gKi8gdSQ5KFxuICAgICAgXCJkaXZcIixcbiAgICAgIHtcbiAgICAgICAgY2xhc3NOYW1lOiBjbihcbiAgICAgICAgICBcImJnLWJsdWUtNjAwIHRleHQtd2hpdGVcIixcbiAgICAgICAgICBwcm9wcy5iYWRnZUNsYXNzTmFtZSxcbiAgICAgICAgICBcIi1ib3R0b20tMC41IC1yaWdodC0xIHBvaW50ZXItZXZlbnRzLW5vbmUgYWJzb2x1dGUgZmxleCBoLTQgdy1tYXggbWluLXctNCBtYXgtdy04IHNlbGVjdC1ub25lIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0cnVuY2F0ZSByb3VuZGVkLWZ1bGwgcHgtMSBmb250LXNlbWlib2xkIHRleHQteHNcIlxuICAgICAgICApLFxuICAgICAgICBjaGlsZHJlbjogcHJvcHMuYmFkZ2VDb250ZW50XG4gICAgICB9XG4gICAgKSxcbiAgICBwcm9wcy5zdGF0dXNEb3QgJiYgLyogQF9fUFVSRV9fICovIHUkOShcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7XG4gICAgICAgIGNsYXNzTmFtZTogY24oXG4gICAgICAgICAgXCJiZy1yb3NlLTYwMFwiLFxuICAgICAgICAgIHByb3BzLnN0YXR1c0RvdENsYXNzTmFtZSxcbiAgICAgICAgICBcInBvaW50ZXItZXZlbnRzLW5vbmUgYWJzb2x1dGUgdG9wLTAgcmlnaHQtMCBzaXplLTEuNSByb3VuZGVkLWZ1bGxcIlxuICAgICAgICApXG4gICAgICB9XG4gICAgKVxuICBdIH0pO1xufVxuY29uc3QgVG9vbGJhckJ1dHRvbiA9IEQkMShcbiAgKHtcbiAgICBiYWRnZUNvbnRlbnQsXG4gICAgYmFkZ2VDbGFzc05hbWUsXG4gICAgc3RhdHVzRG90LFxuICAgIHN0YXR1c0RvdENsYXNzTmFtZSxcbiAgICB0b29sdGlwSGludCxcbiAgICB2YXJpYW50ID0gXCJkZWZhdWx0XCIsXG4gICAgLi4ucHJvcHNcbiAgfSwgcmVmKSA9PiB7XG4gICAgY29uc3QgYnV0dG9uID0gLyogQF9fUFVSRV9fICovIHUkOShcbiAgICAgIEgkMyxcbiAgICAgIHtcbiAgICAgICAgcmVmLFxuICAgICAgICAuLi5wcm9wcyxcbiAgICAgICAgY2xhc3NOYW1lOiBjbihcbiAgICAgICAgICBcImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtZnVsbCBwLTEgdGV4dC16aW5jLTk1MCBob3ZlcjpiZy16aW5jLTk1MC81XCIsXG4gICAgICAgICAgdmFyaWFudCA9PT0gXCJkZWZhdWx0XCIgPyBcInNpemUtOFwiIDogXCJoLTggcm91bmRlZC1mdWxsXCJcbiAgICAgICAgKVxuICAgICAgfVxuICAgICk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyB1JDkoXG4gICAgICBUb29sYmFySXRlbSxcbiAgICAgIHtcbiAgICAgICAgYmFkZ2VDb250ZW50LFxuICAgICAgICBiYWRnZUNsYXNzTmFtZSxcbiAgICAgICAgc3RhdHVzRG90LFxuICAgICAgICBzdGF0dXNEb3RDbGFzc05hbWUsXG4gICAgICAgIGNoaWxkcmVuOiBidXR0b25cbiAgICAgIH1cbiAgICApO1xuICB9XG4pO1xuVG9vbGJhckJ1dHRvbi5kaXNwbGF5TmFtZSA9IFwiVG9vbGJhckJ1dHRvblwiO1xuZnVuY3Rpb24gVG9vbGJhclNlY3Rpb24oeyBjaGlsZHJlbiB9KSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gdSQ5KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImZhZGUtaW4gc2xpZGUtaW4tZnJvbS1ib3R0b20tMiBmbGV4IG1heC1oLWZ1bGwgbWF4LXctc20gYW5pbWF0ZS1pbiBzbmFwLXN0YXJ0IGZsZXgtcm93IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZ2FwLTIgYm9yZGVyLXggYm9yZGVyLXItYm9yZGVyLzMwIGJvcmRlci1sLXRyYW5zcGFyZW50IHB4LTMgZmlyc3Q6cGwtMCBsYXN0OmJvcmRlci1yLXRyYW5zcGFyZW50IGxhc3Q6cHItMFwiLCBjaGlsZHJlbiB9KTtcbn1cbmZ1bmN0aW9uIE1vcmVBY3Rpb25zQnV0dG9uKCkge1xuICBjb25zdCBtaW5pbWl6ZUNvbXBhbmlvbiA9IHVzZUFwcFN0YXRlKChzdGF0ZSkgPT4gc3RhdGUubWluaW1pemUpO1xuICBjb25zdCBwbHVnaW5zID0gdXNlUGx1Z2lucygpO1xuICBjb25zdCBwbHVnaW5Ub29scyA9IFQkNSgoKSA9PiB7XG4gICAgcmV0dXJuIHBsdWdpbnMuZmxhdE1hcCgocGx1Z2luKSA9PiBwbHVnaW4uYWN0aW9ucyk7XG4gIH0sIFtwbHVnaW5zXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gdSQ5KFRvb2xiYXJTZWN0aW9uLCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gdSQ5KERyb3Bkb3duTWVudSwgeyBjaGlsZHJlbjogW1xuICAgIC8qIEBfX1BVUkVfXyAqLyB1JDkoRHJvcGRvd25NZW51QnV0dG9uLCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gdSQ5KFRvb2xiYXJCdXR0b24sIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyB1JDkoRWxsaXBzaXMsIHsgY2xhc3NOYW1lOiBcInNpemUtNFwiIH0pIH0pIH0pLFxuICAgIC8qIEBfX1BVUkVfXyAqLyB1JDkoRHJvcGRvd25NZW51Q29udGVudCwgeyBjaGlsZHJlbjogW1xuICAgICAgcGx1Z2luVG9vbHMubWFwKCh0b29sKSA9PiAvKiBAX19QVVJFX18gKi8gdSQ5KERyb3Bkb3duTWVudUJ1dHR0b25JdGVtLCB7IG9uQ2xpY2s6IHRvb2wuZXhlY3V0ZSwgY2hpbGRyZW46IHRvb2wubmFtZSB9KSksXG4gICAgICAvKiBAX19QVVJFX18gKi8gdSQ5KERyb3Bkb3duTWVudUJ1dHR0b25JdGVtLCB7IG9uQ2xpY2s6IG1pbmltaXplQ29tcGFuaW9uLCBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8gdSQ5KE1pbmltaXplMiwgeyBjbGFzc05hbWU6IFwic2l6ZS00XCIgfSksXG4gICAgICAgIFwiTWluaW1pemUgY29tcGFuaW9uXCJcbiAgICAgIF0gfSlcbiAgICBdIH0pXG4gIF0gfSkgfSk7XG59XG5jb25zdCBEcmFnZ2FibGVDb250ZXh0ID0gSyQzKFxuICBudWxsXG4pO1xuY29uc3QgRHJhZ2dhYmxlUHJvdmlkZXIgPSAoe1xuICBjb250YWluZXJSZWYsXG4gIGNoaWxkcmVuLFxuICBzbmFwQXJlYXMsXG4gIG9uRHJhZ1N0YXJ0LFxuICBvbkRyYWdFbmRcbn0pID0+IHtcbiAgY29uc3QgW2JvcmRlckxvY2F0aW9uLCBzZXRCb3JkZXJMb2NhdGlvbl0gPSBkJDQoe1xuICAgIHRvcDogMCxcbiAgICBsZWZ0OiAwLFxuICAgIHJpZ2h0OiAwLFxuICAgIGJvdHRvbTogMFxuICB9KTtcbiAgY29uc3QgZHJhZ1N0YXJ0TGlzdGVuZXJzID0gQSQzKC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCkpO1xuICBjb25zdCBkcmFnRW5kTGlzdGVuZXJzID0gQSQzKC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCkpO1xuICBjb25zdCByZWdpc3RlckRyYWdTdGFydCA9IHEkMygoY2IpID0+IHtcbiAgICBkcmFnU3RhcnRMaXN0ZW5lcnMuY3VycmVudC5hZGQoY2IpO1xuICAgIHJldHVybiAoKSA9PiBkcmFnU3RhcnRMaXN0ZW5lcnMuY3VycmVudC5kZWxldGUoY2IpO1xuICB9LCBbXSk7XG4gIGNvbnN0IHJlZ2lzdGVyRHJhZ0VuZCA9IHEkMygoY2IpID0+IHtcbiAgICBkcmFnRW5kTGlzdGVuZXJzLmN1cnJlbnQuYWRkKGNiKTtcbiAgICByZXR1cm4gKCkgPT4gZHJhZ0VuZExpc3RlbmVycy5jdXJyZW50LmRlbGV0ZShjYik7XG4gIH0sIFtdKTtcbiAgY29uc3QgZW1pdERyYWdTdGFydCA9IHEkMygoKSA9PiB7XG4gICAgaWYgKG9uRHJhZ1N0YXJ0KSBvbkRyYWdTdGFydCgpO1xuICAgIGRyYWdTdGFydExpc3RlbmVycy5jdXJyZW50LmZvckVhY2goKGNiKSA9PiBjYigpKTtcbiAgfSwgW29uRHJhZ1N0YXJ0XSk7XG4gIGNvbnN0IGVtaXREcmFnRW5kID0gcSQzKCgpID0+IHtcbiAgICBpZiAob25EcmFnRW5kKSBvbkRyYWdFbmQoKTtcbiAgICBkcmFnRW5kTGlzdGVuZXJzLmN1cnJlbnQuZm9yRWFjaCgoY2IpID0+IGNiKCkpO1xuICB9LCBbb25EcmFnRW5kXSk7XG4gIGNvbnN0IGNvbnRleHRWYWx1ZSA9IHtcbiAgICBib3JkZXJMb2NhdGlvbixcbiAgICBzbmFwQXJlYXMsXG4gICAgcmVnaXN0ZXJEcmFnU3RhcnQsXG4gICAgcmVnaXN0ZXJEcmFnRW5kLFxuICAgIGVtaXREcmFnU3RhcnQsXG4gICAgZW1pdERyYWdFbmRcbiAgfTtcbiAgeSQ2KCgpID0+IHtcbiAgICBpZiAoIWNvbnRhaW5lclJlZi5jdXJyZW50KSByZXR1cm47XG4gICAgY29uc3QgdXBkYXRlQm9yZGVyTG9jYXRpb24gPSAoKSA9PiB7XG4gICAgICBjb25zdCByZWN0ID0gY29udGFpbmVyUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBzZXRCb3JkZXJMb2NhdGlvbih7XG4gICAgICAgIHRvcDogcmVjdC50b3AsXG4gICAgICAgIGxlZnQ6IHJlY3QubGVmdCxcbiAgICAgICAgcmlnaHQ6IHJlY3QucmlnaHQsXG4gICAgICAgIGJvdHRvbTogcmVjdC5ib3R0b21cbiAgICAgIH0pO1xuICAgIH07XG4gICAgdXBkYXRlQm9yZGVyTG9jYXRpb24oKTtcbiAgICBjb25zdCByZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcih1cGRhdGVCb3JkZXJMb2NhdGlvbik7XG4gICAgcmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZShjb250YWluZXJSZWYuY3VycmVudCk7XG4gICAgY29uc3QgaGFuZGxlU2Nyb2xsID0gKCkgPT4ge1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHVwZGF0ZUJvcmRlckxvY2F0aW9uKTtcbiAgICB9O1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGhhbmRsZVNjcm9sbCwgdHJ1ZSk7XG4gICAgbGV0IHBhcmVudCA9IGNvbnRhaW5lclJlZi5jdXJyZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgd2hpbGUgKHBhcmVudCkge1xuICAgICAgcGFyZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgaGFuZGxlU2Nyb2xsKTtcbiAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnRFbGVtZW50O1xuICAgIH1cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgdmFyIF9hO1xuICAgICAgcmVzaXplT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgaGFuZGxlU2Nyb2xsLCB0cnVlKTtcbiAgICAgIHBhcmVudCA9IChfYSA9IGNvbnRhaW5lclJlZi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2EucGFyZW50RWxlbWVudDtcbiAgICAgIHdoaWxlIChwYXJlbnQpIHtcbiAgICAgICAgcGFyZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgaGFuZGxlU2Nyb2xsKTtcbiAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW2NvbnRhaW5lclJlZl0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIHUkOShEcmFnZ2FibGVDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBjb250ZXh0VmFsdWUsIGNoaWxkcmVuIH0pO1xufTtcbmZ1bmN0aW9uIHVzZURyYWdnYWJsZShjb25maWcpIHtcbiAgY29uc3QgcHJvdmlkZXJEYXRhID0geCQ0KERyYWdnYWJsZUNvbnRleHQpO1xuICBjb25zdCBsYXRlc3RQcm92aWRlckRhdGFSZWYgPSBBJDMocHJvdmlkZXJEYXRhKTtcbiAgeSQ2KCgpID0+IHtcbiAgICBsYXRlc3RQcm92aWRlckRhdGFSZWYuY3VycmVudCA9IHByb3ZpZGVyRGF0YTtcbiAgfSwgW3Byb3ZpZGVyRGF0YV0pO1xuICBjb25zdCBtb3ZpbmdFbGVtZW50UmVmID0gQSQzKG51bGwpO1xuICBjb25zdCBkcmFnSW5pdGlhdG9yUmVmID0gQSQzKG51bGwpO1xuICBjb25zdCBbbW92aW5nRWxlbWVudE5vZGUsIHNldE1vdmluZ0VsZW1lbnROb2RlXSA9IGQkNChudWxsKTtcbiAgY29uc3QgW2RyYWdJbml0aWF0b3JOb2RlLCBzZXREcmFnSW5pdGlhdG9yTm9kZV0gPSBkJDQobnVsbCk7XG4gIGNvbnN0IG1vdXNlVG9EcmFnZ2FibGVDZW50ZXJPZmZzZXRSZWYgPSBBJDMobnVsbCk7XG4gIGNvbnN0IG1vdXNlRG93blBvc1JlZiA9IEEkMyhudWxsKTtcbiAgY29uc3QgY3VycmVudE1vdXNlUG9zUmVmID0gQSQzKG51bGwpO1xuICBjb25zdCBpc0RyYWdnaW5nUmVmID0gQSQzKGZhbHNlKTtcbiAgY29uc3QgcGVyc2lzdGVkUmVsYXRpdmVDZW50ZXJSZWYgPSBBJDMoY29uZmlnLmluaXRpYWxSZWxhdGl2ZUNlbnRlcik7XG4gIGNvbnN0IFtjdXJyZW50U25hcEFyZWEsIHNldEN1cnJlbnRTbmFwQXJlYV0gPSBkJDQobnVsbCk7XG4gIGNvbnN0IHtcbiAgICBzdGFydFRocmVzaG9sZCA9IDMsXG4gICAgYXJlYVNuYXBUaHJlc2hvbGQgPSA2MCxcbiAgICAvLyBweCwgZGVmYXVsdCB0aHJlc2hvbGQgZm9yIHNuYXBwaW5nXG4gICAgb25EcmFnU3RhcnQsXG4gICAgb25EcmFnRW5kLFxuICAgIGluaXRpYWxTbmFwQXJlYSxcbiAgICBzcHJpbmdTdGlmZm5lc3MgPSAwLjMsXG4gICAgLy8gRGVmYXVsdCBzcHJpbmcgc3RpZmZuZXNzXG4gICAgc3ByaW5nRGFtcG5lc3MgPSAwLjVcbiAgICAvLyBEZWZhdWx0IHNwcmluZyBkYW1wbmVzc1xuICAgIC8vIGluaXRpYWxSZWxhdGl2ZUNlbnRlciBpcyB1c2VkIHRvIGluaXRpYWxpemUgcGVyc2lzdGVkUmVsYXRpdmVDZW50ZXJSZWZcbiAgfSA9IGNvbmZpZztcbiAgY29uc3QgYW5pbWF0ZWRQb3NpdGlvblJlZiA9IEEkMyhudWxsKTtcbiAgY29uc3QgdmVsb2NpdHlSZWYgPSBBJDMoeyB4OiAwLCB5OiAwIH0pO1xuICBjb25zdCBoYXNBbmltYXRlZE9uY2VSZWYgPSBBJDMoZmFsc2UpO1xuICB5JDYoKCkgPT4ge1xuICAgIGlmIChpbml0aWFsU25hcEFyZWEgJiYgcHJvdmlkZXJEYXRhICYmIHByb3ZpZGVyRGF0YS5ib3JkZXJMb2NhdGlvbiAmJiBwcm92aWRlckRhdGEuc25hcEFyZWFzICYmIHByb3ZpZGVyRGF0YS5zbmFwQXJlYXNbaW5pdGlhbFNuYXBBcmVhXSAmJiAhaXNEcmFnZ2luZ1JlZi5jdXJyZW50KSB7XG4gICAgICBjb25zdCB7IHRvcCwgbGVmdCwgcmlnaHQsIGJvdHRvbSB9ID0gcHJvdmlkZXJEYXRhLmJvcmRlckxvY2F0aW9uO1xuICAgICAgY29uc3Qgd2lkdGggPSByaWdodCAtIGxlZnQ7XG4gICAgICBjb25zdCBoZWlnaHQgPSBib3R0b20gLSB0b3A7XG4gICAgICBjb25zdCBhcmVhQ2VudGVycyA9IHtcbiAgICAgICAgdG9wTGVmdDogeyB4OiBsZWZ0LCB5OiB0b3AgfSxcbiAgICAgICAgdG9wQ2VudGVyOiB7IHg6IGxlZnQgKyB3aWR0aCAvIDIsIHk6IHRvcCB9LFxuICAgICAgICB0b3BSaWdodDogeyB4OiByaWdodCwgeTogdG9wIH0sXG4gICAgICAgIGNlbnRlckxlZnQ6IHsgeDogbGVmdCwgeTogdG9wICsgaGVpZ2h0IC8gMiB9LFxuICAgICAgICBjZW50ZXI6IHsgeDogbGVmdCArIHdpZHRoIC8gMiwgeTogdG9wICsgaGVpZ2h0IC8gMiB9LFxuICAgICAgICBjZW50ZXJSaWdodDogeyB4OiByaWdodCwgeTogdG9wICsgaGVpZ2h0IC8gMiB9LFxuICAgICAgICBib3R0b21MZWZ0OiB7IHg6IGxlZnQsIHk6IGJvdHRvbSB9LFxuICAgICAgICBib3R0b21DZW50ZXI6IHsgeDogbGVmdCArIHdpZHRoIC8gMiwgeTogYm90dG9tIH0sXG4gICAgICAgIGJvdHRvbVJpZ2h0OiB7IHg6IHJpZ2h0LCB5OiBib3R0b20gfVxuICAgICAgfTtcbiAgICAgIGNvbnN0IGNlbnRlciA9IGFyZWFDZW50ZXJzW2luaXRpYWxTbmFwQXJlYV07XG4gICAgICBpZiAoY2VudGVyICYmIHdpbmRvdy5pbm5lcldpZHRoID4gMCAmJiB3aW5kb3cuaW5uZXJIZWlnaHQgPiAwKSB7XG4gICAgICAgIGNvbnN0IHJlbFggPSAoY2VudGVyLnggLSBsZWZ0KSAvIChyaWdodCAtIGxlZnQpO1xuICAgICAgICBjb25zdCByZWxZID0gKGNlbnRlci55IC0gdG9wKSAvIChib3R0b20gLSB0b3ApO1xuICAgICAgICBwZXJzaXN0ZWRSZWxhdGl2ZUNlbnRlclJlZi5jdXJyZW50ID0geyB4OiByZWxYLCB5OiByZWxZIH07XG4gICAgICB9XG4gICAgfVxuICB9LCBbaW5pdGlhbFNuYXBBcmVhLCBwcm92aWRlckRhdGFdKTtcbiAgZnVuY3Rpb24gZ2V0U25hcEFyZWFDZW50ZXJzKGJvcmRlckxvY2F0aW9uKSB7XG4gICAgY29uc3QgeyB0b3AsIGxlZnQsIHJpZ2h0LCBib3R0b20gfSA9IGJvcmRlckxvY2F0aW9uO1xuICAgIGNvbnN0IHdpZHRoID0gcmlnaHQgLSBsZWZ0O1xuICAgIGNvbnN0IGhlaWdodCA9IGJvdHRvbSAtIHRvcDtcbiAgICByZXR1cm4ge1xuICAgICAgdG9wTGVmdDogeyB4OiBsZWZ0LCB5OiB0b3AgfSxcbiAgICAgIHRvcENlbnRlcjogeyB4OiBsZWZ0ICsgd2lkdGggLyAyLCB5OiB0b3AgfSxcbiAgICAgIHRvcFJpZ2h0OiB7IHg6IHJpZ2h0LCB5OiB0b3AgfSxcbiAgICAgIGNlbnRlckxlZnQ6IHsgeDogbGVmdCwgeTogdG9wICsgaGVpZ2h0IC8gMiB9LFxuICAgICAgY2VudGVyOiB7IHg6IGxlZnQgKyB3aWR0aCAvIDIsIHk6IHRvcCArIGhlaWdodCAvIDIgfSxcbiAgICAgIGNlbnRlclJpZ2h0OiB7IHg6IHJpZ2h0LCB5OiB0b3AgKyBoZWlnaHQgLyAyIH0sXG4gICAgICBib3R0b21MZWZ0OiB7IHg6IGxlZnQsIHk6IGJvdHRvbSB9LFxuICAgICAgYm90dG9tQ2VudGVyOiB7IHg6IGxlZnQgKyB3aWR0aCAvIDIsIHk6IGJvdHRvbSB9LFxuICAgICAgYm90dG9tUmlnaHQ6IHsgeDogcmlnaHQsIHk6IGJvdHRvbSB9XG4gICAgfTtcbiAgfVxuICBjb25zdCB1cGRhdGVEcmFnZ2FibGVQb3NpdGlvbiA9IHEkMygoKSA9PiB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCBkcmFnZ2FibGVFbCA9IG1vdmluZ0VsZW1lbnRSZWYuY3VycmVudDtcbiAgICBpZiAoIWRyYWdnYWJsZUVsKSByZXR1cm47XG4gICAgY29uc3QgZHJhZ2dhYmxlV2lkdGggPSBkcmFnZ2FibGVFbC5vZmZzZXRXaWR0aDtcbiAgICBjb25zdCBkcmFnZ2FibGVIZWlnaHQgPSBkcmFnZ2FibGVFbC5vZmZzZXRIZWlnaHQ7XG4gICAgY29uc3Qgb2Zmc2V0UGFyZW50ID0gZHJhZ2dhYmxlRWwub2Zmc2V0UGFyZW50O1xuICAgIGxldCBwYXJlbnRWaWV3cG9ydExlZnQgPSAwO1xuICAgIGxldCBwYXJlbnRWaWV3cG9ydFRvcCA9IDA7XG4gICAgbGV0IHBhcmVudFdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgbGV0IHBhcmVudEhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICBpZiAob2Zmc2V0UGFyZW50KSB7XG4gICAgICBjb25zdCBvcFJlY3QgPSBvZmZzZXRQYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBwYXJlbnRWaWV3cG9ydExlZnQgPSBvcFJlY3QubGVmdDtcbiAgICAgIHBhcmVudFZpZXdwb3J0VG9wID0gb3BSZWN0LnRvcDtcbiAgICAgIHBhcmVudFdpZHRoID0gb2Zmc2V0UGFyZW50Lm9mZnNldFdpZHRoIHx8IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgcGFyZW50SGVpZ2h0ID0gb2Zmc2V0UGFyZW50Lm9mZnNldEhlaWdodCB8fCB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgfVxuICAgIGxldCB0YXJnZXRWaWV3cG9ydENlbnRlclggPSBudWxsO1xuICAgIGxldCB0YXJnZXRWaWV3cG9ydENlbnRlclkgPSBudWxsO1xuICAgIGNvbnN0IGN1cnJlbnREZXNpcmVkUmVsYXRpdmVDZW50ZXIgPSBwZXJzaXN0ZWRSZWxhdGl2ZUNlbnRlclJlZi5jdXJyZW50O1xuICAgIGxldCBzbmFwQXJlYSA9IG51bGw7XG4gICAgbGV0IHNuYXBUYXJnZXQgPSBudWxsO1xuICAgIGNvbnN0IHByb3ZpZGVyID0gbGF0ZXN0UHJvdmlkZXJEYXRhUmVmLmN1cnJlbnQ7XG4gICAgaWYgKGlzRHJhZ2dpbmdSZWYuY3VycmVudCAmJiBtb3VzZVRvRHJhZ2dhYmxlQ2VudGVyT2Zmc2V0UmVmLmN1cnJlbnQgJiYgY3VycmVudE1vdXNlUG9zUmVmLmN1cnJlbnQgJiYgcHJvdmlkZXIgJiYgcHJvdmlkZXIuYm9yZGVyTG9jYXRpb24gJiYgcHJvdmlkZXIuc25hcEFyZWFzKSB7XG4gICAgICBjb25zdCBkcmFnQ2VudGVyID0ge1xuICAgICAgICB4OiBjdXJyZW50TW91c2VQb3NSZWYuY3VycmVudC54IC0gbW91c2VUb0RyYWdnYWJsZUNlbnRlck9mZnNldFJlZi5jdXJyZW50LngsXG4gICAgICAgIHk6IGN1cnJlbnRNb3VzZVBvc1JlZi5jdXJyZW50LnkgLSBtb3VzZVRvRHJhZ2dhYmxlQ2VudGVyT2Zmc2V0UmVmLmN1cnJlbnQueVxuICAgICAgfTtcbiAgICAgIGNvbnN0IGFyZWFDZW50ZXJzID0gZ2V0U25hcEFyZWFDZW50ZXJzKHByb3ZpZGVyLmJvcmRlckxvY2F0aW9uKTtcbiAgICAgIGxldCBtaW5EaXN0ID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgbGV0IGNsb3Nlc3RBcmVhID0gbnVsbDtcbiAgICAgIGxldCBjbG9zZXN0Q2VudGVyID0gbnVsbDtcbiAgICAgIGZvciAoY29uc3QgYXJlYSBpbiBwcm92aWRlci5zbmFwQXJlYXMpIHtcbiAgICAgICAgaWYgKHByb3ZpZGVyLnNuYXBBcmVhc1thcmVhXSkge1xuICAgICAgICAgIGNvbnN0IGNlbnRlciA9IGFyZWFDZW50ZXJzW2FyZWFdO1xuICAgICAgICAgIGlmICghY2VudGVyKSBjb250aW51ZTtcbiAgICAgICAgICBjb25zdCBkaXN0ID0gTWF0aC5oeXBvdChcbiAgICAgICAgICAgIGNlbnRlci54IC0gZHJhZ0NlbnRlci54LFxuICAgICAgICAgICAgY2VudGVyLnkgLSBkcmFnQ2VudGVyLnlcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChkaXN0IDwgbWluRGlzdCkge1xuICAgICAgICAgICAgbWluRGlzdCA9IGRpc3Q7XG4gICAgICAgICAgICBjbG9zZXN0QXJlYSA9IGFyZWE7XG4gICAgICAgICAgICBjbG9zZXN0Q2VudGVyID0gY2VudGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGNsb3Nlc3RBcmVhICYmIGNsb3Nlc3RDZW50ZXIgJiYgbWluRGlzdCA8PSBhcmVhU25hcFRocmVzaG9sZCkge1xuICAgICAgICBzbmFwQXJlYSA9IGNsb3Nlc3RBcmVhO1xuICAgICAgICBzbmFwVGFyZ2V0ID0gY2xvc2VzdENlbnRlcjtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzRHJhZ2dpbmdSZWYuY3VycmVudCAmJiBzbmFwVGFyZ2V0KSB7XG4gICAgICB0YXJnZXRWaWV3cG9ydENlbnRlclggPSBzbmFwVGFyZ2V0Lng7XG4gICAgICB0YXJnZXRWaWV3cG9ydENlbnRlclkgPSBzbmFwVGFyZ2V0Lnk7XG4gICAgICBzZXRDdXJyZW50U25hcEFyZWEoc25hcEFyZWEpO1xuICAgIH0gZWxzZSBpZiAoaXNEcmFnZ2luZ1JlZi5jdXJyZW50ICYmIG1vdXNlVG9EcmFnZ2FibGVDZW50ZXJPZmZzZXRSZWYuY3VycmVudCAmJiBjdXJyZW50TW91c2VQb3NSZWYuY3VycmVudCkge1xuICAgICAgdGFyZ2V0Vmlld3BvcnRDZW50ZXJYID0gY3VycmVudE1vdXNlUG9zUmVmLmN1cnJlbnQueCAtIG1vdXNlVG9EcmFnZ2FibGVDZW50ZXJPZmZzZXRSZWYuY3VycmVudC54O1xuICAgICAgdGFyZ2V0Vmlld3BvcnRDZW50ZXJZID0gY3VycmVudE1vdXNlUG9zUmVmLmN1cnJlbnQueSAtIG1vdXNlVG9EcmFnZ2FibGVDZW50ZXJPZmZzZXRSZWYuY3VycmVudC55O1xuICAgICAgc2V0Q3VycmVudFNuYXBBcmVhKG51bGwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoY3VycmVudERlc2lyZWRSZWxhdGl2ZUNlbnRlciAmJiBwYXJlbnRXaWR0aCA+IDAgJiYgcGFyZW50SGVpZ2h0ID4gMCkge1xuICAgICAgICBjb25zdCBpc1RvcEhhbGYyID0gY3VycmVudERlc2lyZWRSZWxhdGl2ZUNlbnRlci55IDw9IDAuNTtcbiAgICAgICAgY29uc3QgaXNMZWZ0SGFsZjIgPSBjdXJyZW50RGVzaXJlZFJlbGF0aXZlQ2VudGVyLnggPD0gMC41O1xuICAgICAgICBpZiAoaXNMZWZ0SGFsZjIpIHtcbiAgICAgICAgICBjb25zdCB0YXJnZXRDZW50ZXJYSW5QYXJlbnQgPSBwYXJlbnRXaWR0aCAqIGN1cnJlbnREZXNpcmVkUmVsYXRpdmVDZW50ZXIueDtcbiAgICAgICAgICB0YXJnZXRWaWV3cG9ydENlbnRlclggPSBwYXJlbnRWaWV3cG9ydExlZnQgKyB0YXJnZXRDZW50ZXJYSW5QYXJlbnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgdGFyZ2V0Q2VudGVyWEluUGFyZW50ID0gcGFyZW50V2lkdGggKiAoMSAtIGN1cnJlbnREZXNpcmVkUmVsYXRpdmVDZW50ZXIueCk7XG4gICAgICAgICAgdGFyZ2V0Vmlld3BvcnRDZW50ZXJYID0gcGFyZW50Vmlld3BvcnRMZWZ0ICsgcGFyZW50V2lkdGggLSB0YXJnZXRDZW50ZXJYSW5QYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzVG9wSGFsZjIpIHtcbiAgICAgICAgICBjb25zdCB0YXJnZXRDZW50ZXJZSW5QYXJlbnQgPSBwYXJlbnRIZWlnaHQgKiBjdXJyZW50RGVzaXJlZFJlbGF0aXZlQ2VudGVyLnk7XG4gICAgICAgICAgdGFyZ2V0Vmlld3BvcnRDZW50ZXJZID0gcGFyZW50Vmlld3BvcnRUb3AgKyB0YXJnZXRDZW50ZXJZSW5QYXJlbnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgdGFyZ2V0Q2VudGVyWUluUGFyZW50ID0gcGFyZW50SGVpZ2h0ICogKDEgLSBjdXJyZW50RGVzaXJlZFJlbGF0aXZlQ2VudGVyLnkpO1xuICAgICAgICAgIHRhcmdldFZpZXdwb3J0Q2VudGVyWSA9IHBhcmVudFZpZXdwb3J0VG9wICsgcGFyZW50SGVpZ2h0IC0gdGFyZ2V0Q2VudGVyWUluUGFyZW50O1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoISgoX2EgPSBtb3ZpbmdFbGVtZW50UmVmLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYS5zdHlsZS5sZWZ0KSAmJiAhKChfYiA9IG1vdmluZ0VsZW1lbnRSZWYuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnN0eWxlLnRvcCkpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICBcInVzZURyYWdnYWJsZTogQ2Fubm90IGRldGVybWluZSBwb3NpdGlvbi4gUGFyZW50IGhhcyBubyBkaW1lbnNpb25zIG9yIGluaXRpYWxSZWxhdGl2ZUNlbnRlciB3YXMgbm90IGVmZmVjdGl2ZWx5IHNldC5cIlxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0Q3VycmVudFNuYXBBcmVhKG51bGwpO1xuICAgIH1cbiAgICBpZiAodGFyZ2V0Vmlld3BvcnRDZW50ZXJYID09PSBudWxsIHx8IHRhcmdldFZpZXdwb3J0Q2VudGVyWSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB7IGJvcmRlckxvY2F0aW9uIH0gPSBsYXRlc3RQcm92aWRlckRhdGFSZWYuY3VycmVudCB8fCB7XG4gICAgICBib3JkZXJMb2NhdGlvbjogdm9pZCAwXG4gICAgfTtcbiAgICBpZiAoYm9yZGVyTG9jYXRpb24gJiYgZHJhZ2dhYmxlV2lkdGggPiAwICYmIGRyYWdnYWJsZUhlaWdodCA+IDApIHtcbiAgICAgIGNvbnN0IHByb3ZpZGVyUmVjdFdpZHRoID0gYm9yZGVyTG9jYXRpb24ucmlnaHQgLSBib3JkZXJMb2NhdGlvbi5sZWZ0O1xuICAgICAgY29uc3QgcHJvdmlkZXJSZWN0SGVpZ2h0ID0gYm9yZGVyTG9jYXRpb24uYm90dG9tIC0gYm9yZGVyTG9jYXRpb24udG9wO1xuICAgICAgbGV0IGNsYW1wZWRDZW50ZXJYID0gdGFyZ2V0Vmlld3BvcnRDZW50ZXJYO1xuICAgICAgbGV0IGNsYW1wZWRDZW50ZXJZID0gdGFyZ2V0Vmlld3BvcnRDZW50ZXJZO1xuICAgICAgaWYgKGRyYWdnYWJsZVdpZHRoID49IHByb3ZpZGVyUmVjdFdpZHRoKSB7XG4gICAgICAgIGNsYW1wZWRDZW50ZXJYID0gYm9yZGVyTG9jYXRpb24ubGVmdCArIHByb3ZpZGVyUmVjdFdpZHRoIC8gMjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IG1pblggPSBib3JkZXJMb2NhdGlvbi5sZWZ0ICsgZHJhZ2dhYmxlV2lkdGggLyAyO1xuICAgICAgICBjb25zdCBtYXhYID0gYm9yZGVyTG9jYXRpb24ucmlnaHQgLSBkcmFnZ2FibGVXaWR0aCAvIDI7XG4gICAgICAgIGNsYW1wZWRDZW50ZXJYID0gTWF0aC5tYXgobWluWCwgTWF0aC5taW4oY2xhbXBlZENlbnRlclgsIG1heFgpKTtcbiAgICAgIH1cbiAgICAgIGlmIChkcmFnZ2FibGVIZWlnaHQgPj0gcHJvdmlkZXJSZWN0SGVpZ2h0KSB7XG4gICAgICAgIGNsYW1wZWRDZW50ZXJZID0gYm9yZGVyTG9jYXRpb24udG9wICsgcHJvdmlkZXJSZWN0SGVpZ2h0IC8gMjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IG1pblkgPSBib3JkZXJMb2NhdGlvbi50b3AgKyBkcmFnZ2FibGVIZWlnaHQgLyAyO1xuICAgICAgICBjb25zdCBtYXhZID0gYm9yZGVyTG9jYXRpb24uYm90dG9tIC0gZHJhZ2dhYmxlSGVpZ2h0IC8gMjtcbiAgICAgICAgY2xhbXBlZENlbnRlclkgPSBNYXRoLm1heChtaW5ZLCBNYXRoLm1pbihjbGFtcGVkQ2VudGVyWSwgbWF4WSkpO1xuICAgICAgfVxuICAgICAgdGFyZ2V0Vmlld3BvcnRDZW50ZXJYID0gY2xhbXBlZENlbnRlclg7XG4gICAgICB0YXJnZXRWaWV3cG9ydENlbnRlclkgPSBjbGFtcGVkQ2VudGVyWTtcbiAgICB9XG4gICAgaWYgKCFhbmltYXRlZFBvc2l0aW9uUmVmLmN1cnJlbnQpIHtcbiAgICAgIGFuaW1hdGVkUG9zaXRpb25SZWYuY3VycmVudCA9IHtcbiAgICAgICAgeDogdGFyZ2V0Vmlld3BvcnRDZW50ZXJYLFxuICAgICAgICB5OiB0YXJnZXRWaWV3cG9ydENlbnRlcllcbiAgICAgIH07XG4gICAgICB2ZWxvY2l0eVJlZi5jdXJyZW50ID0geyB4OiAwLCB5OiAwIH07XG4gICAgICBjb25zdCB0YXJnZXRFbGVtZW50U3R5bGVYMiA9IHRhcmdldFZpZXdwb3J0Q2VudGVyWCAtIGRyYWdnYWJsZVdpZHRoIC8gMjtcbiAgICAgIGNvbnN0IHRhcmdldEVsZW1lbnRTdHlsZVkyID0gdGFyZ2V0Vmlld3BvcnRDZW50ZXJZIC0gZHJhZ2dhYmxlSGVpZ2h0IC8gMjtcbiAgICAgIGNvbnN0IGlzVG9wSGFsZjIgPSBjdXJyZW50RGVzaXJlZFJlbGF0aXZlQ2VudGVyID8gY3VycmVudERlc2lyZWRSZWxhdGl2ZUNlbnRlci55IDw9IDAuNSA6IHRydWU7XG4gICAgICBjb25zdCBpc0xlZnRIYWxmMiA9IGN1cnJlbnREZXNpcmVkUmVsYXRpdmVDZW50ZXIgPyBjdXJyZW50RGVzaXJlZFJlbGF0aXZlQ2VudGVyLnggPD0gMC41IDogdHJ1ZTtcbiAgICAgIGNvbnN0IGVsU3R5bGUyID0gZHJhZ2dhYmxlRWwuc3R5bGU7XG4gICAgICBlbFN0eWxlMi5yaWdodCA9IFwiXCI7XG4gICAgICBlbFN0eWxlMi5ib3R0b20gPSBcIlwiO1xuICAgICAgZWxTdHlsZTIubGVmdCA9IFwiXCI7XG4gICAgICBlbFN0eWxlMi50b3AgPSBcIlwiO1xuICAgICAgaWYgKGlzTGVmdEhhbGYyKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlTGVmdFB4ID0gdGFyZ2V0RWxlbWVudFN0eWxlWDIgLSBwYXJlbnRWaWV3cG9ydExlZnQ7XG4gICAgICAgIGVsU3R5bGUyLmxlZnQgPSBwYXJlbnRXaWR0aCA+IDAgPyBgJHsoc3R5bGVMZWZ0UHggLyBwYXJlbnRXaWR0aCAqIDEwMCkudG9GaXhlZCgyKX0lYCA6IFwiMHB4XCI7XG4gICAgICAgIGVsU3R5bGUyLnJpZ2h0ID0gXCJcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHN0eWxlUmlnaHRQeCA9IHBhcmVudFZpZXdwb3J0TGVmdCArIHBhcmVudFdpZHRoIC0gKHRhcmdldEVsZW1lbnRTdHlsZVgyICsgZHJhZ2dhYmxlV2lkdGgpO1xuICAgICAgICBlbFN0eWxlMi5yaWdodCA9IHBhcmVudFdpZHRoID4gMCA/IGAkeyhzdHlsZVJpZ2h0UHggLyBwYXJlbnRXaWR0aCAqIDEwMCkudG9GaXhlZCgyKX0lYCA6IFwiMHB4XCI7XG4gICAgICAgIGVsU3R5bGUyLmxlZnQgPSBcIlwiO1xuICAgICAgfVxuICAgICAgaWYgKGlzVG9wSGFsZjIpIHtcbiAgICAgICAgY29uc3Qgc3R5bGVUb3BQeCA9IHRhcmdldEVsZW1lbnRTdHlsZVkyIC0gcGFyZW50Vmlld3BvcnRUb3A7XG4gICAgICAgIGVsU3R5bGUyLnRvcCA9IHBhcmVudEhlaWdodCA+IDAgPyBgJHsoc3R5bGVUb3BQeCAvIHBhcmVudEhlaWdodCAqIDEwMCkudG9GaXhlZCgyKX0lYCA6IFwiMHB4XCI7XG4gICAgICAgIGVsU3R5bGUyLmJvdHRvbSA9IFwiXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBzdHlsZUJvdHRvbVB4ID0gcGFyZW50Vmlld3BvcnRUb3AgKyBwYXJlbnRIZWlnaHQgLSAodGFyZ2V0RWxlbWVudFN0eWxlWTIgKyBkcmFnZ2FibGVIZWlnaHQpO1xuICAgICAgICBlbFN0eWxlMi5ib3R0b20gPSBwYXJlbnRIZWlnaHQgPiAwID8gYCR7KHN0eWxlQm90dG9tUHggLyBwYXJlbnRIZWlnaHQgKiAxMDApLnRvRml4ZWQoMil9JWAgOiBcIjBweFwiO1xuICAgICAgICBlbFN0eWxlMi50b3AgPSBcIlwiO1xuICAgICAgfVxuICAgICAgaGFzQW5pbWF0ZWRPbmNlUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIWhhc0FuaW1hdGVkT25jZVJlZi5jdXJyZW50KSB7XG4gICAgICBoYXNBbmltYXRlZE9uY2VSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHBvcyA9IGFuaW1hdGVkUG9zaXRpb25SZWYuY3VycmVudDtcbiAgICBjb25zdCB2ZWwgPSB2ZWxvY2l0eVJlZi5jdXJyZW50O1xuICAgIGNvbnN0IGR4ID0gdGFyZ2V0Vmlld3BvcnRDZW50ZXJYIC0gcG9zLng7XG4gICAgY29uc3QgZHkgPSB0YXJnZXRWaWV3cG9ydENlbnRlclkgLSBwb3MueTtcbiAgICBjb25zdCBheCA9IHNwcmluZ1N0aWZmbmVzcyAqIGR4IC0gc3ByaW5nRGFtcG5lc3MgKiB2ZWwueDtcbiAgICBjb25zdCBheSA9IHNwcmluZ1N0aWZmbmVzcyAqIGR5IC0gc3ByaW5nRGFtcG5lc3MgKiB2ZWwueTtcbiAgICB2ZWwueCArPSBheDtcbiAgICB2ZWwueSArPSBheTtcbiAgICBwb3MueCArPSB2ZWwueDtcbiAgICBwb3MueSArPSB2ZWwueTtcbiAgICBjb25zdCB0aHJlc2hvbGQgPSAwLjU7XG4gICAgaWYgKE1hdGguYWJzKGR4KSA8IHRocmVzaG9sZCAmJiBNYXRoLmFicyhkeSkgPCB0aHJlc2hvbGQgJiYgTWF0aC5hYnModmVsLngpIDwgdGhyZXNob2xkICYmIE1hdGguYWJzKHZlbC55KSA8IHRocmVzaG9sZCkge1xuICAgICAgcG9zLnggPSB0YXJnZXRWaWV3cG9ydENlbnRlclg7XG4gICAgICBwb3MueSA9IHRhcmdldFZpZXdwb3J0Q2VudGVyWTtcbiAgICAgIHZlbC54ID0gMDtcbiAgICAgIHZlbC55ID0gMDtcbiAgICB9XG4gICAgYW5pbWF0ZWRQb3NpdGlvblJlZi5jdXJyZW50ID0geyAuLi5wb3MgfTtcbiAgICB2ZWxvY2l0eVJlZi5jdXJyZW50ID0geyAuLi52ZWwgfTtcbiAgICBjb25zdCB0YXJnZXRFbGVtZW50U3R5bGVYID0gcG9zLnggLSBkcmFnZ2FibGVXaWR0aCAvIDI7XG4gICAgY29uc3QgdGFyZ2V0RWxlbWVudFN0eWxlWSA9IHBvcy55IC0gZHJhZ2dhYmxlSGVpZ2h0IC8gMjtcbiAgICBjb25zdCBpc1RvcEhhbGYgPSBjdXJyZW50RGVzaXJlZFJlbGF0aXZlQ2VudGVyID8gY3VycmVudERlc2lyZWRSZWxhdGl2ZUNlbnRlci55IDw9IDAuNSA6IHRydWU7XG4gICAgY29uc3QgaXNMZWZ0SGFsZiA9IGN1cnJlbnREZXNpcmVkUmVsYXRpdmVDZW50ZXIgPyBjdXJyZW50RGVzaXJlZFJlbGF0aXZlQ2VudGVyLnggPD0gMC41IDogdHJ1ZTtcbiAgICBjb25zdCBlbFN0eWxlID0gZHJhZ2dhYmxlRWwuc3R5bGU7XG4gICAgZWxTdHlsZS5yaWdodCA9IFwiXCI7XG4gICAgZWxTdHlsZS5ib3R0b20gPSBcIlwiO1xuICAgIGVsU3R5bGUubGVmdCA9IFwiXCI7XG4gICAgZWxTdHlsZS50b3AgPSBcIlwiO1xuICAgIGlmIChpc0xlZnRIYWxmKSB7XG4gICAgICBjb25zdCBzdHlsZUxlZnRQeCA9IHRhcmdldEVsZW1lbnRTdHlsZVggLSBwYXJlbnRWaWV3cG9ydExlZnQ7XG4gICAgICBlbFN0eWxlLmxlZnQgPSBwYXJlbnRXaWR0aCA+IDAgPyBgJHsoc3R5bGVMZWZ0UHggLyBwYXJlbnRXaWR0aCAqIDEwMCkudG9GaXhlZCgyKX0lYCA6IFwiMHB4XCI7XG4gICAgICBlbFN0eWxlLnJpZ2h0ID0gXCJcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgc3R5bGVSaWdodFB4ID0gcGFyZW50Vmlld3BvcnRMZWZ0ICsgcGFyZW50V2lkdGggLSAodGFyZ2V0RWxlbWVudFN0eWxlWCArIGRyYWdnYWJsZVdpZHRoKTtcbiAgICAgIGVsU3R5bGUucmlnaHQgPSBwYXJlbnRXaWR0aCA+IDAgPyBgJHsoc3R5bGVSaWdodFB4IC8gcGFyZW50V2lkdGggKiAxMDApLnRvRml4ZWQoMil9JWAgOiBcIjBweFwiO1xuICAgICAgZWxTdHlsZS5sZWZ0ID0gXCJcIjtcbiAgICB9XG4gICAgaWYgKGlzVG9wSGFsZikge1xuICAgICAgY29uc3Qgc3R5bGVUb3BQeCA9IHRhcmdldEVsZW1lbnRTdHlsZVkgLSBwYXJlbnRWaWV3cG9ydFRvcDtcbiAgICAgIGVsU3R5bGUudG9wID0gcGFyZW50SGVpZ2h0ID4gMCA/IGAkeyhzdHlsZVRvcFB4IC8gcGFyZW50SGVpZ2h0ICogMTAwKS50b0ZpeGVkKDIpfSVgIDogXCIwcHhcIjtcbiAgICAgIGVsU3R5bGUuYm90dG9tID0gXCJcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgc3R5bGVCb3R0b21QeCA9IHBhcmVudFZpZXdwb3J0VG9wICsgcGFyZW50SGVpZ2h0IC0gKHRhcmdldEVsZW1lbnRTdHlsZVkgKyBkcmFnZ2FibGVIZWlnaHQpO1xuICAgICAgZWxTdHlsZS5ib3R0b20gPSBwYXJlbnRIZWlnaHQgPiAwID8gYCR7KHN0eWxlQm90dG9tUHggLyBwYXJlbnRIZWlnaHQgKiAxMDApLnRvRml4ZWQoMil9JWAgOiBcIjBweFwiO1xuICAgICAgZWxTdHlsZS50b3AgPSBcIlwiO1xuICAgIH1cbiAgICBpZiAoTWF0aC5hYnMocG9zLnggLSB0YXJnZXRWaWV3cG9ydENlbnRlclgpID4gdGhyZXNob2xkIHx8IE1hdGguYWJzKHBvcy55IC0gdGFyZ2V0Vmlld3BvcnRDZW50ZXJZKSA+IHRocmVzaG9sZCB8fCBNYXRoLmFicyh2ZWwueCkgPiB0aHJlc2hvbGQgfHwgTWF0aC5hYnModmVsLnkpID4gdGhyZXNob2xkIHx8IGlzRHJhZ2dpbmdSZWYuY3VycmVudCkge1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHVwZGF0ZURyYWdnYWJsZVBvc2l0aW9uKTtcbiAgICB9XG4gIH0sIFthcmVhU25hcFRocmVzaG9sZCwgc3ByaW5nU3RpZmZuZXNzLCBzcHJpbmdEYW1wbmVzc10pO1xuICBjb25zdCBtb3VzZVVwSGFuZGxlciA9IHEkMyhcbiAgICAoZTIpID0+IHtcbiAgICAgIHZhciBfYTtcbiAgICAgIGlmIChpc0RyYWdnaW5nUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgaWYgKG9uRHJhZ0VuZCkgb25EcmFnRW5kKCk7XG4gICAgICAgIGlmICgoX2EgPSBsYXRlc3RQcm92aWRlckRhdGFSZWYuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmVtaXREcmFnRW5kKSB7XG4gICAgICAgICAgbGF0ZXN0UHJvdmlkZXJEYXRhUmVmLmN1cnJlbnQuZW1pdERyYWdFbmQoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkcmFnZ2FibGVFbCA9IG1vdmluZ0VsZW1lbnRSZWYuY3VycmVudDtcbiAgICAgICAgY29uc3QgcHJvdmlkZXIgPSBsYXRlc3RQcm92aWRlckRhdGFSZWYuY3VycmVudDtcbiAgICAgICAgaWYgKGRyYWdnYWJsZUVsICYmIHByb3ZpZGVyICYmIHByb3ZpZGVyLmJvcmRlckxvY2F0aW9uKSB7XG4gICAgICAgICAgY29uc3QgZHJhZ2dhYmxlV2lkdGggPSBkcmFnZ2FibGVFbC5vZmZzZXRXaWR0aDtcbiAgICAgICAgICBjb25zdCBkcmFnZ2FibGVIZWlnaHQgPSBkcmFnZ2FibGVFbC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgICAgY29uc3Qgb2Zmc2V0UGFyZW50ID0gZHJhZ2dhYmxlRWwub2Zmc2V0UGFyZW50O1xuICAgICAgICAgIGxldCBwYXJlbnRWaWV3cG9ydExlZnQgPSAwO1xuICAgICAgICAgIGxldCBwYXJlbnRWaWV3cG9ydFRvcCA9IDA7XG4gICAgICAgICAgbGV0IHBhcmVudFdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgICAgbGV0IHBhcmVudEhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgICAgICBpZiAob2Zmc2V0UGFyZW50KSB7XG4gICAgICAgICAgICBjb25zdCBvcFJlY3QgPSBvZmZzZXRQYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICBwYXJlbnRWaWV3cG9ydExlZnQgPSBvcFJlY3QubGVmdDtcbiAgICAgICAgICAgIHBhcmVudFZpZXdwb3J0VG9wID0gb3BSZWN0LnRvcDtcbiAgICAgICAgICAgIHBhcmVudFdpZHRoID0gb2Zmc2V0UGFyZW50Lm9mZnNldFdpZHRoIHx8IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICAgICAgcGFyZW50SGVpZ2h0ID0gb2Zmc2V0UGFyZW50Lm9mZnNldEhlaWdodCB8fCB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCByZWxlYXNlZENlbnRlclggPSAwO1xuICAgICAgICAgIGxldCByZWxlYXNlZENlbnRlclkgPSAwO1xuICAgICAgICAgIGlmIChjdXJyZW50TW91c2VQb3NSZWYuY3VycmVudCAmJiBtb3VzZVRvRHJhZ2dhYmxlQ2VudGVyT2Zmc2V0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIHJlbGVhc2VkQ2VudGVyWCA9IGN1cnJlbnRNb3VzZVBvc1JlZi5jdXJyZW50LnggLSBtb3VzZVRvRHJhZ2dhYmxlQ2VudGVyT2Zmc2V0UmVmLmN1cnJlbnQueDtcbiAgICAgICAgICAgIHJlbGVhc2VkQ2VudGVyWSA9IGN1cnJlbnRNb3VzZVBvc1JlZi5jdXJyZW50LnkgLSBtb3VzZVRvRHJhZ2dhYmxlQ2VudGVyT2Zmc2V0UmVmLmN1cnJlbnQueTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGFuaW1hdGVkUG9zaXRpb25SZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICByZWxlYXNlZENlbnRlclggPSBhbmltYXRlZFBvc2l0aW9uUmVmLmN1cnJlbnQueDtcbiAgICAgICAgICAgICAgcmVsZWFzZWRDZW50ZXJZID0gYW5pbWF0ZWRQb3NpdGlvblJlZi5jdXJyZW50Lnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGJvcmRlckxvY2F0aW9uID0gcHJvdmlkZXIuYm9yZGVyTG9jYXRpb247XG4gICAgICAgICAgY29uc3QgbWluWCA9IGJvcmRlckxvY2F0aW9uLmxlZnQgKyBkcmFnZ2FibGVXaWR0aCAvIDI7XG4gICAgICAgICAgY29uc3QgbWF4WCA9IGJvcmRlckxvY2F0aW9uLnJpZ2h0IC0gZHJhZ2dhYmxlV2lkdGggLyAyO1xuICAgICAgICAgIGNvbnN0IG1pblkgPSBib3JkZXJMb2NhdGlvbi50b3AgKyBkcmFnZ2FibGVIZWlnaHQgLyAyO1xuICAgICAgICAgIGNvbnN0IG1heFkgPSBib3JkZXJMb2NhdGlvbi5ib3R0b20gLSBkcmFnZ2FibGVIZWlnaHQgLyAyO1xuICAgICAgICAgIHJlbGVhc2VkQ2VudGVyWCA9IE1hdGgubWF4KG1pblgsIE1hdGgubWluKHJlbGVhc2VkQ2VudGVyWCwgbWF4WCkpO1xuICAgICAgICAgIHJlbGVhc2VkQ2VudGVyWSA9IE1hdGgubWF4KG1pblksIE1hdGgubWluKHJlbGVhc2VkQ2VudGVyWSwgbWF4WSkpO1xuICAgICAgICAgIGNvbnN0IGFyZWFDZW50ZXJzID0gZ2V0U25hcEFyZWFDZW50ZXJzKGJvcmRlckxvY2F0aW9uKTtcbiAgICAgICAgICBsZXQgbWluRGlzdCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgICAgICBsZXQgY2xvc2VzdEFyZWEgPSBudWxsO1xuICAgICAgICAgIGxldCBjbG9zZXN0Q2VudGVyID0gbnVsbDtcbiAgICAgICAgICBmb3IgKGNvbnN0IGFyZWEgaW4gcHJvdmlkZXIuc25hcEFyZWFzKSB7XG4gICAgICAgICAgICBpZiAocHJvdmlkZXIuc25hcEFyZWFzW2FyZWFdKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGNlbnRlciA9IGFyZWFDZW50ZXJzW2FyZWFdO1xuICAgICAgICAgICAgICBpZiAoIWNlbnRlcikgY29udGludWU7XG4gICAgICAgICAgICAgIGNvbnN0IGRpc3QgPSBNYXRoLmh5cG90KFxuICAgICAgICAgICAgICAgIGNlbnRlci54IC0gcmVsZWFzZWRDZW50ZXJYLFxuICAgICAgICAgICAgICAgIGNlbnRlci55IC0gcmVsZWFzZWRDZW50ZXJZXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGlmIChkaXN0IDwgbWluRGlzdCkge1xuICAgICAgICAgICAgICAgIG1pbkRpc3QgPSBkaXN0O1xuICAgICAgICAgICAgICAgIGNsb3Nlc3RBcmVhID0gYXJlYTtcbiAgICAgICAgICAgICAgICBjbG9zZXN0Q2VudGVyID0gY2VudGVyO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjbG9zZXN0QXJlYSAmJiBjbG9zZXN0Q2VudGVyICYmIG1pbkRpc3QgPD0gYXJlYVNuYXBUaHJlc2hvbGQpIHtcbiAgICAgICAgICAgIHNldEN1cnJlbnRTbmFwQXJlYShjbG9zZXN0QXJlYSk7XG4gICAgICAgICAgICBjb25zdCByZWxYID0gKGNsb3Nlc3RDZW50ZXIueCAtIHBhcmVudFZpZXdwb3J0TGVmdCkgLyBwYXJlbnRXaWR0aDtcbiAgICAgICAgICAgIGNvbnN0IHJlbFkgPSAoY2xvc2VzdENlbnRlci55IC0gcGFyZW50Vmlld3BvcnRUb3ApIC8gcGFyZW50SGVpZ2h0O1xuICAgICAgICAgICAgcGVyc2lzdGVkUmVsYXRpdmVDZW50ZXJSZWYuY3VycmVudCA9IHsgeDogcmVsWCwgeTogcmVsWSB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRDdXJyZW50U25hcEFyZWEobnVsbCk7XG4gICAgICAgICAgICBjb25zdCByZWxYID0gKHJlbGVhc2VkQ2VudGVyWCAtIHBhcmVudFZpZXdwb3J0TGVmdCkgLyBwYXJlbnRXaWR0aDtcbiAgICAgICAgICAgIGNvbnN0IHJlbFkgPSAocmVsZWFzZWRDZW50ZXJZIC0gcGFyZW50Vmlld3BvcnRUb3ApIC8gcGFyZW50SGVpZ2h0O1xuICAgICAgICAgICAgcGVyc2lzdGVkUmVsYXRpdmVDZW50ZXJSZWYuY3VycmVudCA9IHsgeDogcmVsWCwgeTogcmVsWSB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbW91c2VEb3duUG9zUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgaXNEcmFnZ2luZ1JlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICBjb25zb2xlLmxvZyhcIlN0b3AgbW92aW5nXCIpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgbW91c2VNb3ZlSGFuZGxlciwge1xuICAgICAgICBjYXB0dXJlOiB0cnVlXG4gICAgICB9KTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBtb3VzZVVwSGFuZGxlciwge1xuICAgICAgICBjYXB0dXJlOiB0cnVlXG4gICAgICB9KTtcbiAgICAgIGlmIChtb3ZpbmdFbGVtZW50UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgbW92aW5nRWxlbWVudFJlZi5jdXJyZW50LnN0eWxlLnVzZXJTZWxlY3QgPSBcIlwiO1xuICAgICAgfVxuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS51c2VyU2VsZWN0ID0gXCJcIjtcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gXCJcIjtcbiAgICB9LFxuICAgIFtvbkRyYWdFbmQsIGFyZWFTbmFwVGhyZXNob2xkXVxuICApO1xuICBjb25zdCBtb3VzZU1vdmVIYW5kbGVyID0gcSQzKFxuICAgIChlMikgPT4ge1xuICAgICAgdmFyIF9hO1xuICAgICAgaWYgKCFtb3VzZURvd25Qb3NSZWYuY3VycmVudCkgcmV0dXJuO1xuICAgICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLmh5cG90KFxuICAgICAgICBlMi5jbGllbnRYIC0gbW91c2VEb3duUG9zUmVmLmN1cnJlbnQueCxcbiAgICAgICAgZTIuY2xpZW50WSAtIG1vdXNlRG93blBvc1JlZi5jdXJyZW50LnlcbiAgICAgICk7XG4gICAgICBpZiAoZGlzdGFuY2UgPiBzdGFydFRocmVzaG9sZCAmJiAhaXNEcmFnZ2luZ1JlZi5jdXJyZW50KSB7XG4gICAgICAgIGlzRHJhZ2dpbmdSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICAgIGlmIChtb3ZpbmdFbGVtZW50UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICBtb3ZpbmdFbGVtZW50UmVmLmN1cnJlbnQuc3R5bGUudXNlclNlbGVjdCA9IFwibm9uZVwiO1xuICAgICAgICB9XG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUudXNlclNlbGVjdCA9IFwibm9uZVwiO1xuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwiZ3JhYmJpbmdcIjtcbiAgICAgICAgaWYgKG9uRHJhZ1N0YXJ0KSBvbkRyYWdTdGFydCgpO1xuICAgICAgICBpZiAoKF9hID0gbGF0ZXN0UHJvdmlkZXJEYXRhUmVmLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYS5lbWl0RHJhZ1N0YXJ0KSB7XG4gICAgICAgICAgbGF0ZXN0UHJvdmlkZXJEYXRhUmVmLmN1cnJlbnQuZW1pdERyYWdTdGFydCgpO1xuICAgICAgICB9XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh1cGRhdGVEcmFnZ2FibGVQb3NpdGlvbik7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiU3RhcnQgZHJhZ2dpbmdcIik7XG4gICAgICB9XG4gICAgICBjdXJyZW50TW91c2VQb3NSZWYuY3VycmVudCA9IHsgeDogZTIuY2xpZW50WCwgeTogZTIuY2xpZW50WSB9O1xuICAgIH0sXG4gICAgW3N0YXJ0VGhyZXNob2xkLCBvbkRyYWdTdGFydCwgdXBkYXRlRHJhZ2dhYmxlUG9zaXRpb25dXG4gICk7XG4gIGNvbnN0IG1vdXNlRG93bkhhbmRsZXIgPSBxJDMoXG4gICAgKGUyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhcIk1vdXNlIGRvd24gb24gZHJhZ2dhYmxlL2hhbmRsZSBhcmVhXCIpO1xuICAgICAgaWYgKGUyLmJ1dHRvbiAhPT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBoYW5kbGVOb2RlID0gZHJhZ0luaXRpYXRvclJlZi5jdXJyZW50O1xuICAgICAgY29uc3QgZHJhZ2dhYmxlSXRlbU5vZGUgPSBtb3ZpbmdFbGVtZW50UmVmLmN1cnJlbnQ7XG4gICAgICBpZiAoaGFuZGxlTm9kZSkge1xuICAgICAgICBpZiAoIWhhbmRsZU5vZGUuY29udGFpbnMoZTIudGFyZ2V0KSAmJiBlMi50YXJnZXQgIT09IGhhbmRsZU5vZGUpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgIFwiTW91c2Vkb3duIHdhcyBub3Qgb24gdGhlIGhhbmRsZSBlbGVtZW50IG9yIGl0cyBjaGlsZHJlbi4gQ3VycmVudCB0YXJnZXQ6XCIsXG4gICAgICAgICAgICBlMi50YXJnZXQsXG4gICAgICAgICAgICBcIkV4cGVjdGVkIGhhbmRsZTpcIixcbiAgICAgICAgICAgIGhhbmRsZU5vZGUsXG4gICAgICAgICAgICBcIklnbm9yaW5nIGRyYWcgc3RhcnQuXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChkcmFnZ2FibGVJdGVtTm9kZSkge1xuICAgICAgICBpZiAoIWRyYWdnYWJsZUl0ZW1Ob2RlLmNvbnRhaW5zKGUyLnRhcmdldCkgJiYgZTIudGFyZ2V0ICE9PSBkcmFnZ2FibGVJdGVtTm9kZSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgXCJNb3VzZWRvd24gd2FzIG5vdCBvbiB0aGUgZHJhZ2dhYmxlIGl0ZW0gb3IgaXRzIGNoaWxkcmVuIChubyBoYW5kbGUgc3BlY2lmaWVkKS4gQ3VycmVudCB0YXJnZXQ6XCIsXG4gICAgICAgICAgICBlMi50YXJnZXQsXG4gICAgICAgICAgICBcIkV4cGVjdGVkIGRyYWdnYWJsZSBpdGVtOlwiLFxuICAgICAgICAgICAgZHJhZ2dhYmxlSXRlbU5vZGUsXG4gICAgICAgICAgICBcIklnbm9yaW5nIGRyYWcgc3RhcnQuXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIkRyYWdnYWJsZSBlbGVtZW50IG9yIGhhbmRsZSByZWYgbm90IHNldCBpbiBtb3VzZURvd25IYW5kbGVyXCJcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc29sZS5sb2coXCJWYWxpZCBkcmFnIHRhcmdldC4gUHJvY2VlZGluZyB3aXRoIGRyYWcgc2V0dXAuXCIpO1xuICAgICAgbW91c2VEb3duUG9zUmVmLmN1cnJlbnQgPSB7IHg6IGUyLmNsaWVudFgsIHk6IGUyLmNsaWVudFkgfTtcbiAgICAgIGlmICghbW92aW5nRWxlbWVudFJlZi5jdXJyZW50KSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJEcmFnZ2FibGUgZWxlbWVudCByZWYgbm90IHNldCBpbiBtb3VzZURvd25IYW5kbGVyXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCByZWN0ID0gbW92aW5nRWxlbWVudFJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgY29uc3QgY3VycmVudERyYWdnYWJsZUNlbnRlclggPSByZWN0LmxlZnQgKyByZWN0LndpZHRoIC8gMjtcbiAgICAgIGNvbnN0IGN1cnJlbnREcmFnZ2FibGVDZW50ZXJZID0gcmVjdC50b3AgKyByZWN0LmhlaWdodCAvIDI7XG4gICAgICBtb3VzZVRvRHJhZ2dhYmxlQ2VudGVyT2Zmc2V0UmVmLmN1cnJlbnQgPSB7XG4gICAgICAgIHg6IGUyLmNsaWVudFggLSBjdXJyZW50RHJhZ2dhYmxlQ2VudGVyWCxcbiAgICAgICAgeTogZTIuY2xpZW50WSAtIGN1cnJlbnREcmFnZ2FibGVDZW50ZXJZXG4gICAgICB9O1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgbW91c2VNb3ZlSGFuZGxlciwge1xuICAgICAgICBjYXB0dXJlOiB0cnVlXG4gICAgICB9KTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBtb3VzZVVwSGFuZGxlciwge1xuICAgICAgICBjYXB0dXJlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9LFxuICAgIFttb3VzZU1vdmVIYW5kbGVyLCBtb3VzZVVwSGFuZGxlcl1cbiAgKTtcbiAgeSQ2KCgpID0+IHtcbiAgICBjb25zdCBlbGVtZW50VG9MaXN0ZW5PbiA9IGRyYWdJbml0aWF0b3JOb2RlIHx8IG1vdmluZ0VsZW1lbnROb2RlO1xuICAgIGlmIChlbGVtZW50VG9MaXN0ZW5Pbikge1xuICAgICAgZWxlbWVudFRvTGlzdGVuT24uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBtb3VzZURvd25IYW5kbGVyKTtcbiAgICB9XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChlbGVtZW50VG9MaXN0ZW5Pbikge1xuICAgICAgICBlbGVtZW50VG9MaXN0ZW5Pbi5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIG1vdXNlRG93bkhhbmRsZXIpO1xuICAgICAgfVxuICAgICAgaWYgKGlzRHJhZ2dpbmdSZWYuY3VycmVudCkge1xuICAgICAgICBpZiAob25EcmFnRW5kKSB7XG4gICAgICAgICAgb25EcmFnRW5kKCk7XG4gICAgICAgIH1cbiAgICAgICAgaXNEcmFnZ2luZ1JlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgIGlmIChtb3ZpbmdFbGVtZW50Tm9kZSkge1xuICAgICAgICAgIG1vdmluZ0VsZW1lbnROb2RlLnN0eWxlLnVzZXJTZWxlY3QgPSBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUudXNlclNlbGVjdCA9IFwiXCI7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gXCJcIjtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgbW91c2VNb3ZlSGFuZGxlciwge1xuICAgICAgICAgIGNhcHR1cmU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBtb3VzZVVwSGFuZGxlciwge1xuICAgICAgICAgIGNhcHR1cmU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW1xuICAgIG1vdmluZ0VsZW1lbnROb2RlLFxuICAgIGRyYWdJbml0aWF0b3JOb2RlLFxuICAgIG1vdXNlRG93bkhhbmRsZXIsXG4gICAgb25EcmFnRW5kLFxuICAgIG1vdXNlTW92ZUhhbmRsZXIsXG4gICAgbW91c2VVcEhhbmRsZXJcbiAgXSk7XG4gIHkkNigoKSA9PiB7XG4gICAgaWYgKG1vdmluZ0VsZW1lbnROb2RlICYmIHBlcnNpc3RlZFJlbGF0aXZlQ2VudGVyUmVmLmN1cnJlbnQgJiYgIWlzRHJhZ2dpbmdSZWYuY3VycmVudCkge1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHVwZGF0ZURyYWdnYWJsZVBvc2l0aW9uKTtcbiAgICB9XG4gIH0sIFtcbiAgICBtb3ZpbmdFbGVtZW50Tm9kZSxcbiAgICBwcm92aWRlckRhdGEsXG4gICAgLy8gVHJpZ2dlcnMgb24gY29udGFpbmVyIHJlc2l6ZS9zY3JvbGwgdmlhIERyYWdnYWJsZVByb3ZpZGVyXG4gICAgcGVyc2lzdGVkUmVsYXRpdmVDZW50ZXJSZWYsXG4gICAgLy8gVHJpZ2dlcnMgaWYgdGhlIHBlcnNpc3RlZFJlbGF0aXZlQ2VudGVyUmVmIGNoYW5nZXNcbiAgICB1cGRhdGVEcmFnZ2FibGVQb3NpdGlvblxuICAgIC8vIFN0YWJsZSBjYWxsYmFja1xuICBdKTtcbiAgY29uc3QgZHJhZ2dhYmxlUmVmQ2FsbGJhY2sgPSBxJDMoKG5vZGUpID0+IHtcbiAgICBzZXRNb3ZpbmdFbGVtZW50Tm9kZShub2RlKTtcbiAgICBtb3ZpbmdFbGVtZW50UmVmLmN1cnJlbnQgPSBub2RlO1xuICB9LCBbXSk7XG4gIGNvbnN0IGhhbmRsZVJlZkNhbGxiYWNrID0gcSQzKChub2RlKSA9PiB7XG4gICAgc2V0RHJhZ0luaXRpYXRvck5vZGUobm9kZSk7XG4gICAgZHJhZ0luaXRpYXRvclJlZi5jdXJyZW50ID0gbm9kZTtcbiAgfSwgW10pO1xuICByZXR1cm4ge1xuICAgIGRyYWdnYWJsZVJlZjogZHJhZ2dhYmxlUmVmQ2FsbGJhY2ssXG4gICAgaGFuZGxlUmVmOiBoYW5kbGVSZWZDYWxsYmFjayxcbiAgICBwb3NpdGlvbjoge1xuICAgICAgc25hcEFyZWE6IGN1cnJlbnRTbmFwQXJlYSxcbiAgICAgIGlzVG9wSGFsZjogcGVyc2lzdGVkUmVsYXRpdmVDZW50ZXJSZWYuY3VycmVudCA/IHBlcnNpc3RlZFJlbGF0aXZlQ2VudGVyUmVmLmN1cnJlbnQueSA8PSAwLjUgOiB0cnVlLFxuICAgICAgaXNMZWZ0SGFsZjogcGVyc2lzdGVkUmVsYXRpdmVDZW50ZXJSZWYuY3VycmVudCA/IHBlcnNpc3RlZFJlbGF0aXZlQ2VudGVyUmVmLmN1cnJlbnQueCA8PSAwLjUgOiB0cnVlXG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gVG9vbGJhckRyYWdnYWJsZUJveCgpIHtcbiAgY29uc3QgcHJvdmlkZXIgPSB4JDQoRHJhZ2dhYmxlQ29udGV4dCk7XG4gIGNvbnN0IGJvcmRlckxvY2F0aW9uID0gcHJvdmlkZXIgPT0gbnVsbCA/IHZvaWQgMCA6IHByb3ZpZGVyLmJvcmRlckxvY2F0aW9uO1xuICBjb25zdCBpc1JlYWR5ID0gISFib3JkZXJMb2NhdGlvbiAmJiBib3JkZXJMb2NhdGlvbi5yaWdodCAtIGJvcmRlckxvY2F0aW9uLmxlZnQgPiAwICYmIGJvcmRlckxvY2F0aW9uLmJvdHRvbSAtIGJvcmRlckxvY2F0aW9uLnRvcCA+IDA7XG4gIGNvbnN0IGRyYWdnYWJsZSA9IHVzZURyYWdnYWJsZSh7XG4gICAgc3RhcnRUaHJlc2hvbGQ6IDEwLFxuICAgIGluaXRpYWxTbmFwQXJlYTogXCJib3R0b21DZW50ZXJcIlxuICB9KTtcbiAgaWYgKCFpc1JlYWR5KSByZXR1cm4gbnVsbDtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyB1JDkoXG4gICAgXCJkaXZcIixcbiAgICB7XG4gICAgICByZWY6IGRyYWdnYWJsZS5kcmFnZ2FibGVSZWYsXG4gICAgICBjbGFzc05hbWU6IFwicG9pbnRlci1ldmVudHMtYXV0byBhYnNvbHV0ZSBwLTAuNVwiLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyB1JDkoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicG9pbnRlci1ldmVudHMtYXV0byBmbGV4IHctOTYgbWF4LXctWzgwdnddIGZsZXgtY29sIGl0ZW1zLXN0YXJ0IGp1c3RpZnktY2VudGVyIHJvdW5kZWQtM3hsIGJvcmRlciBib3JkZXItYm9yZGVyLzMwIGJvcmRlci1zb2xpZCBiZy16aW5jLTUwLzgwIHAtMCBzaGFkb3ctbGcgYmFja2Ryb3AtYmx1ci1sZyB0cmFuc2l0aW9uLWNvbG9yc1wiLCBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8gdSQ5KENoYXRBcmVhLCB7fSksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyB1JDkoXG4gICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICByZWY6IGRyYWdnYWJsZS5oYW5kbGVSZWYsXG4gICAgICAgICAgICBjbGFzc05hbWU6IFwiZmxleCB3LWZ1bGwgZmxleC1yb3cgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtM3hsIGJvcmRlci1ib3JkZXIvMzAgYm9yZGVyLXQgYmctYmFja2dyb3VuZC80MCBwLTEuNSBzaGFkb3ctbGcgdHJhbnNpdGlvbi1jb2xvcnMgZmlyc3Q6Ym9yZGVyLW5vbmVcIixcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyB1JDkoQ2hhdEJveCwge30pLFxuICAgICAgICAgICAgICAvKiBAX19QVVJFX18gKi8gdSQ5KE1vcmVBY3Rpb25zQnV0dG9uLCB7fSlcbiAgICAgICAgICAgIF1cbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIF0gfSlcbiAgICB9XG4gICk7XG59XG5mdW5jdGlvbiBUb29sYmFyQXJlYSgpIHtcbiAgY29uc3QgY29udGFpbmVyUmVmID0gQSQzKG51bGwpO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIHUkOShcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJhYnNvbHV0ZSBzaXplLWZ1bGxcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyB1JDkoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiYWJzb2x1dGUgaW5zZXQtNFwiLCByZWY6IGNvbnRhaW5lclJlZiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyB1JDkoXG4gICAgRHJhZ2dhYmxlUHJvdmlkZXIsXG4gICAge1xuICAgICAgY29udGFpbmVyUmVmLFxuICAgICAgc25hcEFyZWFzOiB7XG4gICAgICAgIHRvcExlZnQ6IHRydWUsXG4gICAgICAgIHRvcENlbnRlcjogdHJ1ZSxcbiAgICAgICAgdG9wUmlnaHQ6IHRydWUsXG4gICAgICAgIGNlbnRlckxlZnQ6IHRydWUsXG4gICAgICAgIGNlbnRlcjogdHJ1ZSxcbiAgICAgICAgY2VudGVyUmlnaHQ6IHRydWUsXG4gICAgICAgIGJvdHRvbUxlZnQ6IHRydWUsXG4gICAgICAgIGJvdHRvbUNlbnRlcjogdHJ1ZSxcbiAgICAgICAgYm90dG9tUmlnaHQ6IHRydWVcbiAgICAgIH0sXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHUkOShUb29sYmFyRHJhZ2dhYmxlQm94LCB7fSlcbiAgICB9XG4gICkgfSkgfSk7XG59XG5jb25zdCBMb2dvID0gKHtcbiAgY29sb3IgPSBcImRlZmF1bHRcIixcbiAgbG9hZGluZyA9IGZhbHNlLFxuICBsb2FkaW5nU3BlZWQgPSBcInNsb3dcIixcbiAgLi4ucHJvcHNcbn0pID0+IHtcbiAgY29uc3QgY29sb3JTdHlsZSA9IHtcbiAgICBkZWZhdWx0OiBcImZpbGwtc3RhZ2V3aXNlLTcwMCBzdHJva2Utbm9uZVwiLFxuICAgIGJsYWNrOiBcImZpbGwtemluYy05NTAgc3Ryb2tlLW5vbmVcIixcbiAgICB3aGl0ZTogXCJmaWxsLXdoaXRlIHN0cm9rZS1ub25lXCIsXG4gICAgZ3JheTogXCJmaWxsLXppbmMtNTAwLzUwIHN0cm9rZS1ub25lXCIsXG4gICAgY3VycmVudDogXCJmaWxsLWN1cnJlbnQgc3Ryb2tlLW5vbmVcIixcbiAgICBncmFkaWVudDogXCJmaWxsLXdoaXRlIHN0cm9rZS1ibGFjay8zMCBzdHJva2UtMVwiXG4gIH07XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gdSQ5KFxuICAgIFwiZGl2XCIsXG4gICAge1xuICAgICAgY2xhc3NOYW1lOiBgcmVsYXRpdmUgJHtjb2xvciA9PT0gXCJncmFkaWVudFwiID8gXCJvdmVyZmxvdy1oaWRkZW4gcm91bmRlZC1mdWxsXCIgOiBcIm92ZXJmbG93LXZpc2libGVcIn0gJHtwcm9wcy5jbGFzc05hbWUgfHwgXCJcIn0gJHtsb2FkaW5nID8gXCJkcm9wLXNoYWRvdy14bFwiIDogXCJcIn0gYXNwZWN0LXNxdWFyZWAsXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICBjb2xvciA9PT0gXCJncmFkaWVudFwiICYmIC8qIEBfX1BVUkVfXyAqLyB1JDkoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiYWJzb2x1dGUgaW5zZXQtMFwiLCBjaGlsZHJlbjogW1xuICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyB1JDkoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiYWJzb2x1dGUgaW5zZXQtMCBzaXplLWZ1bGwgYmctZ3JhZGllbnQtdG8tdHIgZnJvbS1pbmRpZ28tNzAwIHZpYS1ibHVlLTUwMCB0by10ZWFsLTUwMFwiIH0pLFxuICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyB1JDkoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiYWJzb2x1dGUgdG9wLTEvMiBsZWZ0LTEvMiBzaXplLTkvMTIgYmctW3JhZGlhbC1ncmFkaWVudChjaXJjbGUscmdiYSgyMTksMzksMTE5LDAuMilfMCUscmdiYSgyMTksMzksMTE5LDApXzEwMCUpXVwiIH0pLFxuICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyB1JDkoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiYWJzb2x1dGUgcmlnaHQtMS8yIGJvdHRvbS0xLzIgc2l6ZS1mdWxsIGJnLVtyYWRpYWwtZ3JhZGllbnQoY2lyY2xlLHJnYmEoMjE5LDM5LDExOSwwLjIpXzAlLHJnYmEoMjE5LDM5LDExOSwwKV8xMDAlKV1cIiB9KSxcbiAgICAgICAgICAvKiBAX19QVVJFX18gKi8gdSQ5KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImFic29sdXRlIHRvcC0wIGxlZnQtWy0xMCVdIHNpemUtWzEyMCVdIGJnLVtyYWRpYWwtZ3JhZGllbnQoY2lyY2xlLHJnYmEoMjU1LDI1NSwyNTUsMClfNjAlLHJnYmEoMjU1LDI1NSwyNTUsMC4yKV83MCUpXVwiIH0pLFxuICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyB1JDkoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiYWJzb2x1dGUgdG9wLVstMjAlXSBsZWZ0LTAgaC1bMTIwJV0gdy1mdWxsIGJnLVtyYWRpYWwtZ3JhZGllbnQoY2lyY2xlLHJnYmEoNTUsNDgsMTYzLDApXzU1JSxyZ2JhKDU1LDQ4LDE2MywwLjM1KV83MyUpXVwiIH0pXG4gICAgICAgIF0gfSksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyB1JDkoXG4gICAgICAgICAgXCJzdmdcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjbGFzc05hbWU6IGBhYnNvbHV0ZSBvdmVyZmxvdy12aXNpYmxlICR7Y29sb3IgPT09IFwiZ3JhZGllbnRcIiA/IFwidG9wLVsyNSVdIGxlZnQtWzI1JV0gaC1bNTAlXSB3LVs1MCVdIGRyb3Atc2hhZG93LWluZGlnby05NTAgZHJvcC1zaGFkb3cteHNcIiA6IFwidG9wLTAgbGVmdC0wIGgtZnVsbCB3LWZ1bGxcIn1gLFxuICAgICAgICAgICAgdmlld0JveDogXCIwIDAgMjA0OCAyMDQ4XCIsXG4gICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAvKiBAX19QVVJFX18gKi8gdSQ5KFwidGl0bGVcIiwgeyBjaGlsZHJlbjogXCJzdGFnZXdpc2VcIiB9KSxcbiAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIHUkOShcbiAgICAgICAgICAgICAgICBcImVsbGlwc2VcIixcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNvbG9yU3R5bGVbY29sb3JdICsgKGxvYWRpbmcgPyBcIiBhbmltYXRlLXB1bHNlXCIgOiBcIlwiKSxcbiAgICAgICAgICAgICAgICAgIGlkOiBcInBhdGgzXCIsXG4gICAgICAgICAgICAgICAgICByeTogXCI2MjRcIixcbiAgICAgICAgICAgICAgICAgIHJ4OiBcIjYyNFwiLFxuICAgICAgICAgICAgICAgICAgY3k6IFwiMTAyNFwiLFxuICAgICAgICAgICAgICAgICAgY3g6IFwiMTAyNFwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICBdXG4gICAgICAgICAgfVxuICAgICAgICApLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8gdSQ5KFxuICAgICAgICAgIFwic3ZnXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBgYWJzb2x1dGUgb3ZlcmZsb3ctdmlzaWJsZSAke2NvbG9yID09PSBcImdyYWRpZW50XCIgPyBcInRvcC1bMjUlXSBsZWZ0LVsyNSVdIGgtWzUwJV0gdy1bNTAlXVwiIDogXCJ0b3AtMCBsZWZ0LTAgaC1mdWxsIHctZnVsbFwifWAsXG4gICAgICAgICAgICB2aWV3Qm94OiBcIjAgMCAyMDQ4IDIwNDhcIixcbiAgICAgICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gdSQ5KFxuICAgICAgICAgICAgICBcInBhdGhcIixcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlkOiBcInBhdGg0XCIsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBgb3JpZ2luLWNlbnRlciAke2NvbG9yU3R5bGVbY29sb3JdfSR7bG9hZGluZyA/IGxvYWRpbmdTcGVlZCA9PT0gXCJmYXN0XCIgPyBcIiBhbmltYXRlLXNwaW4tZmFzdFwiIDogXCIgYW5pbWF0ZS1zcGluLXNsb3dcIiA6IFwiXCJ9YCxcbiAgICAgICAgICAgICAgICBkOiBcIk0gMTAyNCAwIEEgMTAyNCAxMDI0IDAgMCAwIDAgMTAyNCBBIDEwMjQgMTAyNCAwIDAgMCAxMDI0IDIwNDggTCAxNzM2IDIwNDggTCAxODQ4IDIwNDggQyAxOTU4Ljc5OTggMjA0OCAyMDQ4IDE5NTguNzk5OCAyMDQ4IDE4NDggTCAyMDQ4IDE3MzYgTCAyMDQ4IDEwMjQgQSAxMDI0IDEwMjQgMCAwIDAgMTAyNCAwIHogTSAxMDI0Ljk0MTQgMjAwIEEgODI0IDgyNCAwIDAgMSAxODQ4Ljk0MTQgMTAyNCBBIDgyNCA4MjQgMCAwIDEgMTAyNC45NDE0IDE4NDggQSA4MjQgODI0IDAgMCAxIDIwMC45NDE0MSAxMDI0IEEgODI0IDgyNCAwIDAgMSAxMDI0Ljk0MTQgMjAwIHogXCJcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgXVxuICAgIH1cbiAgKTtcbn07XG5mdW5jdGlvbiBFeHBhbmRCdXR0b24oKSB7XG4gIGNvbnN0IGV4cGFuZCA9IHVzZUFwcFN0YXRlKChzdGF0ZSkgPT4gc3RhdGUuZXhwYW5kKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyB1JDkoXG4gICAgXCJidXR0b25cIixcbiAgICB7XG4gICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgb25DbGljazogKCkgPT4gZXhwYW5kKCksXG4gICAgICBjbGFzc05hbWU6IFwicG9pbnRlci1ldmVudHMtYXV0byBhYnNvbHV0ZSBib3R0b20tMyBsZWZ0LTMgc2l6ZS0xMiByb3VuZGVkLWZ1bGwgYmctdHJhbnNwYXJlbnQgb3BhY2l0eS04MCBzaGFkb3ctc20gdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tNTAwIGhvdmVyOm9wYWNpdHktMTAwIGhvdmVyOnNoYWRvdy1sZ1wiLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyB1JDkoTG9nbywgeyBjb2xvcjogXCJncmFkaWVudFwiIH0pXG4gICAgfVxuICApO1xufVxuZnVuY3Rpb24gRWxlbWVudFNlbGVjdG9yKHByb3BzKSB7XG4gIGNvbnN0IGxhc3RIb3ZlcmVkRWxlbWVudCA9IEEkMyhudWxsKTtcbiAgY29uc3QgaGFuZGxlTW91c2VNb3ZlID0gcSQzKFxuICAgIChldmVudCkgPT4ge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgaWYgKHRhcmdldC5jbG9zZXN0KFwiLmNvbXBhbmlvblwiKSkgcmV0dXJuO1xuICAgICAgY29uc3QgcmVmRWxlbWVudCA9IGdldEVsZW1lbnRBdFBvaW50KGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkpO1xuICAgICAgaWYgKHByb3BzLmlnbm9yZUxpc3QuaW5jbHVkZXMocmVmRWxlbWVudCkpIHJldHVybjtcbiAgICAgIGlmIChsYXN0SG92ZXJlZEVsZW1lbnQuY3VycmVudCAhPT0gcmVmRWxlbWVudCkge1xuICAgICAgICBsYXN0SG92ZXJlZEVsZW1lbnQuY3VycmVudCA9IHJlZkVsZW1lbnQ7XG4gICAgICAgIHByb3BzLm9uRWxlbWVudEhvdmVyZWQocmVmRWxlbWVudCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbcHJvcHNdXG4gICk7XG4gIGNvbnN0IGhhbmRsZU1vdXNlTGVhdmUgPSBxJDMoKCkgPT4ge1xuICAgIGxhc3RIb3ZlcmVkRWxlbWVudC5jdXJyZW50ID0gbnVsbDtcbiAgICBwcm9wcy5vbkVsZW1lbnRVbmhvdmVyZWQoKTtcbiAgfSwgW3Byb3BzXSk7XG4gIGNvbnN0IGhhbmRsZU1vdXNlQ2xpY2sgPSBxJDMoKCkgPT4ge1xuICAgIGlmICghbGFzdEhvdmVyZWRFbGVtZW50LmN1cnJlbnQpIHJldHVybjtcbiAgICBpZiAocHJvcHMuaWdub3JlTGlzdC5pbmNsdWRlcyhsYXN0SG92ZXJlZEVsZW1lbnQuY3VycmVudCkpIHJldHVybjtcbiAgICBwcm9wcy5vbkVsZW1lbnRTZWxlY3RlZChsYXN0SG92ZXJlZEVsZW1lbnQuY3VycmVudCk7XG4gIH0sIFtwcm9wc10pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIHUkOShcbiAgICBcImRpdlwiLFxuICAgIHtcbiAgICAgIGNsYXNzTmFtZTogXCJwb2ludGVyLWV2ZW50cy1hdXRvIGZpeGVkIGluc2V0LTAgaC1zY3JlZW4gdy1zY3JlZW5cIixcbiAgICAgIG9uTW91c2VNb3ZlOiBoYW5kbGVNb3VzZU1vdmUsXG4gICAgICBvbk1vdXNlTGVhdmU6IGhhbmRsZU1vdXNlTGVhdmUsXG4gICAgICBvbkNsaWNrOiBoYW5kbGVNb3VzZUNsaWNrLFxuICAgICAgcm9sZTogXCJidXR0b25cIixcbiAgICAgIHRhYkluZGV4OiAwXG4gICAgfVxuICApO1xufVxuZnVuY3Rpb24gdXNlV2luZG93U2l6ZSgpIHtcbiAgY29uc3QgW3NpemUyLCBzZXRTaXplXSA9IGQkNCh7XG4gICAgd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoLFxuICAgIGhlaWdodDogd2luZG93LmlubmVySGVpZ2h0XG4gIH0pO1xuICBjb25zdCBoYW5kbGVSZXNpemUgPSBxJDMoXG4gICAgKCkgPT4gc2V0U2l6ZSh7XG4gICAgICB3aWR0aDogd2luZG93LmlubmVyV2lkdGgsXG4gICAgICBoZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodFxuICAgIH0pLFxuICAgIFtdXG4gICk7XG4gIHVzZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgaGFuZGxlUmVzaXplKTtcbiAgcmV0dXJuIHNpemUyO1xufVxuZnVuY3Rpb24gQ29udGV4dEl0ZW1Qcm9wb3NhbCh7XG4gIHJlZkVsZW1lbnQsXG4gIC4uLnByb3BzXG59KSB7XG4gIGNvbnN0IGJveFJlZiA9IEEkMyhudWxsKTtcbiAgY29uc3Qgd2luZG93U2l6ZSA9IHVzZVdpbmRvd1NpemUoKTtcbiAgY29uc3QgdXBkYXRlQm94UG9zaXRpb24gPSBxJDMoKCkgPT4ge1xuICAgIGlmIChib3hSZWYuY3VycmVudCkge1xuICAgICAgaWYgKHJlZkVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgcmVmZXJlbmNlUmVjdCA9IHJlZkVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGJveFJlZi5jdXJyZW50LnN0eWxlLnRvcCA9IGAke3JlZmVyZW5jZVJlY3QudG9wfXB4YDtcbiAgICAgICAgYm94UmVmLmN1cnJlbnQuc3R5bGUubGVmdCA9IGAke3JlZmVyZW5jZVJlY3QubGVmdH1weGA7XG4gICAgICAgIGJveFJlZi5jdXJyZW50LnN0eWxlLndpZHRoID0gYCR7cmVmZXJlbmNlUmVjdC53aWR0aH1weGA7XG4gICAgICAgIGJveFJlZi5jdXJyZW50LnN0eWxlLmhlaWdodCA9IGAke3JlZmVyZW5jZVJlY3QuaGVpZ2h0fXB4YDtcbiAgICAgICAgYm94UmVmLmN1cnJlbnQuc3R5bGUuZGlzcGxheSA9IHZvaWQgMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJveFJlZi5jdXJyZW50LnN0eWxlLmhlaWdodCA9IFwiMHB4XCI7XG4gICAgICAgIGJveFJlZi5jdXJyZW50LnN0eWxlLndpZHRoID0gXCIwcHhcIjtcbiAgICAgICAgYm94UmVmLmN1cnJlbnQuc3R5bGUudG9wID0gYCR7d2luZG93U2l6ZS5oZWlnaHQgLyAyfXB4YDtcbiAgICAgICAgYm94UmVmLmN1cnJlbnQuc3R5bGUubGVmdCA9IGAke3dpbmRvd1NpemUud2lkdGggLyAyfXB4YDtcbiAgICAgICAgYm94UmVmLmN1cnJlbnQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW3JlZkVsZW1lbnQsIHdpbmRvd1NpemUuaGVpZ2h0LCB3aW5kb3dTaXplLndpZHRoXSk7XG4gIHVzZUN5Y2xpY1VwZGF0ZSh1cGRhdGVCb3hQb3NpdGlvbiwgMzApO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIHUkOShcbiAgICBcImRpdlwiLFxuICAgIHtcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2xhc3NOYW1lOiBcImZpeGVkIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG92ZXJmbG93LWhpZGRlbiByb3VuZGVkLWxnIGJvcmRlci0yIGJvcmRlci1ibHVlLTYwMC84MCBiZy1ibHVlLTYwMC8yMCB0ZXh0LXdoaXRlIGJhY2tkcm9wLWJsdXIteHMgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMTAwXCIsXG4gICAgICByZWY6IGJveFJlZixcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gdSQ5KFBsdXMsIHsgY2xhc3NOYW1lOiBcInNpemUtNiBkcm9wLXNoYWRvdy1ibGFjayBkcm9wLXNoYWRvdy1tZFwiIH0pXG4gICAgfVxuICApO1xufVxuZnVuY3Rpb24gQ29udGV4dEl0ZW0oeyByZWZFbGVtZW50LCAuLi5wcm9wcyB9KSB7XG4gIGNvbnN0IGJveFJlZiA9IEEkMyhudWxsKTtcbiAgY29uc3Qgd2luZG93U2l6ZSA9IHVzZVdpbmRvd1NpemUoKTtcbiAgY29uc3QgdXBkYXRlQm94UG9zaXRpb24gPSBxJDMoKCkgPT4ge1xuICAgIGlmIChib3hSZWYuY3VycmVudCkge1xuICAgICAgaWYgKHJlZkVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgcmVmZXJlbmNlUmVjdCA9IHJlZkVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGJveFJlZi5jdXJyZW50LnN0eWxlLnRvcCA9IGAke3JlZmVyZW5jZVJlY3QudG9wfXB4YDtcbiAgICAgICAgYm94UmVmLmN1cnJlbnQuc3R5bGUubGVmdCA9IGAke3JlZmVyZW5jZVJlY3QubGVmdH1weGA7XG4gICAgICAgIGJveFJlZi5jdXJyZW50LnN0eWxlLndpZHRoID0gYCR7cmVmZXJlbmNlUmVjdC53aWR0aH1weGA7XG4gICAgICAgIGJveFJlZi5jdXJyZW50LnN0eWxlLmhlaWdodCA9IGAke3JlZmVyZW5jZVJlY3QuaGVpZ2h0fXB4YDtcbiAgICAgICAgYm94UmVmLmN1cnJlbnQuc3R5bGUuZGlzcGxheSA9IHZvaWQgMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJveFJlZi5jdXJyZW50LnN0eWxlLmhlaWdodCA9IFwiMHB4XCI7XG4gICAgICAgIGJveFJlZi5jdXJyZW50LnN0eWxlLndpZHRoID0gXCIwcHhcIjtcbiAgICAgICAgYm94UmVmLmN1cnJlbnQuc3R5bGUudG9wID0gYCR7d2luZG93U2l6ZS5oZWlnaHQgLyAyfXB4YDtcbiAgICAgICAgYm94UmVmLmN1cnJlbnQuc3R5bGUubGVmdCA9IGAke3dpbmRvd1NpemUud2lkdGggLyAyfXB4YDtcbiAgICAgICAgYm94UmVmLmN1cnJlbnQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW3JlZkVsZW1lbnQsIHdpbmRvd1NpemUuaGVpZ2h0LCB3aW5kb3dTaXplLndpZHRoXSk7XG4gIHVzZUN5Y2xpY1VwZGF0ZSh1cGRhdGVCb3hQb3NpdGlvbiwgMzApO1xuICBjb25zdCBjaGF0U3RhdGUgPSB1c2VDaGF0U3RhdGUoKTtcbiAgY29uc3QgaGFuZGxlRGVsZXRlQ2xpY2sgPSBxJDMoKCkgPT4ge1xuICAgIGNoYXRTdGF0ZS5yZW1vdmVDaGF0RG9tQ29udGV4dChjaGF0U3RhdGUuY3VycmVudENoYXRJZCwgcmVmRWxlbWVudCk7XG4gIH0sIFtjaGF0U3RhdGUsIHJlZkVsZW1lbnRdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyB1JDkoXG4gICAgXCJkaXZcIixcbiAgICB7XG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNsYXNzTmFtZTogXCJwb2ludGVyLWV2ZW50cy1hdXRvIGZpeGVkIGZsZXggY3Vyc29yLXBvaW50ZXIgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG92ZXJmbG93LWhpZGRlbiByb3VuZGVkLWxnIGJvcmRlci0yIGJvcmRlci1ncmVlbi02MDAvODAgYmctZ3JlZW4tNjAwLzUgdGV4dC10cmFuc3BhcmVudCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0wIGhvdmVyOmJvcmRlci1yZWQtNjAwLzgwIGhvdmVyOmJnLXJlZC02MDAvMjAgaG92ZXI6dGV4dC13aGl0ZSBob3ZlcjpiYWNrZHJvcC1ibHVyLXNtXCIsXG4gICAgICByZWY6IGJveFJlZixcbiAgICAgIG9uQ2xpY2s6IGhhbmRsZURlbGV0ZUNsaWNrLFxuICAgICAgcm9sZTogXCJidXR0b25cIixcbiAgICAgIHRhYkluZGV4OiAwLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyB1JDkoVHJhc2gyLCB7IGNsYXNzTmFtZTogXCJzaXplLTYgZHJvcC1zaGFkb3ctYmxhY2sgZHJvcC1zaGFkb3ctbWRcIiB9KVxuICAgIH1cbiAgKTtcbn1cbmZ1bmN0aW9uIFNlbGVjdG9yQ2FudmFzKCkge1xuICBjb25zdCB7IGNoYXRzLCBjdXJyZW50Q2hhdElkLCBhZGRDaGF0RG9tQ29udGV4dCwgaXNQcm9tcHRDcmVhdGlvbkFjdGl2ZSB9ID0gdXNlQ2hhdFN0YXRlKCk7XG4gIGNvbnN0IGN1cnJlbnRDaGF0ID0gVCQ1KFxuICAgICgpID0+IGNoYXRzLmZpbmQoKGNoYXQpID0+IGNoYXQuaWQgPT09IGN1cnJlbnRDaGF0SWQpLFxuICAgIFtjdXJyZW50Q2hhdElkLCBjaGF0c11cbiAgKTtcbiAgY29uc3Qgc2hvdWxkU2hvdyA9IGlzUHJvbXB0Q3JlYXRpb25BY3RpdmU7XG4gIGNvbnN0IGNvbnRleHRFbGVtZW50cyA9IFQkNSgoKSA9PiB7XG4gICAgcmV0dXJuIChjdXJyZW50Q2hhdCA9PSBudWxsID8gdm9pZCAwIDogY3VycmVudENoYXQuZG9tQ29udGV4dEVsZW1lbnRzKSB8fCBbXTtcbiAgfSwgW2N1cnJlbnRDaGF0XSk7XG4gIGNvbnN0IFtob3ZlcmVkRWxlbWVudCwgc2V0SG92ZXJlZEVsZW1lbnRdID0gZCQ0KFxuICAgIG51bGxcbiAgKTtcbiAgY29uc3QgYWRkRWxlbWVudFRvQ29udGV4dCA9IHEkMyhcbiAgICAoZWwpID0+IHtcbiAgICAgIGFkZENoYXREb21Db250ZXh0KGN1cnJlbnRDaGF0SWQsIGVsKTtcbiAgICB9LFxuICAgIFthZGRDaGF0RG9tQ29udGV4dCwgY3VycmVudENoYXRJZF1cbiAgKTtcbiAgaWYgKCFzaG91bGRTaG93KSByZXR1cm4gbnVsbDtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyB1JDkoayQzLCB7IGNoaWxkcmVuOiBbXG4gICAgaG92ZXJlZEVsZW1lbnQgJiYgLyogQF9fUFVSRV9fICovIHUkOShDb250ZXh0SXRlbVByb3Bvc2FsLCB7IHJlZkVsZW1lbnQ6IGhvdmVyZWRFbGVtZW50IH0pLFxuICAgIC8qIEBfX1BVUkVfXyAqLyB1JDkoXG4gICAgICBFbGVtZW50U2VsZWN0b3IsXG4gICAgICB7XG4gICAgICAgIGlnbm9yZUxpc3Q6IGNvbnRleHRFbGVtZW50cyxcbiAgICAgICAgb25FbGVtZW50SG92ZXJlZDogc2V0SG92ZXJlZEVsZW1lbnQsXG4gICAgICAgIG9uRWxlbWVudFNlbGVjdGVkOiBhZGRFbGVtZW50VG9Db250ZXh0LFxuICAgICAgICBvbkVsZW1lbnRVbmhvdmVyZWQ6ICgpID0+IHNldEhvdmVyZWRFbGVtZW50KG51bGwpXG4gICAgICB9XG4gICAgKSxcbiAgICBjb250ZXh0RWxlbWVudHMubWFwKChlbCkgPT4gLyogQF9fUFVSRV9fICovIHUkOShDb250ZXh0SXRlbSwgeyByZWZFbGVtZW50OiBlbCB9KSlcbiAgXSB9KTtcbn1cbmZ1bmN0aW9uIERlc2t0b3BMYXlvdXQoKSB7XG4gIGNvbnN0IG1pbmltaXplZCA9IHVzZUFwcFN0YXRlKChzdGF0ZSkgPT4gc3RhdGUubWluaW1pemVkKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyB1JDkoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNuKFwiZml4ZWQgaW5zZXQtMCBoLXNjcmVlbiB3LXNjcmVlblwiKSwgY2hpbGRyZW46IFtcbiAgICAvKiBAX19QVVJFX18gKi8gdSQ5KFNlbGVjdG9yQ2FudmFzLCB7fSksXG4gICAgIW1pbmltaXplZCAmJiAvKiBAX19QVVJFX18gKi8gdSQ5KFRvb2xiYXJBcmVhLCB7fSksXG4gICAgbWluaW1pemVkICYmIC8qIEBfX1BVUkVfXyAqLyB1JDkoRXhwYW5kQnV0dG9uLCB7fSlcbiAgXSB9KTtcbn1cbmZ1bmN0aW9uIENsaWNrQmxvY2tlcihwcm9wcykge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIHUkOShcbiAgICBcImRpdlwiLFxuICAgIHtcbiAgICAgIGNsYXNzTmFtZTogY24oXG4gICAgICAgIHR5cGVvZiBwcm9wcy5lbmFibGUgPT09IFwidW5kZWZpbmVkXCIgfHwgcHJvcHMuZW5hYmxlID8gXCJwb2ludGVyLWV2ZW50cy1hdXRvXCIgOiBcInBvaW50ZXItZXZlbnRzLW5vbmVcIixcbiAgICAgICAgcHJvcHMuY2xhc3NOYW1lXG4gICAgICApLFxuICAgICAgb25DbGljazogcHJvcHMub25DbGljayxcbiAgICAgIHJvbGU6IFwiYnV0dG9uXCIsXG4gICAgICB0YWJJbmRleDogMFxuICAgIH1cbiAgKTtcbn1cbmZ1bmN0aW9uIEZvY3VzTG9jaygpIHtcbiAgY29uc3QgZm9jdXNJbkNvbXBhbmlvbiA9IEEkMyhmYWxzZSk7XG4gIHkkNigoKSA9PiB7XG4gICAgY29uc3Qgb3JpZ2luYWxGb2N1cyA9IEhUTUxFbGVtZW50LnByb3RvdHlwZS5mb2N1cztcbiAgICBIVE1MRWxlbWVudC5wcm90b3R5cGUuZm9jdXMgPSBmdW5jdGlvbiguLi5hcmdzKSB7XG4gICAgICBjb25zdCBzaGFkb3dSb290ID0gdGhpcy5nZXRSb290Tm9kZSgpO1xuICAgICAgY29uc3QgaXNJbkNvbXBhbmlvbiA9IHNoYWRvd1Jvb3QgaW5zdGFuY2VvZiBTaGFkb3dSb290ICYmIHNoYWRvd1Jvb3QuaG9zdCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmIHNoYWRvd1Jvb3QuaG9zdC5ub2RlTmFtZSA9PT0gXCJTVEFHRVdJU0UtQ09NUEFOSU9OLUFOQ0hPUlwiO1xuICAgICAgaWYgKCFpc0luQ29tcGFuaW9uICYmIGZvY3VzSW5Db21wYW5pb24uY3VycmVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBvcmlnaW5hbEZvY3VzLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH07XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIEhUTUxFbGVtZW50LnByb3RvdHlwZS5mb2N1cyA9IG9yaWdpbmFsRm9jdXM7XG4gICAgfTtcbiAgfSwgW10pO1xuICB1c2VFdmVudExpc3RlbmVyKFxuICAgIFwiZm9jdXNpblwiLFxuICAgIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldC5sb2NhbE5hbWUgPT09IGNvbXBhbmlvbkFuY2hvclRhZ05hbWUpIHtcbiAgICAgICAgZm9jdXNJbkNvbXBhbmlvbi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHsgY2FwdHVyZTogdHJ1ZSB9XG4gICk7XG4gIHVzZUV2ZW50TGlzdGVuZXIoXG4gICAgXCJmb2N1c291dFwiLFxuICAgIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldC5sb2NhbE5hbWUgPT09IGNvbXBhbmlvbkFuY2hvclRhZ05hbWUpIHtcbiAgICAgICAgZm9jdXNJbkNvbXBhbmlvbi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSxcbiAgICB7IGNhcHR1cmU6IHRydWUgfVxuICApO1xuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIFZpc2liaWxpdHlNYW5hZ2VyKHsgY2hpbGRyZW4gfSkge1xuICByZXR1cm4gY2hpbGRyZW47XG59XG5mdW5jdGlvbiBBcHAoY29uZmlnKSB7XG4gIGNvbnN0IGlzTWFpbkFwcEJsb2NrZWQgPSB1c2VBcHBTdGF0ZSgoc3RhdGUpID0+IHN0YXRlLmlzTWFpbkFwcEJsb2NrZWQpO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIHUkOShrJDMsIHsgY2hpbGRyZW46IFtcbiAgICAvKiBAX19QVVJFX18gKi8gdSQ5KEZvY3VzTG9jaywge30pLFxuICAgIC8qIEBfX1BVUkVfXyAqLyB1JDkoXG4gICAgICBDbGlja0Jsb2NrZXIsXG4gICAgICB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJmaXhlZCBpbnNldC0wIGgtc2NyZWVuIHctc2NyZWVuXCIsXG4gICAgICAgIGVuYWJsZTogaXNNYWluQXBwQmxvY2tlZFxuICAgICAgfVxuICAgICksXG4gICAgLyogQF9fUFVSRV9fICovIHUkOShDb250ZXh0UHJvdmlkZXJzLCB7IGNvbmZpZywgY2hpbGRyZW46IFtcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyB1JDkoSG90a2V5TGlzdGVuZXIsIHt9KSxcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyB1JDkoVmlzaWJpbGl0eU1hbmFnZXIsIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyB1JDkoRGVza3RvcExheW91dCwge30pIH0pXG4gICAgXSB9KVxuICBdIH0pO1xufVxuZnVuY3Rpb24gaW5pdFRvb2xiYXIoY29uZmlnKSB7XG4gIGlmICghZG9jdW1lbnQuYm9keSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJzdGFnZXdpc2UgY29tcGFuaW9uIGNhbm5vdCBmaW5kIGRvY3VtZW50LmJvZHlcIik7XG4gIGlmIChkb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3IoY29tcGFuaW9uQW5jaG9yVGFnTmFtZSkpIHtcbiAgICBjb25zb2xlLndhcm4oXG4gICAgICBcIkEgc3RhZ2V3aXNlIGNvbXBhbmlvbiBhbmNob3IgYWxyZWFkeSBleGlzdHMuIEFib3J0aW5nIHRoaXMgaW5zdGFuY2UuXCJcbiAgICApO1xuICAgIHRocm93IG5ldyBFcnJvcihcIkEgc3RhZ2V3aXNlIGNvbXBhbmlvbiBhbmNob3IgYWxyZWFkeSBleGlzdHMuXCIpO1xuICB9XG4gIGNvbnN0IHNoYWRvd0RvbUFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoY29tcGFuaW9uQW5jaG9yVGFnTmFtZSk7XG4gIHNoYWRvd0RvbUFuY2hvci5zdHlsZS5wb3NpdGlvbiA9IFwiZml4ZWRcIjtcbiAgc2hhZG93RG9tQW5jaG9yLnN0eWxlLnRvcCA9IFwiMHB4XCI7XG4gIHNoYWRvd0RvbUFuY2hvci5zdHlsZS5sZWZ0ID0gXCIwcHhcIjtcbiAgc2hhZG93RG9tQW5jaG9yLnN0eWxlLnJpZ2h0ID0gXCIwcHhcIjtcbiAgc2hhZG93RG9tQW5jaG9yLnN0eWxlLmJvdHRvbSA9IFwiMHB4XCI7XG4gIHNoYWRvd0RvbUFuY2hvci5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJub25lXCI7XG4gIHNoYWRvd0RvbUFuY2hvci5zdHlsZS56SW5kZXggPSBcIjIxNDc0ODM2NDdcIjtcbiAgY29uc3QgZXZlbnRCbG9ja2VyID0gKGV2KSA9PiB7XG4gICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH07XG4gIHNoYWRvd0RvbUFuY2hvci5vbmNsaWNrID0gZXZlbnRCbG9ja2VyO1xuICBzaGFkb3dEb21BbmNob3Iub25tb3VzZWRvd24gPSBldmVudEJsb2NrZXI7XG4gIHNoYWRvd0RvbUFuY2hvci5vbm1vdXNldXAgPSBldmVudEJsb2NrZXI7XG4gIHNoYWRvd0RvbUFuY2hvci5vbm1vdXNlbW92ZSA9IGV2ZW50QmxvY2tlcjtcbiAgc2hhZG93RG9tQW5jaG9yLm9uZGJsY2xpY2sgPSBldmVudEJsb2NrZXI7XG4gIHNoYWRvd0RvbUFuY2hvci5vbmNvbnRleHRtZW51ID0gZXZlbnRCbG9ja2VyO1xuICBzaGFkb3dEb21BbmNob3Iub253aGVlbCA9IGV2ZW50QmxvY2tlcjtcbiAgc2hhZG93RG9tQW5jaG9yLm9uZm9jdXMgPSBldmVudEJsb2NrZXI7XG4gIHNoYWRvd0RvbUFuY2hvci5vbmJsdXIgPSBldmVudEJsb2NrZXI7XG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2hhZG93RG9tQW5jaG9yKTtcbiAgY29uc3QgZm9udExpbmtOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG4gIGZvbnRMaW5rTm9kZS5yZWwgPSBcInN0eWxlc2hlZXRcIjtcbiAgZm9udExpbmtOb2RlLmhyZWYgPSBgaHR0cHM6Ly9yc21zLm1lL2ludGVyL2ludGVyLmNzc2A7XG4gIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoZm9udExpbmtOb2RlKTtcbiAgY29uc3Qgc3R5bGVOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBzdHlsZU5vZGUuYXBwZW5kKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGFwcFN0eWxlKSk7XG4gIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVOb2RlKTtcbiAgRSQzKF8kNChBcHAsIGNvbmZpZyksIHNoYWRvd0RvbUFuY2hvcik7XG59XG5leHBvcnQge1xuICBpbml0VG9vbGJhclxufTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stagewise/toolbar/dist/index.js\n"));

/***/ })

}]);